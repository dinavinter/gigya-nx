/******/ (function (modules) {
  // webpackBootstrap
  /******/ // The module cache
  /******/ var installedModules = {};
  /******/
  /******/ // The require function
  /******/ function __webpack_require__(moduleId) {
    /******/
    /******/ // Check if module is in cache
    /******/ if (installedModules[moduleId]) {
      /******/ return installedModules[moduleId].exports;
      /******/
    }
    /******/ // Create a new module (and put it into the cache)
    /******/ var module = (installedModules[moduleId] = {
      /******/ i: moduleId,
      /******/ l: false,
      /******/ exports: {},
      /******/
    });
    /******/
    /******/ // Execute the module function
    /******/ modules[moduleId].call(
      module.exports,
      module,
      module.exports,
      __webpack_require__
    );
    /******/
    /******/ // Flag the module as loaded
    /******/ module.l = true;
    /******/
    /******/ // Return the exports of the module
    /******/ return module.exports;
    /******/
  }
  /******/
  /******/
  /******/ // expose the modules object (__webpack_modules__)
  /******/ __webpack_require__.m = modules;
  /******/
  /******/ // expose the module cache
  /******/ __webpack_require__.c = installedModules;
  /******/
  /******/ // define getter function for harmony exports
  /******/ __webpack_require__.d = function (exports, name, getter) {
    /******/ if (!__webpack_require__.o(exports, name)) {
      /******/ Object.defineProperty(exports, name, {
        enumerable: true,
        get: getter,
      });
      /******/
    }
    /******/
  };
  /******/
  /******/ // define __esModule on exports
  /******/ __webpack_require__.r = function (exports) {
    /******/ if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
      /******/ Object.defineProperty(exports, Symbol.toStringTag, {
        value: 'Module',
      });
      /******/
    }
    /******/ Object.defineProperty(exports, '__esModule', { value: true });
    /******/
  };
  /******/
  /******/ // create a fake namespace object
  /******/ // mode & 1: value is a module id, require it
  /******/ // mode & 2: merge all properties of value into the ns
  /******/ // mode & 4: return value when already ns object
  /******/ // mode & 8|1: behave like require
  /******/ __webpack_require__.t = function (value, mode) {
    /******/ if (mode & 1) value = __webpack_require__(value);
    /******/ if (mode & 8) return value;
    /******/ if (
      mode & 4 &&
      typeof value === 'object' &&
      value &&
      value.__esModule
    )
      return value;
    /******/ var ns = Object.create(null);
    /******/ __webpack_require__.r(ns);
    /******/ Object.defineProperty(ns, 'default', {
      enumerable: true,
      value: value,
    });
    /******/ if (mode & 2 && typeof value != 'string')
      for (var key in value)
        __webpack_require__.d(
          ns,
          key,
          function (key) {
            return value[key];
          }.bind(null, key)
        );
    /******/ return ns;
    /******/
  };
  /******/
  /******/ // getDefaultExport function for compatibility with non-harmony modules
  /******/ __webpack_require__.n = function (module) {
    /******/ var getter =
      module && module.__esModule
        ? /******/ function getDefault() {
            return module['default'];
          }
        : /******/ function getModuleExports() {
            return module;
          };
    /******/ __webpack_require__.d(getter, 'a', getter);
    /******/ return getter;
    /******/
  };
  /******/
  /******/ // Object.prototype.hasOwnProperty.call
  /******/ __webpack_require__.o = function (object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  };
  /******/
  /******/ // __webpack_public_path__
  /******/ __webpack_require__.p = '';
  /******/
  /******/
  /******/ // Load entry module and return exports
  /******/ return __webpack_require__(
    (__webpack_require__.s = './src/core/ApiService/app/main.ts')
  );
  /******/
})(
  /************************************************************************/
  /******/ {
    /***/ '../node_modules/es6-promise/dist/es6-promise.js':
      /*!*******************************************************!*\
  !*** ../node_modules/es6-promise/dist/es6-promise.js ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (process, global) {
          /*!
           * @overview es6-promise - a tiny implementation of Promises/A+.
           * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
           * @license   Licensed under MIT license
           *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
           * @version   v4.2.8+1e68dce6
           */

          (function (global, factory) {
            true ? (module.exports = factory()) : undefined;
          })(this, function () {
            'use strict';

            function objectOrFunction(x) {
              var type = typeof x;
              return x !== null && (type === 'object' || type === 'function');
            }

            function isFunction(x) {
              return typeof x === 'function';
            }

            var _isArray = void 0;
            if (Array.isArray) {
              _isArray = Array.isArray;
            } else {
              _isArray = function (x) {
                return Object.prototype.toString.call(x) === '[object Array]';
              };
            }

            var isArray = _isArray;

            var len = 0;
            var vertxNext = void 0;
            var customSchedulerFn = void 0;

            var asap = function asap(callback, arg) {
              queue[len] = callback;
              queue[len + 1] = arg;
              len += 2;
              if (len === 2) {
                // If len is 2, that means that we need to schedule an async flush.
                // If additional callbacks are queued before the queue is flushed, they
                // will be processed by this flush that we are scheduling.
                if (customSchedulerFn) {
                  customSchedulerFn(flush);
                } else {
                  scheduleFlush();
                }
              }
            };

            function setScheduler(scheduleFn) {
              customSchedulerFn = scheduleFn;
            }

            function setAsap(asapFn) {
              asap = asapFn;
            }

            var browserWindow =
              typeof window !== 'undefined' ? window : undefined;
            var browserGlobal = browserWindow || {};
            var BrowserMutationObserver =
              browserGlobal.MutationObserver ||
              browserGlobal.WebKitMutationObserver;
            var isNode =
              typeof self === 'undefined' &&
              typeof process !== 'undefined' &&
              {}.toString.call(process) === '[object process]';

            // test for web worker but not in IE10
            var isWorker =
              typeof Uint8ClampedArray !== 'undefined' &&
              typeof importScripts !== 'undefined' &&
              typeof MessageChannel !== 'undefined';

            // node
            function useNextTick() {
              // node version 0.10.x displays a deprecation warning when nextTick is used recursively
              // see https://github.com/cujojs/when/issues/410 for details
              return function () {
                return process.nextTick(flush);
              };
            }

            // vertx
            function useVertxTimer() {
              if (typeof vertxNext !== 'undefined') {
                return function () {
                  vertxNext(flush);
                };
              }

              return useSetTimeout();
            }

            function useMutationObserver() {
              var iterations = 0;
              var observer = new BrowserMutationObserver(flush);
              var node = document.createTextNode('');
              observer.observe(node, { characterData: true });

              return function () {
                node.data = iterations = ++iterations % 2;
              };
            }

            // web worker
            function useMessageChannel() {
              var channel = new MessageChannel();
              channel.port1.onmessage = flush;
              return function () {
                return channel.port2.postMessage(0);
              };
            }

            function useSetTimeout() {
              // Store setTimeout reference so es6-promise will be unaffected by
              // other code modifying setTimeout (like sinon.useFakeTimers())
              var globalSetTimeout = setTimeout;
              return function () {
                return globalSetTimeout(flush, 1);
              };
            }

            var queue = new Array(1000);
            function flush() {
              for (var i = 0; i < len; i += 2) {
                var callback = queue[i];
                var arg = queue[i + 1];

                callback(arg);

                queue[i] = undefined;
                queue[i + 1] = undefined;
              }

              len = 0;
            }

            function attemptVertx() {
              try {
                var vertx = Function('return this')().require('vertx');
                vertxNext = vertx.runOnLoop || vertx.runOnContext;
                return useVertxTimer();
              } catch (e) {
                return useSetTimeout();
              }
            }

            var scheduleFlush = void 0;
            // Decide what async method to use to triggering processing of queued callbacks:
            if (isNode) {
              scheduleFlush = useNextTick();
            } else if (BrowserMutationObserver) {
              scheduleFlush = useMutationObserver();
            } else if (isWorker) {
              scheduleFlush = useMessageChannel();
            } else if (
              browserWindow === undefined &&
              'function' === 'function'
            ) {
              scheduleFlush = attemptVertx();
            } else {
              scheduleFlush = useSetTimeout();
            }

            function then(onFulfillment, onRejection) {
              var parent = this;

              var child = new this.constructor(noop);

              if (child[PROMISE_ID] === undefined) {
                makePromise(child);
              }

              var _state = parent._state;

              if (_state) {
                var callback = arguments[_state - 1];
                asap(function () {
                  return invokeCallback(
                    _state,
                    child,
                    callback,
                    parent._result
                  );
                });
              } else {
                subscribe(parent, child, onFulfillment, onRejection);
              }

              return child;
            }

            /**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
            function resolve$1(object) {
              /*jshint validthis:true */
              var Constructor = this;

              if (
                object &&
                typeof object === 'object' &&
                object.constructor === Constructor
              ) {
                return object;
              }

              var promise = new Constructor(noop);
              resolve(promise, object);
              return promise;
            }

            var PROMISE_ID = Math.random().toString(36).substring(2);

            function noop() {}

            var PENDING = void 0;
            var FULFILLED = 1;
            var REJECTED = 2;

            function selfFulfillment() {
              return new TypeError('You cannot resolve a promise with itself');
            }

            function cannotReturnOwn() {
              return new TypeError(
                'A promises callback cannot return that same promise.'
              );
            }

            function tryThen(
              then$$1,
              value,
              fulfillmentHandler,
              rejectionHandler
            ) {
              try {
                then$$1.call(value, fulfillmentHandler, rejectionHandler);
              } catch (e) {
                return e;
              }
            }

            function handleForeignThenable(promise, thenable, then$$1) {
              asap(function (promise) {
                var sealed = false;
                var error = tryThen(
                  then$$1,
                  thenable,
                  function (value) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;
                    if (thenable !== value) {
                      resolve(promise, value);
                    } else {
                      fulfill(promise, value);
                    }
                  },
                  function (reason) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;

                    reject(promise, reason);
                  },
                  'Settle: ' + (promise._label || ' unknown promise')
                );

                if (!sealed && error) {
                  sealed = true;
                  reject(promise, error);
                }
              }, promise);
            }

            function handleOwnThenable(promise, thenable) {
              if (thenable._state === FULFILLED) {
                fulfill(promise, thenable._result);
              } else if (thenable._state === REJECTED) {
                reject(promise, thenable._result);
              } else {
                subscribe(
                  thenable,
                  undefined,
                  function (value) {
                    return resolve(promise, value);
                  },
                  function (reason) {
                    return reject(promise, reason);
                  }
                );
              }
            }

            function handleMaybeThenable(promise, maybeThenable, then$$1) {
              if (
                maybeThenable.constructor === promise.constructor &&
                then$$1 === then &&
                maybeThenable.constructor.resolve === resolve$1
              ) {
                handleOwnThenable(promise, maybeThenable);
              } else {
                if (then$$1 === undefined) {
                  fulfill(promise, maybeThenable);
                } else if (isFunction(then$$1)) {
                  handleForeignThenable(promise, maybeThenable, then$$1);
                } else {
                  fulfill(promise, maybeThenable);
                }
              }
            }

            function resolve(promise, value) {
              if (promise === value) {
                reject(promise, selfFulfillment());
              } else if (objectOrFunction(value)) {
                var then$$1 = void 0;
                try {
                  then$$1 = value.then;
                } catch (error) {
                  reject(promise, error);
                  return;
                }
                handleMaybeThenable(promise, value, then$$1);
              } else {
                fulfill(promise, value);
              }
            }

            function publishRejection(promise) {
              if (promise._onerror) {
                promise._onerror(promise._result);
              }

              publish(promise);
            }

            function fulfill(promise, value) {
              if (promise._state !== PENDING) {
                return;
              }

              promise._result = value;
              promise._state = FULFILLED;

              if (promise._subscribers.length !== 0) {
                asap(publish, promise);
              }
            }

            function reject(promise, reason) {
              if (promise._state !== PENDING) {
                return;
              }
              promise._state = REJECTED;
              promise._result = reason;

              asap(publishRejection, promise);
            }

            function subscribe(parent, child, onFulfillment, onRejection) {
              var _subscribers = parent._subscribers;
              var length = _subscribers.length;

              parent._onerror = null;

              _subscribers[length] = child;
              _subscribers[length + FULFILLED] = onFulfillment;
              _subscribers[length + REJECTED] = onRejection;

              if (length === 0 && parent._state) {
                asap(publish, parent);
              }
            }

            function publish(promise) {
              var subscribers = promise._subscribers;
              var settled = promise._state;

              if (subscribers.length === 0) {
                return;
              }

              var child = void 0,
                callback = void 0,
                detail = promise._result;

              for (var i = 0; i < subscribers.length; i += 3) {
                child = subscribers[i];
                callback = subscribers[i + settled];

                if (child) {
                  invokeCallback(settled, child, callback, detail);
                } else {
                  callback(detail);
                }
              }

              promise._subscribers.length = 0;
            }

            function invokeCallback(settled, promise, callback, detail) {
              var hasCallback = isFunction(callback),
                value = void 0,
                error = void 0,
                succeeded = true;

              if (hasCallback) {
                try {
                  value = callback(detail);
                } catch (e) {
                  succeeded = false;
                  error = e;
                }

                if (promise === value) {
                  reject(promise, cannotReturnOwn());
                  return;
                }
              } else {
                value = detail;
              }

              if (promise._state !== PENDING) {
                // noop
              } else if (hasCallback && succeeded) {
                resolve(promise, value);
              } else if (succeeded === false) {
                reject(promise, error);
              } else if (settled === FULFILLED) {
                fulfill(promise, value);
              } else if (settled === REJECTED) {
                reject(promise, value);
              }
            }

            function initializePromise(promise, resolver) {
              try {
                resolver(
                  function resolvePromise(value) {
                    resolve(promise, value);
                  },
                  function rejectPromise(reason) {
                    reject(promise, reason);
                  }
                );
              } catch (e) {
                reject(promise, e);
              }
            }

            var id = 0;
            function nextId() {
              return id++;
            }

            function makePromise(promise) {
              promise[PROMISE_ID] = id++;
              promise._state = undefined;
              promise._result = undefined;
              promise._subscribers = [];
            }

            function validationError() {
              return new Error('Array Methods must be provided an Array');
            }

            var Enumerator = (function () {
              function Enumerator(Constructor, input) {
                this._instanceConstructor = Constructor;
                this.promise = new Constructor(noop);

                if (!this.promise[PROMISE_ID]) {
                  makePromise(this.promise);
                }

                if (isArray(input)) {
                  this.length = input.length;
                  this._remaining = input.length;

                  this._result = new Array(this.length);

                  if (this.length === 0) {
                    fulfill(this.promise, this._result);
                  } else {
                    this.length = this.length || 0;
                    this._enumerate(input);
                    if (this._remaining === 0) {
                      fulfill(this.promise, this._result);
                    }
                  }
                } else {
                  reject(this.promise, validationError());
                }
              }

              Enumerator.prototype._enumerate = function _enumerate(input) {
                for (
                  var i = 0;
                  this._state === PENDING && i < input.length;
                  i++
                ) {
                  this._eachEntry(input[i], i);
                }
              };

              Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
                var c = this._instanceConstructor;
                var resolve$$1 = c.resolve;

                if (resolve$$1 === resolve$1) {
                  var _then = void 0;
                  var error = void 0;
                  var didError = false;
                  try {
                    _then = entry.then;
                  } catch (e) {
                    didError = true;
                    error = e;
                  }

                  if (_then === then && entry._state !== PENDING) {
                    this._settledAt(entry._state, i, entry._result);
                  } else if (typeof _then !== 'function') {
                    this._remaining--;
                    this._result[i] = entry;
                  } else if (c === Promise$1) {
                    var promise = new c(noop);
                    if (didError) {
                      reject(promise, error);
                    } else {
                      handleMaybeThenable(promise, entry, _then);
                    }
                    this._willSettleAt(promise, i);
                  } else {
                    this._willSettleAt(
                      new c(function (resolve$$1) {
                        return resolve$$1(entry);
                      }),
                      i
                    );
                  }
                } else {
                  this._willSettleAt(resolve$$1(entry), i);
                }
              };

              Enumerator.prototype._settledAt = function _settledAt(
                state,
                i,
                value
              ) {
                var promise = this.promise;

                if (promise._state === PENDING) {
                  this._remaining--;

                  if (state === REJECTED) {
                    reject(promise, value);
                  } else {
                    this._result[i] = value;
                  }
                }

                if (this._remaining === 0) {
                  fulfill(promise, this._result);
                }
              };

              Enumerator.prototype._willSettleAt = function _willSettleAt(
                promise,
                i
              ) {
                var enumerator = this;

                subscribe(
                  promise,
                  undefined,
                  function (value) {
                    return enumerator._settledAt(FULFILLED, i, value);
                  },
                  function (reason) {
                    return enumerator._settledAt(REJECTED, i, reason);
                  }
                );
              };

              return Enumerator;
            })();

            /**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
            function all(entries) {
              return new Enumerator(this, entries).promise;
            }

            /**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
            function race(entries) {
              /*jshint validthis:true */
              var Constructor = this;

              if (!isArray(entries)) {
                return new Constructor(function (_, reject) {
                  return reject(
                    new TypeError('You must pass an array to race.')
                  );
                });
              } else {
                return new Constructor(function (resolve, reject) {
                  var length = entries.length;
                  for (var i = 0; i < length; i++) {
                    Constructor.resolve(entries[i]).then(resolve, reject);
                  }
                });
              }
            }

            /**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
            function reject$1(reason) {
              /*jshint validthis:true */
              var Constructor = this;
              var promise = new Constructor(noop);
              reject(promise, reason);
              return promise;
            }

            function needsResolver() {
              throw new TypeError(
                'You must pass a resolver function as the first argument to the promise constructor'
              );
            }

            function needsNew() {
              throw new TypeError(
                "Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."
              );
            }

            /**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {Function} resolver
  Useful for tooling.
  @constructor
*/

            var Promise$1 = (function () {
              function Promise(resolver) {
                this[PROMISE_ID] = nextId();
                this._result = this._state = undefined;
                this._subscribers = [];

                if (noop !== resolver) {
                  typeof resolver !== 'function' && needsResolver();
                  this instanceof Promise
                    ? initializePromise(this, resolver)
                    : needsNew();
                }
              }

              /**
  The primary way of interacting with a promise is through its `then` method,
  which registers callbacks to receive either a promise's eventual value or the
  reason why the promise cannot be fulfilled.
   ```js
  findUser().then(function(user){
    // user is available
  }, function(reason){
    // user is unavailable, and you are given the reason why
  });
  ```
   Chaining
  --------
   The return value of `then` is itself a promise.  This second, 'downstream'
  promise is resolved with the return value of the first promise's fulfillment
  or rejection handler, or rejected if the handler throws an exception.
   ```js
  findUser().then(function (user) {
    return user.name;
  }, function (reason) {
    return 'default name';
  }).then(function (userName) {
    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
    // will be `'default name'`
  });
   findUser().then(function (user) {
    throw new Error('Found user, but still unhappy');
  }, function (reason) {
    throw new Error('`findUser` rejected and we're unhappy');
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
  });
  ```
  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
   ```js
  findUser().then(function (user) {
    throw new PedagogicalException('Upstream error');
  }).then(function (value) {
    // never reached
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // The `PedgagocialException` is propagated all the way down to here
  });
  ```
   Assimilation
  ------------
   Sometimes the value you want to propagate to a downstream promise can only be
  retrieved asynchronously. This can be achieved by returning a promise in the
  fulfillment or rejection handler. The downstream promise will then be pending
  until the returned promise is settled. This is called *assimilation*.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // The user's comments are now available
  });
  ```
   If the assimliated promise rejects, then the downstream promise will also reject.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // If `findCommentsByAuthor` fulfills, we'll have the value here
  }, function (reason) {
    // If `findCommentsByAuthor` rejects, we'll have the reason here
  });
  ```
   Simple Example
  --------------
   Synchronous Example
   ```javascript
  let result;
   try {
    result = findResult();
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
  findResult(function(result, err){
    if (err) {
      // failure
    } else {
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findResult().then(function(result){
    // success
  }, function(reason){
    // failure
  });
  ```
   Advanced Example
  --------------
   Synchronous Example
   ```javascript
  let author, books;
   try {
    author = findAuthor();
    books  = findBooksByAuthor(author);
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
   function foundBooks(books) {
   }
   function failure(reason) {
   }
   findAuthor(function(author, err){
    if (err) {
      failure(err);
      // failure
    } else {
      try {
        findBoooksByAuthor(author, function(books, err) {
          if (err) {
            failure(err);
          } else {
            try {
              foundBooks(books);
            } catch(reason) {
              failure(reason);
            }
          }
        });
      } catch(error) {
        failure(err);
      }
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findAuthor().
    then(findBooksByAuthor).
    then(function(books){
      // found books
  }).catch(function(reason){
    // something went wrong
  });
  ```
   @method then
  @param {Function} onFulfilled
  @param {Function} onRejected
  Useful for tooling.
  @return {Promise}
  */

              /**
  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
  as the catch block of a try/catch statement.
  ```js
  function findAuthor(){
  throw new Error('couldn't find that author');
  }
  // synchronous
  try {
  findAuthor();
  } catch(reason) {
  // something went wrong
  }
  // async with promises
  findAuthor().catch(function(reason){
  // something went wrong
  });
  ```
  @method catch
  @param {Function} onRejection
  Useful for tooling.
  @return {Promise}
  */

              Promise.prototype.catch = function _catch(onRejection) {
                return this.then(null, onRejection);
              };

              /**
    `finally` will be invoked regardless of the promise's fate just as native
    try/catch/finally behaves
  
    Synchronous example:
  
    ```js
    findAuthor() {
      if (Math.random() > 0.5) {
        throw new Error();
      }
      return new Author();
    }
  
    try {
      return findAuthor(); // succeed or fail
    } catch(error) {
      return findOtherAuther();
    } finally {
      // always runs
      // doesn't affect the return value
    }
    ```
  
    Asynchronous example:
  
    ```js
    findAuthor().catch(function(reason){
      return findOtherAuther();
    }).finally(function(){
      // author was either found, or not
    });
    ```
  
    @method finally
    @param {Function} callback
    @return {Promise}
  */

              Promise.prototype.finally = function _finally(callback) {
                var promise = this;
                var constructor = promise.constructor;

                if (isFunction(callback)) {
                  return promise.then(
                    function (value) {
                      return constructor.resolve(callback()).then(function () {
                        return value;
                      });
                    },
                    function (reason) {
                      return constructor.resolve(callback()).then(function () {
                        throw reason;
                      });
                    }
                  );
                }

                return promise.then(callback, callback);
              };

              return Promise;
            })();

            Promise$1.prototype.then = then;
            Promise$1.all = all;
            Promise$1.race = race;
            Promise$1.resolve = resolve$1;
            Promise$1.reject = reject$1;
            Promise$1._setScheduler = setScheduler;
            Promise$1._setAsap = setAsap;
            Promise$1._asap = asap;

            /*global self*/
            function polyfill() {
              var local = void 0;

              if (typeof global !== 'undefined') {
                local = global;
              } else if (typeof self !== 'undefined') {
                local = self;
              } else {
                try {
                  local = Function('return this')();
                } catch (e) {
                  throw new Error(
                    'polyfill failed because global object is unavailable in this environment'
                  );
                }
              }

              var P = local.Promise;

              if (P) {
                var promiseToString = null;
                try {
                  promiseToString = Object.prototype.toString.call(P.resolve());
                } catch (e) {
                  // silently ignored
                }

                if (promiseToString === '[object Promise]' && !P.cast) {
                  return;
                }
              }

              local.Promise = Promise$1;
            }

            // Strange compat..
            Promise$1.polyfill = polyfill;
            Promise$1.Promise = Promise$1;

            return Promise$1;
          });

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../../process/browser.js */ '../node_modules/process/browser.js'
          ),
          __webpack_require__(
            /*! ./../../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          )
        );

        /***/
      },

    /***/ '../node_modules/lodash.merge/index.js':
      /*!*********************************************!*\
  !*** ../node_modules/lodash.merge/index.js ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (global, module) {
          /**
           * Lodash (Custom Build) <https://lodash.com/>
           * Build: `lodash modularize exports="npm" -o ./`
           * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
           * Released under MIT license <https://lodash.com/license>
           * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
           * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
           */

          /** Used as the size to enable large array optimizations. */
          var LARGE_ARRAY_SIZE = 200;

          /** Used to stand-in for `undefined` hash values. */
          var HASH_UNDEFINED = '__lodash_hash_undefined__';

          /** Used to detect hot functions by number of calls within a span of milliseconds. */
          var HOT_COUNT = 800,
            HOT_SPAN = 16;

          /** Used as references for various `Number` constants. */
          var MAX_SAFE_INTEGER = 9007199254740991;

          /** `Object#toString` result references. */
          var argsTag = '[object Arguments]',
            arrayTag = '[object Array]',
            asyncTag = '[object AsyncFunction]',
            boolTag = '[object Boolean]',
            dateTag = '[object Date]',
            errorTag = '[object Error]',
            funcTag = '[object Function]',
            genTag = '[object GeneratorFunction]',
            mapTag = '[object Map]',
            numberTag = '[object Number]',
            nullTag = '[object Null]',
            objectTag = '[object Object]',
            proxyTag = '[object Proxy]',
            regexpTag = '[object RegExp]',
            setTag = '[object Set]',
            stringTag = '[object String]',
            undefinedTag = '[object Undefined]',
            weakMapTag = '[object WeakMap]';

          var arrayBufferTag = '[object ArrayBuffer]',
            dataViewTag = '[object DataView]',
            float32Tag = '[object Float32Array]',
            float64Tag = '[object Float64Array]',
            int8Tag = '[object Int8Array]',
            int16Tag = '[object Int16Array]',
            int32Tag = '[object Int32Array]',
            uint8Tag = '[object Uint8Array]',
            uint8ClampedTag = '[object Uint8ClampedArray]',
            uint16Tag = '[object Uint16Array]',
            uint32Tag = '[object Uint32Array]';

          /**
           * Used to match `RegExp`
           * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
           */
          var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

          /** Used to detect host constructors (Safari). */
          var reIsHostCtor = /^\[object .+?Constructor\]$/;

          /** Used to detect unsigned integer values. */
          var reIsUint = /^(?:0|[1-9]\d*)$/;

          /** Used to identify `toStringTag` values of typed arrays. */
          var typedArrayTags = {};
          typedArrayTags[float32Tag] =
            typedArrayTags[float64Tag] =
            typedArrayTags[int8Tag] =
            typedArrayTags[int16Tag] =
            typedArrayTags[int32Tag] =
            typedArrayTags[uint8Tag] =
            typedArrayTags[uint8ClampedTag] =
            typedArrayTags[uint16Tag] =
            typedArrayTags[uint32Tag] =
              true;
          typedArrayTags[argsTag] =
            typedArrayTags[arrayTag] =
            typedArrayTags[arrayBufferTag] =
            typedArrayTags[boolTag] =
            typedArrayTags[dataViewTag] =
            typedArrayTags[dateTag] =
            typedArrayTags[errorTag] =
            typedArrayTags[funcTag] =
            typedArrayTags[mapTag] =
            typedArrayTags[numberTag] =
            typedArrayTags[objectTag] =
            typedArrayTags[regexpTag] =
            typedArrayTags[setTag] =
            typedArrayTags[stringTag] =
            typedArrayTags[weakMapTag] =
              false;

          /** Detect free variable `global` from Node.js. */
          var freeGlobal =
            typeof global == 'object' &&
            global &&
            global.Object === Object &&
            global;

          /** Detect free variable `self`. */
          var freeSelf =
            typeof self == 'object' && self && self.Object === Object && self;

          /** Used as a reference to the global object. */
          var root = freeGlobal || freeSelf || Function('return this')();

          /** Detect free variable `exports`. */
          var freeExports = true && exports && !exports.nodeType && exports;

          /** Detect free variable `module`. */
          var freeModule =
            freeExports &&
            typeof module == 'object' &&
            module &&
            !module.nodeType &&
            module;

          /** Detect the popular CommonJS extension `module.exports`. */
          var moduleExports = freeModule && freeModule.exports === freeExports;

          /** Detect free variable `process` from Node.js. */
          var freeProcess = moduleExports && freeGlobal.process;

          /** Used to access faster Node.js helpers. */
          var nodeUtil = (function () {
            try {
              // Use `util.types` for Node.js 10+.
              var types =
                freeModule &&
                freeModule.require &&
                freeModule.require('util').types;

              if (types) {
                return types;
              }

              // Legacy `process.binding('util')` for Node.js < 10.
              return (
                freeProcess &&
                freeProcess.binding &&
                freeProcess.binding('util')
              );
            } catch (e) {}
          })();

          /* Node.js helper references. */
          var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

          /**
           * A faster alternative to `Function#apply`, this function invokes `func`
           * with the `this` binding of `thisArg` and the arguments of `args`.
           *
           * @private
           * @param {Function} func The function to invoke.
           * @param {*} thisArg The `this` binding of `func`.
           * @param {Array} args The arguments to invoke `func` with.
           * @returns {*} Returns the result of `func`.
           */
          function apply(func, thisArg, args) {
            switch (args.length) {
              case 0:
                return func.call(thisArg);
              case 1:
                return func.call(thisArg, args[0]);
              case 2:
                return func.call(thisArg, args[0], args[1]);
              case 3:
                return func.call(thisArg, args[0], args[1], args[2]);
            }
            return func.apply(thisArg, args);
          }

          /**
           * The base implementation of `_.times` without support for iteratee shorthands
           * or max array length checks.
           *
           * @private
           * @param {number} n The number of times to invoke `iteratee`.
           * @param {Function} iteratee The function invoked per iteration.
           * @returns {Array} Returns the array of results.
           */
          function baseTimes(n, iteratee) {
            var index = -1,
              result = Array(n);

            while (++index < n) {
              result[index] = iteratee(index);
            }
            return result;
          }

          /**
           * The base implementation of `_.unary` without support for storing metadata.
           *
           * @private
           * @param {Function} func The function to cap arguments for.
           * @returns {Function} Returns the new capped function.
           */
          function baseUnary(func) {
            return function (value) {
              return func(value);
            };
          }

          /**
           * Gets the value at `key` of `object`.
           *
           * @private
           * @param {Object} [object] The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function getValue(object, key) {
            return object == null ? undefined : object[key];
          }

          /**
           * Creates a unary function that invokes `func` with its argument transformed.
           *
           * @private
           * @param {Function} func The function to wrap.
           * @param {Function} transform The argument transform.
           * @returns {Function} Returns the new function.
           */
          function overArg(func, transform) {
            return function (arg) {
              return func(transform(arg));
            };
          }

          /** Used for built-in method references. */
          var arrayProto = Array.prototype,
            funcProto = Function.prototype,
            objectProto = Object.prototype;

          /** Used to detect overreaching core-js shims. */
          var coreJsData = root['__core-js_shared__'];

          /** Used to resolve the decompiled source of functions. */
          var funcToString = funcProto.toString;

          /** Used to check objects for own properties. */
          var hasOwnProperty = objectProto.hasOwnProperty;

          /** Used to detect methods masquerading as native. */
          var maskSrcKey = (function () {
            var uid = /[^.]+$/.exec(
              (coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO) || ''
            );
            return uid ? 'Symbol(src)_1.' + uid : '';
          })();

          /**
           * Used to resolve the
           * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
           * of values.
           */
          var nativeObjectToString = objectProto.toString;

          /** Used to infer the `Object` constructor. */
          var objectCtorString = funcToString.call(Object);

          /** Used to detect if a method is native. */
          var reIsNative = RegExp(
            '^' +
              funcToString
                .call(hasOwnProperty)
                .replace(reRegExpChar, '\\$&')
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  '$1.*?'
                ) +
              '$'
          );

          /** Built-in value references. */
          var Buffer = moduleExports ? root.Buffer : undefined,
            Symbol = root.Symbol,
            Uint8Array = root.Uint8Array,
            allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
            getPrototype = overArg(Object.getPrototypeOf, Object),
            objectCreate = Object.create,
            propertyIsEnumerable = objectProto.propertyIsEnumerable,
            splice = arrayProto.splice,
            symToStringTag = Symbol ? Symbol.toStringTag : undefined;

          var defineProperty = (function () {
            try {
              var func = getNative(Object, 'defineProperty');
              func({}, '', {});
              return func;
            } catch (e) {}
          })();

          /* Built-in method references for those with the same name as other `lodash` methods. */
          var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
            nativeMax = Math.max,
            nativeNow = Date.now;

          /* Built-in method references that are verified to be native. */
          var Map = getNative(root, 'Map'),
            nativeCreate = getNative(Object, 'create');

          /**
           * The base implementation of `_.create` without support for assigning
           * properties to the created object.
           *
           * @private
           * @param {Object} proto The object to inherit from.
           * @returns {Object} Returns the new object.
           */
          var baseCreate = (function () {
            function object() {}
            return function (proto) {
              if (!isObject(proto)) {
                return {};
              }
              if (objectCreate) {
                return objectCreate(proto);
              }
              object.prototype = proto;
              var result = new object();
              object.prototype = undefined;
              return result;
            };
          })();

          /**
           * Creates a hash object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Hash(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the hash.
           *
           * @private
           * @name clear
           * @memberOf Hash
           */
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the hash.
           *
           * @private
           * @name delete
           * @memberOf Hash
           * @param {Object} hash The hash to modify.
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function hashDelete(key) {
            var result = this.has(key) && delete this.__data__[key];
            this.size -= result ? 1 : 0;
            return result;
          }

          /**
           * Gets the hash value for `key`.
           *
           * @private
           * @name get
           * @memberOf Hash
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result = data[key];
              return result === HASH_UNDEFINED ? undefined : result;
            }
            return hasOwnProperty.call(data, key) ? data[key] : undefined;
          }

          /**
           * Checks if a hash value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Hash
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate
              ? data[key] !== undefined
              : hasOwnProperty.call(data, key);
          }

          /**
           * Sets the hash `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Hash
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the hash instance.
           */
          function hashSet(key, value) {
            var data = this.__data__;
            this.size += this.has(key) ? 0 : 1;
            data[key] =
              nativeCreate && value === undefined ? HASH_UNDEFINED : value;
            return this;
          }

          // Add methods to `Hash`.
          Hash.prototype.clear = hashClear;
          Hash.prototype['delete'] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;

          /**
           * Creates an list cache object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function ListCache(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the list cache.
           *
           * @private
           * @name clear
           * @memberOf ListCache
           */
          function listCacheClear() {
            this.__data__ = [];
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the list cache.
           *
           * @private
           * @name delete
           * @memberOf ListCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function listCacheDelete(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index, 1);
            }
            --this.size;
            return true;
          }

          /**
           * Gets the list cache value for `key`.
           *
           * @private
           * @name get
           * @memberOf ListCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function listCacheGet(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            return index < 0 ? undefined : data[index][1];
          }

          /**
           * Checks if a list cache value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf ListCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }

          /**
           * Sets the list cache `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf ListCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the list cache instance.
           */
          function listCacheSet(key, value) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              ++this.size;
              data.push([key, value]);
            } else {
              data[index][1] = value;
            }
            return this;
          }

          // Add methods to `ListCache`.
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype['delete'] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;

          /**
           * Creates a map cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function MapCache(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the map.
           *
           * @private
           * @name clear
           * @memberOf MapCache
           */
          function mapCacheClear() {
            this.size = 0;
            this.__data__ = {
              hash: new Hash(),
              map: new (Map || ListCache)(),
              string: new Hash(),
            };
          }

          /**
           * Removes `key` and its value from the map.
           *
           * @private
           * @name delete
           * @memberOf MapCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function mapCacheDelete(key) {
            var result = getMapData(this, key)['delete'](key);
            this.size -= result ? 1 : 0;
            return result;
          }

          /**
           * Gets the map value for `key`.
           *
           * @private
           * @name get
           * @memberOf MapCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }

          /**
           * Checks if a map value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf MapCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }

          /**
           * Sets the map `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf MapCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the map cache instance.
           */
          function mapCacheSet(key, value) {
            var data = getMapData(this, key),
              size = data.size;

            data.set(key, value);
            this.size += data.size == size ? 0 : 1;
            return this;
          }

          // Add methods to `MapCache`.
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype['delete'] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;

          /**
           * Creates a stack cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Stack(entries) {
            var data = (this.__data__ = new ListCache(entries));
            this.size = data.size;
          }

          /**
           * Removes all key-value entries from the stack.
           *
           * @private
           * @name clear
           * @memberOf Stack
           */
          function stackClear() {
            this.__data__ = new ListCache();
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the stack.
           *
           * @private
           * @name delete
           * @memberOf Stack
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function stackDelete(key) {
            var data = this.__data__,
              result = data['delete'](key);

            this.size = data.size;
            return result;
          }

          /**
           * Gets the stack value for `key`.
           *
           * @private
           * @name get
           * @memberOf Stack
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function stackGet(key) {
            return this.__data__.get(key);
          }

          /**
           * Checks if a stack value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Stack
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function stackHas(key) {
            return this.__data__.has(key);
          }

          /**
           * Sets the stack `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Stack
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the stack cache instance.
           */
          function stackSet(key, value) {
            var data = this.__data__;
            if (data instanceof ListCache) {
              var pairs = data.__data__;
              if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
                pairs.push([key, value]);
                this.size = ++data.size;
                return this;
              }
              data = this.__data__ = new MapCache(pairs);
            }
            data.set(key, value);
            this.size = data.size;
            return this;
          }

          // Add methods to `Stack`.
          Stack.prototype.clear = stackClear;
          Stack.prototype['delete'] = stackDelete;
          Stack.prototype.get = stackGet;
          Stack.prototype.has = stackHas;
          Stack.prototype.set = stackSet;

          /**
           * Creates an array of the enumerable property names of the array-like `value`.
           *
           * @private
           * @param {*} value The value to query.
           * @param {boolean} inherited Specify returning inherited property names.
           * @returns {Array} Returns the array of property names.
           */
          function arrayLikeKeys(value, inherited) {
            var isArr = isArray(value),
              isArg = !isArr && isArguments(value),
              isBuff = !isArr && !isArg && isBuffer(value),
              isType = !isArr && !isArg && !isBuff && isTypedArray(value),
              skipIndexes = isArr || isArg || isBuff || isType,
              result = skipIndexes ? baseTimes(value.length, String) : [],
              length = result.length;

            for (var key in value) {
              if (
                (inherited || hasOwnProperty.call(value, key)) &&
                !(
                  skipIndexes &&
                  // Safari 9 has enumerable `arguments.length` in strict mode.
                  (key == 'length' ||
                    // Node.js 0.10 has enumerable non-index properties on buffers.
                    (isBuff && (key == 'offset' || key == 'parent')) ||
                    // PhantomJS 2 has enumerable non-index properties on typed arrays.
                    (isType &&
                      (key == 'buffer' ||
                        key == 'byteLength' ||
                        key == 'byteOffset')) ||
                    // Skip index properties.
                    isIndex(key, length))
                )
              ) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * This function is like `assignValue` except that it doesn't assign
           * `undefined` values.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function assignMergeValue(object, key, value) {
            if (
              (value !== undefined && !eq(object[key], value)) ||
              (value === undefined && !(key in object))
            ) {
              baseAssignValue(object, key, value);
            }
          }

          /**
           * Assigns `value` to `key` of `object` if the existing value is not equivalent
           * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * for equality comparisons.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function assignValue(object, key, value) {
            var objValue = object[key];
            if (
              !(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
              (value === undefined && !(key in object))
            ) {
              baseAssignValue(object, key, value);
            }
          }

          /**
           * Gets the index at which the `key` is found in `array` of key-value pairs.
           *
           * @private
           * @param {Array} array The array to inspect.
           * @param {*} key The key to search for.
           * @returns {number} Returns the index of the matched value, else `-1`.
           */
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }

          /**
           * The base implementation of `assignValue` and `assignMergeValue` without
           * value checks.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function baseAssignValue(object, key, value) {
            if (key == '__proto__' && defineProperty) {
              defineProperty(object, key, {
                configurable: true,
                enumerable: true,
                value: value,
                writable: true,
              });
            } else {
              object[key] = value;
            }
          }

          /**
           * The base implementation of `baseForOwn` which iterates over `object`
           * properties returned by `keysFunc` and invokes `iteratee` for each property.
           * Iteratee functions may exit iteration early by explicitly returning `false`.
           *
           * @private
           * @param {Object} object The object to iterate over.
           * @param {Function} iteratee The function invoked per iteration.
           * @param {Function} keysFunc The function to get the keys of `object`.
           * @returns {Object} Returns `object`.
           */
          var baseFor = createBaseFor();

          /**
           * The base implementation of `getTag` without fallbacks for buggy environments.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the `toStringTag`.
           */
          function baseGetTag(value) {
            if (value == null) {
              return value === undefined ? undefinedTag : nullTag;
            }
            return symToStringTag && symToStringTag in Object(value)
              ? getRawTag(value)
              : objectToString(value);
          }

          /**
           * The base implementation of `_.isArguments`.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an `arguments` object,
           */
          function baseIsArguments(value) {
            return isObjectLike(value) && baseGetTag(value) == argsTag;
          }

          /**
           * The base implementation of `_.isNative` without bad shim checks.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a native function,
           *  else `false`.
           */
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
            return pattern.test(toSource(value));
          }

          /**
           * The base implementation of `_.isTypedArray` without Node.js optimizations.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           */
          function baseIsTypedArray(value) {
            return (
              isObjectLike(value) &&
              isLength(value.length) &&
              !!typedArrayTags[baseGetTag(value)]
            );
          }

          /**
           * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           */
          function baseKeysIn(object) {
            if (!isObject(object)) {
              return nativeKeysIn(object);
            }
            var isProto = isPrototype(object),
              result = [];

            for (var key in object) {
              if (
                !(
                  key == 'constructor' &&
                  (isProto || !hasOwnProperty.call(object, key))
                )
              ) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * The base implementation of `_.merge` without support for multiple sources.
           *
           * @private
           * @param {Object} object The destination object.
           * @param {Object} source The source object.
           * @param {number} srcIndex The index of `source`.
           * @param {Function} [customizer] The function to customize merged values.
           * @param {Object} [stack] Tracks traversed source values and their merged
           *  counterparts.
           */
          function baseMerge(object, source, srcIndex, customizer, stack) {
            if (object === source) {
              return;
            }
            baseFor(
              source,
              function (srcValue, key) {
                stack || (stack = new Stack());
                if (isObject(srcValue)) {
                  baseMergeDeep(
                    object,
                    source,
                    key,
                    srcIndex,
                    baseMerge,
                    customizer,
                    stack
                  );
                } else {
                  var newValue = customizer
                    ? customizer(
                        safeGet(object, key),
                        srcValue,
                        key + '',
                        object,
                        source,
                        stack
                      )
                    : undefined;

                  if (newValue === undefined) {
                    newValue = srcValue;
                  }
                  assignMergeValue(object, key, newValue);
                }
              },
              keysIn
            );
          }

          /**
           * A specialized version of `baseMerge` for arrays and objects which performs
           * deep merges and tracks traversed objects enabling objects with circular
           * references to be merged.
           *
           * @private
           * @param {Object} object The destination object.
           * @param {Object} source The source object.
           * @param {string} key The key of the value to merge.
           * @param {number} srcIndex The index of `source`.
           * @param {Function} mergeFunc The function to merge values.
           * @param {Function} [customizer] The function to customize assigned values.
           * @param {Object} [stack] Tracks traversed source values and their merged
           *  counterparts.
           */
          function baseMergeDeep(
            object,
            source,
            key,
            srcIndex,
            mergeFunc,
            customizer,
            stack
          ) {
            var objValue = safeGet(object, key),
              srcValue = safeGet(source, key),
              stacked = stack.get(srcValue);

            if (stacked) {
              assignMergeValue(object, key, stacked);
              return;
            }
            var newValue = customizer
              ? customizer(objValue, srcValue, key + '', object, source, stack)
              : undefined;

            var isCommon = newValue === undefined;

            if (isCommon) {
              var isArr = isArray(srcValue),
                isBuff = !isArr && isBuffer(srcValue),
                isTyped = !isArr && !isBuff && isTypedArray(srcValue);

              newValue = srcValue;
              if (isArr || isBuff || isTyped) {
                if (isArray(objValue)) {
                  newValue = objValue;
                } else if (isArrayLikeObject(objValue)) {
                  newValue = copyArray(objValue);
                } else if (isBuff) {
                  isCommon = false;
                  newValue = cloneBuffer(srcValue, true);
                } else if (isTyped) {
                  isCommon = false;
                  newValue = cloneTypedArray(srcValue, true);
                } else {
                  newValue = [];
                }
              } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
                newValue = objValue;
                if (isArguments(objValue)) {
                  newValue = toPlainObject(objValue);
                } else if (!isObject(objValue) || isFunction(objValue)) {
                  newValue = initCloneObject(srcValue);
                }
              } else {
                isCommon = false;
              }
            }
            if (isCommon) {
              // Recursively merge objects and arrays (susceptible to call stack limits).
              stack.set(srcValue, newValue);
              mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
              stack['delete'](srcValue);
            }
            assignMergeValue(object, key, newValue);
          }

          /**
           * The base implementation of `_.rest` which doesn't validate or coerce arguments.
           *
           * @private
           * @param {Function} func The function to apply a rest parameter to.
           * @param {number} [start=func.length-1] The start position of the rest parameter.
           * @returns {Function} Returns the new function.
           */
          function baseRest(func, start) {
            return setToString(overRest(func, start, identity), func + '');
          }

          /**
           * The base implementation of `setToString` without support for hot loop shorting.
           *
           * @private
           * @param {Function} func The function to modify.
           * @param {Function} string The `toString` result.
           * @returns {Function} Returns `func`.
           */
          var baseSetToString = !defineProperty
            ? identity
            : function (func, string) {
                return defineProperty(func, 'toString', {
                  configurable: true,
                  enumerable: false,
                  value: constant(string),
                  writable: true,
                });
              };

          /**
           * Creates a clone of  `buffer`.
           *
           * @private
           * @param {Buffer} buffer The buffer to clone.
           * @param {boolean} [isDeep] Specify a deep clone.
           * @returns {Buffer} Returns the cloned buffer.
           */
          function cloneBuffer(buffer, isDeep) {
            if (isDeep) {
              return buffer.slice();
            }
            var length = buffer.length,
              result = allocUnsafe
                ? allocUnsafe(length)
                : new buffer.constructor(length);

            buffer.copy(result);
            return result;
          }

          /**
           * Creates a clone of `arrayBuffer`.
           *
           * @private
           * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
           * @returns {ArrayBuffer} Returns the cloned array buffer.
           */
          function cloneArrayBuffer(arrayBuffer) {
            var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
            new Uint8Array(result).set(new Uint8Array(arrayBuffer));
            return result;
          }

          /**
           * Creates a clone of `typedArray`.
           *
           * @private
           * @param {Object} typedArray The typed array to clone.
           * @param {boolean} [isDeep] Specify a deep clone.
           * @returns {Object} Returns the cloned typed array.
           */
          function cloneTypedArray(typedArray, isDeep) {
            var buffer = isDeep
              ? cloneArrayBuffer(typedArray.buffer)
              : typedArray.buffer;
            return new typedArray.constructor(
              buffer,
              typedArray.byteOffset,
              typedArray.length
            );
          }

          /**
           * Copies the values of `source` to `array`.
           *
           * @private
           * @param {Array} source The array to copy values from.
           * @param {Array} [array=[]] The array to copy values to.
           * @returns {Array} Returns `array`.
           */
          function copyArray(source, array) {
            var index = -1,
              length = source.length;

            array || (array = Array(length));
            while (++index < length) {
              array[index] = source[index];
            }
            return array;
          }

          /**
           * Copies properties of `source` to `object`.
           *
           * @private
           * @param {Object} source The object to copy properties from.
           * @param {Array} props The property identifiers to copy.
           * @param {Object} [object={}] The object to copy properties to.
           * @param {Function} [customizer] The function to customize copied values.
           * @returns {Object} Returns `object`.
           */
          function copyObject(source, props, object, customizer) {
            var isNew = !object;
            object || (object = {});

            var index = -1,
              length = props.length;

            while (++index < length) {
              var key = props[index];

              var newValue = customizer
                ? customizer(object[key], source[key], key, object, source)
                : undefined;

              if (newValue === undefined) {
                newValue = source[key];
              }
              if (isNew) {
                baseAssignValue(object, key, newValue);
              } else {
                assignValue(object, key, newValue);
              }
            }
            return object;
          }

          /**
           * Creates a function like `_.assign`.
           *
           * @private
           * @param {Function} assigner The function to assign values.
           * @returns {Function} Returns the new assigner function.
           */
          function createAssigner(assigner) {
            return baseRest(function (object, sources) {
              var index = -1,
                length = sources.length,
                customizer = length > 1 ? sources[length - 1] : undefined,
                guard = length > 2 ? sources[2] : undefined;

              customizer =
                assigner.length > 3 && typeof customizer == 'function'
                  ? (length--, customizer)
                  : undefined;

              if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                customizer = length < 3 ? undefined : customizer;
                length = 1;
              }
              object = Object(object);
              while (++index < length) {
                var source = sources[index];
                if (source) {
                  assigner(object, source, index, customizer);
                }
              }
              return object;
            });
          }

          /**
           * Creates a base function for methods like `_.forIn` and `_.forOwn`.
           *
           * @private
           * @param {boolean} [fromRight] Specify iterating from right to left.
           * @returns {Function} Returns the new base function.
           */
          function createBaseFor(fromRight) {
            return function (object, iteratee, keysFunc) {
              var index = -1,
                iterable = Object(object),
                props = keysFunc(object),
                length = props.length;

              while (length--) {
                var key = props[fromRight ? length : ++index];
                if (iteratee(iterable[key], key, iterable) === false) {
                  break;
                }
              }
              return object;
            };
          }

          /**
           * Gets the data for `map`.
           *
           * @private
           * @param {Object} map The map to query.
           * @param {string} key The reference key.
           * @returns {*} Returns the map data.
           */
          function getMapData(map, key) {
            var data = map.__data__;
            return isKeyable(key)
              ? data[typeof key == 'string' ? 'string' : 'hash']
              : data.map;
          }

          /**
           * Gets the native function at `key` of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the method to get.
           * @returns {*} Returns the function if it's native, else `undefined`.
           */
          function getNative(object, key) {
            var value = getValue(object, key);
            return baseIsNative(value) ? value : undefined;
          }

          /**
           * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the raw `toStringTag`.
           */
          function getRawTag(value) {
            var isOwn = hasOwnProperty.call(value, symToStringTag),
              tag = value[symToStringTag];

            try {
              value[symToStringTag] = undefined;
              var unmasked = true;
            } catch (e) {}

            var result = nativeObjectToString.call(value);
            if (unmasked) {
              if (isOwn) {
                value[symToStringTag] = tag;
              } else {
                delete value[symToStringTag];
              }
            }
            return result;
          }

          /**
           * Initializes an object clone.
           *
           * @private
           * @param {Object} object The object to clone.
           * @returns {Object} Returns the initialized clone.
           */
          function initCloneObject(object) {
            return typeof object.constructor == 'function' &&
              !isPrototype(object)
              ? baseCreate(getPrototype(object))
              : {};
          }

          /**
           * Checks if `value` is a valid array-like index.
           *
           * @private
           * @param {*} value The value to check.
           * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
           * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
           */
          function isIndex(value, length) {
            var type = typeof value;
            length = length == null ? MAX_SAFE_INTEGER : length;

            return (
              !!length &&
              (type == 'number' ||
                (type != 'symbol' && reIsUint.test(value))) &&
              value > -1 &&
              value % 1 == 0 &&
              value < length
            );
          }

          /**
           * Checks if the given arguments are from an iteratee call.
           *
           * @private
           * @param {*} value The potential iteratee value argument.
           * @param {*} index The potential iteratee index or key argument.
           * @param {*} object The potential iteratee object argument.
           * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
           *  else `false`.
           */
          function isIterateeCall(value, index, object) {
            if (!isObject(object)) {
              return false;
            }
            var type = typeof index;
            if (
              type == 'number'
                ? isArrayLike(object) && isIndex(index, object.length)
                : type == 'string' && index in object
            ) {
              return eq(object[index], value);
            }
            return false;
          }

          /**
           * Checks if `value` is suitable for use as unique object key.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
           */
          function isKeyable(value) {
            var type = typeof value;
            return type == 'string' ||
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean'
              ? value !== '__proto__'
              : value === null;
          }

          /**
           * Checks if `func` has its source masked.
           *
           * @private
           * @param {Function} func The function to check.
           * @returns {boolean} Returns `true` if `func` is masked, else `false`.
           */
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }

          /**
           * Checks if `value` is likely a prototype object.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
           */
          function isPrototype(value) {
            var Ctor = value && value.constructor,
              proto =
                (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

            return value === proto;
          }

          /**
           * This function is like
           * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
           * except that it includes inherited enumerable properties.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           */
          function nativeKeysIn(object) {
            var result = [];
            if (object != null) {
              for (var key in Object(object)) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * Converts `value` to a string using `Object.prototype.toString`.
           *
           * @private
           * @param {*} value The value to convert.
           * @returns {string} Returns the converted string.
           */
          function objectToString(value) {
            return nativeObjectToString.call(value);
          }

          /**
           * A specialized version of `baseRest` which transforms the rest array.
           *
           * @private
           * @param {Function} func The function to apply a rest parameter to.
           * @param {number} [start=func.length-1] The start position of the rest parameter.
           * @param {Function} transform The rest array transform.
           * @returns {Function} Returns the new function.
           */
          function overRest(func, start, transform) {
            start = nativeMax(start === undefined ? func.length - 1 : start, 0);
            return function () {
              var args = arguments,
                index = -1,
                length = nativeMax(args.length - start, 0),
                array = Array(length);

              while (++index < length) {
                array[index] = args[start + index];
              }
              index = -1;
              var otherArgs = Array(start + 1);
              while (++index < start) {
                otherArgs[index] = args[index];
              }
              otherArgs[start] = transform(array);
              return apply(func, this, otherArgs);
            };
          }

          /**
           * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function safeGet(object, key) {
            if (key === 'constructor' && typeof object[key] === 'function') {
              return;
            }

            if (key == '__proto__') {
              return;
            }

            return object[key];
          }

          /**
           * Sets the `toString` method of `func` to return `string`.
           *
           * @private
           * @param {Function} func The function to modify.
           * @param {Function} string The `toString` result.
           * @returns {Function} Returns `func`.
           */
          var setToString = shortOut(baseSetToString);

          /**
           * Creates a function that'll short out and invoke `identity` instead
           * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
           * milliseconds.
           *
           * @private
           * @param {Function} func The function to restrict.
           * @returns {Function} Returns the new shortable function.
           */
          function shortOut(func) {
            var count = 0,
              lastCalled = 0;

            return function () {
              var stamp = nativeNow(),
                remaining = HOT_SPAN - (stamp - lastCalled);

              lastCalled = stamp;
              if (remaining > 0) {
                if (++count >= HOT_COUNT) {
                  return arguments[0];
                }
              } else {
                count = 0;
              }
              return func.apply(undefined, arguments);
            };
          }

          /**
           * Converts `func` to its source code.
           *
           * @private
           * @param {Function} func The function to convert.
           * @returns {string} Returns the source code.
           */
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e) {}
              try {
                return func + '';
              } catch (e) {}
            }
            return '';
          }

          /**
           * Performs a
           * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * comparison between two values to determine if they are equivalent.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to compare.
           * @param {*} other The other value to compare.
           * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
           * @example
           *
           * var object = { 'a': 1 };
           * var other = { 'a': 1 };
           *
           * _.eq(object, object);
           * // => true
           *
           * _.eq(object, other);
           * // => false
           *
           * _.eq('a', 'a');
           * // => true
           *
           * _.eq('a', Object('a'));
           * // => false
           *
           * _.eq(NaN, NaN);
           * // => true
           */
          function eq(value, other) {
            return value === other || (value !== value && other !== other);
          }

          /**
           * Checks if `value` is likely an `arguments` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an `arguments` object,
           *  else `false`.
           * @example
           *
           * _.isArguments(function() { return arguments; }());
           * // => true
           *
           * _.isArguments([1, 2, 3]);
           * // => false
           */
          var isArguments = baseIsArguments(
            (function () {
              return arguments;
            })()
          )
            ? baseIsArguments
            : function (value) {
                return (
                  isObjectLike(value) &&
                  hasOwnProperty.call(value, 'callee') &&
                  !propertyIsEnumerable.call(value, 'callee')
                );
              };

          /**
           * Checks if `value` is classified as an `Array` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array, else `false`.
           * @example
           *
           * _.isArray([1, 2, 3]);
           * // => true
           *
           * _.isArray(document.body.children);
           * // => false
           *
           * _.isArray('abc');
           * // => false
           *
           * _.isArray(_.noop);
           * // => false
           */
          var isArray = Array.isArray;

          /**
           * Checks if `value` is array-like. A value is considered array-like if it's
           * not a function and has a `value.length` that's an integer greater than or
           * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
           * @example
           *
           * _.isArrayLike([1, 2, 3]);
           * // => true
           *
           * _.isArrayLike(document.body.children);
           * // => true
           *
           * _.isArrayLike('abc');
           * // => true
           *
           * _.isArrayLike(_.noop);
           * // => false
           */
          function isArrayLike(value) {
            return (
              value != null && isLength(value.length) && !isFunction(value)
            );
          }

          /**
           * This method is like `_.isArrayLike` except that it also checks if `value`
           * is an object.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array-like object,
           *  else `false`.
           * @example
           *
           * _.isArrayLikeObject([1, 2, 3]);
           * // => true
           *
           * _.isArrayLikeObject(document.body.children);
           * // => true
           *
           * _.isArrayLikeObject('abc');
           * // => false
           *
           * _.isArrayLikeObject(_.noop);
           * // => false
           */
          function isArrayLikeObject(value) {
            return isObjectLike(value) && isArrayLike(value);
          }

          /**
           * Checks if `value` is a buffer.
           *
           * @static
           * @memberOf _
           * @since 4.3.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
           * @example
           *
           * _.isBuffer(new Buffer(2));
           * // => true
           *
           * _.isBuffer(new Uint8Array(2));
           * // => false
           */
          var isBuffer = nativeIsBuffer || stubFalse;

          /**
           * Checks if `value` is classified as a `Function` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a function, else `false`.
           * @example
           *
           * _.isFunction(_);
           * // => true
           *
           * _.isFunction(/abc/);
           * // => false
           */
          function isFunction(value) {
            if (!isObject(value)) {
              return false;
            }
            // The use of `Object#toString` avoids issues with the `typeof` operator
            // in Safari 9 which returns 'object' for typed arrays and other constructors.
            var tag = baseGetTag(value);
            return (
              tag == funcTag ||
              tag == genTag ||
              tag == asyncTag ||
              tag == proxyTag
            );
          }

          /**
           * Checks if `value` is a valid array-like length.
           *
           * **Note:** This method is loosely based on
           * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
           * @example
           *
           * _.isLength(3);
           * // => true
           *
           * _.isLength(Number.MIN_VALUE);
           * // => false
           *
           * _.isLength(Infinity);
           * // => false
           *
           * _.isLength('3');
           * // => false
           */
          function isLength(value) {
            return (
              typeof value == 'number' &&
              value > -1 &&
              value % 1 == 0 &&
              value <= MAX_SAFE_INTEGER
            );
          }

          /**
           * Checks if `value` is the
           * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
           * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an object, else `false`.
           * @example
           *
           * _.isObject({});
           * // => true
           *
           * _.isObject([1, 2, 3]);
           * // => true
           *
           * _.isObject(_.noop);
           * // => true
           *
           * _.isObject(null);
           * // => false
           */
          function isObject(value) {
            var type = typeof value;
            return value != null && (type == 'object' || type == 'function');
          }

          /**
           * Checks if `value` is object-like. A value is object-like if it's not `null`
           * and has a `typeof` result of "object".
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
           * @example
           *
           * _.isObjectLike({});
           * // => true
           *
           * _.isObjectLike([1, 2, 3]);
           * // => true
           *
           * _.isObjectLike(_.noop);
           * // => false
           *
           * _.isObjectLike(null);
           * // => false
           */
          function isObjectLike(value) {
            return value != null && typeof value == 'object';
          }

          /**
           * Checks if `value` is a plain object, that is, an object created by the
           * `Object` constructor or one with a `[[Prototype]]` of `null`.
           *
           * @static
           * @memberOf _
           * @since 0.8.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
           * @example
           *
           * function Foo() {
           *   this.a = 1;
           * }
           *
           * _.isPlainObject(new Foo);
           * // => false
           *
           * _.isPlainObject([1, 2, 3]);
           * // => false
           *
           * _.isPlainObject({ 'x': 0, 'y': 0 });
           * // => true
           *
           * _.isPlainObject(Object.create(null));
           * // => true
           */
          function isPlainObject(value) {
            if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
              return false;
            }
            var proto = getPrototype(value);
            if (proto === null) {
              return true;
            }
            var Ctor =
              hasOwnProperty.call(proto, 'constructor') && proto.constructor;
            return (
              typeof Ctor == 'function' &&
              Ctor instanceof Ctor &&
              funcToString.call(Ctor) == objectCtorString
            );
          }

          /**
           * Checks if `value` is classified as a typed array.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           * @example
           *
           * _.isTypedArray(new Uint8Array);
           * // => true
           *
           * _.isTypedArray([]);
           * // => false
           */
          var isTypedArray = nodeIsTypedArray
            ? baseUnary(nodeIsTypedArray)
            : baseIsTypedArray;

          /**
           * Converts `value` to a plain object flattening inherited enumerable string
           * keyed properties of `value` to own properties of the plain object.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Lang
           * @param {*} value The value to convert.
           * @returns {Object} Returns the converted plain object.
           * @example
           *
           * function Foo() {
           *   this.b = 2;
           * }
           *
           * Foo.prototype.c = 3;
           *
           * _.assign({ 'a': 1 }, new Foo);
           * // => { 'a': 1, 'b': 2 }
           *
           * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
           * // => { 'a': 1, 'b': 2, 'c': 3 }
           */
          function toPlainObject(value) {
            return copyObject(value, keysIn(value));
          }

          /**
           * Creates an array of the own and inherited enumerable property names of `object`.
           *
           * **Note:** Non-object values are coerced to objects.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Object
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           * @example
           *
           * function Foo() {
           *   this.a = 1;
           *   this.b = 2;
           * }
           *
           * Foo.prototype.c = 3;
           *
           * _.keysIn(new Foo);
           * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
           */
          function keysIn(object) {
            return isArrayLike(object)
              ? arrayLikeKeys(object, true)
              : baseKeysIn(object);
          }

          /**
           * This method is like `_.assign` except that it recursively merges own and
           * inherited enumerable string keyed properties of source objects into the
           * destination object. Source properties that resolve to `undefined` are
           * skipped if a destination value exists. Array and plain object properties
           * are merged recursively. Other objects and value types are overridden by
           * assignment. Source objects are applied from left to right. Subsequent
           * sources overwrite property assignments of previous sources.
           *
           * **Note:** This method mutates `object`.
           *
           * @static
           * @memberOf _
           * @since 0.5.0
           * @category Object
           * @param {Object} object The destination object.
           * @param {...Object} [sources] The source objects.
           * @returns {Object} Returns `object`.
           * @example
           *
           * var object = {
           *   'a': [{ 'b': 2 }, { 'd': 4 }]
           * };
           *
           * var other = {
           *   'a': [{ 'c': 3 }, { 'e': 5 }]
           * };
           *
           * _.merge(object, other);
           * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
           */
          var merge = createAssigner(function (object, source, srcIndex) {
            baseMerge(object, source, srcIndex);
          });

          /**
           * Creates a function that returns `value`.
           *
           * @static
           * @memberOf _
           * @since 2.4.0
           * @category Util
           * @param {*} value The value to return from the new function.
           * @returns {Function} Returns the new constant function.
           * @example
           *
           * var objects = _.times(2, _.constant({ 'a': 1 }));
           *
           * console.log(objects);
           * // => [{ 'a': 1 }, { 'a': 1 }]
           *
           * console.log(objects[0] === objects[1]);
           * // => true
           */
          function constant(value) {
            return function () {
              return value;
            };
          }

          /**
           * This method returns the first argument it receives.
           *
           * @static
           * @since 0.1.0
           * @memberOf _
           * @category Util
           * @param {*} value Any value.
           * @returns {*} Returns `value`.
           * @example
           *
           * var object = { 'a': 1 };
           *
           * console.log(_.identity(object) === object);
           * // => true
           */
          function identity(value) {
            return value;
          }

          /**
           * This method returns `false`.
           *
           * @static
           * @memberOf _
           * @since 4.13.0
           * @category Util
           * @returns {boolean} Returns `false`.
           * @example
           *
           * _.times(2, _.stubFalse);
           * // => [false, false]
           */
          function stubFalse() {
            return false;
          }

          module.exports = merge;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          ),
          __webpack_require__(
            /*! ./../webpack/buildin/module.js */ '../node_modules/webpack/buildin/module.js'
          )(module)
        );

        /***/
      },

    /***/ '../node_modules/process/browser.js':
      /*!******************************************!*\
  !*** ../node_modules/process/browser.js ***!
  \******************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        // shim for using process in browser
        var process = (module.exports = {});

        // cached from whatever global is present so that test runners that stub it
        // don't break things.  But we need to wrap it in a try catch in case it is
        // wrapped in strict mode code which doesn't define any globals.  It's inside a
        // function because try/catches deoptimize in certain engines.

        var cachedSetTimeout;
        var cachedClearTimeout;

        function defaultSetTimout() {
          throw new Error('setTimeout has not been defined');
        }
        function defaultClearTimeout() {
          throw new Error('clearTimeout has not been defined');
        }
        (function () {
          try {
            if (typeof setTimeout === 'function') {
              cachedSetTimeout = setTimeout;
            } else {
              cachedSetTimeout = defaultSetTimout;
            }
          } catch (e) {
            cachedSetTimeout = defaultSetTimout;
          }
          try {
            if (typeof clearTimeout === 'function') {
              cachedClearTimeout = clearTimeout;
            } else {
              cachedClearTimeout = defaultClearTimeout;
            }
          } catch (e) {
            cachedClearTimeout = defaultClearTimeout;
          }
        })();
        function runTimeout(fun) {
          if (cachedSetTimeout === setTimeout) {
            //normal enviroments in sane situations
            return setTimeout(fun, 0);
          }
          // if setTimeout wasn't available but was latter defined
          if (
            (cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) &&
            setTimeout
          ) {
            cachedSetTimeout = setTimeout;
            return setTimeout(fun, 0);
          }
          try {
            // when when somebody has screwed with setTimeout but no I.E. maddness
            return cachedSetTimeout(fun, 0);
          } catch (e) {
            try {
              // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
              return cachedSetTimeout.call(null, fun, 0);
            } catch (e) {
              // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
              return cachedSetTimeout.call(this, fun, 0);
            }
          }
        }
        function runClearTimeout(marker) {
          if (cachedClearTimeout === clearTimeout) {
            //normal enviroments in sane situations
            return clearTimeout(marker);
          }
          // if clearTimeout wasn't available but was latter defined
          if (
            (cachedClearTimeout === defaultClearTimeout ||
              !cachedClearTimeout) &&
            clearTimeout
          ) {
            cachedClearTimeout = clearTimeout;
            return clearTimeout(marker);
          }
          try {
            // when when somebody has screwed with setTimeout but no I.E. maddness
            return cachedClearTimeout(marker);
          } catch (e) {
            try {
              // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
              return cachedClearTimeout.call(null, marker);
            } catch (e) {
              // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
              // Some versions of I.E. have different rules for clearTimeout vs setTimeout
              return cachedClearTimeout.call(this, marker);
            }
          }
        }
        var queue = [];
        var draining = false;
        var currentQueue;
        var queueIndex = -1;

        function cleanUpNextTick() {
          if (!draining || !currentQueue) {
            return;
          }
          draining = false;
          if (currentQueue.length) {
            queue = currentQueue.concat(queue);
          } else {
            queueIndex = -1;
          }
          if (queue.length) {
            drainQueue();
          }
        }

        function drainQueue() {
          if (draining) {
            return;
          }
          var timeout = runTimeout(cleanUpNextTick);
          draining = true;

          var len = queue.length;
          while (len) {
            currentQueue = queue;
            queue = [];
            while (++queueIndex < len) {
              if (currentQueue) {
                currentQueue[queueIndex].run();
              }
            }
            queueIndex = -1;
            len = queue.length;
          }
          currentQueue = null;
          draining = false;
          runClearTimeout(timeout);
        }

        process.nextTick = function (fun) {
          var args = new Array(arguments.length - 1);
          if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; i++) {
              args[i - 1] = arguments[i];
            }
          }
          queue.push(new Item(fun, args));
          if (queue.length === 1 && !draining) {
            runTimeout(drainQueue);
          }
        };

        // v8 likes predictible objects
        function Item(fun, array) {
          this.fun = fun;
          this.array = array;
        }
        Item.prototype.run = function () {
          this.fun.apply(null, this.array);
        };
        process.title = 'browser';
        process.browser = true;
        process.env = {};
        process.argv = [];
        process.version = ''; // empty string to avoid regexp issues
        process.versions = {};

        function noop() {}

        process.on = noop;
        process.addListener = noop;
        process.once = noop;
        process.off = noop;
        process.removeListener = noop;
        process.removeAllListeners = noop;
        process.emit = noop;
        process.prependListener = noop;
        process.prependOnceListener = noop;

        process.listeners = function (name) {
          return [];
        };

        process.binding = function (name) {
          throw new Error('process.binding is not supported');
        };

        process.cwd = function () {
          return '/';
        };
        process.chdir = function (dir) {
          throw new Error('process.chdir is not supported');
        };
        process.umask = function () {
          return 0;
        };

        /***/
      },

    /***/ '../node_modules/tslib/tslib.es6.js':
      /*!******************************************!*\
  !*** ../node_modules/tslib/tslib.es6.js ***!
  \******************************************/
      /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
      /***/ function (module, __webpack_exports__, __webpack_require__) {
        'use strict';
        __webpack_require__.r(__webpack_exports__);
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__extends',
            function () {
              return __extends;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__assign',
            function () {
              return __assign;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__rest',
            function () {
              return __rest;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__decorate',
            function () {
              return __decorate;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__param',
            function () {
              return __param;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__metadata',
            function () {
              return __metadata;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__awaiter',
            function () {
              return __awaiter;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__generator',
            function () {
              return __generator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__exportStar',
            function () {
              return __exportStar;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__values',
            function () {
              return __values;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__read',
            function () {
              return __read;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__spread',
            function () {
              return __spread;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__spreadArrays',
            function () {
              return __spreadArrays;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__await',
            function () {
              return __await;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncGenerator',
            function () {
              return __asyncGenerator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncDelegator',
            function () {
              return __asyncDelegator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncValues',
            function () {
              return __asyncValues;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__makeTemplateObject',
            function () {
              return __makeTemplateObject;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__importStar',
            function () {
              return __importStar;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__importDefault',
            function () {
              return __importDefault;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__classPrivateFieldGet',
            function () {
              return __classPrivateFieldGet;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__classPrivateFieldSet',
            function () {
              return __classPrivateFieldSet;
            }
          );
          /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
          /* global Reflect, Promise */

          var extendStatics = function (d, b) {
            extendStatics =
              Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array &&
                function (d, b) {
                  d.__proto__ = b;
                }) ||
              function (d, b) {
                for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
              };
            return extendStatics(d, b);
          };

          function __extends(d, b) {
            extendStatics(d, b);
            function __() {
              this.constructor = d;
            }
            d.prototype =
              b === null
                ? Object.create(b)
                : ((__.prototype = b.prototype), new __());
          }

          var __assign = function () {
            __assign =
              __webpack_provided_Object_dot_assign ||
              function __assign(t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                  s = arguments[i];
                  for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                }
                return t;
              };
            return __assign.apply(this, arguments);
          };

          function __rest(s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === 'function')
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          }

          function __decorate(decorators, target, key, desc) {
            var c = arguments.length,
              r =
                c < 3
                  ? target
                  : desc === null
                  ? (desc = Object.getOwnPropertyDescriptor(target, key))
                  : desc,
              d;
            if (
              typeof Reflect === 'object' &&
              typeof Reflect.decorate === 'function'
            )
              r = Reflect.decorate(decorators, target, key, desc);
            else
              for (var i = decorators.length - 1; i >= 0; i--)
                if ((d = decorators[i]))
                  r =
                    (c < 3
                      ? d(r)
                      : c > 3
                      ? d(target, key, r)
                      : d(target, key)) || r;
            return c > 3 && r && Object.defineProperty(target, key, r), r;
          }

          function __param(paramIndex, decorator) {
            return function (target, key) {
              decorator(target, key, paramIndex);
            };
          }

          function __metadata(metadataKey, metadataValue) {
            if (
              typeof Reflect === 'object' &&
              typeof Reflect.metadata === 'function'
            )
              return Reflect.metadata(metadataKey, metadataValue);
          }

          function __awaiter(thisArg, _arguments, P, generator) {
            function adopt(value) {
              return value instanceof P
                ? value
                : new P(function (resolve) {
                    resolve(value);
                  });
            }
            return new (P || (P = gigya.Promise))(function (resolve, reject) {
              function fulfilled(value) {
                try {
                  step(generator.next(value));
                } catch (e) {
                  reject(e);
                }
              }
              function rejected(value) {
                try {
                  step(generator['throw'](value));
                } catch (e) {
                  reject(e);
                }
              }
              function step(result) {
                result.done
                  ? resolve(result.value)
                  : adopt(result.value).then(fulfilled, rejected);
              }
              step(
                (generator = generator.apply(thisArg, _arguments || [])).next()
              );
            });
          }

          function __generator(thisArg, body) {
            var _ = {
                label: 0,
                sent: function () {
                  if (t[0] & 1) throw t[1];
                  return t[1];
                },
                trys: [],
                ops: [],
              },
              f,
              y,
              t,
              g;
            return (
              (g = { next: verb(0), throw: verb(1), return: verb(2) }),
              typeof Symbol === 'function' &&
                (g[Symbol.iterator] = function () {
                  return this;
                }),
              g
            );
            function verb(n) {
              return function (v) {
                return step([n, v]);
              };
            }
            function step(op) {
              if (f) throw new TypeError('Generator is already executing.');
              while (_)
                try {
                  if (
                    ((f = 1),
                    y &&
                      (t =
                        op[0] & 2
                          ? y['return']
                          : op[0]
                          ? y['throw'] || ((t = y['return']) && t.call(y), 0)
                          : y.next) &&
                      !(t = t.call(y, op[1])).done)
                  )
                    return t;
                  if (((y = 0), t)) op = [op[0] & 2, t.value];
                  switch (op[0]) {
                    case 0:
                    case 1:
                      t = op;
                      break;
                    case 4:
                      _.label++;
                      return { value: op[1], done: false };
                    case 5:
                      _.label++;
                      y = op[1];
                      op = [0];
                      continue;
                    case 7:
                      op = _.ops.pop();
                      _.trys.pop();
                      continue;
                    default:
                      if (
                        !((t = _.trys),
                        (t = t.length > 0 && t[t.length - 1])) &&
                        (op[0] === 6 || op[0] === 2)
                      ) {
                        _ = 0;
                        continue;
                      }
                      if (
                        op[0] === 3 &&
                        (!t || (op[1] > t[0] && op[1] < t[3]))
                      ) {
                        _.label = op[1];
                        break;
                      }
                      if (op[0] === 6 && _.label < t[1]) {
                        _.label = t[1];
                        t = op;
                        break;
                      }
                      if (t && _.label < t[2]) {
                        _.label = t[2];
                        _.ops.push(op);
                        break;
                      }
                      if (t[2]) _.ops.pop();
                      _.trys.pop();
                      continue;
                  }
                  op = body.call(thisArg, _);
                } catch (e) {
                  op = [6, e];
                  y = 0;
                } finally {
                  f = t = 0;
                }
              if (op[0] & 5) throw op[1];
              return { value: op[0] ? op[1] : void 0, done: true };
            }
          }

          function __exportStar(m, exports) {
            for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
          }

          function __values(o) {
            var s = typeof Symbol === 'function' && Symbol.iterator,
              m = s && o[s],
              i = 0;
            if (m) return m.call(o);
            if (o && typeof o.length === 'number')
              return {
                next: function () {
                  if (o && i >= o.length) o = void 0;
                  return { value: o && o[i++], done: !o };
                },
              };
            throw new TypeError(
              s ? 'Object is not iterable.' : 'Symbol.iterator is not defined.'
            );
          }

          function __read(o, n) {
            var m = typeof Symbol === 'function' && o[Symbol.iterator];
            if (!m) return o;
            var i = m.call(o),
              r,
              ar = [],
              e;
            try {
              while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
            } catch (error) {
              e = { error: error };
            } finally {
              try {
                if (r && !r.done && (m = i['return'])) m.call(i);
              } finally {
                if (e) throw e.error;
              }
            }
            return ar;
          }

          function __spread() {
            for (var ar = [], i = 0; i < arguments.length; i++)
              ar = ar.concat(__read(arguments[i]));
            return ar;
          }

          function __spreadArrays() {
            for (var s = 0, i = 0, il = arguments.length; i < il; i++)
              s += arguments[i].length;
            for (var r = Array(s), k = 0, i = 0; i < il; i++)
              for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
            return r;
          }

          function __await(v) {
            return this instanceof __await
              ? ((this.v = v), this)
              : new __await(v);
          }

          function __asyncGenerator(thisArg, _arguments, generator) {
            if (!Symbol.asyncIterator)
              throw new TypeError('Symbol.asyncIterator is not defined.');
            var g = generator.apply(thisArg, _arguments || []),
              i,
              q = [];
            return (
              (i = {}),
              verb('next'),
              verb('throw'),
              verb('return'),
              (i[Symbol.asyncIterator] = function () {
                return this;
              }),
              i
            );
            function verb(n) {
              if (g[n])
                i[n] = function (v) {
                  return new gigya.Promise(function (a, b) {
                    q.push([n, v, a, b]) > 1 || resume(n, v);
                  });
                };
            }
            function resume(n, v) {
              try {
                step(g[n](v));
              } catch (e) {
                settle(q[0][3], e);
              }
            }
            function step(r) {
              r.value instanceof __await
                ? gigya.Promise.resolve(r.value.v).then(fulfill, reject)
                : settle(q[0][2], r);
            }
            function fulfill(value) {
              resume('next', value);
            }
            function reject(value) {
              resume('throw', value);
            }
            function settle(f, v) {
              if ((f(v), q.shift(), q.length)) resume(q[0][0], q[0][1]);
            }
          }

          function __asyncDelegator(o) {
            var i, p;
            return (
              (i = {}),
              verb('next'),
              verb('throw', function (e) {
                throw e;
              }),
              verb('return'),
              (i[Symbol.iterator] = function () {
                return this;
              }),
              i
            );
            function verb(n, f) {
              i[n] = o[n]
                ? function (v) {
                    return (p = !p)
                      ? { value: __await(o[n](v)), done: n === 'return' }
                      : f
                      ? f(v)
                      : v;
                  }
                : f;
            }
          }

          function __asyncValues(o) {
            if (!Symbol.asyncIterator)
              throw new TypeError('Symbol.asyncIterator is not defined.');
            var m = o[Symbol.asyncIterator],
              i;
            return m
              ? m.call(o)
              : ((o =
                  typeof __values === 'function'
                    ? __values(o)
                    : o[Symbol.iterator]()),
                (i = {}),
                verb('next'),
                verb('throw'),
                verb('return'),
                (i[Symbol.asyncIterator] = function () {
                  return this;
                }),
                i);
            function verb(n) {
              i[n] =
                o[n] &&
                function (v) {
                  return new gigya.Promise(function (resolve, reject) {
                    (v = o[n](v)), settle(resolve, reject, v.done, v.value);
                  });
                };
            }
            function settle(resolve, reject, d, v) {
              gigya.Promise.resolve(v).then(function (v) {
                resolve({ value: v, done: d });
              }, reject);
            }
          }

          function __makeTemplateObject(cooked, raw) {
            if (Object.defineProperty) {
              Object.defineProperty(cooked, 'raw', { value: raw });
            } else {
              cooked.raw = raw;
            }
            return cooked;
          }

          function __importStar(mod) {
            if (mod && mod.__esModule) return mod;
            var result = {};
            if (mod != null)
              for (var k in mod)
                if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
            result.default = mod;
            return result;
          }

          function __importDefault(mod) {
            return mod && mod.__esModule ? mod : { default: mod };
          }

          function __classPrivateFieldGet(receiver, privateMap) {
            if (!privateMap.has(receiver)) {
              throw new TypeError(
                'attempted to get private field on non-instance'
              );
            }
            return privateMap.get(receiver);
          }

          function __classPrivateFieldSet(receiver, privateMap, value) {
            if (!privateMap.has(receiver)) {
              throw new TypeError(
                'attempted to set private field on non-instance'
              );
            }
            privateMap.set(receiver, value);
            return value;
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ '../node_modules/webpack/buildin/global.js':
      /*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        var g;

        // This works in non-strict mode
        g = (function () {
          return this;
        })();

        try {
          // This works if eval is allowed (see CSP)
          g = g || new Function('return this')();
        } catch (e) {
          // This works if the window reference is available
          if (typeof window === 'object') g = window;
        }

        // g can still be undefined, but nothing to do about it...
        // We return undefined, instead of nothing here, so it's
        // easier to handle this case. if(!global) { ...}

        module.exports = g;

        /***/
      },

    /***/ '../node_modules/webpack/buildin/module.js':
      /*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/module.js ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        module.exports = function (module) {
          if (!module.webpackPolyfill) {
            module.deprecate = function () {};
            module.paths = [];
            // module.parent = undefined by default
            if (!module.children) module.children = [];
            Object.defineProperty(module, 'loaded', {
              enumerable: true,
              get: function () {
                return module.l;
              },
            });
            Object.defineProperty(module, 'id', {
              enumerable: true,
              get: function () {
                return module.i;
              },
            });
            module.webpackPolyfill = 1;
          }
          return module;
        };

        /***/
      },

    /***/ './src/accounts/constants.ts':
      /*!***********************************!*\
  !*** ./src/accounts/constants.ts ***!
  \***********************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var EditableTfaProvidersTypes;
        (function (EditableTfaProvidersTypes) {
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaPhone'] = 0)
          ] = 'gigyaPhone';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaTotp'] = 1)
          ] = 'gigyaTotp';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaPush'] = 2)
          ] = 'gigyaPush';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['livelink'] = 3)
          ] = 'livelink';
        })(
          (EditableTfaProvidersTypes =
            exports.EditableTfaProvidersTypes ||
            (exports.EditableTfaProvidersTypes = {}))
        );
        exports.gigyaAssertionExpiration = 60 * 5 * 1000;
        exports.sensitiveParamsOverride = 'login_token';
        exports.GIGYA_PARAM_PREFIX = 'gig_';
        exports.GIGYA_INTERNAL_PARAM_PREFIX = exports.GIGYA_PARAM_PREFIX + 'i_';
        exports.GIGYA_INTERNAL_PARAMS = exports.GIGYA_PARAM_PREFIX + 'actions';

        /***/
      },

    /***/ './src/core/ApiService/app/ApiService.ts':
      /*!***********************************************!*\
  !*** ./src/core/ApiService/app/ApiService.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var GroupApiDomainService_1 = __webpack_require__(
          /*! src/core/ApiService/app/GroupApiDomainService */ './src/core/ApiService/app/GroupApiDomainService.ts'
        );
        var RequestProvider_1 = __webpack_require__(
          /*! ./RequestProvider */ './src/core/ApiService/app/RequestProvider.ts'
        );
        var GmidProvider_1 = __webpack_require__(
          /*! ./GmidProvider */ './src/core/ApiService/app/GmidProvider.ts'
        );
        var HasGmid = GmidProvider_1.GmidProvider.HasGmid;
        var FlagService_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var GMID_TICKET_EXPIRATION_INTERVAL = 1;
        exports.TokenKeys = {
          GMID: 'gig_gmid',
          UCID: 'gig_ucid',
          GMID_TICKET: 'gmidTicket',
          GMID_TICKET_EXPIRATION_TIME: 'gmidTicketExpiration',
        };
        var ApiService = /** @class */ (function () {
          function ApiService(
            _apiKey,
            _hasGmid,
            _domainResolver,
            _groupApiDomainService,
            _requestProvider,
            _storage
          ) {
            if (_groupApiDomainService === void 0) {
              _groupApiDomainService =
                new GroupApiDomainService_1.GroupApiDomainService();
            }
            if (_requestProvider === void 0) {
              _requestProvider = new RequestProvider_1.RequestProvider();
            }
            this._apiKey = _apiKey;
            this._hasGmid = _hasGmid;
            this._domainResolver = _domainResolver;
            this._groupApiDomainService = _groupApiDomainService;
            this._requestProvider = _requestProvider;
            this.didFallback = false;
            if (_storage) {
              this._storage = _storage;
            }
          }
          ApiService.prototype.getApiDomain = function (methodName) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  this._domainResolver.getApiDomain(methodName),
                ];
              });
            });
          };
          ApiService.prototype.bootstrap = function (forceBootstrap) {
            if (forceBootstrap === void 0) {
              forceBootstrap = false;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var log, _a, webSDKBootstrapResponse, ex_1, ticketInfo, hasGmid;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    log = window.gigya.logger.group('bootstrap api service');
                    if (!!this._storage) return [3 /*break*/, 2];
                    window.gigya.logger.debug('init storage');
                    _a = this;
                    return [
                      4 /*yield*/,
                      new gigya.Promise(function (resolve) {
                        window.gigya.utils.localStorage.waitForService(
                          function (adapter) {
                            resolve(adapter);
                          }
                        );
                      }),
                    ];
                  case 1:
                    _a._storage = _b.sent();
                    _b.label = 2;
                  case 2:
                    if (!(this._hasGmid && !forceBootstrap))
                      return [3 /*break*/, 3];
                    window.gigya.logger.info('already has gmid');
                    return [3 /*break*/, 10];
                  case 3:
                    window.gigya.logger.info(
                      !this._hasGmid ? 'no gmid set' : 'forcing bootstrap'
                    );
                    if (!(!this._useStorage && this.canSaveGmidAsCookie()))
                      return [3 /*break*/, 8];
                    window.gigya.logger.info('save gmid as cookie');
                    _b.label = 4;
                  case 4:
                    _b.trys.push([4, 6, , 7]);
                    return [
                      4 /*yield*/,
                      this.sendRequest({
                        methodName: 'accounts.webSdkBootstrap',
                        params: { apiKey: this._apiKey },
                      }),
                    ];
                  case 5:
                    webSDKBootstrapResponse = _b.sent();
                    if (webSDKBootstrapResponse.errorCode !== 0) {
                      throw (
                        'error bootstrapping sdk\n' +
                        JSON.stringify(webSDKBootstrapResponse, null, 4)
                      );
                    }
                    return [3 /*break*/, 7];
                  case 6:
                    ex_1 = _b.sent();
                    throw new Error('accounts.webSdkBootstrap failed: ' + ex_1);
                  case 7:
                    return [3 /*break*/, 10];
                  case 8:
                    window.gigya.logger.info('save gmid in storage');
                    return [4 /*yield*/, this.setupWithStorage(forceBootstrap)];
                  case 9:
                    _b.sent();
                    this._useStorage = true;
                    _b.label = 10;
                  case 10:
                    if (!this._useStorage) return [3 /*break*/, 12];
                    return [4 /*yield*/, this.getGmidTicket()];
                  case 11:
                    ticketInfo = _b.sent();
                    return [3 /*break*/, 13];
                  case 12:
                    hasGmid =
                      window.gigya.utils.cookie.get('hasGmid') ||
                      (webSDKBootstrapResponse === null ||
                      webSDKBootstrapResponse === void 0
                        ? void 0
                        : webSDKBootstrapResponse.hasGmid);
                    this.cleanStorage();
                    _b.label = 13;
                  case 13:
                    log.end();
                    return [
                      2 /*return*/,
                      {
                        ticketInfo: ticketInfo,
                        hasGmid: hasGmid,
                      },
                    ];
                }
              });
            });
          };
          ApiService.prototype.setGroupApiDomain = function (apiDomain) {
            var baseDomain = window.gigya._.getBaseDomain(
              window.gigya.partnerSettings.baseDomains,
              this._domainResolver.originDomain,
              ['gigya.com', 'cn1.sapcdm.cn', window.gigya.defaultApiDomain]
            );
            if (baseDomain !== window.gigya.defaultApiDomain) {
              this._groupApiDomainService.set(apiDomain);
            }
          };
          ApiService.prototype.canSaveGmidAsCookie = function () {
            // api domain will be first party when site has a custom api domain prefix.
            if (FlagService_1.FlagService.alwaysCheckCookieSave) {
              return (
                this._domainResolver.isApiDomainFirstParty ||
                this._domainResolver.canSaveGmidAsCookie
              );
            }
            return (
              this._domainResolver.isApiDomainFirstParty ||
              window.gigya.utils.cookie.canSaveCookie()
            );
          };
          ApiService.prototype.sendRequest = function (data) {
            var _a, _b;
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var methodName, params, baseDomain, _c, res, err_1;
              return tslib_1.__generator(this, function (_d) {
                switch (_d.label) {
                  case 0:
                    //TODO: handle timeout
                    if (!data) {
                      window.gigya.logger.error(
                        'ApiService: request data must has methodName and params'
                      );
                      return [2 /*return*/];
                    }
                    methodName = data.methodName;
                    params = window.gigya.utils.object.clone(
                      data.params,
                      true,
                      true
                    );
                    params.pageURL = this._domainResolver.originDomain;
                    if (this._useStorage) {
                      params.gmid = this._storage.getItem(
                        exports.TokenKeys.GMID
                      );
                      params.ucid = this._storage.getItem(
                        exports.TokenKeys.UCID
                      );
                    }
                    _c = 'https://';
                    return [
                      4 /*yield*/,
                      this.getApiDomain(
                        (_b =
                          (_a = data.settings) === null || _a === void 0
                            ? void 0
                            : _a.namespace) !== null && _b !== void 0
                          ? _b
                          : data.methodName
                      ),
                    ];
                  case 1:
                    baseDomain = _c + _d.sent();
                    _d.label = 2;
                  case 2:
                    _d.trys.push([2, 4, , 5]);
                    return [
                      4 /*yield*/,
                      this._requestProvider.send(
                        baseDomain,
                        methodName,
                        params,
                        data.settings,
                        data.headers
                      ),
                    ];
                  case 3:
                    res = _d.sent();
                    return [3 /*break*/, 5];
                  case 4:
                    err_1 = _d.sent();
                    if (this.didFallback) {
                      res = err_1;
                    } else {
                      this.didFallback = true;
                      res = this.sendRequestFallback(
                        baseDomain,
                        methodName,
                        params,
                        data,
                        err_1
                      );
                    }
                    return [3 /*break*/, 5];
                  case 5:
                    return [2 /*return*/, res];
                }
              });
            });
          };
          ApiService.prototype.setupWithStorage = function (forceBootstrap) {
            var _a;
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var storageGmid,
                expirationTime,
                isGmidExistsInStorage,
                gmidVersion,
                tokens,
                ticketRes;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    storageGmid = this._storage.getItem(exports.TokenKeys.GMID);
                    expirationTime = parseInt(
                      this._storage.getItem(
                        exports.TokenKeys.GMID_TICKET_EXPIRATION_TIME
                      )
                    );
                    isGmidExistsInStorage = Boolean(storageGmid);
                    gmidVersion =
                      (_a = window.gigya.utils.array.getArrayFromString(
                        storageGmid,
                        '.'
                      )) === null || _a === void 0
                        ? void 0
                        : _a[1];
                    if (
                      !(
                        (forceBootstrap && gmidVersion !== HasGmid.ver4) ||
                        !isGmidExistsInStorage
                      )
                    )
                      return [3 /*break*/, 2];
                    window.gigya.logger.info('getting gmid by endpoint');
                    return [4 /*yield*/, this.getIds()];
                  case 1:
                    tokens = _b.sent();
                    if (!tokens.gcid || !tokens.ucid) {
                      throw 'ApiService getIDs: the request to the endpoint failed';
                    } else {
                      window.gigya.logger.info('setting gmid in storage');
                      this._storage.setItem(
                        exports.TokenKeys.GMID,
                        tokens.gcid
                      );
                      this._storage.setItem(
                        exports.TokenKeys.UCID,
                        tokens.ucid
                      );
                      ticketRes = this.createTicketResponse(tokens.gmidTicket);
                      this.updateGmidTicket(ticketRes);
                    }
                    return [3 /*break*/, 5];
                  case 2:
                    if (
                      !!window.gigya.utils.validation.isLaterThanNow(
                        expirationTime
                      )
                    )
                      return [3 /*break*/, 4];
                    return [4 /*yield*/, this.refreshGmidTicketFromServer()];
                  case 3:
                    _b.sent();
                    return [3 /*break*/, 5];
                  case 4:
                    window.gigya.logger.info('already has gmid in storage');
                    _b.label = 5;
                  case 5:
                    return [2 /*return*/];
                }
              });
            });
          };
          // createNew - if no gmidTicket exists, then create a new one instead of returning undefined
          ApiService.prototype.getGmidTicket = function (createNew) {
            if (createNew === void 0) {
              createNew = false;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var gmidTicket, expirationTime;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    gmidTicket = this._storage.getItem(
                      exports.TokenKeys.GMID_TICKET
                    );
                    if (!(!gmidTicket && !createNew)) return [3 /*break*/, 1];
                    return [2 /*return*/, undefined];
                  case 1:
                    expirationTime = parseInt(
                      this._storage.getItem(
                        exports.TokenKeys.GMID_TICKET_EXPIRATION_TIME
                      )
                    );
                    if (
                      !(
                        !createNew &&
                        gmidTicket &&
                        window.gigya.utils.validation.isLaterThanNow(
                          expirationTime
                        )
                      )
                    )
                      return [3 /*break*/, 2];
                    return [
                      2 /*return*/,
                      {
                        gmidTicket: gmidTicket,
                        expirationTime: parseInt(
                          this._storage.getItem(
                            exports.TokenKeys.GMID_TICKET_EXPIRATION_TIME
                          )
                        ),
                      },
                    ];
                  case 2:
                    this.deleteGmidTicket();
                    return [4 /*yield*/, this.refreshGmidTicketFromServer()];
                  case 3:
                    return [2 /*return*/, _a.sent()];
                }
              });
            });
          };
          // this should be removed in the feature, it's only use in case we need to send remove
          // and the top domain is not trusted
          ApiService.prototype.sendReport = function (message, details) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var params, request;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    if (Math.floor(Math.random() * 100) <= 5)
                      return [2 /*return*/];
                    params = {
                      message: message,
                      apiKey: window.gigya.apiKey,
                      page: this._domainResolver.originDomain,
                      buildVersion: window.gigya.build.version,
                      format: 'json',
                      sdk: 'web',
                    };
                    if (details) {
                      params['details'] = JSON.stringify(details);
                    }
                    request = {
                      methodName: 'sdk.errorReport',
                      params: params,
                    };
                    return [4 /*yield*/, this.sendRequest(request)];
                  case 1:
                    _a.sent();
                    return [2 /*return*/];
                }
              });
            });
          };
          ApiService.prototype.refreshGmidTicketFromServer = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var res;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    window.gigya.logger.info('refreshing gmid ticket');
                    return [
                      4 /*yield*/,
                      this.createGmidTicket(
                        this._storage.getItem(exports.TokenKeys.GMID)
                      ),
                    ];
                  case 1:
                    res = _a.sent();
                    if (res && res.gmidTicket) {
                      this.updateGmidTicket(res);
                    }
                    return [2 /*return*/, res];
                }
              });
            });
          };
          ApiService.prototype.updateGmidTicket = function (ticket) {
            window.gigya.logger.info('updating gmid ticket', ticket);
            this._storage.setItem(
              exports.TokenKeys.GMID_TICKET,
              ticket.gmidTicket
            );
            this._storage.setItem(
              exports.TokenKeys.GMID_TICKET_EXPIRATION_TIME,
              String(ticket.expirationTime)
            );
          };
          ApiService.prototype.deleteGmidTicket = function () {
            this._storage.removeItem(exports.TokenKeys.GMID_TICKET);
            this._storage.removeItem(
              exports.TokenKeys.GMID_TICKET_EXPIRATION_TIME
            );
          };
          ApiService.prototype.cleanStorage = function () {
            this._storage.removeItem(exports.TokenKeys.GMID);
            this._storage.removeItem(exports.TokenKeys.UCID);
            this.deleteGmidTicket();
          };
          ApiService.prototype.getIds = function () {
            return this.sendRequest({
              methodName: 'socialize.getIDs',
              params: {
                APIKey: this._apiKey,
                includeTicket: true,
              },
            });
          };
          ApiService.prototype.createGmidTicket = function (gmid, expires) {
            var _this = this;
            if (expires === void 0) {
              expires =
                window.gigya.partnerSettings.gmidTicketExpiration || 3600;
            }
            var params = {
              apiKey: this._apiKey,
              expires: expires,
            };
            if (gmid) params.gmid = gmid;
            return this.sendRequest({
              methodName: 'socialize.getGmidTicket',
              params: params,
            }).then(function (res) {
              if (res && res.gmidTicket) {
                return _this.createTicketResponse(res.gmidTicket);
              } else {
                window.gigya.logger.error('Failed to establish gmidTicket', {
                  response: JSON.stringify(res),
                  method: 'socialize.getGmidTicket',
                });
                _this.deleteGmidTicket();
              }
            });
          };
          ApiService.prototype.createTicketResponse = function (gmidTicket) {
            var currentGmidTicketDate = new Date();
            currentGmidTicketDate.setHours(
              currentGmidTicketDate.getHours() + GMID_TICKET_EXPIRATION_INTERVAL
            );
            var expirationTime = currentGmidTicketDate.getTime();
            return {
              gmidTicket: gmidTicket,
              expirationTime: expirationTime,
            };
          };
          ApiService.prototype.sendRequestFallback = function (
            baseDomain,
            methodName,
            params,
            data,
            err
          ) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _i, _a, flag;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    window.gigya.logger.report(
                      'ApiService: Fallback with api flags turned off',
                      {
                        baseDomain: baseDomain,
                        methodName: methodName,
                        params: params,
                        data: data,
                        err: err,
                      }
                    );
                    for (
                      _i = 0, _a = FlagService_1.FlagService.apiFlags;
                      _i < _a.length;
                      _i++
                    ) {
                      flag = _a[_i];
                      window.gigya._.config.flags[flag] = false;
                    }
                    return [
                      4 /*yield*/,
                      this._requestProvider.send(
                        baseDomain,
                        methodName,
                        params,
                        data.settings,
                        data.headers
                      ),
                    ];
                  case 1:
                    return [2 /*return*/, _b.sent()];
                }
              });
            });
          };
          return ApiService;
        })();
        exports.ApiService = ApiService;

        /***/
      },

    /***/ './src/core/ApiService/app/DomainResolver.ts':
      /*!***************************************************!*\
  !*** ./src/core/ApiService/app/DomainResolver.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var GroupApiDomainService_1 = __webpack_require__(
          /*! src/core/ApiService/app/GroupApiDomainService */ './src/core/ApiService/app/GroupApiDomainService.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        exports.LoginTokenPrefix = 'gig_loginToken';
        function shouldResetGroupApiDomain(
          customApiDomainPrefix,
          cachedApiDomain,
          ssoKey,
          trustedDomains,
          storage
        ) {
          if (storage === void 0) {
            storage = window.gigya.utils.localStorage.initializeAdapter(
              window.gigya.utils.localStorage.CookieStorageAdapter
            );
          }
          // We should reset the cached groupApiDomain if
          // A. cachedApiDomain is in trusted urls list.
          // B. Or (#!)ALL(!#) of the requirements below are met:
          //   1. we have customAPIDomainPrefix defined for this site
          //   2. the customApiDomainPrefix is not the same as the one stored in cache (the most recent customApiDomainPrefix is not being used)
          //   3. user is not logged-in (loginToken "gig_loginToken_{ssoKey}" doesn't exists)
          var hasGroupLoginToken = Boolean(
            ssoKey && storage.getItem(exports.LoginTokenPrefix + '_' + ssoKey)
          );
          if (
            !isTrustedDomain(cachedApiDomain, trustedDomains) &&
            !hasGroupLoginToken
          ) {
            return true;
          }
          if (!customApiDomainPrefix) {
            window.gigya.logger.info('no custom api domain prefix so..');
          } else {
            window.gigya.logger.info(
              'has custom api domain prefix: ' + customApiDomainPrefix
            );
            var cachedCustomApiDomainPrefix =
              cachedApiDomain && cachedApiDomain.split('.')[0];
            var hasCustomPrefixChanged =
              customApiDomainPrefix !== cachedCustomApiDomainPrefix;
            if (!hasCustomPrefixChanged) {
              window.gigya.logger.info(
                "..and it already matches group api domain's (" +
                  cachedApiDomain +
                  ') so..'
              );
            } else {
              window.gigya.logger.info(
                "..and it's different from existing group api domain's (" +
                  cachedApiDomain +
                  ')'
              );
              if (hasGroupLoginToken) {
                window.gigya.logger.info('..but a group session exists so..');
              } else {
                window.gigya.logger.debug(
                  '..and no group session -> resetting group api domain'
                );
                return true;
              }
            }
          }
          // return customApiDomainPrefix && hasCustomPrefixChanged && !hasLoginToken;
          return false;
        }
        exports.shouldResetGroupApiDomain = shouldResetGroupApiDomain;
        function createDomainResolver(
          dataCenter,
          trustedDomains,
          originDomain,
          defaultDomain,
          customApiDomainPrefix,
          groupApiDomainService,
          ssoKey
        ) {
          if (groupApiDomainService === void 0) {
            groupApiDomainService =
              new GroupApiDomainService_1.GroupApiDomainService();
          }
          if (ssoKey === void 0) {
            ssoKey = window.gigya.partnerSettings.ssoKey;
          }
          var log = window.gigya.logger.group('api domain resolver');
          var groupApiDomain = groupApiDomainService.get();
          var isGroupApiDomain = Boolean(groupApiDomain);
          var shouldResetApiDomain =
            isGroupApiDomain &&
            shouldResetGroupApiDomain(
              customApiDomainPrefix,
              groupApiDomain,
              ssoKey,
              trustedDomains
            ); // no stored api domain for group (first time in group or a non-group site)
          var effectiveApiDomain;
          if (isGroupApiDomain && !shouldResetApiDomain) {
            window.gigya.logger.info(
              'using existing group api domain: ' + groupApiDomain
            );
            effectiveApiDomain = groupApiDomain;
          } else {
            window.gigya.logger.info('resolving api domain');
            window.gigya.logger.info('trusted domains', trustedDomains);
            var baseDomain = window.gigya._.getBaseDomain(
              trustedDomains,
              originDomain,
              ['gigya.com', 'cn1.sapcdm.cn', defaultDomain]
            );
            window.gigya.logger.info('base domain: ' + baseDomain);
            var resolvedApiDomain = window.gigya._.resolveApiDomain(
              customApiDomainPrefix,
              baseDomain,
              dataCenter,
              defaultDomain
            );
            window.gigya.logger.info(
              'resolved api domain: ' + resolvedApiDomain
            );
            if (ssoKey) {
              isGroupApiDomain = true;
            }
            effectiveApiDomain = resolvedApiDomain;
          }
          if (!FlagService_1.FlagService.setGroupApiDomainAfterLogin) {
            groupApiDomainService.set(effectiveApiDomain);
          }
          log.end();
          return {
            originDomain: originDomain,
            isGroupApiDomain: isGroupApiDomain,
            getApiDomain: window.gigya._.apiDomainFactory(
              effectiveApiDomain,
              defaultDomain
            ),
            isApiDomainFirstParty: Boolean(customApiDomainPrefix),
            hasGroupApiDomainChanged: ssoKey && shouldResetApiDomain,
            canSaveGmidAsCookie: window.gigya.utils.cookie.canSaveCookie(),
          };
        }
        exports.createDomainResolver = createDomainResolver;
        function isTrustedDomain(domain, trustedUrls) {
          return !!window.gigya.utils.array.first(
            trustedUrls,
            function (trustedUrls) {
              return trustedUrls && Uri_1.Uri.parse(domain).isIn(trustedUrls);
            }
          );
        }

        /***/
      },

    /***/ './src/core/ApiService/app/GmidProvider.ts':
      /*!*************************************************!*\
  !*** ./src/core/ApiService/app/GmidProvider.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var FlagService_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var SiteData_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/SiteData */ './src/core/Gigya.Js/app/Services/SiteData.ts'
        );
        var GmidProvider;
        (function (GmidProvider) {
          /**
           * Gmid version.
           */
          var HasGmid;
          (function (HasGmid) {
            HasGmid['ver2'] = 'ver2';
            HasGmid['ver3'] = 'ver3';
            HasGmid['ver4'] = 'ver4';
          })((HasGmid = GmidProvider.HasGmid || (GmidProvider.HasGmid = {})));
          /**
           * Search actual version in cookies or from backend configuration
           * (it is set up for client on the backend side as gigya.gmidVersion).
           */
          var VersionSearchStrategy;
          (function (VersionSearchStrategy) {
            VersionSearchStrategy['cookieFirst'] = 'cookieFirst';
            VersionSearchStrategy['configFirst'] = 'configFirst';
          })(
            (VersionSearchStrategy =
              GmidProvider.VersionSearchStrategy ||
              (GmidProvider.VersionSearchStrategy = {}))
          );
          /**
           * Return HasGmid context with all useful info.
           * @param gigyaObj Gigya global object.
           */
          function getHasGmidParam(gigyaObj) {
            var hasGmid =
              gigyaObj.utils.getParamValue(document.cookie, 'hasGmid', ';') ||
              getGmidBootstrapParam(gigyaObj);
            return {
              isV3: hasGmid === HasGmid.ver3,
              isV4: hasGmid === HasGmid.ver4,
              hasGmid: hasGmid,
            };
          }
          GmidProvider.getHasGmidParam = getHasGmidParam;
          /**
           * Return indication whether bootstrap need or not.
           * @param gigyaObj Gigya global object.
           * @param strategy Search actual version in cookies or from backend configuration.
           */
          function getGmidBootstrapIndicationToken(gigyaObj, strategy) {
            if (strategy === void 0) {
              strategy = VersionSearchStrategy.cookieFirst;
            }
            var version = getActualGmidVersion(gigyaObj, strategy);
            return convertHasGmidToBootstrapIndication(gigyaObj, version);
          }
          GmidProvider.getGmidBootstrapIndicationToken =
            getGmidBootstrapIndicationToken;
          /**
           * Return actual version of the gmid version cookie (ver3, ver4, etc).
           * @param gigyaObj Gigya global object.
           * @param strategy Search actual version in cookies or from backend configuration.
           */
          function getActualGmidVersion(gigyaObj, strategy) {
            if (strategy === void 0) {
              strategy = VersionSearchStrategy.cookieFirst;
            }
            var hasGmidContext = getHasGmidParam(gigyaObj);
            return strategy == VersionSearchStrategy.cookieFirst
              ? hasGmidContext.hasGmid || gigyaObj.gmidVersion || 'ver3'
              : gigyaObj.gmidVersion || hasGmidContext.hasGmid || 'ver3';
          }
          GmidProvider.getActualGmidVersion = getActualGmidVersion;
          /**
           * Return flag if the token is allowed to be regenerated.
           * (Allowed only in case when session is not active and gmid token is not latest.)
           * @param gigyaObj Gigya global object.
           * @param isSessionActive Is session active indicator.
           */
          function shouldRegenerateGmid(gigyaObj, isSessionActive) {
            var hasLatestVer4Gmid = hasLatestGmidVersion(gigyaObj);
            return (
              !isSessionActive && (shouldForceBootstrap() || !hasLatestVer4Gmid)
            );
          }
          GmidProvider.shouldRegenerateGmid = shouldRegenerateGmid;
          /**
           * Return flag whether hasGmid cookie has latest version.
           * @param gigyaObj Gigya global object.
           */
          function hasLatestGmidVersion(gigyaObj) {
            var hasGmidContext = getHasGmidParam(gigyaObj);
            return Boolean(hasGmidContext.hasGmid) && hasGmidContext.isV4;
          }
          GmidProvider.hasLatestGmidVersion = hasLatestGmidVersion;
          function convertHasGmidToBootstrapIndication(gigyaObj, gmidVersion) {
            return (
              (gigyaObj.partnerSettings.customAPIDomainPrefix || '_gigya') +
              ('_' + gmidVersion)
            );
          }
          GmidProvider.convertHasGmidToBootstrapIndication =
            convertHasGmidToBootstrapIndication;
          function getGmidBootstrapParam(gigyaObj) {
            var _a;
            var gmidBootstrapCookie = gigyaObj.utils.cookie.get(
              'gig_bootstrap_' + gigyaObj.apiKey
            );
            return (_a = gigyaObj.utils.array.getArrayFromString(
              gmidBootstrapCookie,
              '_'
            )) === null || _a === void 0
              ? void 0
              : _a.pop();
          }
          function shouldForceBootstrap() {
            return (
              FlagService_1.FlagService.forceWebSdkBootstrap &&
              !SiteData_1.siteData.didForcedBootstrap
            );
          }
          GmidProvider.shouldForceBootstrap = shouldForceBootstrap;
        })(
          (GmidProvider = exports.GmidProvider || (exports.GmidProvider = {}))
        );

        /***/
      },

    /***/ './src/core/ApiService/app/GroupApiDomainService.ts':
      /*!**********************************************************!*\
  !*** ./src/core/ApiService/app/GroupApiDomainService.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LocalInfo_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var GroupApiDomainKey = 'apiDomain';
        var GroupApiDomainService = /** @class */ (function () {
          function GroupApiDomainService(_ssoKey, _storage, _pageDomain) {
            if (_ssoKey === void 0) {
              _ssoKey = window.gigya.partnerSettings.ssoKey;
            }
            if (_storage === void 0) {
              _storage = window.gigya.utils.localStorage.initializeAdapter(
                window.gigya.utils.localStorage.CookieStorageAdapter
              );
            }
            if (_pageDomain === void 0) {
              _pageDomain = LocalInfo_1.localInfo.pageDomain;
            }
            this._ssoKey = _ssoKey;
            this._storage = _storage;
            this._pageDomain = _pageDomain;
            this._cookieName = GroupApiDomainKey + '_' + this._ssoKey;
          }
          GroupApiDomainService.prototype.get = function () {
            return this._ssoKey
              ? this._storage.getItem(this._cookieName)
              : undefined;
          };
          GroupApiDomainService.prototype.set = function (apiDomain) {
            if (this._ssoKey) {
              window.gigya.logger.info(
                'setting as group api domain for ' + this._ssoKey
              );
              this._storage.removeItem(this._cookieName);
              this._storage.setItem(
                this._cookieName,
                apiDomain,
                undefined,
                this._pageDomain
              );
            }
          };
          return GroupApiDomainService;
        })();
        exports.GroupApiDomainService = GroupApiDomainService;

        /***/
      },

    /***/ './src/core/ApiService/app/Request.ts':
      /*!********************************************!*\
  !*** ./src/core/ApiService/app/Request.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var interfaces_1 = __webpack_require__(
          /*! ./interfaces */ './src/core/ApiService/app/interfaces.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var constants_1 = __webpack_require__(
          /*! ../../../accounts/constants */ './src/accounts/constants.ts'
        );
        var Request = /** @class */ (function () {
          function Request(baseDomain, method, params, settings) {
            var _this = this;
            if (settings === void 0) {
              settings = {};
            }
            this.baseDomain = baseDomain;
            this.method = method;
            this.params = params;
            this.settings = settings;
            this.retry = 0;
            this.getUrl = function () {
              return window.gigya._.Uri.parse(
                _this.baseDomain + '/' + _this.method
              );
            };
          }
          Request.prototype.send = function (ignoreCacheTimeout) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    if (!LocalInfo_1.localInfo.isOnLine()) {
                      return [2 /*return*/, this.networkErrorResponse()];
                    }
                    if (this.isRequestPathManipulated()) {
                      window.gigya.logger.warn(
                        'Aborting Request for ' +
                          this.method +
                          '. Path manipulation detected.'
                      );
                      return [2 /*return*/];
                    }
                    try {
                      this.params = window.gigya.utils.object.decodeObjectKeys(
                        this.params
                      );
                    } catch (ex) {
                      window.gigya.logger.error(
                        'Request API Error - Failed to decode object keys',
                        {
                          exception: ex,
                          requestParams: JSON.stringify(this.params),
                        }
                      );
                      return [2 /*return*/];
                    }
                    this.addDefaultParams();
                    return [
                      4 /*yield*/,
                      this.performSend(
                        this.getRequestType(),
                        ignoreCacheTimeout
                      ),
                    ];
                  case 1:
                    return [2 /*return*/, _a.sent()];
                }
              });
            });
          };
          Request.prototype.handleResponse = function (response) {
            var _this = this;
            if (this.settings.cacheTimeout) {
              window.gigya.utils.sessionCache.set(
                this.getCacheKey(),
                response['errorCode'] == GSErrors_1.GSErrors.OK
                  ? response
                  : null
              );
            }
            if (this.retryTimerID != null) {
              window.clearTimeout(this.retryTimerID);
            }
            if (response['errorCode'] == GSErrors_1.GSErrors.Data_Pending) {
              var t = this.getDataPendingTimeout(this.retry++);
              if (t > 0) {
                // retry
                window.setTimeout(function () {
                  _this.send();
                }, t);
                return;
              }
            } else {
              this.dispose();
              return response;
            }
          };
          Request.prototype.getCacheKey = function () {
            return (
              this.method +
              '_' +
              window.gigya.utils.keyValue.serialize(this.params)
            );
          };
          Request.prototype.getFullUrl = function () {
            var url = this.getUrl();
            return url.addToSearch(this.getFlattenParams()).href;
          };
          Request.prototype.addDefaultParams = function () {
            var _a, _b;
            this.params['sdk'] =
              'js_' +
              (((_a = window.gigya.build) === null || _a === void 0
                ? void 0
                : _a.version) || '');
            this.params['sdkBuild'] =
              ((_b = window.gigya.build) === null || _b === void 0
                ? void 0
                : _b.number) || 0;
          };
          Request.prototype.isRequestPathManipulated = function () {
            return (
              this.getUrl().href.toLowerCase() !==
                (this.baseDomain + '/' + this.method).toLowerCase() ||
              this.getUrl().search.length > 0
            );
          };
          Request.prototype.getDataPendingTimeout = function (retry) {
            if (retry <= 4) return 500;
            if (retry <= 4 + 4) return 1000;
            if (retry <= 4 + 4 + 13) return 2000;
            if (retry <= 4 + 4 + 13 + 18) return 5000;
            return -1;
          };
          Request.prototype.getRequestType = function () {
            if (
              this.isForcePost ||
              this.haveSensitiveParams() ||
              this.requestOversize()
            ) {
              return interfaces_1.RequestType.POST;
            }
            return interfaces_1.RequestType.GET;
          };
          Object.defineProperty(Request.prototype, 'isForcePost', {
            get: function () {
              return this.settings.forcePost;
            },
            enumerable: true,
            configurable: true,
          });
          Request.prototype.requestOversize = function () {
            var reqUrlLength = this.getRequestUrlLength();
            var _a = this.getUrlLengthFields(),
              extraLength = _a.extraLength,
              maxLength = _a.maxLength;
            return reqUrlLength + extraLength > maxLength;
          };
          Request.prototype.getRequestUrlLength = function () {
            var url = this.getUrl();
            return (
              url.href +
              window.gigya.utils.keyValue.serialize(this.getFlattenParams())
            ).length;
          };
          Request.prototype.getUrlLengthFields = function () {
            var extraLength = 0; //8000;
            var maxLength = 4 * 1024;
            if (
              window.gigya.localInfo.isIE ||
              window.gigya.localInfo.isEdgeLegacy
            ) {
              extraLength = 2 * 1024;
            }
            return { extraLength: extraLength, maxLength: maxLength };
          };
          Request.prototype.getFlattenParams = function () {
            return window.gigya.utils.keyValue.deserialize(
              window.gigya.utils.keyValue.serialize(this.params)
            );
          };
          Request.prototype.haveSensitiveParams = function () {
            var _a;
            for (
              var _i = 0,
                _b =
                  constants_1.sensitiveParamsOverride === null ||
                  constants_1.sensitiveParamsOverride === void 0
                    ? void 0
                    : constants_1.sensitiveParamsOverride.split('|');
              _i < _b.length;
              _i++
            ) {
              var param = _b[_i];
              if (
                (_a = this.params) === null || _a === void 0
                  ? void 0
                  : _a.hasOwnProperty(param)
              ) {
                return true;
              }
            }
          };
          return Request;
        })();
        exports.Request = Request;

        /***/
      },

    /***/ './src/core/ApiService/app/RequestProvider.ts':
      /*!****************************************************!*\
  !*** ./src/core/ApiService/app/RequestProvider.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var RequestProvider = /** @class */ (function () {
          function RequestProvider(_xhrRequest, timeout, _win) {
            if (_xhrRequest === void 0) {
              _xhrRequest = window.gigya.XhrRequest;
            }
            if (timeout === void 0) {
              timeout = 15000;
            }
            if (_win === void 0) {
              _win = window;
            }
            this._xhrRequest = _xhrRequest;
            this.timeout = timeout;
            this._win = _win;
          }
          RequestProvider.prototype.send = function (
            baseDomain,
            methodName,
            params,
            settings,
            headers
          ) {
            if (headers === void 0) {
              headers = {};
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _this = this;
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  new gigya.Promise(function (resolve, reject) {
                    return tslib_1.__awaiter(
                      _this,
                      void 0,
                      void 0,
                      function () {
                        var request, timeoutId, _a, err_1;
                        return tslib_1.__generator(this, function (_b) {
                          switch (_b.label) {
                            case 0:
                              request = new this._xhrRequest(
                                baseDomain,
                                methodName,
                                params,
                                settings,
                                headers
                              );
                              timeoutId = this._win.setTimeout(function () {
                                reject('API request timeout');
                              }, this.timeout);
                              _b.label = 1;
                            case 1:
                              _b.trys.push([1, 3, 4, 5]);
                              _a = resolve;
                              return [4 /*yield*/, request.send()];
                            case 2:
                              _a.apply(void 0, [_b.sent()]);
                              return [3 /*break*/, 5];
                            case 3:
                              err_1 = _b.sent();
                              window.gigya.logger.report('XHR request failed', {
                                methodName: methodName,
                                params: params,
                                settings: settings,
                                err: err_1,
                              });
                              reject('Request for ' + methodName + ' failed');
                              return [3 /*break*/, 5];
                            case 4:
                              this._win.clearTimeout(timeoutId);
                              return [7 /*endfinally*/];
                            case 5:
                              return [2 /*return*/];
                          }
                        });
                      }
                    );
                  }),
                ];
              });
            });
          };
          return RequestProvider;
        })();
        exports.RequestProvider = RequestProvider;

        /***/
      },

    /***/ './src/core/ApiService/app/XhrRequest.ts':
      /*!***********************************************!*\
  !*** ./src/core/ApiService/app/XhrRequest.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var Request_1 = __webpack_require__(
          /*! ./Request */ './src/core/ApiService/app/Request.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var interfaces_1 = __webpack_require__(
          /*! ./interfaces */ './src/core/ApiService/app/interfaces.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var XhrRequest = /** @class */ (function (_super) {
          tslib_1.__extends(XhrRequest, _super);
          function XhrRequest(
            baseDomain,
            method,
            params,
            settings,
            requestHeaders
          ) {
            if (settings === void 0) {
              settings = {};
            }
            if (requestHeaders === void 0) {
              requestHeaders = {};
            }
            var _this =
              _super.call(this, baseDomain, method, params, settings) || this;
            _this.headers = {};
            _this.xhttp = new XMLHttpRequest();
            _this.setRequestHeaders(requestHeaders);
            return _this;
          }
          XhrRequest.prototype.performSend = function (
            requestType,
            ignoreCacheTimeout
          ) {
            var _this = this;
            return new gigya.Promise(function (resolve, reject) {
              var requestPostParams;
              var reqUrl = _this.getFullUrl();
              // Set request on load
              _this.xhttp.onload = function () {
                return _this.onRequestLoad(resolve, reject);
              };
              // Set request on error
              _this.xhttp.onerror = function () {
                return reject(
                  _this.createErrorFromResponse(
                    'XHR_FAILURE - http request onerror event'
                  )
                );
              };
              // Allow XMLHttp request to attach cookies
              _this.xhttp.withCredentials = true;
              if (requestType === interfaces_1.RequestType.POST) {
                reqUrl = _this.getUrl().href;
                // Option request go out without apiKey and fails
                // we add it in case headers has change
                if (_this.hasHeaders()) {
                  reqUrl += '?APIKey=' + _this.params['APIKey'];
                }
                requestPostParams = window.gigya.utils.keyValue.serialize(
                  _this.params
                );
                _this.headers['Content-Type'] =
                  'application/x-www-form-urlencoded';
              }
              _this.xhttp.open(requestType, reqUrl, true);
              // Add required headers to the request
              Object.keys(_this.headers).forEach(function (header) {
                _this.xhttp.setRequestHeader(header, _this.headers[header]);
              });
              _this.xhttp.send(requestPostParams);
            });
          };
          XhrRequest.prototype.hasHeaders = function () {
            return !!Object.keys(this.headers).length;
          };
          XhrRequest.prototype.onRequestLoad = function (resolve, reject) {
            var jsonResponse;
            try {
              jsonResponse = JSON.parse(this.xhttp.responseText);
            } catch (e) {
              window.gigya.logger.report(
                'XHR_FAILURE - failed to parse the response object',
                { responseText: this.xhttp.responseText }
              );
            }
            if (
              this.xhttp.readyState !== 4 ||
              !(jsonResponse === null || jsonResponse === void 0
                ? void 0
                : jsonResponse.statusCode)
            ) {
              reject(
                this.createErrorFromResponse(
                  'XHR_FAILURE - http request failed'
                )
              );
              return;
            }
            resolve(this.handleResponse(jsonResponse));
          };
          XhrRequest.prototype.createErrorFromResponse = function (message) {
            return {
              errorMessage: message,
              status: this.xhttp.status,
              readyState: this.xhttp.readyState,
              responseText: this.xhttp.responseText,
            };
          };
          XhrRequest.prototype.addDefaultParams = function () {
            _super.prototype.addDefaultParams.call(this);
            this.params['format'] = 'json';
            if (
              FlagService_1.FlagService.useHttpStatusCode &&
              this.settings.useHttpStatusCodes
            ) {
              this.params['httpStatusCodes'] = true;
            }
          };
          XhrRequest.prototype.networkErrorResponse = function () {
            return this.handleResponse({
              errorCode: GSErrors_1.GSErrors.NETWORK_ERROR,
              errorMessage: 'Network_error',
            });
          };
          XhrRequest.prototype.dispose = function () {};
          XhrRequest.prototype.setRequestHeaders = function (requestHeaders) {
            var _this = this;
            var supportedHeaders = ['Authorization'];
            Object.keys(requestHeaders)
              .filter(function (header) {
                return supportedHeaders.indexOf(header) !== -1;
              })
              .forEach(function (header) {
                var headerValue = requestHeaders[header];
                if (Boolean(headerValue) && typeof headerValue === 'string') {
                  _this.headers[header] = headerValue;
                }
              });
          };
          return XhrRequest;
        })(Request_1.Request);
        exports.XhrRequest = XhrRequest;

        /***/
      },

    /***/ './src/core/ApiService/app/gigyaUtils.ts':
      /*!***********************************************!*\
  !*** ./src/core/ApiService/app/gigyaUtils.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var cookie_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
          );
          var GigyaUtilsDOM = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
          );
          var GigyaUtilsDomains = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
          );
          var GigyaUtilsFunctions = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var GigyaUtilsJSON = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var GigyaUtilsKeyValue = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
          );
          var GigyaUtilsLocalStorage = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
          );
          var GigyaUtilsStringParams = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
          );
          var GigyaUtilsObject = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
          );
          var GigyaUtilsScript = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
          );
          var GigyaUtilsSessionCache = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/sessionCache */ './src/core/Gigya.Js/app/Utils/sessionCache.ts'
          );
          var GigyaUtilsLocalCache = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/localCache */ './src/core/Gigya.Js/app/Utils/localCache.ts'
          );
          var GigyaUtilsUri = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
          );
          var GigyaUtilsURL = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
          );
          var GigyaUtilsValidation = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/validation */ './src/core/Gigya.Js/app/Utils/validation.ts'
          );
          var GigyaUtilsArray = __webpack_require__(
            /*! ../../Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
          );
          if (!window.gigya._) {
            window.gigya._ = {};
          }
          if (!window.gigya.utils) {
            window.gigya.utils = {};
          }
          if (!window.gigya.utils.array) {
            window.gigya.utils.array = {};
          }
          if (!window.gigya.utils.cookie) {
            window.gigya.utils.cookie = cookie_1.default;
          }
          if (!window.gigya.utils.DOM) {
            window.gigya.utils.DOM = {};
          }
          if (!window.gigya.utils.functions) {
            window.gigya.utils.functions = {};
          }
          if (!window.gigya.utils.JSON) {
            window.gigya.utils.JSON = {};
          }
          if (!window.gigya.utils.keyValue) {
            window.gigya.utils.keyValue = {};
          }
          if (!window.gigya.utils.localStorage) {
            window.gigya.utils.localStorage = {};
          }
          if (!window.gigya.utils.object) {
            window.gigya.utils.object = {};
          }
          if (!window.gigya.utils.script) {
            window.gigya.utils.script = {};
          }
          if (!window.gigya.utils.sessionCache) {
            window.gigya.utils.sessionCache = {};
          }
          if (!window.gigya.utils.localCache) {
            window.gigya.utils.localCache = {};
          }
          if (!window.gigya.utils.stringUtils) {
            window.gigya.utils.stringUtils = {};
          }
          if (!window.gigya.utils.URL) {
            window.gigya.utils.URL = {};
          }
          if (!window.gigya.utils.validation) {
            window.gigya.utils.validation = {};
          }
          __webpack_provided_Object_dot_assign(
            window.gigya._,
            GigyaUtilsUri,
            GigyaUtilsDomains
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.array,
            GigyaUtilsArray
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.DOM,
            GigyaUtilsDOM
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.functions,
            GigyaUtilsFunctions
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.JSON,
            GigyaUtilsJSON
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.keyValue,
            GigyaUtilsKeyValue
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.localStorage,
            GigyaUtilsLocalStorage
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.object,
            GigyaUtilsObject
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.script,
            GigyaUtilsScript
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.sessionCache,
            GigyaUtilsSessionCache
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.localCache,
            GigyaUtilsLocalCache
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.URL,
            GigyaUtilsURL
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.validation,
            GigyaUtilsValidation
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils,
            GigyaUtilsStringParams
          );

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/ApiService/app/interfaces.ts':
      /*!***********************************************!*\
  !*** ./src/core/ApiService/app/interfaces.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var RequestType;
        (function (RequestType) {
          RequestType['GET'] = 'GET';
          RequestType['POST'] = 'POST';
        })((RequestType = exports.RequestType || (exports.RequestType = {})));

        /***/
      },

    /***/ './src/core/ApiService/app/main.ts':
      /*!*****************************************!*\
  !*** ./src/core/ApiService/app/main.ts ***!
  \*****************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var tslib_1 = __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/GigyaGlobals */ './src/core/Gigya.Js/app/GigyaGlobals.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/main */ './src/core/Gigya.Js/app/Logger/main.ts'
          );
          __webpack_require__(
            /*! src/core/ApiService/app/gigyaUtils */ './src/core/ApiService/app/gigyaUtils.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/main */ './src/core/Gigya.Js/app/Logger/main.ts'
          );
          var LocalInfo = __webpack_require__(
            /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
          );
          var XhrRequest = __webpack_require__(
            /*! ./XhrRequest */ './src/core/ApiService/app/XhrRequest.ts'
          );
          var Request = __webpack_require__(
            /*! ./Request */ './src/core/ApiService/app/Request.ts'
          );
          var GroupApiDomainService_1 = __webpack_require__(
            /*! src/core/ApiService/app/GroupApiDomainService */ './src/core/ApiService/app/GroupApiDomainService.ts'
          );
          var DomainResolver_1 = __webpack_require__(
            /*! src/core/ApiService/app/DomainResolver */ './src/core/ApiService/app/DomainResolver.ts'
          );
          var ApiService_1 = __webpack_require__(
            /*! src/core/ApiService/app/ApiService */ './src/core/ApiService/app/ApiService.ts'
          );
          var ProxyListener_1 = __webpack_require__(
            /*! src/core/ServiceProxy/ProxyListener */ './src/core/ServiceProxy/ProxyListener.ts'
          );
          var domains_1 = __webpack_require__(
            /*! ../../Gigya.Js/app/Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
          );
          var GmidProvider_1 = __webpack_require__(
            /*! ./GmidProvider */ './src/core/ApiService/app/GmidProvider.ts'
          );
          var apiBootstrap_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/apiBootstrap */ './src/core/Gigya.Js/app/apiBootstrap.ts'
          );
          var array_1 = __webpack_require__(
            /*! ../../Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
          );
          /**
           * this file will be inject into api.aspx
           */
          if (!window.gigya.apiKey)
            // falling back to apiKey from query string in case something went wrong on our back end.
            window.gigya.apiKey = window.gigya.utils.getReqParamValue(
              location.search,
              'apiKey'
            );
          var apiKey = window.gigya.apiKey,
            dataCenter = window.gigya.dataCenter,
            configHostnameOverride = window.gigya.configHostnameOverride;
          (function main() {
            var _a, _b, _c, _d;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var webSdkConfig,
                originDomain,
                configHostname,
                groupApiDomainService,
                trustedDomains,
                domainResolver,
                hasGmidContext,
                hasGmid,
                apiService,
                listener,
                e_1;
              return tslib_1.__generator(this, function (_e) {
                switch (_e.label) {
                  case 0:
                    _e.trys.push([0, 2, , 3]);
                    originDomain = getOriginDomain();
                    configHostname =
                      configHostnameOverride ||
                      getOriginHostName() ||
                      'https://' + domains_1.getStorageDomain();
                    return [
                      4 /*yield*/,
                      getConfig(originDomain, configHostname),
                    ];
                  case 1:
                    webSdkConfig = _e.sent();
                    window.gigya._.config = {
                      flags: webSdkConfig.flags,
                      api: webSdkConfig.api,
                      plugins: webSdkConfig.plugins,
                      hostedPagesDomain: webSdkConfig.hostedPagesDomain,
                      toggles: {
                        linkAccountV2:
                          (_a = webSdkConfig.toggles) === null || _a === void 0
                            ? void 0
                            : _a.linkAccountV2,
                        httpStatusCodes:
                          (_b = webSdkConfig.toggles) === null || _b === void 0
                            ? void 0
                            : _b.httpStatusCodes,
                      },
                      consent: {
                        hasLicense:
                          (_c = webSdkConfig.hasConsentLicense) !== null &&
                          _c !== void 0
                            ? _c
                            : false,
                      },
                    };
                    LocalInfo.localInfo.baseDomain = domains_1.getBaseDomain(
                      webSdkConfig.api.baseDomains
                    );
                    __webpack_provided_Object_dot_assign(
                      window.gigya,
                      LocalInfo,
                      Request,
                      XhrRequest
                    );
                    groupApiDomainService =
                      new GroupApiDomainService_1.GroupApiDomainService();
                    trustedDomains = array_1.getUniqueValues(
                      webSdkConfig.api.baseDomains.concat(
                        ((_d = webSdkConfig.sso) === null || _d === void 0
                          ? void 0
                          : _d.validDomains) || []
                      )
                    );
                    domainResolver = DomainResolver_1.createDomainResolver(
                      dataCenter,
                      trustedDomains,
                      originDomain,
                      window.gigya.defaultApiDomain,
                      webSdkConfig.api.customAPIDomainPrefix,
                      groupApiDomainService
                    );
                    hasGmidContext =
                      GmidProvider_1.GmidProvider.getHasGmidParam(window.gigya);
                    hasGmid = hasGmidContext.isV3 || hasGmidContext.isV4;
                    apiService = new ApiService_1.ApiService(
                      apiKey,
                      hasGmid,
                      domainResolver,
                      groupApiDomainService
                    );
                    listener = new ProxyListener_1.ProxyListener(
                      apiService,
                      originDomain
                    );
                    listener.listen({
                      apiDomain: domainResolver.getApiDomain(),
                      isGroupApiDomain: domainResolver.isGroupApiDomain,
                      hasGroupApiDomainChanged:
                        domainResolver.hasGroupApiDomainChanged,
                      canSaveGmidAsCookie:
                        window.gigya.utils.cookie.canSaveCookie(),
                    });
                    return [3 /*break*/, 3];
                  case 2:
                    e_1 = _e.sent();
                    window.gigya.logger.error(
                      'gigya: error loading api frame',
                      { e: e_1 }
                    );
                    return [3 /*break*/, 3];
                  case 3:
                    return [2 /*return*/];
                }
              });
            });
          })();
          function getConfig(originDomain, configHostname) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var webSdkConfig, ex_1, listener;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    _a.trys.push([0, 2, , 3]);
                    return [
                      4 /*yield*/,
                      apiBootstrap_1.getSdkConfig(configHostname),
                    ];
                  case 1:
                    webSdkConfig = _a.sent();
                    if (
                      webSdkConfig.statusCode !== 200 ||
                      webSdkConfig.errorCode !== 0
                    ) {
                      throw new Error(
                        'config.get failed with statusCode: ' +
                          webSdkConfig.statusCode +
                          ' and errorCode: ' +
                          webSdkConfig.errorCode
                      );
                    }
                    return [2 /*return*/, webSdkConfig];
                  case 2:
                    ex_1 = _a.sent();
                    listener = new ProxyListener_1.ProxyListener(
                      {},
                      originDomain
                    );
                    listener.postError({
                      res: 'Bootstrap failed on: get config',
                      id: '0',
                    });
                    throw new Error('Bootstrap failed on: get config');
                  case 3:
                    return [2 /*return*/];
                }
              });
            });
          }
          function getOriginDomain() {
            // in iframe
            if (window.location != window.parent.location) {
              return (
                window.document.referrer ||
                window.gigya.utils.getReqParamValue(location.hash, 'origin')
              );
            } else {
              return window.document.location.href;
            }
          }
          function getOriginHostName() {
            var _a;
            return (_a = window.location) === null || _a === void 0
              ? void 0
              : _a.hostname;
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/GSErrors.ts':
      /*!*******************************************!*\
  !*** ./src/core/Gigya.Js/app/GSErrors.ts ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var GSErrors;
        (function (GSErrors) {
          GSErrors[(GSErrors['OK'] = 0)] = 'OK';
          GSErrors[(GSErrors['Data_Pending'] = 100001)] = 'Data_Pending';
          GSErrors[(GSErrors['NETWORK_ERROR'] = 500026)] = 'NETWORK_ERROR';
          GSErrors[(GSErrors['DATA_PENDING'] = 100001)] = 'DATA_PENDING';
          GSErrors[(GSErrors['OPERATION_CANCELED'] = 200001)] =
            'OPERATION_CANCELED';
          GSErrors[(GSErrors['PERMISSION_GRANTED'] = 200002)] =
            'PERMISSION_GRANTED';
          GSErrors[(GSErrors['PERMISSION_NOT_GRANTED'] = 200003)] =
            'PERMISSION_NOT_GRANTED';
          GSErrors[(GSErrors['REDIRECT'] = 200004)] = 'REDIRECT';
          GSErrors[(GSErrors['NEW_USER'] = 200005)] = 'NEW_USER';
          GSErrors[(GSErrors['OPERATION_DONE'] = 200006)] = 'OPERATION_DONE';
          GSErrors[(GSErrors['UPDATE_USER'] = 200007)] = 'UPDATE_USER';
          GSErrors[(GSErrors['OK_WITH_ERRORS'] = 200008)] = 'OK_WITH_ERRORS';
          GSErrors[(GSErrors['ACCOUNTS_LINKED'] = 200009)] = 'ACCOUNTS_LINKED';
          GSErrors[
            (GSErrors['OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS'] = 200010)
          ] = 'OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['ACCOUNT_PENDING_REGISTRATION'] = 206001)] =
            'ACCOUNT_PENDING_REGISTRATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_VERIFICATION'] = 206002)] =
            'ACCOUNT_PENDING_VERIFICATION';
          GSErrors[(GSErrors['ACCOUNT_MISSING_LOGINID'] = 206003)] =
            'ACCOUNT_MISSING_LOGINID';
          GSErrors[(GSErrors['IDENTITY_ALREADY_ASSIGNED'] = 206004)] =
            'IDENTITY_ALREADY_ASSIGNED';
          GSErrors[(GSErrors['AFTER_EMAIL_VERIFICATION'] = 206005)] =
            'AFTER_EMAIL_VERIFICATION';
          GSErrors[(GSErrors['PENDING_CODE_VERIFICATION'] = 206006)] =
            'PENDING_CODE_VERIFICATION';
          GSErrors[(GSErrors['CLIENT_LOG'] = 300001)] = 'CLIENT_LOG';
          GSErrors[(GSErrors['INVALID_DATA_CENTER'] = 301001)] =
            'INVALID_DATA_CENTER';
          GSErrors[(GSErrors['INVALID_REQUEST_FORMAT'] = 400001)] =
            'INVALID_REQUEST_FORMAT';
          GSErrors[(GSErrors['MISSING_REQUIRED_PARAMETER'] = 400002)] =
            'MISSING_REQUIRED_PARAMETER';
          GSErrors[(GSErrors['UNIQUE_IDENTIFIER_EXISTS'] = 400003)] =
            'UNIQUE_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['INVALID_PARAMETER_FORMAT'] = 400004)] =
            'INVALID_PARAMETER_FORMAT';
          GSErrors[(GSErrors['INVALID_PARAMETER_VALUE'] = 400006)] =
            'INVALID_PARAMETER_VALUE';
          GSErrors[(GSErrors['DUPLICATE_VALUE'] = 400007)] = 'DUPLICATE_VALUE';
          GSErrors[(GSErrors['INVALID_AUTHENTICATION_HEADER'] = 400008)] =
            'INVALID_AUTHENTICATION_HEADER';
          GSErrors[(GSErrors['VALIDATION_ERROR'] = 400009)] =
            'VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_REDIRECT_URI'] = 400011)] =
            'INVALID_REDIRECT_URI';
          GSErrors[(GSErrors['INVALID_RESPONSE_TYPE'] = 400012)] =
            'INVALID_RESPONSE_TYPE';
          GSErrors[(GSErrors['UNSUPPORTED_GRANT_TYPE'] = 400013)] =
            'UNSUPPORTED_GRANT_TYPE';
          GSErrors[(GSErrors['INVALID_GRANT'] = 400014)] = 'INVALID_GRANT';
          GSErrors[(GSErrors['CODE_EXPIRED'] = 400015)] = 'CODE_EXPIRED';
          GSErrors[(GSErrors['SCHEMA_VALIDATION_FAILED'] = 400020)] =
            'SCHEMA_VALIDATION_FAILED';
          GSErrors[(GSErrors['CAPTCHA_VERIFICATION_FAILED'] = 400021)] =
            'CAPTCHA_VERIFICATION_FAILED';
          GSErrors[(GSErrors['UNIQUE_INDEX_VALIDATION_ERROR'] = 400022)] =
            'UNIQUE_INDEX_VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_TYPE_VALIDATION_ERROR'] = 400023)] =
            'INVALID_TYPE_VALIDATION_ERROR';
          GSErrors[(GSErrors['DYNAMIC_FIELDS_VALIDATION_ERROR'] = 400024)] =
            'DYNAMIC_FIELDS_VALIDATION_ERROR';
          GSErrors[(GSErrors['WRITE_ACCESS_VALIDATION_ERROR'] = 400025)] =
            'WRITE_ACCESS_VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_FORMAT_VALIDATION_ERROR'] = 400026)] =
            'INVALID_FORMAT_VALIDATION_ERROR';
          GSErrors[(GSErrors['REQUIRED_VALUE_VALIDATION_ERROR'] = 400027)] =
            'REQUIRED_VALUE_VALIDATION_ERROR';
          GSErrors[(GSErrors['EMAIL_NOT_VERIFIED'] = 400028)] =
            'EMAIL_NOT_VERIFIED';
          GSErrors[(GSErrors['SCHEMA_CONFLICT_ERROR'] = 400029)] =
            'SCHEMA_CONFLICT_ERROR';
          GSErrors[(GSErrors['OPERATION_NOT_ALLOWED'] = 400030)] =
            'OPERATION_NOT_ALLOWED';
          GSErrors[(GSErrors['SECURITY_VERIFICATION_FAILED'] = 400050)] =
            'SECURITY_VERIFICATION_FAILED';
          GSErrors[(GSErrors['INVALID_APIKEY_PARAMETER'] = 400093)] =
            'INVALID_APIKEY_PARAMETER';
          GSErrors[(GSErrors['NOT_SUPPORTED'] = 400096)] = 'NOT_SUPPORTED';
          GSErrors[(GSErrors['UNSUPPORTED_USER_AGENT'] = 400097)] =
            'UNSUPPORTED_USER_AGENT';
          GSErrors[(GSErrors['NO_PROVIDERS'] = 400100)] = 'NO_PROVIDERS';
          GSErrors[(GSErrors['POPUP_BLOCKED'] = 400101)] = 'POPUP_BLOCKED';
          GSErrors[(GSErrors['INVALID_EVENT_HANDLER'] = 400102)] =
            'INVALID_EVENT_HANDLER';
          GSErrors[(GSErrors['INVALID_CONTAINERID'] = 400103)] =
            'INVALID_CONTAINERID';
          GSErrors[(GSErrors['NOT_CONNECTED'] = 400106)] = 'NOT_CONNECTED';
          GSErrors[(GSErrors['INVALID_SITE_DOMAIN'] = 400120)] =
            'INVALID_SITE_DOMAIN';
          GSErrors[(GSErrors['PROVIDER_CONFIGURATION_ERROR'] = 400122)] =
            'PROVIDER_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['LIMIT_REACHED'] = 400124)] = 'LIMIT_REACHED';
          GSErrors[(GSErrors['FREQUENCY_LIMIT_REACHED'] = 400125)] =
            'FREQUENCY_LIMIT_REACHED';
          GSErrors[(GSErrors['INVALID_ACTION'] = 400126)] = 'INVALID_ACTION';
          GSErrors[(GSErrors['INSUFFICIENT_POINTS_TO_REDEEM'] = 400127)] =
            'INSUFFICIENT_POINTS_TO_REDEEM';
          GSErrors[(GSErrors['SIGNATURE_TIMESTAMP_EXPIRED'] = 400128)] =
            'SIGNATURE_TIMESTAMP_EXPIRED';
          GSErrors[(GSErrors['Error_During_Extensions_Operation'] = 400302)] =
            'Error_During_Extensions_Operation';
          GSErrors[(GSErrors['Extension_Point_Custom_Error'] = 400303)] =
            'Extension_Point_Custom_Error';
          GSErrors[(GSErrors['INVALID_POLICY_CONFIGURATION'] = 401000)] =
            'INVALID_POLICY_CONFIGURATION';
          GSErrors[(GSErrors['SUSPECTED_SPAM'] = 401010)] = 'SUSPECTED_SPAM';
          GSErrors[(GSErrors['LOGIN_FAILED_CAPTCHA_REQUIRED'] = 401020)] =
            'LOGIN_FAILED_CAPTCHA_REQUIRED';
          GSErrors[(GSErrors['REQUEST_FAILED_CAPTCHA_REQUIRED'] = 401023)] =
            'REQUEST_FAILED_CAPTCHA_REQUIRED';
          GSErrors[(GSErrors['LOGIN_FAILED_WRONG_CAPTCHA'] = 401021)] =
            'LOGIN_FAILED_WRONG_CAPTCHA';
          GSErrors[(GSErrors['OLD_PASSWORD_USED'] = 401030)] =
            'OLD_PASSWORD_USED';
          GSErrors[(GSErrors['FORBIDDEN'] = 403000)] = 'FORBIDDEN';
          GSErrors[(GSErrors['INVALID_SESSION_TOKEN'] = 403001)] =
            'INVALID_SESSION_TOKEN';
          GSErrors[(GSErrors['REQUEST_HAS_EXPIRED'] = 403002)] =
            'REQUEST_HAS_EXPIRED';
          GSErrors[(GSErrors['INVALID_REQUEST_SIGNATURE'] = 403003)] =
            'INVALID_REQUEST_SIGNATURE';
          GSErrors[(GSErrors['DUPLICATE_NONCE'] = 403004)] = 'DUPLICATE_NONCE';
          GSErrors[(GSErrors['UNAUTHORIZED_USER'] = 403005)] =
            'UNAUTHORIZED_USER';
          GSErrors[(GSErrors['SENSITIVE_DATA_SENT_OVER_HTTP'] = 403006)] =
            'SENSITIVE_DATA_SENT_OVER_HTTP';
          GSErrors[(GSErrors['PERMISSION_DENIED'] = 403007)] =
            'PERMISSION_DENIED';
          GSErrors[(GSErrors['INVALID_OPENID_URL'] = 403008)] =
            'INVALID_OPENID_URL';
          GSErrors[(GSErrors['PROVIDER_SESSION_EXPIRED'] = 403009)] =
            'PROVIDER_SESSION_EXPIRED';
          GSErrors[(GSErrors['INVALID_SECRET'] = 403010)] = 'INVALID_SECRET';
          GSErrors[(GSErrors['SESSION_HAS_EXPIRED'] = 403011)] =
            'SESSION_HAS_EXPIRED';
          GSErrors[(GSErrors['NO_VALID_SESSION'] = 403012)] =
            'NO_VALID_SESSION';
          GSErrors[(GSErrors['UNVERIFIED_USER'] = 403013)] = 'UNVERIFIED_USER';
          GSErrors[(GSErrors['MISSING_REQUEST_REFERRER'] = 403015)] =
            'MISSING_REQUEST_REFERRER';
          GSErrors[(GSErrors['UNEXPECTED_PROVIDER_USER'] = 403017)] =
            'UNEXPECTED_PROVIDER_USER';
          GSErrors[(GSErrors['PERMISSION_NOT_REQUESTED'] = 403022)] =
            'PERMISSION_NOT_REQUESTED';
          GSErrors[(GSErrors['NO_USER_PERMISSION'] = 403023)] =
            'NO_USER_PERMISSION';
          GSErrors[(GSErrors['PROVIDER_LIMIT_REACHED'] = 403024)] =
            'PROVIDER_LIMIT_REACHED';
          GSErrors[(GSErrors['INVALID_TOKEN'] = 403025)] = 'INVALID_TOKEN';
          GSErrors[(GSErrors['UNAUTHORIZED_ACCESS_ERROR'] = 403026)] =
            'UNAUTHORIZED_ACCESS_ERROR';
          GSErrors[(GSErrors['DIFFERENT_USER_FOR_REAUTH'] = 403027)] =
            'DIFFERENT_USER_FOR_REAUTH';
          GSErrors[(GSErrors['SESSION_EXPIRED_RETRY'] = 403030)] =
            'SESSION_EXPIRED_RETRY';
          GSErrors[(GSErrors['APPROVED_BY_MODERATOR'] = 403031)] =
            'APPROVED_BY_MODERATOR';
          GSErrors[(GSErrors['TOKEN_HAS_RENEWED'] = 403032)] =
            'TOKEN_HAS_RENEWED';
          GSErrors[(GSErrors['NO_USER_COOKIE'] = 403035)] = 'NO_USER_COOKIE';
          GSErrors[(GSErrors['UNAUTHORIZED_PARTNER'] = 403036)] =
            'UNAUTHORIZED_PARTNER';
          GSErrors[(GSErrors['POST_DENIED'] = 403037)] = 'POST_DENIED';
          GSErrors[(GSErrors['NO_LOGIN_TICKET'] = 403040)] = 'NO_LOGIN_TICKET';
          GSErrors[(GSErrors['ACCOUNT_DISABLED'] = 403041)] =
            'ACCOUNT_DISABLED';
          GSErrors[(GSErrors['INVALID_LOGINID'] = 403042)] = 'INVALID_LOGINID';
          GSErrors[(GSErrors['LOGIN_IDENTIFIER_EXISTS'] = 403043)] =
            'LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['UNDERAGE_USER'] = 403044)] = 'UNDERAGE_USER';
          GSErrors[(GSErrors['INVALID_SITE_CONFIGURATION_ERROR'] = 403045)] =
            'INVALID_SITE_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['LOGINID_DOES_NOT_EXIST'] = 403047)] =
            'LOGINID_DOES_NOT_EXIST';
          GSErrors[(GSErrors['API_RATE_LIMIT_EXCEEDED'] = 403048)] =
            'API_RATE_LIMIT_EXCEEDED';
          GSErrors[(GSErrors['PENDING_PASSWORD_CHANGE'] = 403100)] =
            'PENDING_PASSWORD_CHANGE';
          GSErrors[(GSErrors['ACCOUNT_PENDING_TFA_VERIFICATION'] = 403101)] =
            'ACCOUNT_PENDING_TFA_VERIFICATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_TFA_REGISTRATION'] = 403102)] =
            'ACCOUNT_PENDING_TFA_REGISTRATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_RECENT_LOGIN'] = 403110)] =
            'ACCOUNT_PENDING_RECENT_LOGIN';
          GSErrors[(GSErrors['ACCOUNT_TEMPORARILY_LOCKED_OUT'] = 403120)] =
            'ACCOUNT_TEMPORARILY_LOCKED_OUT';
          GSErrors[(GSErrors['REDUNDANT_OPERATION'] = 403200)] =
            'REDUNDANT_OPERATION';
          GSErrors[(GSErrors['INVALID_APPLICATION_ID'] = 403201)] =
            'INVALID_APPLICATION_ID';
          GSErrors[(GSErrors['NOT_FOUND'] = 404000)] = 'NOT_FOUND';
          GSErrors[(GSErrors['FRIEND_NOT_FOUND'] = 404001)] =
            'FRIEND_NOT_FOUND';
          GSErrors[(GSErrors['CATEGORY_NOT_FOUND'] = 404002)] =
            'CATEGORY_NOT_FOUND';
          GSErrors[(GSErrors['UID_NOT_FOUND'] = 404003)] = 'UID_NOT_FOUND';
          GSErrors[(GSErrors['RESOURCE_NOT_FOUND'] = 404004)] =
            'RESOURCE_NOT_FOUND';
          GSErrors[(GSErrors['INVALID_API_METHOD'] = 405001)] =
            'INVALID_API_METHOD';
          GSErrors[(GSErrors['IDENTITY_EXISTS'] = 409001)] = 'IDENTITY_EXISTS';
          GSErrors[(GSErrors['GONE'] = 410000)] = 'GONE';
          GSErrors[(GSErrors['REQUEST_ENTITY_TOO_LARGE'] = 413001)] =
            'REQUEST_ENTITY_TOO_LARGE';
          GSErrors[(GSErrors['COMMENT_TEXT_TOO_LARGE'] = 413002)] =
            'COMMENT_TEXT_TOO_LARGE';
          GSErrors[(GSErrors['OBJECT_TOO_LARGE'] = 413003)] =
            'OBJECT_TOO_LARGE';
          GSErrors[(GSErrors['PROFILE_PHOTO_TOO_LARGE'] = 413004)] =
            'PROFILE_PHOTO_TOO_LARGE';
          GSErrors[(GSErrors['REQUEST_URI_TOO_LONG'] = 414000)] =
            'REQUEST_URI_TOO_LONG';
          GSErrors[(GSErrors['MISSING_USER_PHOTO'] = 409010)] =
            'MISSING_USER_PHOTO';
          GSErrors[(GSErrors['COUNTER_NOT_REGISTERED'] = 409011)] =
            'COUNTER_NOT_REGISTERED';
          GSErrors[(GSErrors['INVALID_GMID_TICKET'] = 409012)] =
            'INVALID_GMID_TICKET';
          GSErrors[(GSErrors['SAML_MAPPED_ATTRIBUTE_NOT_FOUND'] = 409013)] =
            'SAML_MAPPED_ATTRIBUTE_NOT_FOUND';
          GSErrors[(GSErrors['SAML_CERTIFICATE_NOT_FOUND'] = 409014)] =
            'SAML_CERTIFICATE_NOT_FOUND';
          GSErrors[(GSErrors['SAML_MESSAGE_NOT_FOUND'] = 409015)] =
            'SAML_MESSAGE_NOT_FOUND';
          GSErrors[(GSErrors['GENERAL_SERVER_ERROR'] = 500001)] =
            'GENERAL_SERVER_ERROR';
          GSErrors[(GSErrors['SERVER_LOGIN_ERROR'] = 500002)] =
            'SERVER_LOGIN_ERROR';
          GSErrors[
            (GSErrors['DEFAULT_APPLICATION_CONFIGURATION_ERROR'] = 500003)
          ] = 'DEFAULT_APPLICATION_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['SESSION_MIGRATION_ERROR'] = 500014)] =
            'SESSION_MIGRATION_ERROR';
          GSErrors[(GSErrors['PROVIDER_ERROR'] = 500023)] = 'PROVIDER_ERROR';
          GSErrors[(GSErrors['DATABASE_ERROR'] = 500028)] = 'DATABASE_ERROR';
          GSErrors[(GSErrors['USERNAME_REQUIRED'] = 500029)] =
            'USERNAME_REQUIRED';
          GSErrors[(GSErrors['NO_PROVIDER_APPLICATION'] = 500031)] =
            'NO_PROVIDER_APPLICATION';
          GSErrors[(GSErrors['LOAD_FAILED'] = 500032)] = 'LOAD_FAILED';
          GSErrors[(GSErrors['INVALID_ENVIRONMENT_CONFIG'] = 500033)] =
            'INVALID_ENVIRONMENT_CONFIG';
          GSErrors[(GSErrors['ERROR_DURING_BACKEND_OPERATION'] = 500034)] =
            'ERROR_DURING_BACKEND_OPERATION';
          GSErrors[(GSErrors['TIMEOUT'] = 504001)] = 'TIMEOUT';
          GSErrors[(GSErrors['CLIENTTIMEOUT'] = 504002)] = 'CLIENTTIMEOUT';
          GSErrors[(GSErrors['INVALID_URL'] = 404004)] = 'INVALID_URL';
          GSErrors[(GSErrors['MEDIA_ITEMS_NOT_SUPPORTED'] = 401001)] =
            'MEDIA_ITEMS_NOT_SUPPORTED';
          GSErrors[(GSErrors['MISSING_ERROR_CODE'] = 599999)] =
            'MISSING_ERROR_CODE';
          GSErrors[
            (GSErrors[
              'THIS_AUTHENTICATION_METHOD_IS_CURRENTLY_DISABLED'
            ] = 403300)
          ] = 'THIS_AUTHENTICATION_METHOD_IS_CURRENTLY_DISABLED';
          GSErrors[(GSErrors['FORCE_LINK_LOGIN_IDENTIFIER_EXISTS'] = 409003)] =
            'FORCE_LINK_LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['PASSKEY_AUTHENTICATOR_REGISTERED'] = 400130)] =
            'PASSKEY_AUTHENTICATOR_REGISTERED';
          GSErrors[(GSErrors['PASSKEY_ABORTED'] = 400131)] = 'PASSKEY_ABORTED';
          GSErrors[(GSErrors['PASSKEY_ERROR'] = 500131)] = 'PASSKEY_ERROR';
        })((GSErrors = exports.GSErrors || (exports.GSErrors = {})));
        var GSErrorDetails;
        (function (GSErrorDetails) {
          GSErrorDetails[(GSErrorDetails['None'] = 0)] = 'None';
          GSErrorDetails[(GSErrorDetails['Same_password'] = 100001)] =
            'Same_password';
          GSErrorDetails[(GSErrorDetails['Invalid_password'] = 100002)] =
            'Invalid_password';
          GSErrorDetails[
            (GSErrorDetails['Invalid_counters_query_with_cursor'] = 100003)
          ] = 'Invalid_counters_query_with_cursor';
        })(
          (GSErrorDetails =
            exports.GSErrorDetails || (exports.GSErrorDetails = {}))
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/GigyaGlobals.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/GigyaGlobals.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var ES6Promise = __webpack_require__(
            /*! es6-promise */ '../node_modules/es6-promise/dist/es6-promise.js'
          );
          __webpack_provided_Object_dot_assign(window.gigya, {
            Promise: ES6Promise,
          });

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/LocalInfo.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/LocalInfo.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        // Local environment info (browser, capabilities, hosting domain)
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var userAgent = navigator.userAgent.toLowerCase();
        exports.localInfo = {
          baseDomain: '',
          isBrowserSupportsFilesAPI: (function () {
            return (
              typeof FileReader === 'function' || typeof FileReader === 'object'
            );
          })(),
          initTime: new Date(),
          version: 0,
          pageDomain: document.location.hostname,
          protocol: document.location.protocol == 'http:' ? 'http' : 'https',
          userAgent: userAgent,
          isWin: userAgent.indexOf('win') != -1,
          isIE:
            userAgent.indexOf('msie') != -1 ||
            (userAgent.indexOf('mozilla') != -1 &&
              userAgent.indexOf('trident') != -1),
          isIE6: userAgent.indexOf('msie 6.') != -1,
          isIE7: userAgent.indexOf('msie 7.') != -1,
          isIE8: userAgent.indexOf('msie 8.') != -1,
          isIE9: userAgent.indexOf('msie 9.') != -1,
          isIE10: userAgent.indexOf('msie 10.') != -1,
          isIE11:
            userAgent.indexOf('mozilla') != -1 &&
            userAgent.indexOf('trident/7.0') != -1,
          isEdgeLegacy: userAgent.indexOf('edge') != -1,
          isEdge: RegExp(/edg(?!e)/).test(userAgent),
          isIOS:
            userAgent.indexOf('iphone') != -1 ||
            userAgent.indexOf('ipad') != -1 ||
            userAgent.indexOf('ipod') != -1,
          isSafari534: userAgent.indexOf('safari/534') != -1,
          isWeChat: userAgent.indexOf('micromessenger') != -1,
          iosVersion: (function () {
            if (
              userAgent.indexOf('applewebkit') != -1 &&
              userAgent.indexOf('version/') != -1
            ) {
              return parseInt(userAgent.split('version/')[1].split(' ')[0]);
            } else return 0;
          })(),
          isAndroid: userAgent.indexOf('android') != -1,
          isAndroidBrowser: (function (userAgent) {
            if (userAgent.indexOf('mozilla/5.0') === -1) return false;
            if (userAgent.indexOf('android 4') === -1) return false;
            if (userAgent.indexOf('applewebkit') === -1) return false;
            if (userAgent.indexOf('windows phone') !== -1) return false;
            // Special user agents found so far that violate the existance of chrome rule
            // Bug 38367 Android Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-us; SAMSUNG GT-I9500 Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Version/1.0 Chrome/18.0.1025.308 Mobile Safari/535.19
            // Bug 40209 Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; SAMSUNG SGT-I747 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.93 Mobile Safari/537.36
            // Windows Phone Browser: Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 920) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537
            // Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-gb; SAMSUNG GT-I9500 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/1.5 Chrome/28.0.1500.94 Mobile Safari/537.36
            var chromeInfo = /chrome\/(\d+)/.exec(userAgent);
            if (!chromeInfo) return true;
            var chromeVersion = parseInt(chromeInfo[1]);
            return chromeVersion < 20;
          })(userAgent),
          currentBrowser: '',
          androidVersion: (function () {
            if (userAgent.indexOf('android') != -1) {
              return parseFloat(
                userAgent.slice(userAgent.indexOf('android') + 8)
              );
            } else return 0;
          })(),
          isChrome:
            userAgent.indexOf('chrome') != -1 && userAgent.indexOf('edg') == -1,
          isGoogleBot: userAgent.indexOf('googlebot') != -1,
          isFF: userAgent.indexOf('firefox') != -1,
          isOpera: userAgent.indexOf('opera') != -1,
          isSafari:
            navigator.appVersion &&
            navigator.appVersion.toLowerCase().indexOf('safari') != -1 &&
            navigator.appVersion.toLowerCase().indexOf('chrome') == -1 &&
            userAgent.indexOf('android') == -1,
          isIOSWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(
            navigator.userAgent
          ),
          isIOSChrome: userAgent.indexOf('crios') != -1,
          isMAC:
            navigator.appVersion &&
            navigator.appVersion.toLowerCase().indexOf('mac') != -1,
          isWindowsPhone: userAgent.indexOf('windows phone') != -1,
          isFacebookBrowser:
            userAgent.indexOf('fban') != -1 || userAgent.indexOf('fbav') != -1,
          supportsPostMessage:
            window.postMessage != null &&
            (userAgent.indexOf('msie') == -1 ||
              userAgent.indexOf('iemobile') != -1),
          supportsLocalStorage: false,
          supportsSessionStorage: false,
          supportsFlash: (function () {
            // http://stackoverflow.com/questions/998245/how-can-i-detect-if-flash-is-installed-and-if-not-display-a-hidden-div-that-inf
            var supportsFlash = false;
            try {
              if (
                navigator.mimeTypes &&
                navigator.mimeTypes['application/x-shockwave-flash'] !=
                  undefined &&
                navigator.mimeTypes['application/x-shockwave-flash']
                  .enabledPlugin
              ) {
                supportsFlash = true;
              } else {
                var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
                if (fo) {
                  supportsFlash = true;
                }
              }
            } catch (e) {}
            return supportsFlash;
          })(),
          quirksMode:
            document.compatMode == 'BackCompat' &&
            userAgent.indexOf('msie') != -1,
          backCompat: document.compatMode == 'BackCompat',
          // TODO: Add isTablet function for devices non-Mobile
          isMobile: (function () {
            var mobileClients = [
              'iphone',
              'ipod',
              'android',
              'midp',
              '240x320',
              'blackberry',
              'netfront',
              'nokia',
              'panasonic',
              'portalmmm',
              'sharp',
              'sie-',
              'sonyericsson',
              'symbian',
              'windows ce',
              'benq',
              'mda',
              'mot-',
              'opera mini',
              'philips',
              'pocket pc',
              'sagem',
              'samsung',
              'htc',
            ];
            for (var i in mobileClients) {
              if (userAgent.indexOf(mobileClients[i]) != -1) {
                return true;
              }
            }
            return false;
          })(),
          isMobileApp: (function () {
            if (!document.getElementsByTagName)
              // for old IE
              return false;
            var metaTags = document.getElementsByTagName('meta');
            for (var i = 0; i < metaTags.length; i++) {
              if (metaTags[i].getAttribute('name') == 'viewport') {
                var content = metaTags[i].getAttribute('content');
                if (content && content.indexOf('width=device-width') !== -1)
                  return true;
              }
            }
            return false;
          })(),
          isNativeMobileApp: false,
          isTouch: (function () {
            if ('ontouchstart' in window)
              // works on most browsers
              return true;
            if ('onmsgesturechange' in window) {
              // works on ie10
              // Try to determine if IE is open in metro mode. Metro doesn't allow activeX, that's the best test available as of IE11.
              try {
                new ActiveXObject('htmlfile');
                return false;
              } catch (e) {
                return true;
              }
            }
            return false;
          })(),
          isOnLine: function () {
            return navigator.onLine;
          },
          messagingMethod: 1,
        };
        var isStorageEnabled = function (storageName) {
          try {
            var storage = window[storageName];
            if (!storage) {
              return false;
            }
            var testName = '_gig_localStorage_test';
            var testValue = 'just checking for localStorage';
            storage.setItem(testName, testValue);
            var result = storage.getItem(testName) === testValue;
            storage.removeItem(testName);
            return result;
          } catch (ex) {
            // Reasons:
            // - Inside 3rd party API proxy iFrame.
            // - Safari in incognito mode will error with "quota exceeded".
            // - Chrome with 3rd party cookies disabled will throw an error if you access the window.localStorage object in ANY way.
            return false;
          }
        };
        exports.localInfo.supportsLocalStorage =
          isStorageEnabled('localStorage');
        exports.localInfo.supportsSessionStorage =
          isStorageEnabled('sessionStorage');
        exports.localInfo.isMAC =
          exports.localInfo.isMAC && !exports.localInfo.isIOS;
        var os = exports.localInfo.isWin
          ? 'windows'
          : exports.localInfo.isWindowsPhone
          ? 'winphone'
          : exports.localInfo.isIOS
          ? 'ios-v' + exports.localInfo.iosVersion
          : exports.localInfo.isMAC
          ? 'mac'
          : exports.localInfo.isAndroid
          ? 'android'
          : '';
        if (os) os += ' ';
        var browser = exports.localInfo.isChrome
          ? 'chrome'
          : exports.localInfo.isFF
          ? 'firefox'
          : exports.localInfo.isSafari
          ? 'safari'
          : exports.localInfo.isEdge
          ? 'edge'
          : exports.localInfo.isEdgeLegacy
          ? 'edge legacy'
          : exports.localInfo.isIE11
          ? 'ie11'
          : exports.localInfo.isIE10
          ? 'ie10'
          : exports.localInfo.isIE9
          ? 'ie9'
          : exports.localInfo.isIE8
          ? 'ie8'
          : '';
        exports.localInfo.currentBrowser = os + browser;
        var ClientFeature = /** @class */ (function () {
          function ClientFeature(navigator, screen) {
            if (navigator === void 0) {
              navigator = window.gigya._.WindowProvider.navigator();
            }
            if (screen === void 0) {
              screen = window.gigya._.WindowProvider.screen();
            }
            this.navigator = navigator;
            this.screen = screen;
            this.collectData();
          }
          ClientFeature.prototype.collectData = function () {
            var _a, _b, _c, _d, _e, _f, _g;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var permissionStatus,
                state,
                batteryInfo,
                _h,
                charging,
                chargingTime,
                dischargingTime,
                level;
              return tslib_1.__generator(this, function (_j) {
                switch (_j.label) {
                  case 0:
                    this.userAgent =
                      (_a = this.navigator) === null || _a === void 0
                        ? void 0
                        : _a.userAgent;
                    this.plugins = Array.from(
                      ((_b = this.navigator) === null || _b === void 0
                        ? void 0
                        : _b.plugins) || []
                    ).map(function (_a) {
                      var name = _a.name,
                        filename = _a.filename,
                        length = _a.length;
                      return { name: name, filename: filename, length: length };
                    });
                    this.localTime = new Date().toLocaleTimeString();
                    this.timezoneOffset = new Date().getTimezoneOffset();
                    return [
                      4 /*yield*/,
                      (_d =
                        (_c = this.navigator) === null || _c === void 0
                          ? void 0
                          : _c.permissions) === null || _d === void 0
                        ? void 0
                        : _d.query({ name: 'notifications' }),
                    ];
                  case 1:
                    permissionStatus = _j.sent();
                    if (permissionStatus) {
                      state = permissionStatus.state;
                      this.permissionStatus = { state: state };
                    }
                    this.webdriver =
                      (_e = this.navigator) === null || _e === void 0
                        ? void 0
                        : _e.webdriver;
                    _h = this.navigator.getBattery;
                    if (!_h) return [3 /*break*/, 3];
                    return [4 /*yield*/, this.navigator.getBattery()];
                  case 2:
                    _h = _j.sent();
                    _j.label = 3;
                  case 3:
                    batteryInfo = _h;
                    if (batteryInfo) {
                      (charging = batteryInfo.charging),
                        (chargingTime = batteryInfo.chargingTime),
                        (dischargingTime = batteryInfo.dischargingTime),
                        (level = batteryInfo.level);
                      this.batteryInfo = {
                        charging: charging,
                        chargingTime: chargingTime,
                        dischargingTime: dischargingTime,
                        level: level,
                      };
                    }
                    this.features = [
                      ((_f = this.navigator) === null || _f === void 0
                        ? void 0
                        : _f.maxTouchPoints) ||
                        ((_g = this.navigator) === null || _g === void 0
                          ? void 0
                          : _g.msMaxTouchPoints),
                      this.screen.width +
                        '|' +
                        this.screen.height +
                        '|' +
                        this.screen.colorDepth,
                      this.navigator.javaEnabled(),
                      'sendBeacon' in this.navigator,
                    ];
                    return [2 /*return*/];
                }
              });
            });
          };
          return ClientFeature;
        })();
        exports.ClientFeature = ClientFeature;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/baseLogger.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/baseLogger.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a;
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var interfaces_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/interfaces */ './src/core/Gigya.Js/app/Logger/interfaces.ts'
        );
        var stringParams_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
        );
        exports.gigErrorReport = 'gigErrorReport';
        var defaultLoggerConfig = {
          logLevel: interfaces_1.LogLevel.disabled,
          clientMuteLevel: interfaces_1.ClientMuteLevel.none,
          logTheme: interfaces_1.LogTheme.dark,
        };
        var themes =
          ((_a = {}),
          (_a[interfaces_1.LogTheme.none] = ['']),
          (_a[interfaces_1.LogTheme.dark] = [
            '38f689',
            '009FD4',
            'b381b3',
            '71b6ef',
            '64c162',
            '977bd8',
            'd168a4',
            '4c71d2',
            '84b466',
            '7d638a',
            '799fb7',
            '8fdf98',
            'dc7767',
            '0a70f5',
            '38b159',
            'af721b',
            'bfaf6f',
          ]),
          (_a[interfaces_1.LogTheme.light] = [
            '40806A',
            '003636',
            '9B59B6',
            'DB0A5B',
            '7928A1',
            '522032',
            '0000E0',
            '00202A',
            '000036',
            '005555',
            '1D781D',
            '4F5A65',
            '765AB0',
            '000000',
            '3C1362',
            '000060',
            '591D77',
          ]),
          _a);
        var selfLogsCss = 'color: #b0b0b0b0;';
        var noCss = '';
        var severityThreshold = interfaces_1.LogLevel.warn;
        var defaultGroupBehavior = interfaces_1.GroupBehavior.collapsed;
        var noopLoggerFn = function (message) {
          var optionalParams = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            optionalParams[_i - 1] = arguments[_i];
          }
        };
        var BaseLogger = /** @class */ (function () {
          function BaseLogger(_global) {
            this._global = _global;
            this._groupsStack = [];
            this._currColorIdx = 0;
            this.configKey = 'gig_loggerConfig';
            this._console = this._global.console;
            if (this.isEnabled) {
              this.overrideClientLogs();
            }
          }
          BaseLogger.prototype.getConfig = function () {
            if (!this._config) {
              this._config =
                this.readLoggerConfigFromHash() || // inner frames reads config from hash
                this.readLoggerConfigFromCookie() || // top frames reads config from cookie
                defaultLoggerConfig;
            }
            return this._config;
          };
          Object.defineProperty(BaseLogger.prototype, 'isEnabled', {
            get: function () {
              return this.getConfig().logLevel > interfaces_1.LogLevel.disabled;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'logLevel', {
            get: function () {
              return this.getConfig().logLevel;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'palette', {
            get: function () {
              return themes[this.getConfig().logTheme];
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.getNextColor = function () {
            if (this.getConfig().logTheme === interfaces_1.LogTheme.none) {
              return '';
            }
            if (this._currColorIdx >= this.palette.length) {
              this._currColorIdx = 0;
            }
            return '#' + this.palette[this._currColorIdx++];
          };
          Object.defineProperty(BaseLogger.prototype, 'currentGroup', {
            get: function () {
              return this._groupsStack[this._groupsStack.length - 1];
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.readLoggerConfigFromHash = function () {
            var res = null;
            var loggerConfigStr = stringParams_1.getReqParamValue(
              location.hash,
              this.configKey
            );
            if (loggerConfigStr) {
              try {
                res = JSON.parse(decodeURIComponent(loggerConfigStr));
              } catch (e) {
                console.error(
                  '[Gigya]: exception while trying to parse logger config from hash',
                  e
                );
              }
            }
            return res;
          };
          BaseLogger.prototype.readLoggerConfigFromCookie = function () {
            try {
              var res = null;
              var cookie = stringParams_1.getParamValue(
                document.cookie,
                this.configKey,
                ';'
              );
              if (cookie) {
                try {
                  res = JSON.parse(cookie);
                } catch (e) {
                  console.error(
                    '[Gigya]: exception while trying to parse logger config from cookie',
                    e
                  );
                }
              }
              return res;
            } catch (e) {
              // iOS 10 webview throws in some scenarios
              return undefined;
            }
          };
          BaseLogger.prototype.setLoggerConfigCookie = function (loggerConfig) {
            document.cookie =
              this.configKey + '=' + JSON.stringify(loggerConfig);
          };
          BaseLogger.prototype.overrideClientLogs = function () {
            var _this = this;
            var Proxy = this._global['Proxy'];
            if (!Proxy) {
              return;
            }
            switch (this.getConfig().clientMuteLevel) {
              // do nothing
              case interfaces_1.ClientMuteLevel.none:
                break;
              // replace native console with a dummy
              case interfaces_1.ClientMuteLevel.all:
                this._global.console = new Proxy(this._global.console, {
                  get: function () {
                    return noopLoggerFn;
                  },
                });
                break;
              // override the group api and output a prefixed client log
              case interfaces_1.ClientMuteLevel.normal:
              default:
                this._global.console = new Proxy(this._global.console, {
                  get: function (target, property) {
                    return ['group', 'groupCollapsed', 'groupEnd'].indexOf(
                      property
                    ) !== -1
                      ? function () {
                          var _a;
                          var args = [];
                          for (var _i = 0; _i < arguments.length; _i++) {
                            args[_i] = arguments[_i];
                          }
                          return (_a = _this._console).log.apply(
                            _a,
                            tslib_1.__spreadArrays(
                              ['client has called console.' + property],
                              args
                            )
                          );
                        }
                      : target[property];
                  },
                });
                break;
            }
          };
          BaseLogger.prototype.getFormattedLogArgs = function (text, logGroup) {
            if (text === void 0) {
              text = '';
            }
            if (logGroup === void 0) {
              logGroup = this.currentGroup;
            }
            return {
              text: logGroup ? '%c\u2588' + text : '%c' + text,
              css: logGroup ? 'color: ' + logGroup.color + ';' : '',
            };
          };
          BaseLogger.prototype.restoreHangingGroups = function (hangingGroups) {
            // restore groups stack after a parent group has ended
            while (hangingGroups.length) {
              // restore the groups stack
              var group = hangingGroups.shift();
              this._groupsStack.push(group);
              // indicate group has been restored
              var logArgs = this.getFormattedLogArgs(
                ' %c[RESTORED - ' + group.groupTitle + ']'
              );
              this._console.groupCollapsed(
                logArgs.text,
                logArgs.css,
                selfLogsCss
              );
            }
          };
          BaseLogger.prototype.endGroup = function (group) {
            var logArgs = this.getFormattedLogArgs(
              ' [END - ' + group.groupTitle + ']',
              group
            );
            this._console.log(logArgs.text, logArgs.css);
            this._console.groupEnd();
          };
          BaseLogger.prototype.log = function (severity) {
            // log if one of the following
            // [1] logging is enabled and the log's severity is greater or equal to the configured logLevel
            // [2] severity is greater than the threshold but the configured logLevel is not greater than the threshold
            if (
              (this.isEnabled && severity >= this.logLevel) || // log
              (severity >= severityThreshold &&
                this.logLevel < severityThreshold)
            ) {
              // normalize log level
              var originalLogLevel = interfaces_1.LogLevel[severity];
              var normalizedLogLevel =
                severity === interfaces_1.LogLevel.debug
                  ? interfaces_1.LogLevel[interfaces_1.LogLevel.info] // using console.info for debug level
                  : originalLogLevel;
              // get formatted args and return the bound log function
              var logArgs = this.getFormattedLogArgs(
                ' %c[' + originalLogLevel + ']'
              );
              return this._console[normalizedLogLevel].bind(
                this._console,
                logArgs.text,
                logArgs.css,
                severity <= interfaces_1.LogLevel.info ? selfLogsCss : noCss
              );
            }
            return noopLoggerFn;
          };
          BaseLogger.prototype.getJsonFromError = function (err) {
            return {
              name: err.name,
              message: err.message,
              stack: err.stack,
            };
          };
          BaseLogger.prototype.errorParser = function (details) {
            var _this = this;
            var formatter = function (k, v) {
              return v instanceof Error ? _this.getJsonFromError(v) : v;
            };
            return JSON.parse(JSON.stringify(details, formatter));
          };
          Object.defineProperty(BaseLogger.prototype, 'debug', {
            get: function () {
              return this.log(interfaces_1.LogLevel.debug);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'info', {
            get: function () {
              return this.log(interfaces_1.LogLevel.info);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'warn', {
            get: function () {
              return this.log(interfaces_1.LogLevel.warn);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'error', {
            get: function () {
              var _this = this;
              return function (message, details) {
                if (details && typeof details === 'object') {
                  details = _this.errorParser(details);
                }
                _this
                  .log(interfaces_1.LogLevel.error)
                  .apply(_this, [message].concat([details]));
                _this.report(message, details);
              };
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.group = function (groupTitle, collapsed) {
            var _this = this;
            if (collapsed === void 0) {
              collapsed =
                defaultGroupBehavior === interfaces_1.GroupBehavior.collapsed;
            }
            if (this.isEnabled) {
              var color = this.getNextColor();
              var groupLog = function () {
                var _a, _b;
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                return collapsed
                  ? (_a = _this._console).groupCollapsed.apply(_a, args)
                  : (_b = _this._console).group.apply(_b, args);
              };
              this._groupsStack.push({ groupTitle: groupTitle, color: color });
              var logArgs = this.getFormattedLogArgs(
                ' [START - ' + groupTitle + ']'
              );
              groupLog(logArgs.text, logArgs.css);
            }
            return {
              end: function () {
                return _this.groupEnd(groupTitle);
              },
              endWhen: function (done) {
                if (typeof done == 'function') {
                  done = done();
                }
                if (done && done.then) {
                  done.then(function () {
                    return _this.groupEnd(groupTitle);
                  });
                } else {
                  // sync
                  _this.groupEnd(groupTitle);
                }
              },
            };
          };
          BaseLogger.prototype.groupEnd = function (groupTitle) {
            if (this.isEnabled) {
              var hangingGroups = [];
              var currGroup = this._groupsStack.pop(); // get the current active group
              // while the current group is not the same as the one that we want to end and we have other groups in the stack
              while (
                currGroup.groupTitle !== groupTitle &&
                this._groupsStack.length
              ) {
                hangingGroups.unshift(currGroup); // [1] push it the current group into the temp 'hanging groups' stack
                currGroup = this._groupsStack.pop(); // [2] get the next group in stack
                this._console.groupEnd(); // [3] groupEnd for each group that is not the current group
              }
              // end the group
              this.endGroup(currGroup);
              // resume child groups
              if (hangingGroups.length) {
                this.restoreHangingGroups(hangingGroups);
              }
            }
          };
          BaseLogger.prototype.enable = function (
            logLevel,
            clientMuteLevel,
            logTheme
          ) {
            if (logLevel === void 0) {
              logLevel = interfaces_1.LogLevel.info;
            }
            if (clientMuteLevel === void 0) {
              clientMuteLevel = interfaces_1.ClientMuteLevel.normal;
            }
            if (logTheme === void 0) {
              logTheme = interfaces_1.LogTheme.dark;
            }
            this.setLoggerConfigCookie({
              logLevel: logLevel,
              clientMuteLevel: clientMuteLevel,
              logTheme: logTheme,
            });
          };
          BaseLogger.prototype.disable = function () {
            this.setLoggerConfigCookie({
              logLevel: interfaces_1.LogLevel.disabled,
              clientMuteLevel: defaultLoggerConfig.clientMuteLevel,
              logTheme: defaultLoggerConfig.logTheme,
            });
          };
          return BaseLogger;
        })();
        exports.BaseLogger = BaseLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/iFrameLogger.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/iFrameLogger.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var baseLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/baseLogger */ './src/core/Gigya.Js/app/Logger/baseLogger.ts'
        );
        var stringParams_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
        );
        var IFrameLogger = /** @class */ (function (_super) {
          tslib_1.__extends(IFrameLogger, _super);
          function IFrameLogger(_global) {
            if (_global === void 0) {
              _global = window;
            }
            var _this = _super.call(this, _global) || this;
            _this._global = _global;
            return _this;
          }
          IFrameLogger.prototype.report = function (
            message,
            details,
            includeStack
          ) {
            if (includeStack === void 0) {
              includeStack = true;
            }
            // send the report from the top frame
            try {
              // calculate the top frame origin
              var a = document.createElement('a');
              var domain =
                stringParams_1.getReqParamValue(location.hash, 'origin') ||
                stringParams_1.getReqParamValue(location.hash, 'd');
              if (!domain) return;
              a.href = domain;
              var targetOrigin =
                a.protocol + '//' + a.hostname + (a.port ? ':' + a.port : '');
              // post message
              this._global.top.postMessage(
                JSON.stringify({
                  type: baseLogger_1.gigErrorReport,
                  message: message,
                  details: details,
                  includeStack: includeStack,
                }),
                targetOrigin
              );
            } catch (e) {
              console.error(e);
            }
          };
          return IFrameLogger;
        })(baseLogger_1.BaseLogger);
        exports.IFrameLogger = IFrameLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/interfaces.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/interfaces.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LogLevel;
        (function (LogLevel) {
          LogLevel[(LogLevel['disabled'] = 0)] = 'disabled';
          LogLevel[(LogLevel['debug'] = 1)] = 'debug';
          LogLevel[(LogLevel['info'] = 2)] = 'info';
          LogLevel[(LogLevel['warn'] = 3)] = 'warn';
          LogLevel[(LogLevel['error'] = 4)] = 'error';
        })((LogLevel = exports.LogLevel || (exports.LogLevel = {})));
        var ClientMuteLevel;
        (function (ClientMuteLevel) {
          ClientMuteLevel[(ClientMuteLevel['none'] = 0)] = 'none';
          ClientMuteLevel[(ClientMuteLevel['normal'] = 1)] = 'normal';
          ClientMuteLevel[(ClientMuteLevel['all'] = 2)] = 'all';
        })(
          (ClientMuteLevel =
            exports.ClientMuteLevel || (exports.ClientMuteLevel = {}))
        );
        var LogTheme;
        (function (LogTheme) {
          LogTheme[(LogTheme['none'] = 0)] = 'none';
          LogTheme[(LogTheme['dark'] = 1)] = 'dark';
          LogTheme[(LogTheme['light'] = 2)] = 'light';
        })((LogTheme = exports.LogTheme || (exports.LogTheme = {})));
        var GroupBehavior;
        (function (GroupBehavior) {
          GroupBehavior[(GroupBehavior['expanded'] = 0)] = 'expanded';
          GroupBehavior[(GroupBehavior['collapsed'] = 1)] = 'collapsed';
        })(
          (GroupBehavior =
            exports.GroupBehavior || (exports.GroupBehavior = {}))
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/loggerJsonp.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/loggerJsonp.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function loggerJsonp(endpoint, params) {
          var script = document.createElement('script');
          script.src = endpoint + '?' + params;
          script.type = 'text/javascript';
          script.onload = function () {
            document.getElementsByTagName('head')[0].removeChild(script);
          };
          document.getElementsByTagName('head')[0].appendChild(script);
        }
        exports.loggerJsonp = loggerJsonp;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/main.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/main.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var parentLogger_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/parentLogger */ './src/core/Gigya.Js/app/Logger/parentLogger.ts'
          );
          var iFrameLogger_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/iFrameLogger */ './src/core/Gigya.Js/app/Logger/iFrameLogger.ts'
          );
          if (!window.gigya.logger) {
            __webpack_provided_Object_dot_assign(window.gigya, {
              logger:
                window === window.top
                  ? new parentLogger_1.ParentLogger()
                  : new iFrameLogger_1.IFrameLogger(),
            });
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/parentLogger.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/parentLogger.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var baseLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/baseLogger */ './src/core/Gigya.Js/app/Logger/baseLogger.ts'
        );
        var loggerJsonp_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/loggerJsonp */ './src/core/Gigya.Js/app/Logger/loggerJsonp.ts'
        );
        var gigyaScriptEl_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts'
        );
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ../Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var ParentLogger = /** @class */ (function (_super) {
          tslib_1.__extends(ParentLogger, _super);
          function ParentLogger(
            _global,
            _errorReportConfig,
            _canaryConfig,
            _random,
            _jsonp
          ) {
            if (_global === void 0) {
              _global = window;
            }
            if (_errorReportConfig === void 0) {
              _errorReportConfig = window.gigya.errorReport;
            }
            if (_canaryConfig === void 0) {
              _canaryConfig = window.gigya.canary;
            }
            if (_random === void 0) {
              _random = function () {
                return Math.random() * 100;
              };
            }
            if (_jsonp === void 0) {
              _jsonp = loggerJsonp_1.loggerJsonp;
            }
            var _this = _super.call(this, _global) || this;
            _this._global = _global;
            _this._errorReportConfig = _errorReportConfig;
            _this._canaryConfig = _canaryConfig;
            _this._random = _random;
            _this._jsonp = _jsonp;
            var errorReportEnabled =
              _this._errorReportConfig && _this._errorReportConfig.enabled;
            var runningAsCanary =
              _this._canaryConfig && _this._canaryConfig.isActive;
            var enrolledToReportErrors = _this.enrollErrorReporting();
            if (
              errorReportEnabled &&
              (runningAsCanary || enrolledToReportErrors)
            ) {
              _this._isErrorReporter = true;
              _this.setupMessageListener();
              _this._guid = _this.generateGUID();
            }
            return _this;
          }
          ParentLogger.prototype.enrollErrorReporting = function () {
            return (
              (this._errorReportConfig &&
                this._errorReportConfig.probability) >= this._random()
            );
          };
          ParentLogger.prototype.setupMessageListener = function () {
            var _this = this;
            var errorReportMessageListener = function (event) {
              var dc = window.gigya.dataCenter;
              var gigyaDomain = window.gigya.defaultApiDomain.replace(
                /\./g,
                '.'
              ); // replace all '.' with '\.'
              var allowedOriginRegex = new RegExp(
                'cdns?.' + dc + '.' + gigyaDomain + '$'
              );
              if (!event.origin.match(allowedOriginRegex)) {
                return;
              }
              try {
                var data = JSON.parse(event.data);
                if (data.type === baseLogger_1.gigErrorReport) {
                  _this.report(data.message, data.details, data.includeStack);
                }
              } catch (e) {} // unexpected event.data
            };
            this._global.addEventListener(
              'message',
              errorReportMessageListener,
              false
            );
          };
          ParentLogger.prototype.getApiKey = function () {
            var apiKey =
              window.gigya['thisScript'] && window.gigya['thisScript'].APIKey;
            if (!apiKey) {
              var scriptElement = gigyaScriptEl_1.getGigyaScriptElement();
              var URLParams =
                URLUtils.getParamsFromURL(
                  scriptElement && scriptElement.src,
                  true
                ) || {};
              apiKey = URLParams['apikey'];
            }
            return apiKey;
          };
          ParentLogger.prototype.createReportParams = function (
            message,
            details,
            includeStack
          ) {
            if (details === void 0) {
              details = {};
            }
            if (includeStack === void 0) {
              includeStack = false;
            }
            var params = {
              message: message,
              apiKey: this.getApiKey(),
              stack: includeStack ? new Error().stack : '',
              page: LocalInfo_1.localInfo && LocalInfo_1.localInfo.pageDomain,
              browser:
                LocalInfo_1.localInfo && LocalInfo_1.localInfo.currentBrowser,
              buildVersion: window.gigya.build.version,
              buildNumber: window.gigya.build.number,
              format: 'json',
              sdk: 'web',
            };
            if (typeof details == 'string') {
              details = { message: details };
            }
            details['guid'] = this._guid;
            params['details'] = JSON.stringify(details);
            return params;
          };
          ParentLogger.prototype.report = function (
            message,
            details,
            includeStack,
            forceReport
          ) {
            if (includeStack === void 0) {
              includeStack = false;
            }
            if (forceReport === void 0) {
              forceReport = false;
            }
            if (!(forceReport || this._isErrorReporter)) {
              // don't continue if we don't need to report
              return;
            }
            try {
              var reportParams = this.createReportParams(
                message,
                details,
                includeStack
              );
              var sdkErrorReportEndpoint =
                location.protocol + '//' + this.apiDomain + '/sdk.errorReport';
              Uri_1.Uri.parse(sdkErrorReportEndpoint)
                .addToSearch(reportParams)
                .fetch(0);
            } catch (e) {}
          };
          ParentLogger.prototype.generateGUID = function () {
            try {
              // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
              return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
                /[xy]/g,
                function (c) {
                  var r = (Math.random() * 16) | 0,
                    v = c == 'x' ? r : (r & 0x3) | 0x8;
                  return v.toString(16);
                }
              );
            } catch (e) {
              return '';
            }
          };
          Object.defineProperty(ParentLogger.prototype, 'apiDomain', {
            get: function () {
              var _a, _b;
              if (
                ((_a = window.gigya.partnerSettings) === null || _a === void 0
                  ? void 0
                  : _a.customAPIDomainPrefix) &&
                (LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.baseDomain.endsWith(
                      window.gigya._.config.hostedPagesDomain
                    ))
              ) {
                return LocalInfo_1.localInfo.baseDomain;
              }
              if (
                ((_b = window.gigya.partnerSettings) === null || _b === void 0
                  ? void 0
                  : _b.customAPIDomainPrefix) &&
                LocalInfo_1.localInfo.baseDomain &&
                LocalInfo_1.localInfo.baseDomain !==
                  window.gigya.defaultApiDomain
              ) {
                return (
                  window.gigya.partnerSettings.customAPIDomainPrefix +
                  '.' +
                  LocalInfo_1.localInfo.baseDomain
                );
              } else {
                return (
                  'accounts.' +
                  window.gigya.dataCenter +
                  '.' +
                  window.gigya.defaultApiDomain
                );
              }
            },
            enumerable: true,
            configurable: true,
          });
          return ParentLogger;
        })(baseLogger_1.BaseLogger);
        exports.ParentLogger = ParentLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/FlagService.ts':
      /*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/FlagService.ts ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var FlagService = /** @class */ (function () {
          function FlagService() {}
          Object.defineProperty(FlagService, 'forceWebSdkBootstrap', {
            get: function () {
              return this.get('forceWebSdkBootstrap');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useGigyaJsBaseDomain', {
            get: function () {
              return this.get('useGigyaJsBaseDomain');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'hideSSOFrame', {
            get: function () {
              return this.get('hideSSOFrame');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'wcagContrastFix', {
            get: function () {
              return this.get('wcagContrastFix');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'newFormLinkInstanceElement', {
            get: function () {
              return this.get('newFormLinkInstanceElement');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'stopSendingReports', {
            get: function () {
              return this.get('stopSendingReports');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setGroupApiDomainAfterLogin', {
            get: function () {
              return this.get('setGroupApiDomainAfterLogin');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useHttpStatusCode', {
            get: function () {
              return this.get('useHttpStatusCode');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'alwaysCheckCookieSave', {
            get: function () {
              return this.get('alwaysCheckCookieSave');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'fixPhoneTFATranslations', {
            get: function () {
              return this.get('fixPhoneTFATranslations');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'loadSsoFrameOnlyOnce', {
            get: function () {
              return this.get('loadSsoFrameOnlyOnce');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'verifyLoginOnlyOnce', {
            get: function () {
              return this.get('verifyLoginOnlyOnce');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'sendLangForEmailOTP', {
            get: function () {
              return this.get('sendLangForEmailOTP');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setProviderFromResponse', {
            get: function () {
              return this.get('setProviderFromResponse');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setCookieSameSiteLaxSession', {
            get: function () {
              return this.get('setCookieSameSiteLaxSession');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setCookieSameSiteLaxSocial', {
            get: function () {
              return this.get('setCookieSameSiteLaxSocial');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'setCookieSameSiteLaxLowPriority',
            {
              get: function () {
                return this.get('setCookieSameSiteLaxLowPriority');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'forceErrorReport', {
            get: function () {
              return this.get('forceErrorReport');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'skipSameScreenCheckOnSwitch', {
            get: function () {
              return this.get('skipSameScreenCheckOnSwitch');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'getOnlyVisibleField', {
            get: function () {
              return this.get('getOnlyVisibleField');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'updateAccountInfoAsync', {
            get: function () {
              return this.get('updateAccountInfoAsync');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'sanitizeEvaluatedValue', {
            get: function () {
              return this.get('sanitizeEvaluatedValue');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useSessionVerify', {
            get: function () {
              return this.get('useSessionVerify');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useExtendedPhoneNumberRegex', {
            get: function () {
              return this.get('useExtendedPhoneNumberRegex');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'generateNewCodeWcagCompliance', {
            get: function () {
              return this.get('generateNewCodeWcagCompliance');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'enforceAuthFlowRedirectForSocial',
            {
              get: function () {
                return this.get('enforceAuthFlowRedirectForSocial');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'useDecodeURIComponent', {
            get: function () {
              return this.get('useDecodeURIComponent');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useOidcGetParamHashOldStyle', {
            get: function () {
              return this.get('useOidcGetParamHashOldStyle');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useViewportPollerAction', {
            get: function () {
              return this.get('useViewportPollerAction');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'ignoreInterruptionsInOidcPassiveLogin',
            {
              get: function () {
                return this.get('ignoreInterruptionsInOidcPassiveLogin');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'overrideAllChildContext', {
            get: function () {
              return this.get('overrideAllChildContext');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'dispatchLoginEventWhenHandlerAdded',
            {
              get: function () {
                return this.get('dispatchLoginEventWhenHandlerAdded');
              },
              enumerable: true,
              configurable: true,
            }
          );
          FlagService.get = function (name) {
            var _a, _b;
            return (
              (((_a = window.gigya._.config) === null || _a === void 0
                ? void 0
                : _a.flags) &&
                ((_b = window.gigya._.config) === null || _b === void 0
                  ? void 0
                  : _b.flags[name])) ||
              false
            );
          };
          Object.defineProperty(FlagService, 'apiFlags', {
            // Every flag that is associated with data modification related to the api layer
            get: function () {
              return [];
            },
            enumerable: true,
            configurable: true,
          });
          return FlagService;
        })();
        exports.FlagService = FlagService;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/SiteData.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/SiteData.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var localStorage_1 = __webpack_require__(
          /*! ../Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
        );
        var object_1 = __webpack_require__(
          /*! ../Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var _merge = __webpack_require__(
          /*! lodash.merge */ '../node_modules/lodash.merge/index.js'
        );
        var MAX_LIMIT_OF_USERS_PREFERRED_LOGIN_METHODS_PER_SITE = 10;
        var SiteDataService = /** @class */ (function () {
          function SiteDataService() {}
          Object.defineProperty(SiteDataService, 'SITE_PREFERENCES_KEY', {
            get: function () {
              return window.gigya.apiKey + '_preferences';
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(SiteDataService, 'SITE_GIG_KEY', {
            get: function () {
              return window.gigya.apiKey + '_gig';
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            SiteDataService.prototype,
            'didForcedBootstrap',
            {
              get: function () {
                return (
                  this.getDataByKey(SiteDataService.SITE_GIG_KEY)
                    .didForcedBootstrap || null
                );
              },
              set: function (didForcedBootstrap) {
                this.setDataByKey(SiteDataService.SITE_GIG_KEY, {
                  didForcedBootstrap: didForcedBootstrap,
                });
              },
              enumerable: true,
              configurable: true,
            }
          );
          SiteDataService.prototype.getPreferredLoginMethod = function (
            identifier
          ) {
            var _a, _b, _c, _d;
            if (!identifier) {
              return '';
            }
            var userPreferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            var usersPreferredLoginMethods =
              (_b =
                (_a =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _a === void 0
                  ? void 0
                  : _a.usersPreferredLoginMethods) !== null && _b !== void 0
                ? _b
                : [];
            return (_d =
              (_c = usersPreferredLoginMethods.find(function (user) {
                return user.identifier === identifier;
              })) === null || _c === void 0
                ? void 0
                : _c.preferredLoginMethod) !== null && _d !== void 0
              ? _d
              : '';
          };
          SiteDataService.prototype.setPreferredLoginMethod = function (
            authMethod,
            identifier
          ) {
            var _a, _b, _c, _d;
            if (!identifier) {
              return;
            }
            var userPreferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            var usersPreferredLoginMethods = tslib_1.__spreadArrays(
              (_b =
                (_a =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _a === void 0
                  ? void 0
                  : _a.usersPreferredLoginMethods) !== null && _b !== void 0
                ? _b
                : []
            );
            var tfaPreferredMethod =
              (_d =
                (_c =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _c === void 0
                  ? void 0
                  : _c.tfaPreferredMethod) !== null && _d !== void 0
                ? _d
                : '';
            var isUserExists = usersPreferredLoginMethods.some(function (user) {
              return user.identifier === identifier;
            });
            if (
              this.isMaxLimitUsersPreferredLoginMethodsReached(
                usersPreferredLoginMethods
              ) &&
              !isUserExists
            ) {
              usersPreferredLoginMethods =
                this.removeOldestUserPreferredLoginMethod(
                  usersPreferredLoginMethods
                );
            }
            if (!isUserExists) {
              usersPreferredLoginMethods = this.addUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                { identifier: identifier, preferredLoginMethod: authMethod }
              );
            }
            if (isUserExists) {
              usersPreferredLoginMethods =
                this.refreshExistingUserPreferredLoginMethod({
                  authMethod: authMethod,
                  identifier: identifier,
                  usersPreferredLoginMethods: usersPreferredLoginMethods,
                });
            }
            this.setDataByKey(SiteDataService.SITE_PREFERENCES_KEY, {
              authentication: {
                usersPreferredLoginMethods: usersPreferredLoginMethods,
                tfaPreferredMethod: tfaPreferredMethod,
              },
            });
          };
          SiteDataService.prototype.setScreenVariant = function (
            screenSetId,
            screenId,
            testId,
            variantId
          ) {
            var _a, _b, _c;
            this.setDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY,
              ((_a = {}),
              (_a[screenSetId] = {
                screens:
                  ((_b = {}),
                  (_b[screenId] =
                    ((_c = {}), (_c[testId] = { variant: variantId }), _c)),
                  _b),
              }),
              _a)
            );
          };
          SiteDataService.prototype.getScreenVariant = function (
            screenSetId,
            screenId,
            testId
          ) {
            var _a, _b, _c, _d;
            var preferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            return (_d =
              (_c =
                (_b =
                  (_a =
                    preferences === null || preferences === void 0
                      ? void 0
                      : preferences[screenSetId]) === null || _a === void 0
                    ? void 0
                    : _a.screens) === null || _b === void 0
                  ? void 0
                  : _b[screenId]) === null || _c === void 0
                ? void 0
                : _c[testId]) === null || _d === void 0
              ? void 0
              : _d.variant;
          };
          SiteDataService.prototype.getDataByKey = function (key) {
            return localStorage_1.getObject(key, {});
          };
          SiteDataService.prototype.setDataByKey = function (key, newData) {
            var oldData = this.getDataByKey(key);
            try {
              localStorage_1.setObject(
                key,
                object_1.removeUndefined(_merge(oldData, newData))
              );
            } catch (error) {
              window.gigya.logger.report('Failed to save local site data', {
                error: error,
                key: key,
              });
            }
          };
          SiteDataService.prototype.refreshExistingUserPreferredLoginMethod =
            function (_a) {
              var usersPreferredLoginMethods = _a.usersPreferredLoginMethods,
                identifier = _a.identifier,
                authMethod = _a.authMethod;
              var remainingMethods = this.removeUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                identifier
              );
              return this.addUserPreferredLoginMethod(remainingMethods, {
                identifier: identifier,
                preferredLoginMethod: authMethod,
              });
            };
          SiteDataService.prototype.removeUserPreferredLoginMethod = function (
            usersPreferredLoginMethods,
            identifier
          ) {
            return usersPreferredLoginMethods.filter(function (
              userLoginMethod
            ) {
              return userLoginMethod.identifier !== identifier;
            });
          };
          SiteDataService.prototype.isMaxLimitUsersPreferredLoginMethodsReached =
            function (usersPreferredLoginMethods) {
              return (
                usersPreferredLoginMethods.length ===
                MAX_LIMIT_OF_USERS_PREFERRED_LOGIN_METHODS_PER_SITE
              );
            };
          SiteDataService.prototype.removeOldestUserPreferredLoginMethod =
            function (usersPreferredLoginMethods) {
              var oldestMethod = usersPreferredLoginMethods[0];
              return this.removeUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                oldestMethod === null || oldestMethod === void 0
                  ? void 0
                  : oldestMethod.identifier
              );
            };
          SiteDataService.prototype.addUserPreferredLoginMethod = function (
            usersPreferredLoginMethods,
            userPreferredLogin
          ) {
            return tslib_1.__spreadArrays(usersPreferredLoginMethods, [
              userPreferredLogin,
            ]);
          };
          return SiteDataService;
        })();
        exports.SiteDataService = SiteDataService;
        exports.siteData = new SiteDataService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/DOM.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/DOM.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var viewportUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/viewport */ './src/core/Gigya.Js/app/Utils/viewport.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        exports._popupContainers = [];
        exports._pseudoContainers = [];
        var _nextZIndex = 999999999;
        var backListener = null;
        function getNextZIndex() {
          _nextZIndex++;
          return _nextZIndex;
        }
        exports.getNextZIndex = getNextZIndex;
        function getGigyaScriptElement(fileNames) {
          var scripts = document.getElementsByTagName('script');
          var scriptElement;
          var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
          for (var i = scripts.length - 1; i >= 0; i--) {
            var script = scripts[i];
            var src = script.src.toLowerCase();
            if (src !== '') {
              if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                var isFileNameExistInSrc =
                  fileNames.length === 0 ||
                  fileNames.some(function (fileName) {
                    return src.indexOf(fileName) > -1;
                  });
                if (isFileNameExistInSrc) {
                  scriptElement = script;
                  break;
                }
              }
            }
          }
          return scriptElement;
        }
        exports.getGigyaScriptElement = getGigyaScriptElement;
        function dispatch(el, eventName) {
          var event;
          try {
            event = new Event(eventName);
          } catch (e) {
            // IE10 and below support
            event = document.createEvent('CustomEvent');
            event.initCustomEvent(eventName, true, true, {});
          }
          el.dispatchEvent(event);
        }
        exports.dispatch = dispatch;
        function addButtonSubmitListener(el, handler, event, debugName) {
          if (event === void 0) {
            event = 'click';
          }
          // Just in case the element does not exist.
          if (!el) {
            return;
          }
          el.setAttribute('role', 'button');
          if (el.getAttribute('tabindex') != '-1') {
            el.setAttribute('tabindex', '0');
          }
          addEventListener(el, event, function (e) {
            return handler(e);
          });
          addEventListener(el, 'keydown', function (e) {
            if ((e.which || e.keyCode) == 13) {
              e.preventDefault();
              handler(e);
            }
          });
        }
        exports.addButtonSubmitListener = addButtonSubmitListener;
        function addEventListener(el, eventName, handler) {
          if (!el || !handler) return;
          if (el.addEventListener) {
            el.addEventListener(eventName, handler, true);
          } else {
            el.attachEvent('on' + eventName, handler);
          }
        }
        exports.addEventListener = addEventListener;
        function addActivationHandler(el, handler) {
          if (!el || !handler) return;
          this.addEventListener(el, 'keydown', function (event) {
            if (event.code === 'Space' || event.code === 'Enter') {
              handler();
            }
          });
          this.addEventListener(el, 'click', handler);
        }
        exports.addActivationHandler = addActivationHandler;
        function removeEventListener(el, eventName, handler) {
          if (!el || !handler) return;
          if (el.removeEventListener) {
            el.removeEventListener(eventName, handler, true);
          } else {
            el.detachEvent('on' + eventName, handler);
          }
        }
        exports.removeEventListener = removeEventListener;
        function disableDefaultEventHandling(event) {
          if (event.preventDefault) {
            event.preventDefault();
          } else if (window.event) {
            window.event.returnValue = false;
          }
        }
        exports.disableDefaultEventHandling = disableDefaultEventHandling;
        function addDialogBackListener(handler) {
          _removeDialogBackListener();
          // This should fire when back is clicked
          backListener = function (e) {
            if (e && e.newURL && e.newURL.indexOf('|gigyaMobileDialog') == -1) {
              handler(e);
              _removeDialogBackListener();
            }
          };
          // hash could change right after the call if it was initiated from a link that didn't return false
          window.setTimeout(function () {
            if (window.location.hash.indexOf('|gigyaMobileDialog') == -1) {
              window.location.hash =
                window.location.hash + '|gigyaMobileDialog';
            }
            addEventListener(window, 'hashchange', backListener);
          }, 50);
        }
        exports.addDialogBackListener = addDialogBackListener;
        function _removeDialogBackListener() {
          if (!backListener) return;
          removeEventListener(window, 'hashchange', backListener);
          backListener = null;
          //restore previous hash
          window.location.hash = window.location.hash.replace(
            '|gigyaMobileDialog',
            ''
          );
        }
        exports._removeDialogBackListener = _removeDialogBackListener;
        function prependToBody(el, document) {
          if (document === void 0) {
            document = window.document;
          }
          if (!document.body) return;
          if (document.body.insertBefore && document.body.firstChild) {
            document.body.insertBefore(el, document.body.firstChild);
          } else {
            // Backward compatibility
            document.body.appendChild(el);
          }
        }
        exports.prependToBody = prependToBody;
        function appendToBody(el, document) {
          if (document === void 0) {
            document = window.document;
          }
          if (!document.body) return;
          document.body.appendChild(el);
        }
        exports.appendToBody = appendToBody;
        function removeElement(el) {
          if (el && el.parentElement) {
            el.parentElement.removeChild(el);
          }
        }
        exports.removeElement = removeElement;
        function isChildOf(child, parent) {
          var directParent = child.parentNode;
          while (directParent) {
            if (parent == directParent) {
              return true;
            }
            directParent = directParent.parentNode;
          }
          return false;
        }
        exports.isChildOf = isChildOf;
        function isVisible(el) {
          while (el) {
            var computedStyle = getComputedStyle(el);
            if (
              computedStyle.display === 'none' ||
              computedStyle.visibility === 'hidden'
            ) {
              return false;
            } else {
              el = el.parentElement;
            }
          }
          return true;
        }
        exports.isVisible = isVisible;
        function getCenteredDivID(name) {
          return (
            'gig_' +
            LocalInfo_1.localInfo.initTime.getTime().toString() +
            '_' +
            name
          );
        }
        exports.getCenteredDivID = getCenteredDivID;
        function createElementWithAttributes(domElemName, domElemAttrs) {
          var newDomElem = document.createElement(domElemName);
          if (domElemAttrs) {
            for (var elemAttr in domElemAttrs) {
              newDomElem[elemAttr] = domElemAttrs[elemAttr];
            }
          }
          return newDomElem;
        }
        exports.createElementWithAttributes = createElementWithAttributes;
        function createTopLevelDiv(id) {
          var el = document.createElement('div');
          if (el.style.zIndex != null) {
            el.style.zIndex = '' + getNextZIndex();
          }
          el.innerHTML = '';
          if (id) {
            el.id = id;
          }
          if (document.body) {
            if (document.body.insertBefore && document.body.firstChild) {
              document.body.insertBefore(el, document.body.firstChild);
            } else if (document.body.appendChild) {
              document.body.appendChild(el);
            }
          }
          return el;
        }
        exports.createTopLevelDiv = createTopLevelDiv;
        function hideByID(id) {
          var el = document.getElementById(id);
          if (el) {
            el.style.display = 'none';
          }
        }
        exports.hideByID = hideByID;
        function showByID(id) {
          var el = document.getElementById(id);
          if (el) {
            el.style.display = LocalInfo_1.localInfo.isIE6
              ? el.tagName == 'TD'
                ? 'table-cell'
                : el.tagName == 'TR'
                ? ''
                : el.tagName == 'TABLE'
                ? ''
                : 'block'
              : '';
          }
        }
        exports.showByID = showByID;
        function clearByID(id) {
          try {
            var c = document.getElementById(id);
            if (c != null) {
              c.innerHTML = '';
            }
          } catch (e) {}
        }
        exports.clearByID = clearByID;
        function getHTMLSize(html, container) {
          var divMeasure = document.createElement('div');
          divMeasure.style.position = 'absolute';
          divMeasure.style.left = '-1000px';
          divMeasure.innerHTML = html;
          container.appendChild(divMeasure);
          var w = divMeasure.offsetWidth;
          var h = divMeasure.offsetHeight;
          divMeasure.parentNode.removeChild(divMeasure);
          return { w: w, h: h };
        }
        exports.getHTMLSize = getHTMLSize;
        function getElementsByClass(parentElement, className, includeParent) {
          if (!parentElement) {
            return [];
          }
          var arEls = [];
          if (includeParent && isElementClass(parentElement, className)) {
            arEls.push(parentElement);
          }
          var els = parentElement.getElementsByTagName('*');
          for (var i = 0; i < els.length; i++) {
            if (isElementClass(els[i], className)) {
              arEls.push(els[i]);
            }
          }
          return arEls || [];
        }
        exports.getElementsByClass = getElementsByClass;
        function getElementsByAttribute(
          parentElement,
          tagName,
          attributeName,
          attributeValue
        ) {
          var arEls = [];
          var els = parentElement.getElementsByTagName(tagName);
          for (var i = 0; i < els.length; i++) {
            if (els[i].getAttribute(attributeName) == attributeValue) {
              arEls.push(els[i]);
            }
          }
          return arEls;
        }
        exports.getElementsByAttribute = getElementsByAttribute;
        function getElementPosition(el) {
          if (!el) {
            return { left: 0, top: 0, bottom: 0, right: 0 };
          }
          var rect = el.getBoundingClientRect();
          var scroll = viewportUtils.getScroll();
          var left = rect.left + scroll.left;
          var top = rect.top + scroll.top;
          return {
            left: left,
            top: top,
            right: left + rect.width,
            bottom: top + rect.height,
          };
        }
        exports.getElementPosition = getElementPosition;
        function addClassToElement(el, className) {
          if (!el) {
            return;
          }
          var existingClasses = el.className ? getClassNames(el) : [];
          var existingOriginalLength = existingClasses.length;
          var newClasses = className.split(' ');
          for (var j in newClasses) {
            var exists = false;
            if (!newClasses[j]) {
              break;
            }
            for (var i in existingClasses) {
              if (existingClasses[i] === newClasses[j]) {
                exists = true;
                break;
              }
            }
            if (!exists) {
              existingClasses.push(newClasses[j]);
            }
          }
          if (existingClasses.length !== existingOriginalLength) {
            el.className = existingClasses.join(' ');
          }
        }
        exports.addClassToElement = addClassToElement;
        function removeClassFromElement(el, className, substring) {
          if (substring === void 0) {
            substring = false;
          }
          if (!el) {
            return;
          }
          var arClass = getClassNames(el);
          for (var i = arClass.length - 1; i >= 0; i--) {
            if (
              arClass[i] === className ||
              (substring && arClass[i].indexOf(className) !== -1)
            ) {
              arClass.splice(i, 1);
            }
          }
          el.className = arClass.join(' ');
        }
        exports.removeClassFromElement = removeClassFromElement;
        function getClassNames(el) {
          var classes = [];
          if (typeof el.className === 'string') {
            classes = el.className.split(' ');
          }
          return classes;
        }
        exports.getClassNames = getClassNames;
        function isElementClass(el, className) {
          if (!el) return false;
          else if (!className) return true;
          else if (!el.className) return false;
          var exists = false;
          var arClass = getClassNames(el);
          for (var i = 0; i < arClass.length; i++) {
            if (arClass[i] === className) {
              exists = true;
              break;
            }
          }
          return exists;
        }
        exports.isElementClass = isElementClass;
        function cancelEvent(event) {
          if (!event) return;
          if ('cancelable' in event)
            // All browsers except <IE9
            event.preventDefault();
          else event.returnValue = false;
        }
        exports.cancelEvent = cancelEvent;
        function createElement(type, name) {
          var divContainer = document.createElement('div');
          name = name || '';
          divContainer.innerHTML =
            '<' +
            type +
            ' name="' +
            name +
            '" id="' +
            name +
            '"></' +
            type +
            '>';
          return divContainer.firstChild;
        }
        exports.createElement = createElement;
        function setSize(container, w, h, center) {
          if (container == null || container.style == null) {
            return;
          }
          if (w) {
            w = '' + w;
            var isWidthPrecentage = w.indexOf('%') > 0;
            if (!isNaN(w) || isWidthPrecentage) {
              var widthValue = '' + (isWidthPrecentage ? w : w + 'px');
              if (container.style.width != widthValue) {
                container.style.width = widthValue;
              }
            }
          }
          if (h) {
            h = '' + h;
            var isHeightPrecentage = h.indexOf('%') > 0;
            if (!isNaN(w) || isHeightPrecentage) {
              var heightValue = '' + (isHeightPrecentage ? h : h + 'px');
              if (container.style.height !== heightValue) {
                container.style.height = heightValue;
              }
            }
          }
          if (center && w && h) {
            if (container.style.zIndex == null || center) {
              container.style.zIndex = '' + getNextZIndex();
            }
            var vp = viewportUtils.getInnerSize();
            var scrl = viewportUtils.getScroll();
            var vpt = scrl.top;
            var vpl = scrl.left;
            container.style.top =
              '' + Math.max(0, vpt + Math.floor((vp.h - h) / 2)) + 'px';
            container.style.left =
              '' + Math.max(0, vpl + Math.floor((vp.w - w) / 2)) + 'px';
            container.style.visibility = '';
          }
        }
        exports.setSize = setSize;
        function createHiddenIframe(src) {
          var ifr = document.createElement('iframe');
          ifr.src = src;
          ifr.style.width = '30px';
          ifr.style.height = '10px';
          ifr.style.position = 'absolute';
          ifr.style.top = '-1000px';
          ifr.style.left = '-1000px';
          if (document.body) {
            appendToBody(ifr);
          } else {
            functionsUtils.invokeOnPageLoad(function () {
              appendToBody(ifr);
            });
          }
          return ifr;
        }
        exports.createHiddenIframe = createHiddenIframe;
        function attributeEncode(value) {
          return value
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/\"/g, '&quot;')
            .replace(/\'/g, '&#39;'); // IE8 doesn't support &apos;
        }
        exports.attributeEncode = attributeEncode;
        function manipulateAttributes(
          elements,
          matcher,
          replacePredicate,
          criteria
        ) {
          if (criteria === void 0) {
            criteria = function () {
              return true;
            };
          }
          elements.forEach(function (el) {
            if (!el.attributes) return;
            Array.prototype.slice.call(el.attributes).forEach(function (attr) {
              if (criteria(attr)) {
                attr.value = attr.value.replace(matcher, replacePredicate);
              }
            });
          });
        }
        exports.manipulateAttributes = manipulateAttributes;
        function textNodesUnder(el) {
          var n;
          var textNodes = [];
          var treeWalker = document.createTreeWalker(
            el,
            NodeFilter.SHOW_TEXT,
            null,
            false
          );
          while ((n = treeWalker.nextNode())) {
            textNodes.push(n);
          }
          return textNodes;
        }
        exports.textNodesUnder = textNodesUnder;
        function isHTMLBooleanAttribute(attrName) {
          return (
            [
              'autocomplete',
              'autofocus',
              'checked',
              'disabled',
              'hidden',
              'readonly',
              'required',
              'selected',
            ].indexOf(attrName) > -1
          );
        }
        exports.isHTMLBooleanAttribute = isHTMLBooleanAttribute;
        function isBelongToGigyaFieldset(el) {
          if (!el || el instanceof HTMLFormElement) {
            return false; // end of recursion - element is not a child of a fieldset
          }
          if (isElementClass(el.parentElement, 'gigya-fieldset')) {
            return true;
          }
          return isBelongToGigyaFieldset(el.parentElement);
        }
        exports.isBelongToGigyaFieldset = isBelongToGigyaFieldset;
        function getClosestElement(elem, selector, parent) {
          if (parent === void 0) {
            parent = document;
          }
          setMatchesPolyfill();
          // Get the closest matching element
          for (; elem && elem !== parent; elem = elem.parentNode) {
            if (
              elem === null || elem === void 0 ? void 0 : elem.matches(selector)
            )
              return elem;
          }
          return null;
        }
        exports.getClosestElement = getClosestElement;
        function createElementFromTemplate(template) {
          if (template === void 0) {
            template = '';
          }
          var _a;
          var div = document.createElement('div');
          div.innerHTML =
            template === null || template === void 0 ? void 0 : template.trim();
          return (_a = div.firstChild) !== null && _a !== void 0 ? _a : div;
        }
        exports.createElementFromTemplate = createElementFromTemplate;
        function setMatchesPolyfill() {
          if (!Element.prototype.matches) {
            // @ts-ignore
            Element.prototype.matches =
              Element.prototype.msMatchesSelector ||
              Element.prototype.webkitMatchesSelector;
          }
        }
        function isParentHasClass(nativeElement, className) {
          var _a;
          if (
            (_a =
              nativeElement === null || nativeElement === void 0
                ? void 0
                : nativeElement.classList) === null || _a === void 0
              ? void 0
              : _a.contains(className)
          ) {
            return true;
          }
          if (
            !(nativeElement === null || nativeElement === void 0
              ? void 0
              : nativeElement.parentElement)
          ) {
            return false;
          }
          return isParentHasClass(
            nativeElement === null || nativeElement === void 0
              ? void 0
              : nativeElement.parentElement,
            className
          );
        }
        exports.isParentHasClass = isParentHasClass;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/JSON.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/JSON.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function serialize(obj, includeFunctions, prettyPrint, l, maxLevel) {
          if (includeFunctions === void 0) {
            includeFunctions = false;
          }
          if (prettyPrint === void 0) {
            prettyPrint = false;
          }
          if (l === void 0) {
            l = 0;
          }
          if (maxLevel === void 0) {
            maxLevel = 20;
          }
          if (!window.gigya.localInfo.isIE8) {
            return window['JSON'].stringify(obj);
          } else {
            if (!l) l = 0;
            if (l > maxLevel) return '[Too deep]';
            var prefix = '';
            var newline = '';
            var tab = '';
            if (prettyPrint) {
              tab = '\t';
              newline = '\n';
              for (var i = 0; i < l + 1; i++) {
                prefix += tab;
              }
            }
            var t = typeof obj;
            if (t == 'function') {
              return t.toString();
            }
            if (t != 'object' || obj === null) {
              // simple data type
              if (t == 'string')
                obj =
                  '"' +
                  obj
                    .replace(/(\"|\\)/g, '\\$1')
                    .replace(/\r\n|\r|\n/g, '\\n') +
                  '"';
              return String(obj);
            } else {
              var n,
                v,
                json = [],
                arr = obj && obj.constructor == Array;
              if (arr) {
                for (var i = 0; i < obj.length; i++) {
                  v = obj[i];
                  t = typeof v;
                  if (v == null || t == 'undefined') v = '';
                  else if (t == 'string')
                    v =
                      '"' +
                      v
                        .replace(/(\"|\\)/g, '\\$1')
                        .replace(/\r\n|\r|\n/g, '\\n') +
                      '"';
                  else if (t == 'function') {
                    if (includeFunctions) v = 'Function';
                    else v = '';
                  } else if (v.parentNode && v.innerHTML) v = 'HTMLElement';
                  else if (v.constructor == Date) v = '';
                  else if (t == 'object' && v !== null)
                    v = serialize(v, includeFunctions, prettyPrint, l + 1);
                  if (String(v) != '') json.push(prefix + tab + String(v));
                }
              } else {
                for (n in obj) {
                  v = obj[n];
                  t = typeof v;
                  if (v == null || t == 'undefined') v = String(v);
                  else if (t == 'string')
                    v =
                      '"' +
                      v
                        .replace(/(\"|\\)/g, '\\$1')
                        .replace(/\r\n|\r|\n/g, '\\n') +
                      '"';
                  else if (t == 'function') {
                    if (includeFunctions) {
                      v = 'Function';
                    } else {
                      v = '';
                    }
                  } else if (v.parentNode && v.innerHTML) v = 'HTMLElement';
                  else if (v.constructor == Date) v = '';
                  else if (t == 'object' && v !== null)
                    v =
                      newline +
                      serialize(v, includeFunctions, prettyPrint, l + 1);
                  if (String(v) != '')
                    json.push(
                      prefix +
                        tab +
                        '"' +
                        n
                          .replace(/(\"|\\)/g, '\\$1')
                          .replace(/\r\n|\r|\n/g, '\\n') +
                        '":' +
                        String(v)
                    );
                }
              }
              return (
                newline +
                prefix +
                (arr ? '[' : '{') +
                newline +
                json.join(',' + newline) +
                newline +
                prefix +
                (arr ? ']' : '}')
              );
            }
          }
        }
        exports.serialize = serialize;
        function deserialize(json, defaultValue, scope) {
          // Return default value if is empty string (or similar).
          if (!json || !json.replace(/^\s+|\s+$/g, '')) {
            return defaultValue || {};
          }
          // Attempt to parse. On error, warn in console and return default value.
          try {
            var keys = [];
            var values = [];
            if (scope) {
              for (var key in scope) {
                keys.push(key);
                values.push(scope[key]);
              }
            }
            var fn = eval(
              '(function(' +
                keys.join(',') +
                ') { return ' +
                json.trim() +
                '; })'
            );
            return fn.apply(undefined, values);
          } catch (e) {
            console.warn('Error deserializing JavaScript', e);
            return defaultValue || {};
          }
        }
        exports.deserialize = deserialize;
        function parse(json, defaultValue) {
          if (window.gigya.localInfo.isIE8) {
            return deserialize(json, defaultValue);
          } else {
            try {
              return window['JSON'].parse(json);
            } catch (e) {
              return defaultValue || {};
            }
          }
        }
        exports.parse = parse;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/URL.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/URL.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var constants_1 = __webpack_require__(
          /*! ./../../../../accounts/constants */ './src/accounts/constants.ts'
        );
        var keyValueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        function URLEncode(value) {
          return encodeURIComponent(value);
        }
        exports.URLEncode = URLEncode;
        function URLDecode(value) {
          return decodeURIComponent(value.replace(/\+/g, ' '));
        }
        exports.URLDecode = URLDecode;
        function URLDecodeRecursive(value) {
          var prevDecodingRes = '';
          var currDecodingRes = value;
          // keep decoding until we can't decode anymore
          while (currDecodingRes != prevDecodingRes) {
            // store the last decoding result
            prevDecodingRes = currDecodingRes;
            // decode the string once again
            currDecodingRes = URLDecode(prevDecodingRes);
          }
          return currDecodingRes;
        }
        exports.URLDecodeRecursive = URLDecodeRecursive;
        function getParamsFromURL(url, keysToLower) {
          if (!url || url.indexOf('?') === -1) {
            return {};
          }
          return keyValueUtils.deserialize(
            url.split('#')[0].split('?')[1],
            '&',
            keysToLower
          );
        }
        exports.getParamsFromURL = getParamsFromURL;
        function getGigParamsFromURL(config) {
          var _a = config || {},
            url = _a.url,
            paramPrefix = _a.paramPrefix,
            keysToLower = _a.keysToLower,
            removePrefix = _a.removePrefix;
          var prefix = paramPrefix || constants_1.GIGYA_PARAM_PREFIX;
          var urlParams = getParamsFromURL(url, keysToLower);
          return Object.keys(urlParams)
            .filter(function (key) {
              return key.indexOf(prefix) === 0 && key !== prefix;
            })
            .reduce(function (obj, key) {
              var newKey = removePrefix ? key.slice(4) : key;
              obj[newKey] = urlParams[key];
              return obj;
            }, {});
        }
        exports.getGigParamsFromURL = getGigParamsFromURL;
        function getParamValueFromURL(param, url, defaultValue) {
          if (null == url || '' == url) {
            return defaultValue;
          }
          var iqm = url.indexOf('?');
          if (iqm === -1) {
            return defaultValue;
          }
          var qs = '&' + url.substr(iqm + 1);
          var idx = qs.toLowerCase().indexOf('&' + param.toLowerCase() + '=');
          if (idx === -1) {
            return defaultValue;
          }
          var valAndMore = qs.substr(idx + (1 + param.length + 1)) + '&';
          idx = valAndMore.indexOf('&');
          return valAndMore.substr(0, idx);
        }
        exports.getParamValueFromURL = getParamValueFromURL;
        function addParamsToURL(url, oParams) {
          var params = getParamsFromURL(url);
          objectUtils.add(params, oParams);
          var urlHashSplit = url.split('#');
          var finalUrl =
            urlHashSplit[0].split('?')[0] +
            '?' +
            keyValueUtils.serialize(params, '&');
          if (urlHashSplit.length > 1) {
            finalUrl += '#' + urlHashSplit[1];
          }
          return finalUrl;
        }
        exports.addParamsToURL = addParamsToURL;
        var removeUnacceptableParams = function (params, unacceptableParams) {
          if (!unacceptableParams) {
            return params;
          }
          var validParams = {};
          Object.entries(params || {})
            .filter(function (_a) {
              var paramName = _a[0];
              return !unacceptableParams.test(paramName);
            })
            .forEach(function (_a) {
              var paramName = _a[0],
                paramValue = _a[1];
              return (validParams[paramName] = paramValue);
            });
          return validParams;
        };
        function getContextParamsFromUrl(config) {
          var _a = config || {},
            url = _a.url,
            paramPrefix = _a.paramPrefix,
            unacceptableParams = _a.unacceptableParams;
          if (!url) {
            return {};
          }
          var params = window.gigya.utils.URL.getGigParamsFromURL({
            url: url,
            paramPrefix: paramPrefix,
          });
          return removeUnacceptableParams(params, unacceptableParams);
        }
        exports.getContextParamsFromUrl = getContextParamsFromUrl;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/Uri.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/Uri.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var stringUtilsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
        );
        var Uri = /** @class */ (function () {
          function Uri(url, isAbsolute) {
            if (isAbsolute === void 0) {
              isAbsolute = true;
            }
            this._anchor = document.createElement('a');
            var protocol =
              document.location.protocol == 'http:' ? 'http' : 'https';
            if (
              isAbsolute &&
              url.indexOf('://') === -1 &&
              url.charAt(0) !== '/'
            )
              url = protocol + '://' + url;
            this._anchor.href = url;
          }
          Object.defineProperty(Uri.prototype, 'domain', {
            get: function () {
              return this._anchor.hostname;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'path', {
            get: function () {
              return this._anchor.pathname;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'href', {
            get: function () {
              return this._anchor.href;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'search', {
            get: function () {
              return this._anchor.search.slice(1);
            }, // dropping '?'
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'hash', {
            get: function () {
              return this._anchor.hash.slice(1);
            }, // dropping '#'
            enumerable: true,
            configurable: true,
          });
          Uri.prototype.toString = function () {
            return this._anchor.href;
          };
          Uri.prototype.addToSearch = function (params) {
            for (var name in params) {
              var val = params[name];
              if (
                (typeof val == 'boolean' ||
                  typeof val == 'number' ||
                  typeof val == 'string') &&
                name != 'eventName'
              ) {
                var addition = this._anchor.search ? '&' : '';
                this._anchor.search +=
                  '' + addition + name + '=' + encodeURIComponent(params[name]);
              }
            }
            return this;
          };
          Uri.prototype.fetch = function (retries) {
            if (retries === void 0) {
              retries = 0;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a, e_1;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _b.trys.push([0, 5, , 8]);
                    if (!window.fetch) return [3 /*break*/, 2];
                    return [4 /*yield*/, this.browserFetch()];
                  case 1:
                    _a = _b.sent();
                    return [3 /*break*/, 4];
                  case 2:
                    return [4 /*yield*/, this.xhr()];
                  case 3:
                    _a = _b.sent();
                    _b.label = 4;
                  case 4:
                    return [2 /*return*/, _a];
                  case 5:
                    e_1 = _b.sent();
                    if (retries <= 0) throw new Error('fetch failed: ' + e_1);
                    return [4 /*yield*/, this.delay(1)];
                  case 6:
                    _b.sent();
                    return [4 /*yield*/, this.fetch(retries - 1)];
                  case 7:
                    return [2 /*return*/, _b.sent()];
                  case 8:
                    return [2 /*return*/];
                }
              });
            });
          };
          Uri.prototype.isBaseOf = function (url) {
            return Uri.parse(url).isIn(this);
          };
          Uri.prototype.isIn = function (base) {
            if (typeof base === 'string') {
              base = Uri.parse(base);
            }
            return (
              (this.domain == base.domain || // page is the base domain
                this.isSubDomainOf(base)) && // or sub-domain of it
              (!base.path || this.path.indexOf(base.path) == 0)
            ); // page is also in base's defined path;
          };
          Uri.prototype.isForSubDomains = function () {
            return this.domain.indexOf('.') == 0;
          };
          Uri.prototype.isSubDomainOf = function (base) {
            var domain = '';
            if (!base.isForSubDomains()) domain = '.';
            domain += base.domain;
            return stringUtilsUtils.endsWith(this.domain, domain);
          };
          Uri.parse = function (url, isAbsolute) {
            if (isAbsolute === void 0) {
              isAbsolute = true;
            }
            if (!url) return undefined;
            return new Uri(url, isAbsolute);
          };
          Uri.prototype.browserFetch = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var url, response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    url = this.toString();
                    return [4 /*yield*/, window.fetch(url)];
                  case 1:
                    response = _a.sent();
                    if (!response.ok) throw new Error('fetch failed');
                    return [2 /*return*/, response.json()];
                }
              });
            });
          };
          Uri.prototype.xhr = function () {
            var url = this.toString();
            return new gigya.Promise(function (resolve, reject) {
              var xhr = new XMLHttpRequest();
              xhr.open('GET', url);
              xhr.send();
              xhr.onerror = reject;
              xhr.onload = function () {
                if (xhr.readyState !== 4 || xhr.status !== 200) {
                  return reject(
                    'xhr failed - ' + xhr.status + ' - ' + xhr.statusText
                  );
                }
                try {
                  var jsonResponse = JSON.parse(xhr.responseText);
                  return resolve(jsonResponse);
                } catch (e) {
                  return reject(e);
                }
              };
            });
          };
          Uri.prototype.delay = function (ms) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  new gigya.Promise(function (r) {
                    return setTimeout(r, ms);
                  }),
                ];
              });
            });
          };
          return Uri;
        })();
        exports.Uri = Uri;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/array.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/array.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function indexOf(ar, o) {
          for (var i = 0; i < ar.length; i++) {
            if (ar[i] == o) return i;
          }
          return -1;
        }
        exports.indexOf = indexOf;
        function clone(ar) {
          var ar2 = [];
          for (var i = 0; i < ar.length; i++) {
            ar2[i] = ar[i];
          }
          return ar2;
        }
        exports.clone = clone;
        function removeByValue(ar, value) {
          if (!ar) return;
          for (var i = ar.length - 1; i >= 0; i--) {
            if (ar[i] == value) {
              ar.splice(i, 1);
            }
          }
        }
        exports.removeByValue = removeByValue;
        function removeByProperty(ar, property, value) {
          if (!ar) return;
          for (var i = ar.length - 1; i >= 0; i--) {
            if (ar[i][property] == value) {
              ar.splice(i, 1);
            }
          }
        }
        exports.removeByProperty = removeByProperty;
        function getArrayFromString(str, delimiter, lowerCase) {
          // check for string type in the input and not empty.
          if (!str || typeof str != 'string') return [];
          // lowercase if demended
          if (lowerCase) str = str.toLowerCase();
          // clean the string:
          str = str.replace(/[ ]/g, '').replace(/,,/g, ',');
          // if string empty
          if (!str) return [];
          // return array from string
          return str.split(delimiter);
        }
        exports.getArrayFromString = getArrayFromString;
        function intersect(array) {
          var args = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
          }
          if (array == null) return [];
          var result = [];
          var argsLength = arguments.length;
          for (var i = 0, length = array.length; i < length; i++) {
            var item = array[i];
            if (this.indexOf(result, item) != -1) continue;
            for (var j = 1; j < argsLength; j++) {
              var arr = arguments[j];
              if (arr == null || this.indexOf(arr, item) == -1) break;
            }
            if (j === argsLength) result.push(item);
          }
          return result;
        }
        exports.intersect = intersect;
        function lastIndexOf(arr, val, fromIndex) {
          if (fromIndex === void 0) {
            fromIndex = 0;
          }
          for (var i = arr.length; --i >= fromIndex; ) {
            if (arr[i] === val) return i;
          }
          return -1;
        }
        exports.lastIndexOf = lastIndexOf;
        function forEach(arr, action) {
          for (var i = 0; i < arr.length; ++i) action(arr[i], i, arr);
        }
        exports.forEach = forEach;
        function forEachProp(obj, action) {
          for (var name in obj) {
            if (obj.hasOwnProperty(name)) action(obj[name], name, obj);
          }
        }
        exports.forEachProp = forEachProp;
        function some(arr, condition) {
          for (var i = 0; i < arr.length; ++i) {
            if (condition(arr[i], i, arr)) return true;
          }
          return false;
        }
        exports.some = some;
        function every(arr, condition) {
          for (var i = 0; i < arr.length; ++i) {
            if (!condition(arr[i], i, arr)) return false;
          }
          return true;
        }
        exports.every = every;
        function everyProp(obj, condition) {
          for (var name in obj) {
            if (obj.hasOwnProperty(name) && !condition(obj[name], name, obj))
              return false;
          }
          return true;
        }
        exports.everyProp = everyProp;
        function map(arr, action) {
          var result = new Array();
          forEach(arr, function (item, idx, arr) {
            return result.push(action(item, idx, arr));
          });
          return result;
        }
        exports.map = map;
        function firstIndex(arr, condition) {
          var result = -1;
          some(arr, function (item, index, arr) {
            if (condition(item, index, arr)) {
              result = index;
              return true;
            }
            return false;
          });
          return result;
        }
        exports.firstIndex = firstIndex;
        function first(arr, condition) {
          return arr[firstIndex(arr, condition)];
        }
        exports.first = first;
        function getAllEnumValues(enumType) {
          var results = [];
          for (var i in enumType)
            if (typeof enumType[i] == 'number') results.push(enumType[i]);
          return results;
        }
        exports.getAllEnumValues = getAllEnumValues;
        function getUniqueValues(arr) {
          for (var i = 0; i < arr.length; ++i) {
            for (var j = i + 1; j < arr.length; j++)
              if (arr[i] === arr[j]) {
                arr.splice(j, 1);
              }
          }
          return arr;
        }
        exports.getUniqueValues = getUniqueValues;
        function includes(arr, item) {
          if (arr === void 0) {
            arr = [];
          }
          return (
            (arr === null || arr === void 0 ? void 0 : arr.indexOf(item)) >= 0
          );
        }
        exports.includes = includes;
        function containsOnly(arr1, arr2) {
          if (!arr1 || !arr2) return false;
          if (arr1.length !== arr2.length) return false;
          if (arr1.length === 0 && arr2.length === 0) return true;
          return !arr1.some(function (elem) {
            return !includes(arr2, elem);
          });
        }
        exports.containsOnly = containsOnly;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/cookie.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/cookie.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var global_1 = __webpack_require__(
          /*! ./global */ './src/core/Gigya.Js/app/Utils/global.ts'
        );
        var CookieUtils = /** @class */ (function () {
          function CookieUtils(_cookieStore) {
            if (_cookieStore === void 0) {
              _cookieStore = new global_1.CookieStore();
            }
            this._cookieStore = _cookieStore;
          }
          CookieUtils.prototype.set = function (
            name,
            value,
            expires_in,
            cookieDomain,
            dontUseRootPath,
            sameSite
          ) {
            if (cookieDomain == null) {
              cookieDomain = this.getDefaultDomain();
            }
            var path = dontUseRootPath ? '' : '/';
            var expireMs = this._getExpirationInMs(expires_in);
            var expires = null;
            if (expireMs != null) {
              expires = new Date();
              expires.setTime(expires.getTime() + expireMs);
            }
            var cookieExist = this._setCookieInternal(
              name,
              value,
              path,
              expires,
              cookieDomain,
              sameSite
            );
            var shouldCookieExist = !expireMs || expireMs > 0;
            if (shouldCookieExist === cookieExist) {
              return true;
            }
            // If failed to set cookie, retry;
            // it might be because the domain is listed as TLD https://data.iana.org/TLD/tlds-alpha-by-domain.txt
            var pageDomain = LocalInfo_1.localInfo.pageDomain;
            cookieExist = this._setCookieInternal(
              name,
              value,
              path,
              expires,
              pageDomain,
              sameSite
            );
            return cookieExist === shouldCookieExist;
          };
          CookieUtils.prototype.get = function (name) {
            return this._cookieStore.getCookie(name);
          };
          CookieUtils.prototype.remove = function (name, domain) {
            if (domain === void 0) {
              domain = LocalInfo_1.localInfo.pageDomain;
            }
            this._removeFromBaseDomains(name, domain);
            this.set(name, '', -1, '', false);
            this.set(name, '', -1, '', true);
          };
          CookieUtils.prototype.getInfiniteExpirationTimeInSeconds =
            function () {
              // Set expiration time to 1 years
              return 60 * 60 * 24 * 365;
            };
          CookieUtils.prototype.canSaveCookie = function (cookieDomain) {
            if (cookieDomain === void 0) {
              cookieDomain = null;
            }
            try {
              return this.set(
                CookieUtils.testCookieName,
                'true',
                1,
                cookieDomain,
                null
              );
            } catch (e) {
              // iOS 10 webview throws in some scenarios
              return false;
            }
          };
          CookieUtils.prototype.getDefaultDomain = function (
            pageDomain,
            baseDomain
          ) {
            if (pageDomain === void 0) {
              pageDomain = LocalInfo_1.localInfo.pageDomain;
            }
            if (baseDomain === void 0) {
              baseDomain = LocalInfo_1.localInfo.baseDomain || '';
            }
            return baseDomain.length > 0 &&
              pageDomain.length >= baseDomain.length &&
              pageDomain.lastIndexOf(baseDomain) ===
                pageDomain.length - baseDomain.length
              ? baseDomain
              : pageDomain;
          };
          CookieUtils.prototype._getExpirationInMs = function (expiresIn) {
            var expireMs;
            if (expiresIn == null || expiresIn === '' || isNaN(expiresIn)) {
              expireMs = 1000 * this.getInfiniteExpirationTimeInSeconds();
            } else if (expiresIn == 0) {
              // 0 means Session
              expireMs = null;
            } else {
              // Any other value is number of seconds (A negative value would mean expire now!)
              expireMs = expiresIn * 1000;
            }
            return expireMs;
          };
          CookieUtils.prototype._setCookieInternal = function (
            name,
            value,
            path,
            expires,
            cookieDomain,
            sameSiteMode
          ) {
            if (sameSiteMode === void 0) {
              sameSiteMode = CookieUtils._getSameSiteMode();
            }
            var _a;
            var protocol =
              (_a =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.protocol) !== null && _a !== void 0
                ? _a
                : document.location.protocol;
            var isSecured = protocol.indexOf('https') === 0;
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              sameSite: sameSiteMode,
              secure: isSecured,
            });
            if (this.get(name)) {
              return true;
            }
            if (!sameSiteMode) {
              //if failed to write cookie without sameSite mode, then stop here
              return false;
            }
            if (sameSiteMode !== 'None') {
              this._fallbackToSameSiteNone(
                name,
                value,
                path,
                expires,
                cookieDomain,
                isSecured
              );
            }
            if (this.get(name)) {
              this._reportFallback('Setting SameSite=None', {
                name: name,
                value: value,
                sameSiteMode: sameSiteMode,
              });
              return true;
            }
            // If failed to write cookie with sameSite mode, retry without;
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              secure: isSecured,
            });
            if (this.get(name)) {
              this._reportFallback(
                'Cookie established only without sameSite mode',
                { name: name, value: value, sameSiteMode: sameSiteMode }
              );
              return true;
            }
            return false;
          };
          CookieUtils.prototype._removeFromBaseDomains = function (
            name,
            domain
          ) {
            var domainParts = domain.split('.');
            // when clearing from a.b.c.d.com --> clear from a.b.c.d.com, b.c.d.com, c.d.com, d.com
            for (var i = 0; i < domainParts.length - 1; i++) {
              var domain_1 = domainParts.slice(i).join('.');
              this.set(name, '', -1, domain_1, false);
              this.set(name, '', -1, domain_1, true);
            }
          };
          CookieUtils._getSameSiteMode = function () {
            if (!CookieUtils._disallowSameSiteMode()) return 'None';
          };
          CookieUtils._disallowSameSiteMode = function () {
            var _a, _b;
            var protocol =
              (_a =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.protocol) !== null && _a !== void 0
                ? _a
                : document.location.protocol;
            var ua =
              (_b =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.userAgent) !== null && _b !== void 0
                ? _b
                : navigator.userAgent.toLowerCase();
            var isSecured = protocol.indexOf('https') === 0;
            return (
              !isSecured ||
              !ua ||
              // Cover all iOS based browsers here. This includes:
              // - Safari on iOS 12 for iPhone, iPod Touch, iPad
              // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad
              // - Chrome on iOS 12 for iPhone, iPod Touch, iPad
              // All of which are broken by SameSite=None, because they use the iOS networking stack
              ua.indexOf('CPU iPhone OS 12') > -1 ||
              ua.indexOf('iPad; CPU OS 12') > -1 ||
              // Cover Mac OS X based browsers that use the Mac OS networking stack. This includes:
              // - Safari on Mac OS X.
              // This does not include:
              // - Chrome on Mac OS X
              // Because they do not use the Mac OS networking stack.
              (ua.indexOf('Macintosh; Intel Mac OS X 10_14') > -1 &&
                ua.indexOf('Version/') > -1 &&
                ua.indexOf('Safari') > -1) ||
              // Cover Chrome 50-69, because some versions are broken by SameSite=None,
              // and none in this range require it.
              // Note: this covers some pre-Chromium Edge versions,
              // but pre-Chromium Edge does not require SameSite=None.
              (ua.indexOf('Chrome/5') > -1 && ua.indexOf('Chrome/6') > -1)
            );
          };
          CookieUtils.prototype._fallbackToSameSiteNone = function (
            name,
            value,
            path,
            expires,
            cookieDomain,
            secure
          ) {
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              sameSite: 'None',
              secure: secure,
            });
          };
          CookieUtils.prototype._reportFallback = function (message, details) {
            window.gigya.logger.report(
              'Cookie Policy Fallback: ' + message,
              tslib_1.__assign(tslib_1.__assign({}, details), {
                isIframe: this._isIFrame(),
              }),
              false
            );
          };
          CookieUtils.prototype._isIFrame = function () {
            var _a;
            try {
              return (
                (window === null || window === void 0
                  ? void 0
                  : window.location) !==
                ((_a =
                  window === null || window === void 0
                    ? void 0
                    : window.parent) === null || _a === void 0
                  ? void 0
                  : _a.location)
              );
            } catch (e) {
              return true;
            }
          };
          CookieUtils.testCookieName = 'gig3pctest';
          return CookieUtils;
        })();
        exports.CookieUtils = CookieUtils;
        exports.default = new CookieUtils();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/domains.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/domains.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a, _b;
        Object.defineProperty(exports, '__esModule', { value: true });
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var stringUtilsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ./cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        // TODO: move to config
        var baseDomains;
        if (
          (_b =
            (_a = window.gigya.partnerSettings) === null || _a === void 0
              ? void 0
              : _a.baseDomains) === null || _b === void 0
            ? void 0
            : _b.length
        ) {
          baseDomains = window.gigya.partnerSettings.baseDomains;
        } else {
          if (window.self === window.top) {
            // only in the top frame
            window.gigya.logger.warn('gigya: missing base domains for site');
          }
          baseDomains = [document.location.hostname];
        }
        LocalInfo_1.localInfo.baseDomain = getBaseDomain(baseDomains);
        var gigyaDomainNamespaces = [
          'socialize',
          'accounts',
          'fidm',
          'gm',
          'comments',
          'gcs',
          'ids',
          'ds',
          'gscounters',
          'reports',
        ];
        function apiDomainFactory(apiDomain, defaultApiDomain) {
          if (apiDomain === void 0) {
            apiDomain = resolveApiDomain();
          }
          if (defaultApiDomain === void 0) {
            defaultApiDomain = window.gigya.defaultApiDomain;
          }
          var shouldAddNamespace = Uri_1.Uri.parse(apiDomain).isIn(
            Uri_1.Uri.parse(defaultApiDomain)
          );
          return function (namespace) {
            if (namespace && shouldAddNamespace) {
              var subDomain = namespace.split('.')[0];
              if (subDomain === 'sdk' || subDomain === 'oauth') {
                subDomain = 'accounts';
              } else if (gigyaDomainNamespaces.indexOf(subDomain) == -1) {
                window.gigya.logger.error(
                  'trying to send request to an invalid domain'
                );
                subDomain = gigyaDomainNamespaces[0];
              }
              return subDomain + '.' + apiDomain;
            } else {
              return apiDomain;
            }
          };
        }
        exports.apiDomainFactory = apiDomainFactory;
        function getGigyaDomain(namespace, dataCenter, defaultDomain) {
          if (dataCenter === void 0) {
            dataCenter = window.gigya.dataCenter;
          }
          if (defaultDomain === void 0) {
            defaultDomain = window.gigya.defaultApiDomain;
          }
          if (defaultDomain === 'sapcdm.cn' && dataCenter !== 'cn1') {
            defaultDomain = 'cn1.' + defaultDomain; //Fix for cn1-st1. it should be cn1-st1.cn1.sapcdm.cn and not cn1-st1.sapcdm.cn
          }
          var domain = dataCenter + '.' + defaultDomain;
          if (namespace) return namespace + '.' + domain;
          else return domain;
        }
        exports.getGigyaDomain = getGigyaDomain;
        function getBaseDomain(baseDomains, currentDomain, defaultDomains) {
          if (baseDomains === void 0) {
            baseDomains = window.gigya.partnerSettings.baseDomains;
          }
          if (currentDomain === void 0) {
            currentDomain = location.hostname;
          }
          if (defaultDomains === void 0) {
            defaultDomains = [
              'gigya.com',
              'cn1.sapcdm.cn',
              'localhost',
              window.gigya.defaultApiDomain,
            ];
          }
          // #49786 - Support webview without hostname.
          if (!currentDomain) {
            return '';
          }
          if (typeof baseDomains == 'string') {
            baseDomains = baseDomains.split(',');
          }
          var originURI = Uri_1.Uri.parse(currentDomain);
          if (defaultDomains) {
            baseDomains = baseDomains.concat(defaultDomains);
          }
          for (
            var _i = 0, baseDomains_1 = baseDomains;
            _i < baseDomains_1.length;
            _i++
          ) {
            var rawDomain = baseDomains_1[_i];
            // This does not take care of wildcards in the middle of string.
            var baseDomain = stringUtilsUtils.replaceAll(rawDomain, '*', '');
            var baseUri = Uri_1.Uri.parse(baseDomain);
            if (baseUri && originURI.isIn(baseUri)) {
              if (!window.gigya._) {
                window.gigya._ = {};
              }
              window.gigya._.isTrustedDomain = true;
              if (baseUri.isForSubDomains()) {
                return originURI.domain;
              } else {
                return baseUri.domain;
              }
            }
          }
          // fallback to the parent's window domain (for backward compatibility).
          return originURI.domain;
        }
        exports.getBaseDomain = getBaseDomain;
        function resolveApiDomain(
          customApiDomainPrefix,
          baseDomain,
          dataCenter,
          defaultApiDomain
        ) {
          if (customApiDomainPrefix === void 0) {
            customApiDomainPrefix =
              window.gigya.partnerSettings &&
              window.gigya.partnerSettings.customAPIDomainPrefix;
          }
          if (baseDomain === void 0) {
            baseDomain = LocalInfo_1.localInfo.baseDomain;
          }
          if (dataCenter === void 0) {
            dataCenter = window.gigya.dataCenter;
          }
          if (defaultApiDomain === void 0) {
            defaultApiDomain = window.gigya.defaultApiDomain;
          }
          var _a;
          var apiDomain = getHostedPagesApiDomainCookie();
          if (apiDomain) {
            return apiDomain;
          }
          // TODO: remove once a solution will be found for hosted pages
          if (
            baseDomain.endsWith(
              ((_a = window.gigya._.config) === null || _a === void 0
                ? void 0
                : _a.hostedPagesDomain) || 'my.gigya-ext.com'
            )
          ) {
            return baseDomain;
          }
          if (
            customApiDomainPrefix &&
            baseDomain &&
            baseDomain !== defaultApiDomain
          ) {
            return customApiDomainPrefix + '.' + baseDomain;
          }
          return getGigyaDomain(undefined, dataCenter, defaultApiDomain);
        }
        exports.resolveApiDomain = resolveApiDomain;
        function getStorageDomain() {
          var _a, _b, _c;
          var apiDomain = getHostedPagesApiDomainCookie();
          if (apiDomain) {
            return apiDomain;
          }
          if (
            (_b =
              (_a = window.gigya.thisScript) === null || _a === void 0
                ? void 0
                : _a.globalConf) === null || _b === void 0
              ? void 0
              : _b['storageDomainOverride']
          ) {
            return window.gigya.thisScript.globalConf['storageDomainOverride'];
          }
          if (
            ((_c = window.gigya.thisScript) === null || _c === void 0
              ? void 0
              : _c.baseDomain) &&
            FlagService_1.FlagService.useGigyaJsBaseDomain
          ) {
            return window.gigya.thisScript.baseDomain;
          }
          var domain = window.gigya.defaultApiDomain;
          if (
            window.gigya.utils.stringUtils.endsWith(domain, 'sapcdm.cn') &&
            window.gigya.dataCenter !== 'cn1'
          ) {
            // special case with china domain staging
            domain = 'cn1.sapcdm.cn';
          }
          var prefix =
            window.gigya.dataCenter !== 'global'
              ? 'cdns.' + window.gigya.dataCenter
              : 'cdns';
          return prefix + '.' + domain;
        }
        exports.getStorageDomain = getStorageDomain;
        function getHostedPagesApiDomainCookie() {
          return cookie_1.default.get('pages_apiDomain_' + window.gigya.apiKey);
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/functions.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/functions.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        function callAsync(methodName, params) {
          if (params === void 0) {
            params = {};
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  callFunction('gigya.' + methodName, [
                    tslib_1.__assign(tslib_1.__assign({}, params), {
                      callback: resolve,
                    }),
                  ]);
                }),
              ];
            });
          });
        }
        exports.callAsync = callAsync;
        function callFunction(name, arParams) {
          var fn = eval(name);
          var arParts = name.split('.');
          arParts.splice(arParts.length - 1, 1);
          var scope = eval(arParts.join('.'));
          fn.apply(scope, arParams);
        }
        exports.callFunction = callFunction;
        function invokeOnPageLoad(func, completeOnly) {
          if (
            (!document.readyState && document.body) ||
            document.readyState === 'complete' ||
            (!completeOnly &&
              document.readyState === 'interactive' &&
              document.body)
          ) {
            func();
          } else {
            var called_1 = false;
            var fnOnLoad = function () {
              if (!called_1) {
                called_1 = true;
                func();
              }
            };
            window.setTimeout(fnOnLoad, 20000); // fallback - sometimes readystate stays stuck on interactive
            DOMUtils.addEventListener(window, 'load', fnOnLoad);
            DOMUtils.addEventListener(document, 'DOMContentLoaded', fnOnLoad);
          }
        }
        exports.invokeOnPageLoad = invokeOnPageLoad;
        function createAlias(publicName, fnc) {
          var arNameSegments = publicName.split('.');
          var oCurrentSegment = window;
          for (
            var iSegment = 0;
            iSegment < arNameSegments.length - 1;
            iSegment++
          ) {
            var sSegment = arNameSegments[iSegment];
            if (!oCurrentSegment[sSegment]) {
              oCurrentSegment[sSegment] = {};
            }
            oCurrentSegment = oCurrentSegment[sSegment];
          }
          oCurrentSegment[arNameSegments[arNameSegments.length - 1]] = fnc;
        }
        exports.createAlias = createAlias;
        function debounce(fn, delayMilliseconds) {
          var timer = undefined;
          return function () {
            if (timer !== undefined) {
              clearTimeout(timer);
            }
            timer = setTimeout(function () {
              timer = undefined;
              fn();
            }, delayMilliseconds);
          };
        }
        exports.debounce = debounce;
        function addSrcToIFrameIfNeeded(iframe, src) {
          if (src === void 0) {
            src = cdn_1.getCdnResource('/');
          }
          if (
            LocalInfo_1.localInfo.isIOSWebView ||
            (LocalInfo_1.localInfo.isIOS && LocalInfo_1.localInfo.isWeChat)
          ) {
            iframe.setAttribute('src', src);
          }
        }
        exports.addSrcToIFrameIfNeeded = addSrcToIFrameIfNeeded;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var functions_1 = __webpack_require__(
            /*! ./functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
          var fileNames = [
            'gigya.js',
            'socialize.js',
            'socialize2.js',
            'gsjssdk.js',
          ];
          function getGigyaScriptElement() {
            var scriptElement;
            var scripts = document.getElementsByTagName('script');
            var _loop_1 = function (i) {
              var script = scripts[i];
              var src = script.src.toLowerCase();
              if (src !== '') {
                if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                  var isFileNameExistInSrc =
                    fileNames.length === 0 ||
                    fileNames.some(function (fileName) {
                      return src.indexOf(fileName) > -1;
                    });
                  if (isFileNameExistInSrc) {
                    scriptElement = script;
                    return 'break';
                  }
                }
              }
            };
            for (var i = scripts.length - 1; i >= 0; i--) {
              var state_1 = _loop_1(i);
              if (state_1 === 'break') break;
            }
            return scriptElement;
          }
          exports.getGigyaScriptElement = getGigyaScriptElement;
          function updateConfiguration(config) {
            if (config === void 0) {
              config = {};
            }
            window.gigya.logger.info('globalConf is updated', {
              updateObject: config,
            });
            __webpack_provided_Object_dot_assign(
              window.gigya.thisScript.globalConf || {},
              config
            );
          }
          exports.updateConfiguration = updateConfiguration;
          functions_1.createAlias(
            'gigya.updateConfiguration',
            updateConfiguration
          );

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/global.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/global.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var CookieStore = /** @class */ (function () {
          function CookieStore(_win) {
            if (_win === void 0) {
              _win = window;
            }
            this._win = _win;
          }
          CookieStore.prototype.setCookie = function (name, value, options) {
            var cookieString = name + '=' + escape(value);
            if (options.path) cookieString += '; path=' + options.path;
            if (options.expires)
              cookieString += '; expires=' + options.expires.toUTCString();
            if (options.domain && options.domain.indexOf('.') != -1)
              cookieString += '; domain=' + options.domain;
            if (options.sameSite)
              cookieString += '; sameSite=' + options.sameSite;
            if (options.secure) cookieString += '; secure';
            this._win.document.cookie = cookieString;
          };
          CookieStore.prototype.getCookie = function (name) {
            name = name
              .replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1')
              .replace(/^[ \t]+|[ \t]+$/g, '');
            var regex = new RegExp('(?:^|;)\\s?' + name + '=(.*?)(?:;|$)');
            var match = this._win.document.cookie.match(regex);
            return match && unescape(match[1]);
          };
          return CookieStore;
        })();
        exports.CookieStore = CookieStore;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/keyValue.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/keyValue.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        function serialize(oKeyValue, delimiter) {
          var a = [];
          if (!delimiter) {
            delimiter = '&';
          }
          for (var p in oKeyValue) {
            switch (typeof oKeyValue[p]) {
              case 'function':
                break;
              case 'object':
                if (oKeyValue[p] != null) {
                  a.push(
                    p +
                      '=' +
                      URLUtils.URLEncode(JSONUtils.serialize(oKeyValue[p]))
                  );
                }
                break;
              case 'undefined':
                break;
              default:
                a.push(p + '=' + URLUtils.URLEncode(oKeyValue[p]));
            }
          }
          var s = a.join(delimiter);
          return s;
        }
        exports.serialize = serialize;
        function deserialize(
          urlEncodedString,
          delimiter,
          keysToLower,
          useUnescape
        ) {
          var o = {};
          if (!urlEncodedString) {
            return o;
          }
          if (!delimiter) {
            delimiter = '&';
          }
          var pairs = urlEncodedString.split(delimiter);
          for (var iPair = 0; iPair < pairs.length; iPair++) {
            var pair = pairs[iPair];
            var eqPos = pair.indexOf('=');
            if (eqPos === -1) {
              var key = keysToLower ? pair.toLowerCase() : pair;
              o[key] = '1';
            } else {
              var key = pair.substr(0, eqPos);
              if (keysToLower) {
                key = key.toLowerCase();
              }
              var serializedValue = pair.substr(eqPos + 1).replace(/\+/g, ' ');
              try {
                if (useUnescape) {
                  o[key] = FlagService_1.FlagService.useDecodeURIComponent
                    ? compareResultsAndReturnURLDecode(serializedValue)
                    : unescape(serializedValue);
                } else {
                  o[key] = URLUtils.URLDecode(serializedValue);
                }
              } catch (ex) {
                o[key] = FlagService_1.FlagService.useDecodeURIComponent
                  ? URLUtils.URLDecode(serializedValue)
                  : unescape(serializedValue);
              }
            }
          }
          return o;
        }
        exports.deserialize = deserialize;
        function compareResultsAndReturnURLDecode(serializedValue) {
          var unescapedResult = unescape(serializedValue);
          var urlDecodeResult = URLUtils.URLDecode(serializedValue);
          unescapedResult.localeCompare(urlDecodeResult) !== 0 &&
            window.gigya.logger.report(
              'urlDecoder and unescaped have different values',
              {
                unescapedResult: unescapedResult,
                urlDecodeResult: urlDecodeResult,
              }
            );
          return urlDecodeResult;
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/localCache.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/localCache.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var localStorageEnabled;
        try {
          localStorageEnabled = Boolean(window.localStorage); // when 3pc blocked, chrome throws when trying to access local storage.
        } catch (ex) {
          localStorageEnabled = false;
        }
        function set(key, response) {
          if (!localStorageEnabled) return;
          var oGigya;
          try {
            oGigya = JSONUtils.deserialize(
              window.localStorage.getItem('gigyaCache')
            );
            if (response == null && oGigya[key]) {
              delete oGigya[key];
            } else {
              var time = new Date().getTime();
              oGigya[key] = { response: response, time: time };
              if (key.indexOf('gig_oidcContext_') >= 0) {
                window.gigya.logger.report(
                  'oidc storage logs - set',
                  {
                    key: key,
                    value: oGigya[key],
                  },
                  false,
                  FlagService_1.FlagService.forceErrorReport
                );
              }
            }
            window.localStorage.setItem(
              'gigyaCache',
              JSONUtils.serialize(oGigya)
            );
          } catch (ex) {}
          queueUtils.release('cache', 'cache_' + key);
        }
        exports.set = set;
        function get(key, cacheTimeout) {
          if (cacheTimeout === void 0) {
            cacheTimeout = -1;
          }
          if (!localStorageEnabled) {
            return null;
          }
          try {
            if (!queueUtils.isActive('cache_' + key)) {
              var sGigyaCache = window.localStorage.getItem('gigyaCache');
              var oGigya = JSONUtils.deserialize(sGigyaCache);
              var cached = oGigya[key];
              if (cached) {
                var currentTime = new Date().getTime();
                if (
                  cacheTimeout < 0 ||
                  cacheTimeout + cached.time > currentTime
                ) {
                  //cached
                  return cached.response;
                } else {
                  if (key.indexOf('gig_oidcContext_') >= 0) {
                    window.gigya.logger.report(
                      'oidc storage logs - get',
                      {
                        key: key,
                        value: oGigya[key],
                        cacheTime: cached.time,
                        currentTime: currentTime,
                      },
                      false,
                      FlagService_1.FlagService.forceErrorReport
                    );
                  }
                  //expired
                  remove(key);
                  return null;
                }
              }
              if (!cached) {
                //not cached (first time)
                queueUtils.hold('cache', 'cache_' + key); //so that future requests will wait for the first one's response.
                return null;
              }
            } else {
              //wait for first response
              queueUtils.waitFor('cache_' + key, get, arguments);
              return null;
            }
          } catch (ex) {}
          return null;
        }
        exports.get = get;
        function remove(key) {
          set(key, null);
        }
        exports.remove = remove;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/localStorage.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/localStorage.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ./cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        var AbstractLocalStorageAdapter = /** @class */ (function () {
          function AbstractLocalStorageAdapter() {}
          AbstractLocalStorageAdapter.getName = function () {
            return 'AbstractAdapter';
          };
          /**
           * Set object to storage.
           */
          AbstractLocalStorageAdapter.prototype.setObject = function (key, o) {
            this.setItem(key, JSONUtils.serialize(o));
          };
          /**
           * Get object from local storage.
           */
          AbstractLocalStorageAdapter.prototype.getObject = function (
            key,
            defaultValue
          ) {
            return JSONUtils.deserialize(this.getItem(key), defaultValue);
          };
          /**
           * Is persistent storage. Returns false when data is not persisted.
           */
          AbstractLocalStorageAdapter.prototype.isPersistent = function () {
            return true;
          };
          return AbstractLocalStorageAdapter;
        })();
        exports.AbstractLocalStorageAdapter = AbstractLocalStorageAdapter;
        var AbstractAsyncLocalStorageAdapter = /** @class */ (function (
          _super
        ) {
          tslib_1.__extends(AbstractAsyncLocalStorageAdapter, _super);
          function AbstractAsyncLocalStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.isLoaded = false;
            return _this;
          }
          AbstractAsyncLocalStorageAdapter.prototype.isReady = function () {
            return this.isLoaded;
          };
          /**
           * Used when there is initialization time on the local storage adapter.
           */
          AbstractAsyncLocalStorageAdapter.prototype.waitForService = function (
            callback
          ) {
            var _this = this;
            if (this.isReady()) {
              callback();
              return;
            } else {
              setTimeout(function () {
                return _this.waitForService(callback);
              }, 50);
            }
          };
          return AbstractAsyncLocalStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.AbstractAsyncLocalStorageAdapter =
          AbstractAsyncLocalStorageAdapter;
        var StorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(StorageAdapter, _super);
          function StorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          StorageAdapter.prototype.getItem = function (key) {
            return this.storage[key];
          };
          StorageAdapter.prototype.setItem = function (key, value, expiresIn) {
            try {
              this.storage[key] = value;
            } catch (ex) {}
          };
          StorageAdapter.prototype.removeItem = function (key) {
            this.storage.removeItem(key);
          };
          return StorageAdapter;
        })(AbstractLocalStorageAdapter);
        var LocalStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(LocalStorageAdapter, _super);
          function LocalStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.storage = window.localStorage;
            return _this;
          }
          LocalStorageAdapter.getName = function () {
            return 'LocalStorageAdapter';
          };
          LocalStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.supportsLocalStorage;
          };
          return LocalStorageAdapter;
        })(StorageAdapter);
        var SessionStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(SessionStorageAdapter, _super);
          function SessionStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.storage = window.sessionStorage;
            return _this;
          }
          SessionStorageAdapter.getName = function () {
            return 'SessionStorageAdapter';
          };
          SessionStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.supportsSessionStorage;
          };
          return SessionStorageAdapter;
        })(StorageAdapter);
        var FirefoxStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(FirefoxStorageAdapter, _super);
          function FirefoxStorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          FirefoxStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.isFF && window['globalStorage'];
          };
          FirefoxStorageAdapter.getName = function () {
            return 'FirefoxStorageAdapter';
          };
          FirefoxStorageAdapter.prototype.getItem = function (key) {
            return window['globalStorage'][location.hostname][key];
          };
          FirefoxStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn
          ) {
            try {
              window['globalStorage'][location.hostname][key] = value;
            } catch (ex) {}
          };
          FirefoxStorageAdapter.prototype.removeItem = function (key) {
            delete window['globalStorage'][location.hostname][key];
          };
          return FirefoxStorageAdapter;
        })(AbstractLocalStorageAdapter);
        var CookieStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(CookieStorageAdapter, _super);
          function CookieStorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          CookieStorageAdapter.isAvailable = function () {
            return cookie_1.default.canSaveCookie();
          };
          CookieStorageAdapter.getName = function () {
            return 'CookieStorageAdapter';
          };
          CookieStorageAdapter.prototype.getItem = function (key) {
            return cookie_1.default.get(key);
          };
          CookieStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn,
            domain,
            additionalParams
          ) {
            if (additionalParams === void 0) {
              additionalParams = {};
            }
            cookie_1.default.set(
              key,
              value,
              expiresIn,
              domain,
              additionalParams.dontUseRootPath,
              additionalParams.sameSite
            );
          };
          CookieStorageAdapter.prototype.removeItem = function (key) {
            cookie_1.default.remove(key);
          };
          return CookieStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.CookieStorageAdapter = CookieStorageAdapter;
        var MemoryStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(MemoryStorageAdapter, _super);
          function MemoryStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.memory = {};
            return _this;
          }
          MemoryStorageAdapter.isAvailable = function () {
            return true;
          };
          MemoryStorageAdapter.getName = function () {
            return 'MemoryStorageAdapter';
          };
          MemoryStorageAdapter.prototype.getItem = function (key) {
            return this.memory[key];
          };
          MemoryStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn
          ) {
            this.memory[key] = value;
          };
          MemoryStorageAdapter.prototype.removeItem = function (key) {
            delete this.memory[key];
          };
          /**
           * Is persistent storage. Returns false when data is not persisted.
           */
          MemoryStorageAdapter.prototype.isPersistent = function () {
            return false;
          };
          return MemoryStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.MemoryStorageAdapter = MemoryStorageAdapter;
        exports.adapters = [
          LocalStorageAdapter,
          SessionStorageAdapter,
          FirefoxStorageAdapter,
          CookieStorageAdapter,
          MemoryStorageAdapter,
        ];
        exports.instances = {};
        function initializeAdapter(adapter) {
          var adapterName = adapter.getName() || adapter.name;
          if (!exports.instances[adapterName]) {
            exports.instances[adapterName] = new adapter();
          }
          return exports.instances[adapterName];
        }
        exports.initializeAdapter = initializeAdapter;
        function waitForService(callback) {
          // Select compatible adapter.
          var storage;
          for (
            var _i = 0, adapters_1 = exports.adapters;
            _i < adapters_1.length;
            _i++
          ) {
            var adapter_1 = adapters_1[_i];
            if (adapter_1.isAvailable()) {
              // Don't select adapter if it's async and a callback wasn't provided.
              if (
                adapter_1.prototype instanceof
                  AbstractAsyncLocalStorageAdapter &&
                !callback
              ) {
                continue;
              }
              storage = initializeAdapter(adapter_1);
              break;
            }
          }
          // Fallback to memory-based non-persistent storage.
          if (!storage) {
            storage = initializeAdapter(MemoryStorageAdapter);
          }
          // Trigger callback when adapter finishes loading (or instantly, if not required to wait).
          if (callback) {
            if (storage instanceof AbstractAsyncLocalStorageAdapter) {
              storage.waitForService(function () {
                callback(storage);
              });
            } else {
              callback(storage);
            }
          }
          return storage;
        }
        exports.waitForService = waitForService;
        var adapter = waitForService();
        function getItem(key) {
          return adapter.getItem(key);
        }
        exports.getItem = getItem;
        function setItem(key, value, expiresIn) {
          return adapter.setItem(key, value, expiresIn);
        }
        exports.setItem = setItem;
        function removeItem(key) {
          return adapter.removeItem(key);
        }
        exports.removeItem = removeItem;
        function setObject(key, o) {
          return adapter.setObject(key, o);
        }
        exports.setObject = setObject;
        function getObject(key, defaultValue) {
          return adapter.getObject(key, defaultValue);
        }
        exports.getObject = getObject;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/object.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/object.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var JSONUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var toggles_1 = __webpack_require__(
            /*! ./toggles */ './src/core/Gigya.Js/app/Utils/toggles.ts'
          );
          function removeUndefined(o) {
            var o2 = {};
            for (var p in o) {
              if (o[p] != null && o[p] != undefined) {
                o2[p] = o[p];
              }
            }
            return o2;
          }
          exports.removeUndefined = removeUndefined;
          function expressionHelper(context) {
            context = context || {};
            return {
              getField: function (path) {
                if (!path) return undefined;
                var paths = path.split('.'),
                  current = context,
                  i;
                for (i = 0; i < paths.length; ++i) {
                  if (current[paths[i]] == undefined) {
                    return undefined;
                  } else {
                    current = current[paths[i]];
                  }
                }
                return current;
              },
            };
          }
          exports.expressionHelper = expressionHelper;
          function getPropertyBySerializedName(o, name, createMissingObjects) {
            if (!name) return o;
            var oResult = o;
            var arNameSegments = name.split('.');
            for (
              var iSegment = 0;
              iSegment < arNameSegments.length;
              iSegment++
            ) {
              var sSegment = arNameSegments[iSegment];
              var sIndex = null;
              //Support for array access. i.e. "obj.prop1[0].prop2"
              if (sSegment.match(/\[[0-9]+]/)) {
                sIndex = Number(
                  sSegment.match(/\[[0-9]+]/)[0].replace(/[\[\]]/g, '')
                );
              }
              sSegment = sSegment.split(/\[[0-9]+]/).join('');
              var res =
                (sIndex || sIndex === 0) && oResult[sSegment]
                  ? oResult[sSegment][sIndex]
                  : oResult[sSegment];
              if (createMissingObjects && !oResult[sSegment]) {
                oResult[sSegment] = {};
              } else if (createMissingObjects && !res && res !== false) {
                oResult[sSegment] = [];
              }
              if (res || res === false) {
                oResult = res;
              } else {
                return null;
              }
            }
            return oResult;
          }
          exports.getPropertyBySerializedName = getPropertyBySerializedName;
          function setPropertyBySerializedName(o, name, value) {
            var arNameSegments = name.split('.');
            var propertyName = arNameSegments.pop();
            getPropertyBySerializedName(o, arNameSegments.join('.'), true)[
              propertyName
            ] = value;
          }
          exports.setPropertyBySerializedName = setPropertyBySerializedName;
          function add(oTarget, o, dontOverride) {
            for (var p in o) {
              if (!dontOverride || typeof oTarget[p] === 'undefined') {
                oTarget[p] = o[p];
              }
            }
          }
          exports.add = add;
          function getHash(o) {
            var ar = [];
            for (var p in o) {
              var s;
              if (typeof o[p] == 'object') s = JSONUtils.serialize(o[p], false);
              else if (o[p]) s = o[p].toString();
              ar.push(p + '=' + s);
            }
            return ar.sort().join('&');
          }
          exports.getHash = getHash;
          function getMurmurHash(key, seed) {
            if (!seed) seed = 0;
            var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;
            remainder = key.length & 3; // key.length % 4
            bytes = key.length - remainder;
            h1 = seed;
            c1 = 0xcc9e2d51;
            c2 = 0x1b873593;
            i = 0;
            while (i < bytes) {
              k1 =
                (key.charCodeAt(i) & 0xff) |
                ((key.charCodeAt(++i) & 0xff) << 8) |
                ((key.charCodeAt(++i) & 0xff) << 16) |
                ((key.charCodeAt(++i) & 0xff) << 24);
              ++i;
              k1 =
                ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &
                0xffffffff;
              k1 = (k1 << 15) | (k1 >>> 17);
              k1 =
                ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &
                0xffffffff;
              h1 ^= k1;
              h1 = (h1 << 13) | (h1 >>> 19);
              h1b =
                ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) &
                0xffffffff;
              h1 =
                (h1b & 0xffff) +
                0x6b64 +
                ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);
            }
            k1 = 0;
            switch (remainder) {
              case 3:
                k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
              case 2:
                k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
              case 1:
                k1 ^= key.charCodeAt(i) & 0xff;
                k1 =
                  ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &
                  0xffffffff;
                k1 = (k1 << 15) | (k1 >>> 17);
                k1 =
                  ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &
                  0xffffffff;
                h1 ^= k1;
            }
            h1 ^= key.length;
            h1 ^= h1 >>> 16;
            h1 =
              ((h1 & 0xffff) * 0x85ebca6b +
                ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) &
              0xffffffff;
            h1 ^= h1 >>> 13;
            h1 =
              ((h1 & 0xffff) * 0xc2b2ae35 +
                ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) &
              0xffffffff;
            h1 ^= h1 >>> 16;
            return h1 >>> 0;
          }
          exports.getMurmurHash = getMurmurHash;
          function clone(
            obj,
            deepCopy,
            ignoreFunctions,
            maxLevel,
            level,
            ignoreContext
          ) {
            if (maxLevel === void 0) {
              maxLevel = 20;
            }
            if (level === void 0) {
              level = 0;
            }
            if (obj === window) return window; // do not clone the window object
            if (level > maxLevel) return null; // Too deep
            if (typeof obj == 'undefined' || obj == null) {
              return toggles_1.default.isOn('removeUndefinedProperties')
                ? obj
                : null;
            } else if (typeof obj == 'function' && ignoreFunctions) {
              return null;
            } else if (obj.constructor == Array) {
              var ar = [];
              for (var i = 0; i < obj.length; i++) {
                if (!ignoreFunctions || typeof obj[i] != 'function') {
                  if (deepCopy) {
                    ar[i] = clone(
                      obj[i],
                      deepCopy,
                      ignoreFunctions,
                      maxLevel,
                      level + 1,
                      ignoreContext
                    );
                  } else {
                    ar[i] = obj[i];
                  }
                }
              }
              return ar;
            } else if (typeof obj == 'object') {
              var o = {};
              for (var p in obj) {
                if (ignoreContext && p == 'context') continue;
                if (!ignoreFunctions || typeof obj[p] != 'function') {
                  if (deepCopy) {
                    o[p] = clone(
                      obj[p],
                      deepCopy,
                      ignoreFunctions,
                      maxLevel,
                      level + 1,
                      ignoreContext
                    );
                  } else {
                    o[p] = obj[p];
                  }
                }
              }
              return o;
            } else {
              return obj;
            }
          }
          exports.clone = clone;
          function merge(args, isDeepMerge) {
            var o = {};
            for (var i = 0; i < args.length; i++) {
              if (args[i] && args[i].length) {
                for (var u = 0; u < args[i].length; u++) {
                  for (var p in args[i][u]) {
                    o[p] = args[i][u][p];
                  }
                }
              } else {
                // Merge objects.
                if (!isDeepMerge) {
                  // Flat merge.
                  for (var p in args[i]) {
                    o[p] = args[i][p];
                  }
                } else {
                  // Deep merge.
                  for (var p in args[i]) {
                    //we override primitive / array
                    if (typeof o[p] !== 'object' || o[p] instanceof Array) {
                      o[p] = args[i][p];
                    } else {
                      o[p] = merge([o[p], args[i][p]], true);
                    }
                  }
                }
              }
            }
            return o;
          }
          exports.merge = merge;
          function unflatten(data) {
            if (Object(data) !== data || Array.isArray(data)) {
              return data;
            }
            var result = {};
            for (var p in data) {
              var cur = result;
              var prop = '';
              var parts = p.replace(/\[([0-9])]/, '.$1').split('.');
              for (var i = 0; i < parts.length; i++) {
                var idx = !isNaN(Number(parts[i]));
                cur = cur[prop] || (cur[prop] = idx ? [] : {});
                prop = parts[i];
              }
              cur[prop] = data[p];
            }
            return result[''] || {};
          }
          exports.unflatten = unflatten;
          function flatten(data, withBracket) {
            if (withBracket === void 0) {
              withBracket = false;
            }
            var result = {};
            function recurse(cur, prop) {
              if (Object(cur) !== cur) {
                result[prop] = cur;
              } else if (Array.isArray(cur)) {
                var l = cur.length;
                for (var i = 0; i < l; i++) {
                  var nestedProperty = withBracket
                    ? prop + '[' + i + ']'
                    : prop + '.' + i;
                  recurse(cur[i], prop ? nestedProperty : String(i));
                }
                if (l === 0) {
                  result[prop] = [];
                }
              } else {
                var isEmpty = true;
                for (var p in cur) {
                  isEmpty = false;
                  recurse(cur[p], prop ? prop + '.' + p : p);
                }
                if (isEmpty && prop !== '') {
                  result[prop] = {};
                }
              }
            }
            recurse(data, '');
            return result;
          }
          exports.flatten = flatten;
          function extractProperties(src, dest, schema) {
            if (src == null) return;
            if (dest == null) dest = {};
            if (src.constructor == Array) {
              for (var iSrc = 0; iSrc < src.length; iSrc++) {
                extractProperties(src[iSrc], dest, schema);
              }
            } else if (schema) {
              var arSchema = schema.split('|');
              var srcLCase = {};
              for (var fieldName in src) {
                srcLCase[fieldName.toLowerCase()] = 1;
              }
              for (var i = 0; i < arSchema.length; i++) {
                var fieldName2 = arSchema[i];
                if (srcLCase[fieldName2.toLowerCase()])
                  dest[fieldName2] = src[fieldName2];
              }
            } else {
              dest = clone(src, false);
            }
            return dest;
          }
          exports.extractProperties = extractProperties;
          function extractProperty(src, paramName) {
            var params;
            return extractProperties(src, params, paramName)[paramName];
          }
          exports.extractProperty = extractProperty;
          function parseToObject(str) {
            try {
              var parsedVal = window['JSON'].parse(str);
              if (typeof parsedVal == 'object') {
                return parsedVal;
              }
            } catch (e) {}
            return undefined;
          }
          exports.parseToObject = parseToObject;
          function removePropertiesPrefix(obj, prefix) {
            if (obj === void 0) {
              obj = {};
            }
            if (prefix === void 0) {
              prefix = '';
            }
            return Object.keys(obj).reduce(function (acc, curr) {
              var _a;
              return __webpack_provided_Object_dot_assign(
                acc,
                ((_a = {}), (_a[curr.replace(prefix, '')] = obj[curr]), _a)
              );
            }, {});
          }
          exports.removePropertiesPrefix = removePropertiesPrefix;
          function addPrefixToProperties(obj, prefix) {
            if (obj === void 0) {
              obj = {};
            }
            if (prefix === void 0) {
              prefix = '';
            }
            return Object.keys(obj).reduce(function (acc, key) {
              if (key.indexOf(prefix) !== 0) {
                acc['' + prefix + key] = obj[key];
              } else {
                acc[key] = obj[key];
              }
              return acc;
            }, {});
          }
          exports.addPrefixToProperties = addPrefixToProperties;
          function normalizeObjectKeysToLowerCase(object) {
            // Normalize all keys to lowercase in addition to their original casing.
            for (var key in object) {
              object[key.toLowerCase()] = object[key];
            }
            return object;
          }
          exports.normalizeObjectKeysToLowerCase =
            normalizeObjectKeysToLowerCase;
          function decodeObjectKeys(obj) {
            var decodeObjectKeys = {};
            for (var key in obj) {
              var decodedKey = key;
              while (decodedKey.indexOf('%') !== -1) {
                decodedKey = decodeURIComponent(decodedKey);
              }
              decodeObjectKeys[decodedKey] = obj[key];
            }
            return decodeObjectKeys;
          }
          exports.decodeObjectKeys = decodeObjectKeys;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/queue.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/queue.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var _q = {};
        function _servicesStatus() {
          var services = {};
          for (var service in _q) {
            var active = isActive(service);
            if (active) {
              services[service] = {
                active: true,
                waitingFor: _q[service].ids,
                queuedCount: _q[service].q.length,
              };
            } else {
              services[service] = {
                active: false,
              };
            }
          }
          return services;
        }
        exports._servicesStatus = _servicesStatus;
        function isActive(service) {
          if (!_q[service]) return false;
          for (var id in _q[service].ids) return true;
          return false;
        }
        exports.isActive = isActive;
        function release(id, service) {
          window.gigya.logger.debug('releasing ' + service + ' queue by ' + id);
          if (!_q[service]) return;
          delete _q[service].ids[id];
          if (!isActive(service)) {
            var q = _q[service].q;
            _q[service].q = [];
            while (q.length > 0) {
              var o = q.splice(0, 1)[0];
              try {
                o.func.apply(this, o.args);
              } catch (ex) {
                if (typeof console == 'object' && console.log) {
                  console.log(
                    'Gigya: Exception while invoking queued method (' +
                      service +
                      ': ' +
                      id +
                      ')'
                  );
                }
              }
              if (isActive(service)) {
                //queue became inactive
                _q[service].q = q;
                break;
              }
            }
          }
        }
        exports.release = release;
        function hold(id, service) {
          window.gigya.logger.debug('locking queue ' + service + ' by ' + id);
          if (!_q[service]) _q[service] = { q: [], ids: {} };
          _q[service].ids[id] = true;
        }
        exports.hold = hold;
        function waitFor(service, fnc, args) {
          if (!_q[service]) _q[service] = { q: [], ids: {} };
          _q[service].q.push({ func: fnc, args: args });
        }
        exports.waitFor = waitFor;
        function queueForExecution(service, func, args) {
          args = args || [];
          if (isActive(service)) {
            waitFor(service, func, args);
          } else {
            func.apply(this, args);
          }
        }
        exports.queueForExecution = queueForExecution;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/script.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/script.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var pending = {};
        function addSdkVersion(url) {
          var scriptUrl = Uri_1.Uri.parse(url);
          scriptUrl.addToSearch({ version: window.gigya.build.version });
          return scriptUrl.toString();
        }
        function formatSrcUrl(src) {
          // remove cdn domain number
          return src.replace(
            /^http(s?):\/\/cdn(s?)[0-9]*.gigya.com\//,
            'http$1://cdn$2.gigya.com/'
          );
        }
        function isLoaded(src) {
          var pendingSrc = formatSrcUrl(src);
          return Boolean(pending[pendingSrc] && pending[pendingSrc].loaded);
        }
        exports.isLoaded = isLoaded;
        function load(
          src,
          fnOnError,
          fnOnLoad,
          loadOnce,
          removeAfter,
          treatTogether
        ) {
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          var oScript;
          if (src.indexOf('//') === 0) {
            src = LocalInfo_1.localInfo.protocol + ':' + src;
          }
          if (loadOnce) {
            var pendingSrc = formatSrcUrl(src);
            if (pending[pendingSrc]) {
              if (pending[pendingSrc].loaded) {
                window.gigya.logger.debug('script was already loaded:', {
                  src: src,
                });
                if (fnOnLoad) {
                  fnOnLoad();
                }
              } else {
                pending[pendingSrc].onLoad.push(fnOnLoad);
                pending[pendingSrc].onError.push(fnOnError);
              }
              return;
            }
            oScript = pending[pendingSrc] = {
              loaded: false,
              onLoad: [fnOnLoad],
              onError: [fnOnError],
            };
            if (treatTogether && treatTogether.length > 0) {
              arrayUtils.forEach(treatTogether, function (url) {
                pending[url] = oScript;
              });
            }
          } else {
            // multiple loads
            oScript = {
              loaded: false,
              onLoad: [fnOnLoad],
              onError: [fnOnError],
            };
          }
          var scriptLoader = function () {
            var script = document.createElement('script');
            script.async = true;
            script.type = 'text/javascript';
            script.charset = 'UTF-8';
            var done = false;
            var fnOnScriptLoad = function () {
              if (!done) {
                if (oScript.onLoad && oScript.onLoad.length) {
                  for (var i = 0; i < oScript.onLoad.length; i++) {
                    if (typeof oScript.onLoad[i] === 'function') {
                      oScript.onLoad[i]();
                    }
                  }
                }
                oScript.loaded = true;
                oScript.onError = oScript.onLoad = null; // remove memory leak
                done = true;
                if (removeAfter === true) {
                  removeAfter = 0;
                }
                if (removeAfter !== false) {
                  setTimeout(function () {
                    if (script.parentNode) {
                      script.parentNode.removeChild(script);
                    }
                  }, removeAfter);
                }
              }
            };
            script.onload = fnOnScriptLoad;
            script['onreadystatechange'] = function () {
              if (this.readyState === 'loaded') {
                fnOnScriptLoad();
              }
            };
            script.onerror = function () {
              for (var i = 0; i < oScript.onError.length; i++) {
                if (typeof oScript.onError[i] === 'function') {
                  oScript.onError[i]();
                }
              }
              delete pending[src];
            };
            var head = document.getElementsByTagName('head');
            if (head && head.length > 0) {
              head[0].appendChild(script);
            }
            var fnSetScriptSrc = function () {
              var webSdkResourcesDomain = new RegExp(
                '^https?://cdns?.*' +
                  window.gigya.defaultApiDomain +
                  '/.*gigya.js'
              );
              var scriptSrc = webSdkResourcesDomain.test(src)
                ? addSdkVersion(src)
                : src;
              script.src = scriptSrc;
            };
            if (LocalInfo_1.localInfo.iosVersion >= 6) {
              // iOS 6 breaks setTimeout when animation is active (switching tabs back from a login sequence)
              fnSetScriptSrc();
            } else {
              setTimeout(fnSetScriptSrc, 1); // Doing this async gives better performance in older browsers
            }
          };
          if (LocalInfo_1.localInfo.isIE) {
            functionsUtils.invokeOnPageLoad(scriptLoader);
          } else {
            scriptLoader();
          }
        }
        exports.load = load;
        var ResourceTypes;
        (function (ResourceTypes) {
          ResourceTypes[(ResourceTypes['script'] = 0)] = 'script';
          ResourceTypes[(ResourceTypes['image'] = 1)] = 'image';
          ResourceTypes[(ResourceTypes['iframe'] = 2)] = 'iframe';
        })(
          (ResourceTypes =
            exports.ResourceTypes || (exports.ResourceTypes = {}))
        );
        function triggerResource(url, callback, resourceType, removeAfter) {
          if (resourceType === void 0) {
            resourceType = ResourceTypes.image;
          }
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          switch (resourceType) {
            case ResourceTypes.script:
              load(url, callback, callback, false, removeAfter);
              break;
            case ResourceTypes.image:
              loadImage(url, callback);
              break;
            case ResourceTypes.iframe:
              loadIframe(url, callback, removeAfter);
              break;
            default:
              throw new Error('Unsupported resource type');
          }
        }
        exports.triggerResource = triggerResource;
        function loadImage(url, callback) {
          var img = new Image();
          var loaded = false;
          var fnOnLoad = function () {
            if (!loaded) {
              loaded = true;
              callback();
            }
          };
          img.onload = img.onerror = fnOnLoad;
          img.src = url;
        }
        function loadIframe(url, callback, removeAfter) {
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          var ifr = document.createElement('iframe');
          ifr.style.width = '30px';
          ifr.style.height = '10px';
          ifr.style.position = 'absolute';
          ifr.style.top = '-1000px';
          ifr.style.left = '-1000px';
          if (removeAfter === true) {
            removeAfter = 0;
          }
          var fnOnLoad = function (e) {
            var el;
            if (e && e.srcElement) {
              el = e.srcElement;
            } else if (e && e.target) {
              el = e.target;
            } else {
              el = this;
            }
            if (!el.loaded && el.parentNode) {
              el.loaded = true;
              callback();
              if (removeAfter !== false) {
                window.setTimeout(function () {
                  try {
                    document.body.removeChild(el);
                  } catch (ex) {}
                }, removeAfter);
              }
            }
          };
          DOMUtils.addEventListener(ifr, 'load', fnOnLoad);
          DOMUtils.addEventListener(ifr, 'error', fnOnLoad);
          ifr.onload = function (e) {
            fnOnLoad(e);
          };
          ifr.onerror = fnOnLoad;
          ifr.src = url;
          DOMUtils.appendToBody(ifr);
        }
        function loadService(serviceName, fnOnError, fnOnLoad) {
          var url =
            cdn_1.getCdnResource() +
            '/js/gigya.services.' +
            serviceName +
            '.js';
          load(
            url,
            function () {
              if (typeof console === 'object' && console.error) {
                console.error(
                  'error loading gigya service ' +
                    serviceName +
                    ' from url: ' +
                    url
                );
                if (fnOnError) {
                  fnOnError();
                }
              }
            },
            fnOnLoad,
            true
          );
        }
        exports.loadService = loadService;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/sessionCache.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/sessionCache.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var sessionStorageEnabled;
        try {
          sessionStorageEnabled = Boolean(window.sessionStorage); // when 3pc blocked, chrome throws when trying to access session storage.
        } catch (ex) {
          sessionStorageEnabled = false;
        }
        function set(key, response) {
          if (!sessionStorageEnabled) return;
          var oGigya;
          try {
            oGigya = JSONUtils.deserialize(
              window.sessionStorage.getItem('gigyaCache')
            );
            if (response == null && oGigya[key]) {
              delete oGigya[key];
            } else {
              var time = new Date().getTime();
              oGigya[key] = { response: response, time: time };
              if (key.indexOf('gig_oidcContext_') >= 0) {
                window.gigya.logger.report(
                  'oidc storage logs - set',
                  {
                    key: key,
                    value: oGigya[key],
                  },
                  false,
                  FlagService_1.FlagService.forceErrorReport
                );
              }
            }
            window.sessionStorage.setItem(
              'gigyaCache',
              JSONUtils.serialize(oGigya)
            );
          } catch (ex) {}
          queueUtils.release('cache', 'cache_' + key);
        }
        exports.set = set;
        function get(key, cacheTimeout) {
          if (cacheTimeout === void 0) {
            cacheTimeout = -1;
          }
          if (!sessionStorageEnabled) {
            return null;
          }
          try {
            if (!queueUtils.isActive('cache_' + key)) {
              var sGigyaCache = window.sessionStorage.getItem('gigyaCache');
              var oGigya = JSONUtils.deserialize(sGigyaCache);
              var cached = oGigya[key];
              if (cached) {
                var currentTime = new Date().getTime();
                if (
                  cacheTimeout < 0 ||
                  cacheTimeout + cached.time > currentTime
                ) {
                  //cached
                  return cached.response;
                } else {
                  if (key.indexOf('gig_oidcContext_') >= 0) {
                    window.gigya.logger.report(
                      'oidc storage logs - get',
                      {
                        key: key,
                        value: oGigya[key],
                        cacheTime: cached.time,
                        currentTime: currentTime,
                      },
                      false,
                      FlagService_1.FlagService.forceErrorReport
                    );
                  }
                  //expired
                  remove(key);
                  return null;
                }
              }
              if (!cached) {
                //not cached (first time)
                queueUtils.hold('cache', 'cache_' + key); //so that future requests will wait for the first one's response.
                return null;
              }
            } else {
              //wait for first response
              queueUtils.waitFor('cache_' + key, get, arguments);
              return null;
            }
          } catch (ex) {}
          return null;
        }
        exports.get = get;
        function remove(key) {
          set(key, null);
        }
        exports.remove = remove;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/stringParams.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringParams.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function getParamValue(str, key, del) {
          if (del === void 0) {
            del = '&';
          }
          // http://stackoverflow.com/questions/11920697/how-to-get-hash-value-in-a-url-in-js
          var matches = str.match(new RegExp(key + '=([^' + del + ']*)'));
          return matches ? matches[1] : null;
        }
        exports.getParamValue = getParamValue;
        function getReqParamValue(str, key) {
          var val = getParamValue(str, key);
          return val ? decodeURIComponent(val) : null;
        }
        exports.getReqParamValue = getReqParamValue;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/stringUtils.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringUtils.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function trim(s) {
          return s.replace(/^\s*(\S*(.*\S)?)\s*$/, '$1');
        }
        exports.trim = trim;
        function format(s) {
          var rest = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            rest[_i - 1] = arguments[_i];
          }
          for (var i = 0; i < arguments.length - 1; i++) {
            if (arguments[i + 1] != null) {
              s = s.split('{' + i + '}').join(arguments[i + 1]);
            }
          }
          return s;
        }
        exports.format = format;
        function capitalize(s) {
          return s.substring(0, 1).toUpperCase() + s.substring(1);
        }
        exports.capitalize = capitalize;
        function endsWith(s, suffix) {
          return s.indexOf(suffix, s.length - suffix.length) !== -1;
        }
        exports.endsWith = endsWith;
        function escapeRegExp(str) {
          return str.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
        }
        exports.escapeRegExp = escapeRegExp;
        function replaceAll(str, find, replace) {
          if (!find) return str;
          return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
        }
        exports.replaceAll = replaceAll;
        function mergeCommaSeparatedValues(str1, str2) {
          if (str1 === void 0) {
            str1 = '';
          }
          if (str2 === void 0) {
            str2 = '';
          }
          var arr = str1.concat(',', str2).split(',');
          return window.gigya.utils.array
            .getUniqueValues(arr)
            .filter(function (x) {
              return x;
            })
            .join(',');
        }
        exports.mergeCommaSeparatedValues = mergeCommaSeparatedValues;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/toggles.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/toggles.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! ./object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var WebSDKToggles = /** @class */ (function () {
          function WebSDKToggles() {}
          WebSDKToggles.prototype.has = function (key) {
            return typeof this._toggles[key] != 'undefined';
          };
          WebSDKToggles.prototype.get = function (key) {
            return this._toggles[key];
          };
          WebSDKToggles.prototype.isOn = function (key) {
            return this.has(key) && this.get(key);
          };
          Object.defineProperty(WebSDKToggles.prototype, '_toggles', {
            get: function () {
              return objectUtils.merge([
                this._globalConfToggles,
                this._webSdkConfigToggles,
              ]);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(WebSDKToggles.prototype, '_globalConfToggles', {
            get: function () {
              var _a, _b;
              return (
                ((_b =
                  (_a = window.gigya.thisScript) === null || _a === void 0
                    ? void 0
                    : _a.globalConf) === null || _b === void 0
                  ? void 0
                  : _b.toggles) || {}
              );
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            WebSDKToggles.prototype,
            '_webSdkConfigToggles',
            {
              get: function () {
                var _a, _b;
                var toggles =
                  ((_b =
                    (_a = window.gigya._) === null || _a === void 0
                      ? void 0
                      : _a.config) === null || _b === void 0
                    ? void 0
                    : _b.toggles) || {};
                return Object.keys(toggles).reduce(function (newToggles, key) {
                  newToggles[key] = toggles[key] === 'on';
                  return newToggles;
                }, {});
              },
              enumerable: true,
              configurable: true,
            }
          );
          return WebSDKToggles;
        })();
        exports.default = new WebSDKToggles();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/validation.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/validation.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function isExplicitTrue(val) {
          var lc = ('' + val).toLowerCase();
          return lc == 'true' || lc == '1';
        }
        exports.isExplicitTrue = isExplicitTrue;
        function isExplicitFalse(val) {
          var lc = ('' + val).toLowerCase();
          return lc == 'false' || lc == '0';
        }
        exports.isExplicitFalse = isExplicitFalse;
        function isLaterThanNow(expirationTime) {
          return expirationTime > new Date().getTime();
        }
        exports.isLaterThanNow = isLaterThanNow;
        function allDefinedOrAllUndefined() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var anyUndefined = args.some(function (x) {
            return typeof x === 'undefined';
          });
          var anyDefined = args.some(function (x) {
            return typeof x !== 'undefined';
          });
          return (anyDefined && !anyUndefined) || (!anyDefined && anyUndefined);
        }
        exports.allDefinedOrAllUndefined = allDefinedOrAllUndefined;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/viewport.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/viewport.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function getScroll() {
          var scrOfX = 0,
            scrOfY = 0;
          if (typeof window.pageYOffset == 'number') {
            scrOfY = window.pageYOffset;
            scrOfX = window.pageXOffset;
          } else if (
            document.body &&
            (document.body.scrollLeft || document.body.scrollTop)
          ) {
            scrOfY = document.body.scrollTop;
            scrOfX = document.body.scrollLeft;
          } else if (
            document.documentElement &&
            (document.documentElement.scrollLeft ||
              document.documentElement.scrollTop)
          ) {
            scrOfY = document.documentElement.scrollTop;
            scrOfX = document.documentElement.scrollLeft;
          }
          return { left: scrOfX, top: scrOfY };
        }
        exports.getScroll = getScroll;
        function getFullSize() {
          var de = document.documentElement;
          var db = document.body;
          var h = de.clientHeight;
          if (h == 0) h = db.clientHeight;
          var w = de.clientWidth;
          if (w == 0) w = db.clientWidth;
          return { w: w, h: h };
        }
        exports.getFullSize = getFullSize;
        function getOrientation() {
          var orientation = parseInt(window['orientation'] || '0');
          if (orientation < 0) orientation += 360;
          return orientation;
        }
        exports.getOrientation = getOrientation;
        function getOuterSize() {
          var h;
          var w;
          var de = document.documentElement;
          var db = document.body;
          if (window.outerHeight) {
            h = window.outerHeight;
            w = window.outerWidth;
          } else {
            h = de.clientHeight;
            if (h == 0) h = db.clientHeight;
            w = de.clientWidth;
            if (w == 0) w = db.clientWidth;
          }
          return { w: w, h: h };
        }
        exports.getOuterSize = getOuterSize;
        function getInnerSize() {
          var h;
          var w;
          var de = document.documentElement;
          var db = document.body;
          if (window.innerHeight) {
            h = window.innerHeight;
            w = window.innerWidth;
          } else {
            h = de.clientHeight;
            if (h == 0) h = db.clientHeight;
            w = de.clientWidth;
            if (w == 0) w = db.clientWidth;
          }
          return { w: w, h: h };
        }
        exports.getInnerSize = getInnerSize;
        function getMiddleCenter() {
          var scroll = getScroll();
          var size = getInnerSize();
          return {
            top: scroll.top + Math.floor(size.h / 2),
            left: scroll.left + Math.floor(size.w / 2),
          };
        }
        exports.getMiddleCenter = getMiddleCenter;
        function isRectHorizontallyVisible(rect) {
          var scroll = getScroll();
          var size = getInnerSize();
          return rect.left >= scroll.left && rect.right <= scroll.left + size.w;
        }
        exports.isRectHorizontallyVisible = isRectHorizontallyVisible;
        function isRectFullyVisible(rect) {
          var scroll = getScroll();
          var size = getInnerSize();
          return (
            rect.top >= scroll.top &&
            rect.bottom <= scroll.top + size.h &&
            rect.left >= scroll.left &&
            rect.right <= scroll.left + size.w
          );
        }
        exports.isRectFullyVisible = isRectFullyVisible;
        function scrollIntoView(element) {
          if (element && element.scrollIntoView) {
            element.scrollIntoView();
          }
        }
        exports.scrollIntoView = scrollIntoView;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/apiBootstrap.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/apiBootstrap.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var domains_1 = __webpack_require__(
          /*! ./Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ./Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var defaultStorageDomain = function () {
          return (
            (window.gigya === null || window.gigya === void 0
              ? void 0
              : window.gigya.configHostnameOverride) ||
            domains_1.getStorageDomain()
          );
        };
        var defaultApiDomain = function () {
          return domains_1.resolveApiDomain();
        };
        function getSdkConfig(domain, retries) {
          if (domain === void 0) {
            domain = defaultStorageDomain();
          }
          if (retries === void 0) {
            retries = 0;
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var apiKey;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  apiKey = window.gigya.apiKey;
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(domain + '/sdk.config.get')
                      .addToSearch({ apiKey: apiKey, httpStatusCodes: true })
                      .fetch(retries),
                  ];
                case 1:
                  return [2 /*return*/, _a.sent()];
              }
            });
          });
        }
        exports.getSdkConfig = getSdkConfig;
        function getSsoContext(ssoToken, domain, retries) {
          if (domain === void 0) {
            domain = defaultApiDomain();
          }
          if (retries === void 0) {
            retries = 0;
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var APIKey, e_1;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  APIKey = window.gigya.apiKey;
                  _a.label = 1;
                case 1:
                  _a.trys.push([1, 3, , 4]);
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(domain + '/accounts.sso.getContext')
                      .addToSearch({
                        APIKey: APIKey,
                        ssoToken: ssoToken,
                        format: 'json',
                      })
                      .fetch(retries),
                  ];
                case 2:
                  return [2 /*return*/, _a.sent()];
                case 3:
                  e_1 = _a.sent();
                  return [2 /*return*/, {}];
                case 4:
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.getSsoContext = getSsoContext;
        // Consent status currently return only by api domain because the configuration is set by minor DC( should be save on major always)
        // We should change the gigya._.getApiDomain('accounts') to defaultStorageDomain once the config is updated.
        function getConsentStatus(config) {
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var domain, retries, apiKey, url;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  domain =
                    (config === null || config === void 0
                      ? void 0
                      : config.domain) ||
                    window.gigya._.getApiDomain('accounts');
                  retries =
                    (config === null || config === void 0
                      ? void 0
                      : config.retries) || 0;
                  apiKey = window.gigya.apiKey;
                  url = domain + '/sdk.getConsentStatus';
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(url)
                      .addToSearch({ apiKey: apiKey })
                      .fetch(retries),
                  ];
                case 1:
                  return [2 /*return*/, _a.sent()];
              }
            });
          });
        }
        exports.getConsentStatus = getConsentStatus;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/cdn.ts':
      /*!**************************************!*\
  !*** ./src/core/Gigya.Js/app/cdn.ts ***!
  \**************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var selectedCdnHostsIndex = 0;
        exports.CDN_HOSTS = {
          http: [
            'cdn.gigya.com',
            'cdn1.gigya.com',
            'cdn2.gigya.com',
            'cdn3.gigya.com',
          ],
          https: [
            'cdns.gigya.com',
            'cdns1.gigya.com',
            'cdns2.gigya.com',
            'cdns3.gigya.com',
          ],
        };
        function getCdnResource(path) {
          var _a, _b, _c, _d;
          // gigya.thisScript may not exist if loaded for ssoOrig.
          var baseDomain =
            (_b =
              (_a = window.gigya.thisScript) === null || _a === void 0
                ? void 0
                : _a.baseDomain) !== null && _b !== void 0
              ? _b
              : '';
          var protocol =
            (_d =
              (_c = window.gigya.thisScript) === null || _c === void 0
                ? void 0
                : _c.protocol) !== null && _d !== void 0
              ? _d
              : 'https';
          // If no base domain or if base domain ends with .gigya.com, use Gigya CDN.
          // Otherwise use the base domain.
          if (!baseDomain || /cdns?\.gigya\.com$/.test(baseDomain)) {
            var selectedSchemaRepository = exports.CDN_HOSTS[protocol];
            if (selectedSchemaRepository.length <= selectedCdnHostsIndex) {
              selectedCdnHostsIndex = 0;
            }
            baseDomain = selectedSchemaRepository[selectedCdnHostsIndex++];
          }
          // Ensure the path starts with "/".
          if (path) {
            if (path.indexOf('/') !== 0) {
              path = '/' + path;
            }
          }
          return protocol + '://' + baseDomain + (path || '');
        }
        exports.getCdnResource = getCdnResource;
        function getImgCdnResource() {
          return getCdnResource('/gs/i/');
        }
        exports.getImgCdnResource = getImgCdnResource;

        /***/
      },

    /***/ './src/core/ServiceProxy/ProxyListener.ts':
      /*!************************************************!*\
  !*** ./src/core/ServiceProxy/ProxyListener.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var utils = __webpack_require__(
          /*! src/core/ServiceProxy/utils */ './src/core/ServiceProxy/utils.ts'
        );
        var interfaces_1 = __webpack_require__(
          /*! src/core/ServiceProxy/interfaces */ './src/core/ServiceProxy/interfaces.ts'
        );
        var ProxyListener = /** @class */ (function () {
          function ProxyListener(
            _service,
            origin,
            _allowedMethods,
            _target,
            _win
          ) {
            var _this = this;
            if (origin === void 0) {
              origin = utils.getParentUrl();
            }
            if (_allowedMethods === void 0) {
              _allowedMethods = utils.getAllClassMethodsNames(_service);
            }
            if (_target === void 0) {
              _target = window.parent;
            }
            if (_win === void 0) {
              _win = window;
            }
            this._service = _service;
            this.origin = origin;
            this._allowedMethods = _allowedMethods;
            this._target = _target;
            this._win = _win;
            this.stopCancellers = [];
            this._listening = false;
            this.onRequest = function (e) {
              return tslib_1.__awaiter(
                _this,
                void 0,
                gigya.Promise,
                function () {
                  var req, e_1;
                  return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                      case 0:
                        if (!utils.validateOrigin(this.origin, e.origin))
                          return [3 /*break*/, 7];
                        req = JSON.parse(e.data);
                        _a.label = 1;
                      case 1:
                        _a.trys.push([1, 6, , 7]);
                        if (!interfaces_1.isSignalRequest(req))
                          return [3 /*break*/, 3];
                        return [4 /*yield*/, this.handleSignalRequest(req)];
                      case 2:
                        _a.sent();
                        return [3 /*break*/, 5];
                      case 3:
                        // normal request
                        return [4 /*yield*/, this.handleProxyRequest(req)];
                      case 4:
                        // normal request
                        _a.sent();
                        _a.label = 5;
                      case 5:
                        return [3 /*break*/, 7];
                      case 6:
                        e_1 = _a.sent();
                        this.postError({ res: e_1.message || e_1, id: req.id });
                        return [3 /*break*/, 7];
                      case 7:
                        return [2 /*return*/];
                    }
                  });
                }
              );
            };
          }
          Object.defineProperty(ProxyListener.prototype, 'isListening', {
            get: function () {
              return this._listening;
            },
            enumerable: true,
            configurable: true,
          });
          ProxyListener.prototype.listen = function (payload) {
            var _this = this;
            if (!this.isListening) {
              this._win.setTimeout(function () {
                // setTimeout workaround for IE9. else we'll get JSON is undefined
                _this._win.addEventListener('message', _this.onRequest, true);
                _this.postMessage({
                  id: undefined,
                  signal: 'listening',
                  res: payload,
                });
                _this._listening = true;
              }, 1);
            }
          };
          ProxyListener.prototype.postError = function (res) {
            res.signal = 'error';
            this.postMessage(res);
          };
          ProxyListener.prototype.stopListen = function () {
            if (this.isListening) {
              this._win.removeEventListener('message', this.onRequest, true);
              this._listening = false;
            }
          };
          ProxyListener.prototype.handleSignalRequest = function (req) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a, cancel, res, payload;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _a = req.signal;
                    switch (_a) {
                      case 'stop':
                        return [3 /*break*/, 1];
                    }
                    return [3 /*break*/, 7];
                  case 1:
                    return [4 /*yield*/, this.getCancelResult()];
                  case 2:
                    cancel = _b.sent();
                    res = void 0;
                    if (!!cancel) return [3 /*break*/, 5];
                    this.stopListen();
                    payload = void 0;
                    if (!this.onStop) return [3 /*break*/, 4];
                    payload = this.onStop();
                    if (!payload.then) return [3 /*break*/, 4];
                    return [4 /*yield*/, payload];
                  case 3:
                    payload = _b.sent();
                    _b.label = 4;
                  case 4:
                    res = {
                      id: req.id,
                      signal: 'stop',
                      res: payload,
                    };
                    return [3 /*break*/, 6];
                  case 5:
                    res = {
                      id: req.id,
                      signal: 'error',
                      res: cancel,
                    };
                    _b.label = 6;
                  case 6:
                    this.postMessage(res);
                    return [3 /*break*/, 8];
                  case 7:
                    // ignore
                    return [3 /*break*/, 8];
                  case 8:
                    return [2 /*return*/];
                }
              });
            });
          };
          ProxyListener.prototype.getCancelResult = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _i, _a, shouldCancelStop, res;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    (_i = 0), (_a = this.stopCancellers);
                    _b.label = 1;
                  case 1:
                    if (!(_i < _a.length)) return [3 /*break*/, 5];
                    shouldCancelStop = _a[_i];
                    res = shouldCancelStop();
                    if (!res.then) return [3 /*break*/, 3];
                    return [4 /*yield*/, res];
                  case 2:
                    res = _b.sent();
                    _b.label = 3;
                  case 3:
                    if (res) return [2 /*return*/, res];
                    _b.label = 4;
                  case 4:
                    _i++;
                    return [3 /*break*/, 1];
                  case 5:
                    return [2 /*return*/, undefined];
                }
              });
            });
          };
          ProxyListener.prototype.handleProxyRequest = function (req) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var res;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    this.validateRequest(req);
                    return [4 /*yield*/, this.forwardToService(req)];
                  case 1:
                    res = _a.sent();
                    this.postMessage({
                      id: req.id,
                      res: res,
                    });
                    return [2 /*return*/];
                }
              });
            });
          };
          ProxyListener.prototype.validateRequest = function (req) {
            if (
              !req.id ||
              !req.methodName ||
              this._allowedMethods.indexOf(req.methodName) < 0
            ) {
              throw 'proxy request in invalid format';
            }
          };
          ProxyListener.prototype.forwardToService = function (req) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var method, result;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    method = this._service[req.methodName];
                    result = method.apply(this._service, req.params);
                    if (!(result && result.then)) return [3 /*break*/, 2];
                    return [4 /*yield*/, result];
                  case 1:
                    result = _a.sent();
                    _a.label = 2;
                  case 2:
                    return [2 /*return*/, result];
                }
              });
            });
          };
          ProxyListener.prototype.postMessage = function (msg) {
            var message = typeof msg === 'object' ? JSON.stringify(msg) : msg;
            this._target.postMessage(message, this.origin);
          };
          return ProxyListener;
        })();
        exports.ProxyListener = ProxyListener;

        /***/
      },

    /***/ './src/core/ServiceProxy/interfaces.ts':
      /*!*********************************************!*\
  !*** ./src/core/ServiceProxy/interfaces.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function isSignalRequest(req) {
          return Boolean(req.signal);
        }
        exports.isSignalRequest = isSignalRequest;

        /***/
      },

    /***/ './src/core/ServiceProxy/utils.ts':
      /*!****************************************!*\
  !*** ./src/core/ServiceProxy/utils.ts ***!
  \****************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.getParentUrl = function (win, doc) {
          if (win === void 0) {
            win = window;
          }
          if (doc === void 0) {
            doc = document;
          }
          return win.location != win.parent.location
            ? doc.referrer
            : doc.location.href;
        };
        exports.getBodyElement = function (doc) {
          if (doc === void 0) {
            doc = document;
          }
          return new gigya.Promise(function (resolve) {
            if (doc.body) resolve(doc.body);
            else
              doc.addEventListener('DOMContentLoaded', function () {
                return resolve(doc.body);
              });
          });
        };
        exports.validateOrigin = function (origin, checked) {
          var _a;
          return (
            ((_a =
              origin === null || origin === void 0
                ? void 0
                : origin.toLowerCase()) === null || _a === void 0
              ? void 0
              : _a.indexOf(
                  checked === null || checked === void 0
                    ? void 0
                    : checked.toLowerCase()
                )) === 0
          );
        };
        exports.createIframe = function (title, doc) {
          if (title === void 0) {
            title = 'Gigya Frame';
          }
          if (doc === void 0) {
            doc = document;
          }
          var iframe = doc.createElement('iframe');
          iframe.style.position = 'absolute';
          iframe.style.height = '0px';
          iframe.style.width = '0px';
          iframe.style.display = 'none';
          iframe.title = title;
          iframe.setAttribute('aria-hidden', 'true');
          return iframe;
        };
        var _counter = 1;
        exports.generateId = function () {
          return String(_counter++);
        };
        function isClass(type) {
          return !!type.prototype;
        }
        exports.getAllClassMethodsNames = function (type) {
          var props = [];
          var proto = isClass(type) ? type.prototype : type;
          do {
            try {
              /** initial implementation - using filter **/
              var l = Object.getOwnPropertyNames(proto)
                // .concat(Object.getOwnPropertySymbols(proto).map(s => s.toString()))
                .map(function (s) {
                  return s.toString();
                })
                .sort()
                .filter(function (p, i, arr) {
                  return (
                    typeof proto[p] === 'function' && //only the methods
                    p !== 'constructor' && //not the constructor
                    (i == 0 || p !== arr[i - 1]) && //not overriding in this prototype
                    props.indexOf(p) === -1
                  );
                });
              props = props.concat(l);
            } catch (e) {
              /** bug fix implementation - using custom our own filter logic
             case of Array.filter polyfill causing "can not read property '0' of undefined" **/
              var arr = Object.getOwnPropertyNames(proto)
                // .concat(Object.getOwnPropertySymbols(proto).map(s => s.toString()))
                .map(function (s) {
                  return s.toString();
                })
                .sort();
              var l = [];
              for (var i = 0; i < arr.length; i++) {
                var p = arr[i];
                if (
                  typeof proto[p] === 'function' && //only the methods
                  p !== 'constructor' && //not the constructor
                  (i == 0 || p !== arr[i - 1]) && //not overriding in this prototype
                  props.indexOf(p) === -1
                ) {
                  //not overridden in a child
                  l.push(p);
                }
              }
              props = props.concat(l);
            }
          } while (
            (proto = Object.getPrototypeOf(proto)) && //walk-up the prototype chain
            Object.getPrototypeOf(proto) //not the the Object prototype methods (hasOwnProperty, etc...)
          );
          return props;
        };

        /***/
      },

    /******/
  }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2NvbmZpZy92ZXJzaW9uVGVtcGxhdGUudHh0Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdGhlbi5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVzb2x2ZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL2VudW1lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL2FsbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVqZWN0LmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gubWVyZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWNjb3VudHMvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL0FwaVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvRG9tYWluUmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvR21pZFByb3ZpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL0dyb3VwQXBpRG9tYWluU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9BcGlTZXJ2aWNlL2FwcC9SZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL1JlcXVlc3RQcm92aWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9BcGlTZXJ2aWNlL2FwcC9YaHJSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL2dpZ3lhVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9BcGlTZXJ2aWNlL2FwcC9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2lneWFHbG9iYWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9iYXNlTG9nZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvaUZyYW1lTG9nZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2xvZ2dlckpzb25wLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL3BhcmVudExvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvRmxhZ1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1NlcnZpY2VzL1NpdGVEYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VSTC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvY29va2llLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9kb21haW5zLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dpZ3lhU2NyaXB0RWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dsb2JhbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5VmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zZXNzaW9uQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1BhcmFtcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3RvZ2dsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZpZXdwb3J0LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9hcGlCb290c3RyYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9TZXJ2aWNlUHJveHkvUHJveHlMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9TZXJ2aWNlUHJveHkvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9TZXJ2aWNlUHJveHkvdXRpbHMudHMiXSwibmFtZXMiOlsicmVzb2x2ZSIsIl9yZXNvbHZlIiwidGhlbiIsIm9yaWdpbmFsVGhlbiIsIm9yaWdpbmFsUmVzb2x2ZSIsIlByb21pc2UiLCJyZWplY3QiLCJfcmVqZWN0IiwiUmVzb2x2ZSIsIlJlamVjdCJdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7O1FBR0E7UUFDQTs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDTk8sU0FBUyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7RUFDbEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUM7RUFDcEIsT0FBTyxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDO0NBQ2pFOztBQUVNLFNBQVMsVUFBVSxDQUFDLENBQUMsRUFBRTtFQUM1QixPQUFPLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQztDQUNoQzs7QUFJQTs7QUFFRCxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN0QixJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7RUFDakIsUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7Q0FDMUIsTUFBTTtFQUNMLFFBQVEsR0FBRyxVQUFVLENBQUMsRUFBRTtJQUN0QixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQztHQUMvRCxDQUFDO0NBQ0g7O0FBRU0sSUFBSSxPQUFPLEdBQUcsUUFBUTs7QUN0QjdCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNaLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3ZCLElBQUksaUJBQWlCLEdBQUcsS0FBSyxDQUFDLENBQUM7O0FBRXhCLElBQUksSUFBSSxHQUFHLFNBQVMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7RUFDN0MsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztFQUN0QixLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztFQUNyQixHQUFHLElBQUksQ0FBQyxDQUFDO0VBQ1QsSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFOzs7O0lBSWIsSUFBSSxpQkFBaUIsRUFBRTtNQUNyQixpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUMxQixNQUFNO01BQ0wsYUFBYSxFQUFFLENBQUM7S0FDakI7R0FDRjtDQUNGLENBQUM7O0FBRUssU0FBUyxZQUFZLENBQUMsVUFBVSxFQUFFO0VBQ3ZDLGlCQUFpQixHQUFHLFVBQVUsQ0FBQztDQUNoQzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUU7RUFDOUIsSUFBSSxHQUFHLE1BQU0sQ0FBQztDQUNmOztBQUVELElBQUksYUFBYSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ3ZFLElBQUksYUFBYSxHQUFHLGFBQWEsSUFBSSxFQUFFLENBQUM7QUFDeEMsSUFBSSx1QkFBdUIsR0FBRyxhQUFhLENBQUMsZ0JBQWdCLElBQUksYUFBYSxDQUFDLHNCQUFzQixDQUFDO0FBQ3JHLElBQUksTUFBTSxHQUFHLE9BQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssa0JBQWtCLENBQUM7OztBQUcvSCxJQUFJLFFBQVEsR0FBRyxPQUFPLGlCQUFpQixLQUFLLFdBQVcsSUFBSSxPQUFPLGFBQWEsS0FBSyxXQUFXLElBQUksT0FBTyxjQUFjLEtBQUssV0FBVyxDQUFDOzs7QUFHekksU0FBUyxXQUFXLEdBQUc7OztFQUdyQixPQUFPLFlBQVk7SUFDakIsT0FBTyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0dBQ2hDLENBQUM7Q0FDSDs7O0FBR0QsU0FBUyxhQUFhLEdBQUc7RUFDdkIsSUFBSSxPQUFPLFNBQVMsS0FBSyxXQUFXLEVBQUU7SUFDcEMsT0FBTyxZQUFZO01BQ2pCLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNsQixDQUFDO0dBQ0g7O0VBRUQsT0FBTyxhQUFhLEVBQUUsQ0FBQztDQUN4Qjs7QUFFRCxTQUFTLG1CQUFtQixHQUFHO0VBQzdCLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztFQUNuQixJQUFJLFFBQVEsR0FBRyxJQUFJLHVCQUF1QixDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQ2xELElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDdkMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQzs7RUFFaEQsT0FBTyxZQUFZO0lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxHQUFHLEVBQUUsVUFBVSxHQUFHLENBQUMsQ0FBQztHQUMzQyxDQUFDO0NBQ0g7OztBQUdELFNBQVMsaUJBQWlCLEdBQUc7RUFDM0IsSUFBSSxPQUFPLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztFQUNuQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7RUFDaEMsT0FBTyxZQUFZO0lBQ2pCLE9BQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDckMsQ0FBQztDQUNIOztBQUVELFNBQVMsYUFBYSxHQUFHOzs7RUFHdkIsSUFBSSxnQkFBZ0IsR0FBRyxVQUFVLENBQUM7RUFDbEMsT0FBTyxZQUFZO0lBQ2pCLE9BQU8sZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ25DLENBQUM7Q0FDSDs7QUFFRCxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM1QixTQUFTLEtBQUssR0FBRztFQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUMvQixJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUFFdkIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVkLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDckIsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7R0FDMUI7O0VBRUQsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNUOztBQUVELFNBQVMsWUFBWSxHQUFHO0VBQ3RCLElBQUk7SUFDRixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkQsU0FBUyxHQUFHLEtBQUssQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQztJQUNsRCxPQUFPLGFBQWEsRUFBRSxDQUFDO0dBQ3hCLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDVixPQUFPLGFBQWEsRUFBRSxDQUFDO0dBQ3hCO0NBQ0Y7O0FBRUQsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLENBQUM7O0FBRTNCLElBQUksTUFBTSxFQUFFO0VBQ1YsYUFBYSxHQUFHLFdBQVcsRUFBRSxDQUFDO0NBQy9CLE1BQU0sSUFBSSx1QkFBdUIsRUFBRTtFQUNsQyxhQUFhLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztDQUN2QyxNQUFNLElBQUksUUFBUSxFQUFFO0VBQ25CLGFBQWEsR0FBRyxpQkFBaUIsRUFBRSxDQUFDO0NBQ3JDLE1BQU0sSUFBSSxhQUFhLEtBQUssU0FBUyxJQUFJLFVBQWMsS0FBSyxVQUFVLEVBQUU7RUFDdkUsYUFBYSxHQUFHLFlBQVksRUFBRSxDQUFDO0NBQ2hDLE1BQU07RUFDTCxhQUFhLEdBQUcsYUFBYSxFQUFFLENBQUM7OztBQ3JIbkIsQ0RzSGQsUUN0SHVCLElBQUksQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFO0VBQ3ZELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFbEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDOztFQUV2QyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxTQUFTLEVBQUU7SUFDbkMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0dBQ3BCOztFQUVELElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7OztFQUczQixJQUFJLE1BQU0sRUFBRTtJQUNWLElBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsSUFBSSxDQUFDLFlBQVk7TUFDZixPQUFPLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDaEUsQ0FBQyxDQUFDO0dBQ0osTUFBTTtJQUNMLFNBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztHQUN0RDs7RUFFRCxPQUFPLEtBQUssQ0FBQzs7O0FDdkJmLENEd0JDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDT2MsU0FBU0EsU0FBTyxDQUFDLE1BQU0sRUFBRTs7RUFFdEMsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDOztFQUV2QixJQUFJLE1BQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7SUFDOUUsT0FBTyxNQUFNLENBQUM7R0FDZjs7RUFFRCxJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNwQ0MsT0FBUSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztFQUMxQixPQUFPLE9BQU8sQ0FBQzs7O0FDcENWLENEcUNOLEdDckNVLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFaEUsU0FBUyxJQUFJLEdBQUcsRUFBRTs7QUFFbEIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDckIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQzs7QUFFakIsU0FBUyxlQUFlLEdBQUc7RUFDekIsT0FBTyxJQUFJLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO0NBQ2xFOztBQUVELFNBQVMsZUFBZSxHQUFHO0VBQ3pCLE9BQU8sSUFBSSxTQUFTLENBQUMsc0RBQXNELENBQUMsQ0FBQztDQUM5RTs7QUFFRCxTQUFTLE9BQU8sQ0FBQ0MsT0FBSSxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRTtFQUNsRSxJQUFJO0lBQ0ZBLE9BQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDLENBQUM7R0FDeEQsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNWLE9BQU8sQ0FBQyxDQUFDO0dBQ1Y7Q0FDRjs7QUFFRCxTQUFTLHFCQUFxQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUVBLE9BQUksRUFBRTtFQUN0RCxJQUFJLENBQUMsVUFBVSxPQUFPLEVBQUU7SUFDdEIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ25CLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQ0EsT0FBSSxFQUFFLFFBQVEsRUFBRSxVQUFVLEtBQUssRUFBRTtNQUNuRCxJQUFJLE1BQU0sRUFBRTtRQUNWLE9BQU87T0FDUjtNQUNELE1BQU0sR0FBRyxJQUFJLENBQUM7TUFDZCxJQUFJLFFBQVEsS0FBSyxLQUFLLEVBQUU7UUFDdEIsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN6QixNQUFNO1FBQ0wsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN6QjtLQUNGLEVBQUUsVUFBVSxNQUFNLEVBQUU7TUFDbkIsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPO09BQ1I7TUFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDOztNQUVkLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDekIsRUFBRSxVQUFVLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7O0lBRXhELElBQUksQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO01BQ3BCLE1BQU0sR0FBRyxJQUFJLENBQUM7TUFDZCxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3hCO0dBQ0YsRUFBRSxPQUFPLENBQUMsQ0FBQztDQUNiOztBQUVELFNBQVMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtFQUM1QyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO0lBQ2pDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3BDLE1BQU0sSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLFFBQVEsRUFBRTtJQUN2QyxNQUFNLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNuQyxNQUFNO0lBQ0wsU0FBUyxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsVUFBVSxLQUFLLEVBQUU7TUFDOUMsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2hDLEVBQUUsVUFBVSxNQUFNLEVBQUU7TUFDbkIsT0FBTyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ2hDLENBQUMsQ0FBQztHQUNKO0NBQ0Y7O0FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFQSxPQUFJLEVBQUU7RUFDekQsSUFBSSxhQUFhLENBQUMsV0FBVyxLQUFLLE9BQU8sQ0FBQyxXQUFXLElBQUlBLE9BQUksS0FBS0MsSUFBWSxJQUFJLGFBQWEsQ0FBQyxXQUFXLENBQUMsT0FBTyxLQUFLQyxTQUFlLEVBQUU7SUFDdkksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0dBQzNDLE1BQU07SUFDTCxJQUFJRixPQUFJLEtBQUssU0FBUyxFQUFFO01BQ3RCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7S0FDakMsTUFBTSxJQUFJLFVBQVUsQ0FBQ0EsT0FBSSxDQUFDLEVBQUU7TUFDM0IscUJBQXFCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRUEsT0FBSSxDQUFDLENBQUM7S0FDckQsTUFBTTtNQUNMLE9BQU8sQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7S0FDakM7R0FDRjtDQUNGOztBQUVELFNBQVMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDL0IsSUFBSSxPQUFPLEtBQUssS0FBSyxFQUFFO0lBQ3JCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztHQUNwQyxNQUFNLElBQUksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUU7SUFDbEMsSUFBSUEsT0FBSSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLElBQUk7TUFDRkEsT0FBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDbkIsQ0FBQyxPQUFPLEtBQUssRUFBRTtNQUNkLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7TUFDdkIsT0FBTztLQUNSO0lBQ0QsbUJBQW1CLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRUEsT0FBSSxDQUFDLENBQUM7R0FDM0MsTUFBTTtJQUNMLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDekI7Q0FDRjs7QUFFRCxTQUFTLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtFQUNqQyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7SUFDcEIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDbkM7O0VBRUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQ2xCOztBQUVELFNBQVMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDL0IsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLE9BQU8sRUFBRTtJQUM5QixPQUFPO0dBQ1I7O0VBRUQsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7RUFDeEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7O0VBRTNCLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQ3JDLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDeEI7Q0FDRjs7QUFFRCxTQUFTLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFO0VBQy9CLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7SUFDOUIsT0FBTztHQUNSO0VBQ0QsT0FBTyxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7RUFDMUIsT0FBTyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0VBRXpCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxTQUFTLFNBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUU7RUFDNUQsSUFBSSxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztFQUN2QyxJQUFJLE1BQU0sR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7RUFHakMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7O0VBRXZCLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUM7RUFDN0IsWUFBWSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxhQUFhLENBQUM7RUFDakQsWUFBWSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxXQUFXLENBQUM7O0VBRTlDLElBQUksTUFBTSxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQ2pDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FDdkI7Q0FDRjs7QUFFRCxTQUFTLE9BQU8sQ0FBQyxPQUFPLEVBQUU7RUFDeEIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQztFQUN2QyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDOztFQUU3QixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQzVCLE9BQU87R0FDUjs7RUFFRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7TUFDZCxRQUFRLEdBQUcsS0FBSyxDQUFDO01BQ2pCLE1BQU0sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDOztFQUU3QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQzlDLEtBQUssR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7O0lBRXBDLElBQUksS0FBSyxFQUFFO01BQ1QsY0FBYyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ2xELE1BQU07TUFDTCxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDbEI7R0FDRjs7RUFFRCxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7Q0FDakM7O0FBRUQsU0FBUyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFO0VBQzFELElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUM7TUFDbEMsS0FBSyxHQUFHLEtBQUssQ0FBQztNQUNkLEtBQUssR0FBRyxLQUFLLENBQUM7TUFDZCxTQUFTLEdBQUcsSUFBSSxDQUFDOztFQUVyQixJQUFJLFdBQVcsRUFBRTtJQUNmLElBQUk7TUFDRixLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzFCLENBQUMsT0FBTyxDQUFDLEVBQUU7TUFDVixTQUFTLEdBQUcsS0FBSyxDQUFDO01BQ2xCLEtBQUssR0FBRyxDQUFDLENBQUM7S0FDWDs7SUFFRCxJQUFJLE9BQU8sS0FBSyxLQUFLLEVBQUU7TUFDckIsTUFBTSxDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsQ0FBQyxDQUFDO01BQ25DLE9BQU87S0FDUjtHQUNGLE1BQU07SUFDTCxLQUFLLEdBQUcsTUFBTSxDQUFDO0dBQ2hCOztFQUVELElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7O0dBRS9CLE1BQU0sSUFBSSxXQUFXLElBQUksU0FBUyxFQUFFO0lBQ25DLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDekIsTUFBTSxJQUFJLFNBQVMsS0FBSyxLQUFLLEVBQUU7SUFDOUIsTUFBTSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztHQUN4QixNQUFNLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtJQUNoQyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQ3pCLE1BQU0sSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFO0lBQy9CLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDeEI7Q0FDRjs7QUFFRCxTQUFTLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUU7RUFDNUMsSUFBSTtJQUNGLFFBQVEsQ0FBQyxTQUFTLGNBQWMsQ0FBQyxLQUFLLEVBQUU7TUFDdEMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN6QixFQUFFLFNBQVMsYUFBYSxDQUFDLE1BQU0sRUFBRTtNQUNoQyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ3pCLENBQUMsQ0FBQztHQUNKLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDVixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ3BCO0NBQ0Y7O0FBRUQsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ1gsU0FBUyxNQUFNLEdBQUc7RUFDaEIsT0FBTyxFQUFFLEVBQUUsQ0FBQztDQUNiOztBQUVELFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRTtFQUM1QixPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUM7RUFDM0IsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7RUFDM0IsT0FBTyxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7RUFDNUIsT0FBTyxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7Q0FDM0I7O0FDaE9ELFNBQVMsZUFBZSxHQUFHO0VBQ3pCLE9BQU8sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztDQUM1RDs7QUFFRixJQUFJLFVBQVUsR0FBRyxZQUFZO0VBQzNCLFNBQVMsVUFBVSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUU7SUFDdEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFdBQVcsQ0FBQztJQUN4QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDOztJQUVyQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtNQUM3QixXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQzNCOztJQUVELElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO01BQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztNQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7O01BRS9CLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztNQUV0QyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztPQUNyQyxNQUFNO1FBQ0wsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7VUFDekIsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3JDO09BQ0Y7S0FDRixNQUFNO01BQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztLQUN6QztHQUNGOztFQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRTtJQUMzRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNoRSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM5QjtHQUNGLENBQUM7O0VBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtJQUM5RCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbEMsSUFBSUYsVUFBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7OztJQUd4QixJQUFJQSxVQUFPLEtBQUtJLFNBQWUsRUFBRTtNQUMvQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztNQUNuQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztNQUNuQixJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7TUFDckIsSUFBSTtRQUNGLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO09BQ3BCLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLEtBQUssR0FBRyxDQUFDLENBQUM7T0FDWDs7TUFFRCxJQUFJLEtBQUssS0FBS0QsSUFBWSxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssT0FBTyxFQUFFO1FBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO09BQ2pELE1BQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVLEVBQUU7UUFDdEMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO09BQ3pCLE1BQU0sSUFBSSxDQUFDLEtBQUtFLFNBQU8sRUFBRTtRQUN4QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixJQUFJLFFBQVEsRUFBRTtVQUNaLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDeEIsTUFBTTtVQUNMLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztPQUNoQyxNQUFNO1FBQ0wsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVTCxVQUFPLEVBQUU7VUFDMUMsT0FBT0EsVUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3ZCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztPQUNSO0tBQ0YsTUFBTTtNQUNMLElBQUksQ0FBQyxhQUFhLENBQUNBLFVBQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUN2QztHQUNGLENBQUM7O0VBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUU7SUFDckUsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQzs7O0lBRzNCLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7TUFDOUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDOztNQUVsQixJQUFJLEtBQUssS0FBSyxRQUFRLEVBQUU7UUFDdEIsTUFBTSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN4QixNQUFNO1FBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7T0FDekI7S0FDRjs7SUFFRCxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFO01BQ3pCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ2hDO0dBQ0YsQ0FBQzs7RUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBRyxTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFO0lBQ3RFLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQzs7SUFFdEIsU0FBUyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxLQUFLLEVBQUU7TUFDN0MsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDbkQsRUFBRSxVQUFVLE1BQU0sRUFBRTtNQUNuQixPQUFPLFVBQVUsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUNuRCxDQUFDLENBQUM7R0FDSixDQUFDOztFQUVGLE9BQU8sVUFBVSxDQUFDO0NBQ25CLEVBQUU7O0FDckhIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStDZSxTQUFTLEdBQUcsQ0FBQyxPQUFPLEVBQUU7RUFDbkMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDOzs7QUNoRC9DLENEaURDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2dCYyxTQUFTLElBQUksQ0FBQyxPQUFPLEVBQUU7O0VBRXBDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQzs7RUFFdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNyQixPQUFPLElBQUksV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFLE1BQU0sRUFBRTtNQUMxQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUM7S0FDakUsQ0FBQyxDQUFDO0dBQ0osTUFBTTtJQUNMLE9BQU8sSUFBSSxXQUFXLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO01BQ2hELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7TUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMvQixXQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7T0FDdkQ7S0FDRixDQUFDLENBQUM7R0FDSjs7O0FDaEZILENEaUZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0NjLFNBQVNNLFFBQU0sQ0FBQyxNQUFNLEVBQUU7O0VBRXJDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztFQUN2QixJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNwQ0MsTUFBTyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztFQUN6QixPQUFPLE9BQU8sQ0FBQzs7O0FDN0JqQixDRDhCQyxRQzlCUSxhQUFhLEdBQUc7RUFDdkIsTUFBTSxJQUFJLFNBQVMsQ0FBQyxvRkFBb0YsQ0FBQyxDQUFDO0NBQzNHOztBQUVELFNBQVMsUUFBUSxHQUFHO0VBQ2xCLE1BQU0sSUFBSSxTQUFTLENBQUMsdUhBQXVILENBQUMsQ0FBQztDQUM5STs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBHRCxJQUFJRixTQUFPLEdBQUcsWUFBWTtFQUN4QixTQUFTLE9BQU8sQ0FBQyxRQUFRLEVBQUU7SUFDekIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDO0lBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFDdkMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7O0lBRXZCLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtNQUNyQixPQUFPLFFBQVEsS0FBSyxVQUFVLElBQUksYUFBYSxFQUFFLENBQUM7TUFDbEQsSUFBSSxZQUFZLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUM7S0FDMUU7R0FDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUE0TEQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxNQUFNLENBQUMsV0FBVyxFQUFFO0lBQ3JELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7R0FDckMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMENGLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFNBQVMsUUFBUSxDQUFDLFFBQVEsRUFBRTtJQUN0RCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDbkIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQzs7SUFFdEMsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7TUFDeEIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxFQUFFO1FBQ25DLE9BQU8sV0FBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZO1VBQ3RELE9BQU8sS0FBSyxDQUFDO1NBQ2QsQ0FBQyxDQUFDO09BQ0osRUFBRSxVQUFVLE1BQU0sRUFBRTtRQUNuQixPQUFPLFdBQVcsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWTtVQUN0RCxNQUFNLE1BQU0sQ0FBQztTQUNkLENBQUMsQ0FBQztPQUNKLENBQUMsQ0FBQztLQUNKOztJQUVELE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7R0FDekMsQ0FBQzs7RUFFRixPQUFPLE9BQU8sQ0FBQztDQUNoQixFQUFFLENBQUM7O0FBRUpBLFNBQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUU5QkEsU0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDbEJBLFNBQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3BCQSxTQUFPLENBQUMsT0FBTyxHQUFHRyxTQUFPLENBQUM7QUFDMUJILFNBQU8sQ0FBQyxNQUFNLEdBQUdJLFFBQU0sQ0FBQztBQUN4QkosU0FBTyxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7QUFDckNBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBQzNCQSxTQUFPLENBQUMsS0FBSyxHQUFHLElBQUk7O0FDNVlwQjtBQUdlLFNBQVMsUUFBUSxHQUFHO0VBQ2pDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDOztFQUVuQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtJQUNqQyxLQUFLLEdBQUcsTUFBTSxDQUFDO0dBQ2hCLE1BQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7SUFDdEMsS0FBSyxHQUFHLElBQUksQ0FBQztHQUNkLE1BQU07SUFDTCxJQUFJO01BQ0YsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0tBQ25DLENBQUMsT0FBTyxDQUFDLEVBQUU7TUFDVixNQUFNLElBQUksS0FBSyxDQUFDLDBFQUEwRSxDQUFDLENBQUM7S0FDN0Y7R0FDRjs7RUFFRCxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDOztFQUV0QixJQUFJLENBQUMsRUFBRTtJQUNMLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQztJQUMzQixJQUFJO01BQ0YsZUFBZSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUMvRCxDQUFDLE9BQU8sQ0FBQyxFQUFFOztLQUVYOztJQUVELElBQUksZUFBZSxLQUFLLGtCQUFrQixJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtNQUNyRCxPQUFPO0tBQ1I7R0FDRjs7RUFFRCxLQUFLLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUM7OztBQzlCMUIsQ0QrQkM7QUM5QkRBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQzVCQSxTQUFPLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTDFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsS0FBMEI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxFQUFFO0FBQ2IsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxFQUFFO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFR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QUNBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQSxXQUFXLFNBQVMsR0FBRyxTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7OztBQ3g3REE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtB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R0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3BKLEVBQUUsQ0FBQyxDQUFDO1FBRUosRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQy9FLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFFL0UsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUNULEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDOUUsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFF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QUN6QjtvQkFDRSwyQkFBMkI7b0JBRTNCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2I7YUFDSjtZQUNELEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzNCO0tBQ0osUUFDRyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksNkJBQTZCO1FBQ3ZFLE1BQU0sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsK0RBQStEO01BQzlGO0lBRUYsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwiZmlsZSI6ImdpZ3lhLnNlcnZpY2VzLmFwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvbWFpbi50c1wiKTtcbiIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAnd3JpdGFibGUnOiB0cnVlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gICAgaWYgKGlzTmV3KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICA6IHt9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuNS4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7XG4gKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gKiB9O1xuICpcbiAqIHZhciBvdGhlciA9IHtcbiAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAqIH07XG4gKlxuICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAqL1xudmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2U7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiZXhwb3J0IGVudW0gRWRpdGFibGVUZmFQcm92aWRlcnNUeXBlcyB7XG4gICAgZ2lneWFQaG9uZSxcbiAgICBnaWd5YVRvdHAsXG4gICAgZ2lneWFQdXNoLFxuICAgIGxpdmVsaW5rLFxufVxuZXhwb3J0IGNvbnN0IGdpZ3lhQXNzZXJ0aW9uRXhwaXJhdGlvbiA9IDYwICogNSAqIDEwMDA7XG5leHBvcnQgY29uc3Qgc2Vuc2l0aXZlUGFyYW1zT3ZlcnJpZGUgPSAnbG9naW5fdG9rZW4nO1xuXG5leHBvcnQgY29uc3QgR0lHWUFfUEFSQU1fUFJFRklYID0gJ2dpZ18nXG5cbmV4cG9ydCBjb25zdCBHSUdZQV9JTlRFUk5BTF9QQVJBTV9QUkVGSVggPSBgJHtHSUdZQV9QQVJBTV9QUkVGSVh9aV9gXG5cbmV4cG9ydCBjb25zdCBHSUdZQV9JTlRFUk5BTF9QQVJBTVMgPSBgJHtHSUdZQV9QQVJBTV9QUkVGSVh9YWN0aW9uc2BcbiIsImltcG9ydCB7IElBcGlTZXJ2aWNlLCBJRG9tYWluUmVzb2x2ZXIsIElBcGlTZXJ2aWNlQm9vdHN0cmFwSW5mbywgSUFwaVNlcnZpY2VSZXF1ZXN0LCBJVG9rZW5JZHMsIElHZXRHbWlkVGlja2V0UmVxdWVzdCB9IGZyb20gJ3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgR3JvdXBBcGlEb21haW5TZXJ2aWNlIH0gZnJvbSAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvR3JvdXBBcGlEb21haW5TZXJ2aWNlJztcbmltcG9ydCB7SUdtaWRUaWNrZXRSZXNwb25zZX0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JQXBpQWRhcHRlcic7XG5pbXBvcnQge1JlcXVlc3RQcm92aWRlcn0gZnJvbSAnLi9SZXF1ZXN0UHJvdmlkZXInO1xuaW1wb3J0IHtHbWlkUHJvdmlkZXJ9IGZyb20gXCIuL0dtaWRQcm92aWRlclwiO1xuaW1wb3J0IEhhc0dtaWQgPSBHbWlkUHJvdmlkZXIuSGFzR21pZDtcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gJy4uLy4uL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5cbmNvbnN0IEdNSURfVElDS0VUX0VYUElSQVRJT05fSU5URVJWQUwgPSAxO1xuZXhwb3J0IGNvbnN0IFRva2VuS2V5cyA9IHtcbiAgICBHTUlEOiAnZ2lnX2dtaWQnLFxuICAgIFVDSUQ6ICdnaWdfdWNpZCcsXG4gICAgR01JRF9USUNLRVQ6ICdnbWlkVGlja2V0JyxcbiAgICBHTUlEX1RJQ0tFVF9FWFBJUkFUSU9OX1RJTUU6ICdnbWlkVGlja2V0RXhwaXJhdGlvbicsXG59O1xuZXhwb3J0IGNsYXNzIEFwaVNlcnZpY2UgaW1wbGVtZW50cyBJQXBpU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfdXNlU3RvcmFnZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9zdG9yYWdlOiBnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UuQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xuICAgIHByaXZhdGUgZGlkRmFsbGJhY2sgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9hcGlLZXk6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBfaGFzR21pZDogYm9vbGVhbixcbiAgICAgICAgcHJpdmF0ZSBfZG9tYWluUmVzb2x2ZXI6IElEb21haW5SZXNvbHZlcixcbiAgICAgICAgcHJpdmF0ZSBfZ3JvdXBBcGlEb21haW5TZXJ2aWNlID0gbmV3IEdyb3VwQXBpRG9tYWluU2VydmljZSgpLFxuICAgICAgICBwcml2YXRlIF9yZXF1ZXN0UHJvdmlkZXIgPSBuZXcgUmVxdWVzdFByb3ZpZGVyKCksXG4gICAgICAgIF9zdG9yYWdlPzogZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLkFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlcixcbiAgICApIHtcbiAgICAgICAgaWYgKF9zdG9yYWdlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9yYWdlID0gX3N0b3JhZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0QXBpRG9tYWluKG1ldGhvZE5hbWU/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9tYWluUmVzb2x2ZXIuZ2V0QXBpRG9tYWluKG1ldGhvZE5hbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBib290c3RyYXAoZm9yY2VCb290c3RyYXAgPSBmYWxzZSk6IFByb21pc2U8SUFwaVNlcnZpY2VCb290c3RyYXBJbmZvPiB7XG4gICAgICAgIGNvbnN0IGxvZyA9IGdpZ3lhLmxvZ2dlci5ncm91cChgYm9vdHN0cmFwIGFwaSBzZXJ2aWNlYCk7XG5cbiAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIHN0b3JhZ2UgYWRhcHRlciBhc3luYyBhbGxvd3MgZm9yIHRoZSBwb3NzaWJpbGl0eSBvZiB1c2luZyBGbGFzaCBzdG9yYWdlLlxuICAgICAgICBpZiAoIXRoaXMuX3N0b3JhZ2UpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgaW5pdCBzdG9yYWdlYCk7XG4gICAgICAgICAgICB0aGlzLl9zdG9yYWdlID0gYXdhaXQgbmV3IFByb21pc2U8Z2lneWEudXRpbHMubG9jYWxTdG9yYWdlLkFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlcj4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLndhaXRGb3JTZXJ2aWNlKGFkYXB0ZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFkYXB0ZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgd2ViU0RLQm9vdHN0cmFwUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLl9oYXNHbWlkICYmICFmb3JjZUJvb3RzdHJhcCkge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYGFscmVhZHkgaGFzIGdtaWRgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKCF0aGlzLl9oYXNHbWlkID8gYG5vIGdtaWQgc2V0YCA6IGBmb3JjaW5nIGJvb3RzdHJhcGApO1xuXG4gICAgICAgICAgICAvLyBvbmx5IGlmIG5vdCB1c2luZyBzdG9yYWdlIHRvIGF2b2lkIGNvbmZsaWN0IHdpdGggcHJldmlvdXNseSBlc3RhYmxpc2hlZCBzZXNzaW9uIHNlY3JldCBrZXkgKGFrYSBnbWlkKVxuICAgICAgICAgICAgaWYgKCF0aGlzLl91c2VTdG9yYWdlICYmIHRoaXMuY2FuU2F2ZUdtaWRBc0Nvb2tpZSgpKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHNhdmUgZ21pZCBhcyBjb29raWVgKTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHdlYlNES0Jvb3RzdHJhcFJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdDx7IGVycm9yQ29kZTogbnVtYmVyIH0+KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZE5hbWU6ICdhY2NvdW50cy53ZWJTZGtCb290c3RyYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7YXBpS2V5OiB0aGlzLl9hcGlLZXl9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ZWJTREtCb290c3RyYXBSZXNwb25zZS5lcnJvckNvZGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdlcnJvciBib290c3RyYXBwaW5nIHNka1xcbicgKyBKU09OLnN0cmluZ2lmeSh3ZWJTREtCb290c3RyYXBSZXNwb25zZSwgbnVsbCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWNjb3VudHMud2ViU2RrQm9vdHN0cmFwIGZhaWxlZDogJHtleH1gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHNhdmUgZ21pZCBpbiBzdG9yYWdlYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFdpdGhTdG9yYWdlKGZvcmNlQm9vdHN0cmFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VTdG9yYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aWNrZXRJbmZvOiBJR21pZFRpY2tldFJlc3BvbnNlO1xuICAgICAgICBsZXQgaGFzR21pZDogc3RyaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLl91c2VTdG9yYWdlKSB7XG4gICAgICAgICAgICB0aWNrZXRJbmZvID0gYXdhaXQgdGhpcy5nZXRHbWlkVGlja2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNHbWlkID0gZ2lneWEudXRpbHMuY29va2llLmdldCgnaGFzR21pZCcpIHx8IHdlYlNES0Jvb3RzdHJhcFJlc3BvbnNlPy5oYXNHbWlkO1xuICAgICAgICAgICAgdGhpcy5jbGVhblN0b3JhZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZy5lbmQoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGlja2V0SW5mbyxcbiAgICAgICAgICAgIGhhc0dtaWRcbiAgICAgICAgfSBhcyBJQXBpU2VydmljZUJvb3RzdHJhcEluZm87XG4gICAgfVxuXG4gICAgcHVibGljIHNldEdyb3VwQXBpRG9tYWluKGFwaURvbWFpbj86IHN0cmluZykge1xuICAgICAgICBjb25zdCBiYXNlRG9tYWluID0gZ2lneWEuXy5nZXRCYXNlRG9tYWluKFxuICAgICAgICAgICAgZ2lneWEucGFydG5lclNldHRpbmdzLmJhc2VEb21haW5zLFxuICAgICAgICAgICAgdGhpcy5fZG9tYWluUmVzb2x2ZXIub3JpZ2luRG9tYWluLFxuICAgICAgICAgICAgWydnaWd5YS5jb20nLCAnY24xLnNhcGNkbS5jbicsIGdpZ3lhLmRlZmF1bHRBcGlEb21haW5dXG4gICAgICAgICk7XG4gICAgICAgIGlmKGJhc2VEb21haW4gIT09IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2dyb3VwQXBpRG9tYWluU2VydmljZS5zZXQoYXBpRG9tYWluKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjYW5TYXZlR21pZEFzQ29va2llKCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBhcGkgZG9tYWluIHdpbGwgYmUgZmlyc3QgcGFydHkgd2hlbiBzaXRlIGhhcyBhIGN1c3RvbSBhcGkgZG9tYWluIHByZWZpeC5cbiAgICAgICAgaWYoRmxhZ1NlcnZpY2UuYWx3YXlzQ2hlY2tDb29raWVTYXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9tYWluUmVzb2x2ZXIuaXNBcGlEb21haW5GaXJzdFBhcnR5IHx8IHRoaXMuX2RvbWFpblJlc29sdmVyLmNhblNhdmVHbWlkQXNDb29raWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvbWFpblJlc29sdmVyLmlzQXBpRG9tYWluRmlyc3RQYXJ0eSB8fCBnaWd5YS51dGlscy5jb29raWUuY2FuU2F2ZUNvb2tpZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzZW5kUmVxdWVzdDxUPihkYXRhOiBJQXBpU2VydmljZVJlcXVlc3QpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgLy9UT0RPOiBoYW5kbGUgdGltZW91dFxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcignQXBpU2VydmljZTogcmVxdWVzdCBkYXRhIG11c3QgaGFzIG1ldGhvZE5hbWUgYW5kIHBhcmFtcycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1ldGhvZE5hbWUgPSBkYXRhLm1ldGhvZE5hbWU7XG4gICAgICAgIGxldCBwYXJhbXMgPSBnaWd5YS51dGlscy5vYmplY3QuY2xvbmUoZGF0YS5wYXJhbXMsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHBhcmFtcy5wYWdlVVJMID0gdGhpcy5fZG9tYWluUmVzb2x2ZXIub3JpZ2luRG9tYWluO1xuICAgICAgICBpZiAodGhpcy5fdXNlU3RvcmFnZSkge1xuICAgICAgICAgICAgcGFyYW1zLmdtaWQgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXlzLkdNSUQpO1xuICAgICAgICAgICAgcGFyYW1zLnVjaWQgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXlzLlVDSUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmFzZURvbWFpbiA9IGBodHRwczovLyR7YXdhaXQgdGhpcy5nZXRBcGlEb21haW4oZGF0YS5zZXR0aW5ncz8ubmFtZXNwYWNlID8/IGRhdGEubWV0aG9kTmFtZSl9YDtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuX3JlcXVlc3RQcm92aWRlci5zZW5kKGJhc2VEb21haW4sIG1ldGhvZE5hbWUsIHBhcmFtcywgZGF0YS5zZXR0aW5ncywgZGF0YS5oZWFkZXJzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaWRGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJlcyA9IGVycjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWRGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzID0gdGhpcy5zZW5kUmVxdWVzdEZhbGxiYWNrKGJhc2VEb21haW4sIG1ldGhvZE5hbWUsIHBhcmFtcywgZGF0YSwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXMgYXMgVDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHNldHVwV2l0aFN0b3JhZ2UoZm9yY2VCb290c3RyYXA6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZUdtaWQgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXlzLkdNSUQpO1xuICAgICAgICBjb25zdCBleHBpcmF0aW9uVGltZSA9IHBhcnNlSW50KHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShUb2tlbktleXMuR01JRF9USUNLRVRfRVhQSVJBVElPTl9USU1FKSk7XG4gICAgICAgIGNvbnN0IGlzR21pZEV4aXN0c0luU3RvcmFnZSA9IEJvb2xlYW4oc3RvcmFnZUdtaWQpO1xuICAgICAgICBjb25zdCBnbWlkVmVyc2lvbiA9IGdpZ3lhLnV0aWxzLmFycmF5LmdldEFycmF5RnJvbVN0cmluZyhzdG9yYWdlR21pZCwgJy4nKT8uWzFdXG5cbiAgICAgICAgaWYgKChmb3JjZUJvb3RzdHJhcCAmJiBnbWlkVmVyc2lvbiAhPT0gSGFzR21pZC52ZXI0KSB8fCAhaXNHbWlkRXhpc3RzSW5TdG9yYWdlKSB7XG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgZ2V0dGluZyBnbWlkIGJ5IGVuZHBvaW50YCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHRoaXMuZ2V0SWRzKCk7XG4gICAgICAgICAgICBpZiAoIXRva2Vucy5nY2lkIHx8ICF0b2tlbnMudWNpZCkge1xuICAgICAgICAgICAgICAgIHRocm93IGBBcGlTZXJ2aWNlIGdldElEczogdGhlIHJlcXVlc3QgdG8gdGhlIGVuZHBvaW50IGZhaWxlZGA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBzZXR0aW5nIGdtaWQgaW4gc3RvcmFnZWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShUb2tlbktleXMuR01JRCwgdG9rZW5zLmdjaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShUb2tlbktleXMuVUNJRCwgdG9rZW5zLnVjaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tldFJlcyA9IHRoaXMuY3JlYXRlVGlja2V0UmVzcG9uc2UodG9rZW5zLmdtaWRUaWNrZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR21pZFRpY2tldCh0aWNrZXRSZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFnaWd5YS51dGlscy52YWxpZGF0aW9uLmlzTGF0ZXJUaGFuTm93KGV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoR21pZFRpY2tldEZyb21TZXJ2ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBhbHJlYWR5IGhhcyBnbWlkIGluIHN0b3JhZ2VgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZU5ldyAtIGlmIG5vIGdtaWRUaWNrZXQgZXhpc3RzLCB0aGVuIGNyZWF0ZSBhIG5ldyBvbmUgaW5zdGVhZCBvZiByZXR1cm5pbmcgdW5kZWZpbmVkXG4gICAgcHVibGljIGFzeW5jIGdldEdtaWRUaWNrZXQoY3JlYXRlTmV3ID0gZmFsc2UpOiBQcm9taXNlPElHbWlkVGlja2V0UmVzcG9uc2U+IHtcbiAgICAgICAgbGV0IGdtaWRUaWNrZXQgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXlzLkdNSURfVElDS0VUKTtcblxuICAgICAgICBpZiAoIWdtaWRUaWNrZXQgJiYgIWNyZWF0ZU5ldykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyYXRpb25UaW1lID0gcGFyc2VJbnQodGhpcy5fc3RvcmFnZS5nZXRJdGVtKFRva2VuS2V5cy5HTUlEX1RJQ0tFVF9FWFBJUkFUSU9OX1RJTUUpKTtcbiAgICAgICAgICAgIGlmICghY3JlYXRlTmV3ICYmIGdtaWRUaWNrZXQgJiYgZ2lneWEudXRpbHMudmFsaWRhdGlvbi5pc0xhdGVyVGhhbk5vdyhleHBpcmF0aW9uVGltZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBnbWlkVGlja2V0OiBnbWlkVGlja2V0LFxuICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uVGltZTogcGFyc2VJbnQodGhpcy5fc3RvcmFnZS5nZXRJdGVtKFRva2VuS2V5cy5HTUlEX1RJQ0tFVF9FWFBJUkFUSU9OX1RJTUUpKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUdtaWRUaWNrZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWZyZXNoR21pZFRpY2tldEZyb21TZXJ2ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoaXMgc2hvdWxkIGJlIHJlbW92ZWQgaW4gdGhlIGZlYXR1cmUsIGl0J3Mgb25seSB1c2UgaW4gY2FzZSB3ZSBuZWVkIHRvIHNlbmQgcmVtb3ZlXG4gICAgLy8gYW5kIHRoZSB0b3AgZG9tYWluIGlzIG5vdCB0cnVzdGVkXG4gICAgcHVibGljIGFzeW5jIHNlbmRSZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApIDw9IDUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgYXBpS2V5OiBnaWd5YS5hcGlLZXksXG4gICAgICAgICAgICBwYWdlOiB0aGlzLl9kb21haW5SZXNvbHZlci5vcmlnaW5Eb21haW4sXG4gICAgICAgICAgICBidWlsZFZlcnNpb246IGdpZ3lhLmJ1aWxkLnZlcnNpb24sXG4gICAgICAgICAgICBmb3JtYXQ6ICdqc29uJyxcbiAgICAgICAgICAgIHNkazogJ3dlYicsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRldGFpbHMpIHtcbiAgICAgICAgICAgIHBhcmFtc1snZGV0YWlscyddID0gSlNPTi5zdHJpbmdpZnkoZGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIG1ldGhvZE5hbWU6ICdzZGsuZXJyb3JSZXBvcnQnLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9IGFzIElBcGlTZXJ2aWNlUmVxdWVzdFxuICAgICAgICBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVmcmVzaEdtaWRUaWNrZXRGcm9tU2VydmVyKCk6IFByb21pc2U8SUdtaWRUaWNrZXRSZXNwb25zZT4ge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgcmVmcmVzaGluZyBnbWlkIHRpY2tldGApO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNyZWF0ZUdtaWRUaWNrZXQodGhpcy5fc3RvcmFnZS5nZXRJdGVtKFRva2VuS2V5cy5HTUlEKSk7XG4gICAgICAgIGlmKHJlcyAmJiByZXMuZ21pZFRpY2tldCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHbWlkVGlja2V0KHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlR21pZFRpY2tldCh0aWNrZXQ6IElHbWlkVGlja2V0UmVzcG9uc2UpOiB2b2lkIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHVwZGF0aW5nIGdtaWQgdGlja2V0YCwgdGlja2V0KTtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKFRva2VuS2V5cy5HTUlEX1RJQ0tFVCwgdGlja2V0LmdtaWRUaWNrZXQpO1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnNldEl0ZW0oVG9rZW5LZXlzLkdNSURfVElDS0VUX0VYUElSQVRJT05fVElNRSwgU3RyaW5nKHRpY2tldC5leHBpcmF0aW9uVGltZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVsZXRlR21pZFRpY2tldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKFRva2VuS2V5cy5HTUlEX1RJQ0tFVCk7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbShUb2tlbktleXMuR01JRF9USUNLRVRfRVhQSVJBVElPTl9USU1FKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsZWFuU3RvcmFnZSgpIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKFRva2VuS2V5cy5HTUlEKTtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKFRva2VuS2V5cy5VQ0lEKTtcbiAgICAgICAgdGhpcy5kZWxldGVHbWlkVGlja2V0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRJZHMoKTogUHJvbWlzZTxJVG9rZW5JZHM+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3Q8SVRva2VuSWRzPih7XG4gICAgICAgICAgICBtZXRob2ROYW1lOiAnc29jaWFsaXplLmdldElEcycsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBBUElLZXk6IHRoaXMuX2FwaUtleSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlVGlja2V0OiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUdtaWRUaWNrZXQoZ21pZD86IHN0cmluZywgZXhwaXJlcyA9IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5nbWlkVGlja2V0RXhwaXJhdGlvbiB8fCAzNjAwKTogUHJvbWlzZTxJR21pZFRpY2tldFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5fYXBpS2V5LFxuICAgICAgICAgICAgZXhwaXJlcyxcbiAgICAgICAgfSBhcyBJR2V0R21pZFRpY2tldFJlcXVlc3Q7XG5cbiAgICAgICAgaWYgKGdtaWQpIHBhcmFtcy5nbWlkID0gZ21pZDtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdDx7IGdtaWRUaWNrZXQ6IHN0cmluZyB9Pih7XG4gICAgICAgICAgICBtZXRob2ROYW1lOiAnc29jaWFsaXplLmdldEdtaWRUaWNrZXQnLFxuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmKHJlcyAmJiByZXMuZ21pZFRpY2tldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVRpY2tldFJlc3BvbnNlKHJlcy5nbWlkVGlja2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZXN0YWJsaXNoIGdtaWRUaWNrZXQnLCB7cmVzcG9uc2U6IEpTT04uc3RyaW5naWZ5KHJlcyksIG1ldGhvZDogJ3NvY2lhbGl6ZS5nZXRHbWlkVGlja2V0J30pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlR21pZFRpY2tldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRpY2tldFJlc3BvbnNlKGdtaWRUaWNrZXQ6IHN0cmluZyk6IElHbWlkVGlja2V0UmVzcG9uc2Uge1xuICAgICAgICBsZXQgY3VycmVudEdtaWRUaWNrZXREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgY3VycmVudEdtaWRUaWNrZXREYXRlLnNldEhvdXJzKGN1cnJlbnRHbWlkVGlja2V0RGF0ZS5nZXRIb3VycygpICsgR01JRF9USUNLRVRfRVhQSVJBVElPTl9JTlRFUlZBTCk7XG4gICAgICAgIGNvbnN0IGV4cGlyYXRpb25UaW1lID0gY3VycmVudEdtaWRUaWNrZXREYXRlLmdldFRpbWUoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ21pZFRpY2tldCxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2VuZFJlcXVlc3RGYWxsYmFjazxUPihiYXNlRG9tYWluOiBzdHJpbmcsIG1ldGhvZE5hbWU6IHN0cmluZywgcGFyYW1zOiBhbnksIGRhdGE6ICBJQXBpU2VydmljZVJlcXVlc3QsIGVycjogYW55KTogUHJvbWlzZTxUPiB7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ0FwaVNlcnZpY2U6IEZhbGxiYWNrIHdpdGggYXBpIGZsYWdzIHR1cm5lZCBvZmYnLCB7YmFzZURvbWFpbiwgbWV0aG9kTmFtZSwgcGFyYW1zLCBkYXRhLCBlcnJ9KTtcbiAgICAgICAgZm9yIChjb25zdCBmbGFnIG9mIEZsYWdTZXJ2aWNlLmFwaUZsYWdzKSB7XG4gICAgICAgICAgICBnaWd5YS5fLmNvbmZpZy5mbGFnc1tmbGFnXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5fcmVxdWVzdFByb3ZpZGVyLnNlbmQoYmFzZURvbWFpbiwgbWV0aG9kTmFtZSwgcGFyYW1zLCBkYXRhLnNldHRpbmdzLCBkYXRhLmhlYWRlcnMpKSBhcyBUO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwQXBpRG9tYWluU2VydmljZSB9IGZyb20gJ3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL0dyb3VwQXBpRG9tYWluU2VydmljZSc7XG5pbXBvcnQgeyBJRG9tYWluUmVzb2x2ZXIgfSBmcm9tICdzcmMvY29yZS9BcGlTZXJ2aWNlL2FwcC9pbnRlcmZhY2VzJztcbmltcG9ydCB7VXJpfSBmcm9tICcuLi8uLi9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpJztcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gJy4uLy4uL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5cblxuZXhwb3J0IGNvbnN0IExvZ2luVG9rZW5QcmVmaXggPSAnZ2lnX2xvZ2luVG9rZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFJlc2V0R3JvdXBBcGlEb21haW4oXG4gICAgY3VzdG9tQXBpRG9tYWluUHJlZml4OiBzdHJpbmcsXG4gICAgY2FjaGVkQXBpRG9tYWluOiBzdHJpbmcsXG4gICAgc3NvS2V5LFxuICAgIHRydXN0ZWREb21haW5zOiBzdHJpbmdbXSxcbiAgICBzdG9yYWdlID0gZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLmluaXRpYWxpemVBZGFwdGVyKGdpZ3lhLnV0aWxzLmxvY2FsU3RvcmFnZS5Db29raWVTdG9yYWdlQWRhcHRlciksXG4pIHtcbiAgICAvLyBXZSBzaG91bGQgcmVzZXQgdGhlIGNhY2hlZCBncm91cEFwaURvbWFpbiBpZlxuICAgIC8vIEEuIGNhY2hlZEFwaURvbWFpbiBpcyBpbiB0cnVzdGVkIHVybHMgbGlzdC5cbiAgICAvLyBCLiBPciAoIyEpQUxMKCEjKSBvZiB0aGUgcmVxdWlyZW1lbnRzIGJlbG93IGFyZSBtZXQ6XG4gICAgLy8gICAxLiB3ZSBoYXZlIGN1c3RvbUFQSURvbWFpblByZWZpeCBkZWZpbmVkIGZvciB0aGlzIHNpdGVcbiAgICAvLyAgIDIuIHRoZSBjdXN0b21BcGlEb21haW5QcmVmaXggaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBvbmUgc3RvcmVkIGluIGNhY2hlICh0aGUgbW9zdCByZWNlbnQgY3VzdG9tQXBpRG9tYWluUHJlZml4IGlzIG5vdCBiZWluZyB1c2VkKVxuICAgIC8vICAgMy4gdXNlciBpcyBub3QgbG9nZ2VkLWluIChsb2dpblRva2VuIFwiZ2lnX2xvZ2luVG9rZW5fe3Nzb0tleX1cIiBkb2Vzbid0IGV4aXN0cylcbiAgICBjb25zdCBoYXNHcm91cExvZ2luVG9rZW4gPSBCb29sZWFuKHNzb0tleSAmJiBzdG9yYWdlLmdldEl0ZW0oYCR7TG9naW5Ub2tlblByZWZpeH1fJHtzc29LZXl9YCkpO1xuXG4gICAgaWYgKCFpc1RydXN0ZWREb21haW4oY2FjaGVkQXBpRG9tYWluLCB0cnVzdGVkRG9tYWlucykgJiYgIWhhc0dyb3VwTG9naW5Ub2tlbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWN1c3RvbUFwaURvbWFpblByZWZpeCkge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgbm8gY3VzdG9tIGFwaSBkb21haW4gcHJlZml4IHNvLi5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgaGFzIGN1c3RvbSBhcGkgZG9tYWluIHByZWZpeDogJHtjdXN0b21BcGlEb21haW5QcmVmaXh9YCk7XG5cbiAgICAgICAgY29uc3QgY2FjaGVkQ3VzdG9tQXBpRG9tYWluUHJlZml4ID0gY2FjaGVkQXBpRG9tYWluICYmIGNhY2hlZEFwaURvbWFpbi5zcGxpdCgnLicpWzBdO1xuICAgICAgICBjb25zdCBoYXNDdXN0b21QcmVmaXhDaGFuZ2VkID0gY3VzdG9tQXBpRG9tYWluUHJlZml4ICE9PSBjYWNoZWRDdXN0b21BcGlEb21haW5QcmVmaXg7XG5cbiAgICAgICAgaWYgKCFoYXNDdXN0b21QcmVmaXhDaGFuZ2VkKSB7XG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgLi5hbmQgaXQgYWxyZWFkeSBtYXRjaGVzIGdyb3VwIGFwaSBkb21haW4ncyAoJHtjYWNoZWRBcGlEb21haW59KSBzby4uYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgLi5hbmQgaXQncyBkaWZmZXJlbnQgZnJvbSBleGlzdGluZyBncm91cCBhcGkgZG9tYWluJ3MgKCR7Y2FjaGVkQXBpRG9tYWlufSlgKTtcblxuICAgICAgICAgICAgaWYgKGhhc0dyb3VwTG9naW5Ub2tlbikge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGAuLmJ1dCBhIGdyb3VwIHNlc3Npb24gZXhpc3RzIHNvLi5gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGAuLmFuZCBubyBncm91cCBzZXNzaW9uIC0+IHJlc2V0dGluZyBncm91cCBhcGkgZG9tYWluYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXR1cm4gY3VzdG9tQXBpRG9tYWluUHJlZml4ICYmIGhhc0N1c3RvbVByZWZpeENoYW5nZWQgJiYgIWhhc0xvZ2luVG9rZW47XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvbWFpblJlc29sdmVyKFxuICAgIGRhdGFDZW50ZXI6IHN0cmluZyxcbiAgICB0cnVzdGVkRG9tYWluczogc3RyaW5nW10sXG4gICAgb3JpZ2luRG9tYWluOiBzdHJpbmcsXG4gICAgZGVmYXVsdERvbWFpbjogc3RyaW5nLFxuICAgIGN1c3RvbUFwaURvbWFpblByZWZpeDogc3RyaW5nLFxuICAgIGdyb3VwQXBpRG9tYWluU2VydmljZSA9IG5ldyBHcm91cEFwaURvbWFpblNlcnZpY2UoKSxcbiAgICBzc29LZXkgPSBnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5LFxuKTogSURvbWFpblJlc29sdmVyIHtcbiAgICBjb25zdCBsb2cgPSBnaWd5YS5sb2dnZXIuZ3JvdXAoYGFwaSBkb21haW4gcmVzb2x2ZXJgKTtcblxuICAgIGNvbnN0IGdyb3VwQXBpRG9tYWluID0gZ3JvdXBBcGlEb21haW5TZXJ2aWNlLmdldCgpO1xuICAgIGxldCBpc0dyb3VwQXBpRG9tYWluID0gQm9vbGVhbihncm91cEFwaURvbWFpbik7XG4gICAgY29uc3Qgc2hvdWxkUmVzZXRBcGlEb21haW4gPSBpc0dyb3VwQXBpRG9tYWluICYmIHNob3VsZFJlc2V0R3JvdXBBcGlEb21haW4oY3VzdG9tQXBpRG9tYWluUHJlZml4LCBncm91cEFwaURvbWFpbiwgc3NvS2V5LCB0cnVzdGVkRG9tYWlucyk7IC8vIG5vIHN0b3JlZCBhcGkgZG9tYWluIGZvciBncm91cCAoZmlyc3QgdGltZSBpbiBncm91cCBvciBhIG5vbi1ncm91cCBzaXRlKVxuXG4gICAgbGV0IGVmZmVjdGl2ZUFwaURvbWFpbjogc3RyaW5nO1xuICAgIGlmIChpc0dyb3VwQXBpRG9tYWluICYmICFzaG91bGRSZXNldEFwaURvbWFpbikge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgdXNpbmcgZXhpc3RpbmcgZ3JvdXAgYXBpIGRvbWFpbjogJHtncm91cEFwaURvbWFpbn1gKTtcbiAgICAgICAgZWZmZWN0aXZlQXBpRG9tYWluID0gZ3JvdXBBcGlEb21haW47XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHJlc29sdmluZyBhcGkgZG9tYWluYCk7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGB0cnVzdGVkIGRvbWFpbnNgLCB0cnVzdGVkRG9tYWlucyk7XG4gICAgICAgIGNvbnN0IGJhc2VEb21haW4gPSBnaWd5YS5fLmdldEJhc2VEb21haW4odHJ1c3RlZERvbWFpbnMsIG9yaWdpbkRvbWFpbiwgWydnaWd5YS5jb20nLCAnY24xLnNhcGNkbS5jbicsIGRlZmF1bHREb21haW5dKTtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYGJhc2UgZG9tYWluOiAke2Jhc2VEb21haW59YCk7XG5cbiAgICAgICAgY29uc3QgcmVzb2x2ZWRBcGlEb21haW4gPSBnaWd5YS5fLnJlc29sdmVBcGlEb21haW4oY3VzdG9tQXBpRG9tYWluUHJlZml4LCBiYXNlRG9tYWluLCBkYXRhQ2VudGVyLCBkZWZhdWx0RG9tYWluKTtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHJlc29sdmVkIGFwaSBkb21haW46ICR7cmVzb2x2ZWRBcGlEb21haW59YCk7XG5cbiAgICAgICAgaWYgKHNzb0tleSkge1xuICAgICAgICAgICAgaXNHcm91cEFwaURvbWFpbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBlZmZlY3RpdmVBcGlEb21haW4gPSByZXNvbHZlZEFwaURvbWFpbjtcbiAgICB9XG5cbiAgICBpZiAoIUZsYWdTZXJ2aWNlLnNldEdyb3VwQXBpRG9tYWluQWZ0ZXJMb2dpbikge1xuICAgICAgICBncm91cEFwaURvbWFpblNlcnZpY2Uuc2V0KGVmZmVjdGl2ZUFwaURvbWFpbik7XG4gICAgfVxuXG4gICAgbG9nLmVuZCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb3JpZ2luRG9tYWluLFxuICAgICAgICBpc0dyb3VwQXBpRG9tYWluLCAvLyBpZiB3ZSBoYXZlIGEgZ3JvdXBBcGlEb21haW4gaW4gY2FjaGUgPT4gaXNHcm91cEFwaURvbWFpbiBpcyB0cnVlXG4gICAgICAgIGdldEFwaURvbWFpbjogZ2lneWEuXy5hcGlEb21haW5GYWN0b3J5KGVmZmVjdGl2ZUFwaURvbWFpbiwgZGVmYXVsdERvbWFpbiksIC8vIHVzZSB0aGUgZWZmZWN0aXZlIGFwaURvbWFpbiB3aGVuIHJlcXVlc3RpbmcgdGhlIGFwaURvbWFpblxuICAgICAgICBpc0FwaURvbWFpbkZpcnN0UGFydHk6IEJvb2xlYW4oY3VzdG9tQXBpRG9tYWluUHJlZml4KSwgLy8gbm90IGVudGlyZWx5IHRydWUgLSBncm91cCBhcGkgZG9tYWluIG1heSBub3QgYmUgZmlyc3QgcGFydHlcbiAgICAgICAgaGFzR3JvdXBBcGlEb21haW5DaGFuZ2VkOiBzc29LZXkgJiYgc2hvdWxkUmVzZXRBcGlEb21haW4sXG4gICAgICAgIGNhblNhdmVHbWlkQXNDb29raWU6IGdpZ3lhLnV0aWxzLmNvb2tpZS5jYW5TYXZlQ29va2llKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc1RydXN0ZWREb21haW4oZG9tYWluOiBzdHJpbmcsIHRydXN0ZWRVcmxzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIWdpZ3lhLnV0aWxzLmFycmF5LmZpcnN0KHRydXN0ZWRVcmxzLCAodHJ1c3RlZFVybHM6IHN0cmluZykgPT4gdHJ1c3RlZFVybHMgJiYgVXJpLnBhcnNlKGRvbWFpbikuaXNJbih0cnVzdGVkVXJscykpO1xufVxuIiwiaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSAnLi4vLi4vR2lneWEuSnMvYXBwL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcbmltcG9ydCB7c2l0ZURhdGF9IGZyb20gJy4uLy4uL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9TaXRlRGF0YSc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgR21pZFByb3ZpZGVyIHtcbiAgICAvKipcbiAgICAgKiBNb2RlbCBmb3IgSGFzR21pZCBjb250ZXh0LlxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgSGFzR21pZENvbnRleHQge1xuICAgICAgICByZWFkb25seSBoYXNHbWlkOiBIYXNHbWlkO1xuICAgICAgICByZWFkb25seSBpc1YzOiBib29sZWFuO1xuICAgICAgICByZWFkb25seSBpc1Y0OiBib29sZWFuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdtaWQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBleHBvcnQgZW51bSBIYXNHbWlkIHtcbiAgICAgICAgdmVyMiA9ICd2ZXIyJyxcbiAgICAgICAgdmVyMyA9ICd2ZXIzJyxcbiAgICAgICAgdmVyNCA9ICd2ZXI0J1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBhY3R1YWwgdmVyc2lvbiBpbiBjb29raWVzIG9yIGZyb20gYmFja2VuZCBjb25maWd1cmF0aW9uXG4gICAgICogKGl0IGlzIHNldCB1cCBmb3IgY2xpZW50IG9uIHRoZSBiYWNrZW5kIHNpZGUgYXMgZ2lneWEuZ21pZFZlcnNpb24pLlxuICAgICAqL1xuICAgIGV4cG9ydCBlbnVtIFZlcnNpb25TZWFyY2hTdHJhdGVneSB7XG4gICAgICAgIGNvb2tpZUZpcnN0ID0gJ2Nvb2tpZUZpcnN0JyxcbiAgICAgICAgY29uZmlnRmlyc3QgPSAnY29uZmlnRmlyc3QnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIEhhc0dtaWQgY29udGV4dCB3aXRoIGFsbCB1c2VmdWwgaW5mby5cbiAgICAgKiBAcGFyYW0gZ2lneWFPYmogR2lneWEgZ2xvYmFsIG9iamVjdC5cbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gZ2V0SGFzR21pZFBhcmFtKFxuICAgICAgICBnaWd5YU9iajogdHlwZW9mIGdpZ3lhXG4gICAgKTogSGFzR21pZENvbnRleHQge1xuICAgICAgICBjb25zdCBoYXNHbWlkID0gZ2lneWFPYmoudXRpbHMuZ2V0UGFyYW1WYWx1ZShkb2N1bWVudC5jb29raWUsICdoYXNHbWlkJywgJzsnKSB8fCBnZXRHbWlkQm9vdHN0cmFwUGFyYW0oZ2lneWFPYmopO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1YzOiBoYXNHbWlkID09PSBIYXNHbWlkLnZlcjMsXG4gICAgICAgICAgICBpc1Y0OiBoYXNHbWlkID09PSBIYXNHbWlkLnZlcjQsXG4gICAgICAgICAgICBoYXNHbWlkXG4gICAgICAgIH0gYXMgSGFzR21pZENvbnRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGluZGljYXRpb24gd2hldGhlciBib290c3RyYXAgbmVlZCBvciBub3QuXG4gICAgICogQHBhcmFtIGdpZ3lhT2JqIEdpZ3lhIGdsb2JhbCBvYmplY3QuXG4gICAgICogQHBhcmFtIHN0cmF0ZWd5IFNlYXJjaCBhY3R1YWwgdmVyc2lvbiBpbiBjb29raWVzIG9yIGZyb20gYmFja2VuZCBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRHbWlkQm9vdHN0cmFwSW5kaWNhdGlvblRva2VuKFxuICAgICAgICBnaWd5YU9iajogdHlwZW9mIGdpZ3lhLFxuICAgICAgICBzdHJhdGVneTogVmVyc2lvblNlYXJjaFN0cmF0ZWd5ID0gVmVyc2lvblNlYXJjaFN0cmF0ZWd5LmNvb2tpZUZpcnN0XG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IGdldEFjdHVhbEdtaWRWZXJzaW9uKGdpZ3lhT2JqLCBzdHJhdGVneSk7XG4gICAgICAgIHJldHVybiBjb252ZXJ0SGFzR21pZFRvQm9vdHN0cmFwSW5kaWNhdGlvbihnaWd5YU9iaiwgdmVyc2lvbik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWN0dWFsIHZlcnNpb24gb2YgdGhlIGdtaWQgdmVyc2lvbiBjb29raWUgKHZlcjMsIHZlcjQsIGV0YykuXG4gICAgICogQHBhcmFtIGdpZ3lhT2JqIEdpZ3lhIGdsb2JhbCBvYmplY3QuXG4gICAgICogQHBhcmFtIHN0cmF0ZWd5IFNlYXJjaCBhY3R1YWwgdmVyc2lvbiBpbiBjb29raWVzIG9yIGZyb20gYmFja2VuZCBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRBY3R1YWxHbWlkVmVyc2lvbihcbiAgICAgICAgZ2lneWFPYmo6IHR5cGVvZiBnaWd5YSxcbiAgICAgICAgc3RyYXRlZ3k6IFZlcnNpb25TZWFyY2hTdHJhdGVneSA9IFZlcnNpb25TZWFyY2hTdHJhdGVneS5jb29raWVGaXJzdFxuICAgICk6IEhhc0dtaWQge1xuICAgICAgICBjb25zdCBoYXNHbWlkQ29udGV4dDogSGFzR21pZENvbnRleHQgPSBnZXRIYXNHbWlkUGFyYW0oZ2lneWFPYmopO1xuXG4gICAgICAgIHJldHVybiBzdHJhdGVneSA9PSBWZXJzaW9uU2VhcmNoU3RyYXRlZ3kuY29va2llRmlyc3RcbiAgICAgICAgICAgID8gKGhhc0dtaWRDb250ZXh0Lmhhc0dtaWQgfHwgZ2lneWFPYmouZ21pZFZlcnNpb24gfHwgJ3ZlcjMnKSBhcyBIYXNHbWlkXG4gICAgICAgICAgICA6IChnaWd5YU9iai5nbWlkVmVyc2lvbiB8fCBoYXNHbWlkQ29udGV4dC5oYXNHbWlkIHx8ICd2ZXIzJykgYXMgSGFzR21pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gZmxhZyBpZiB0aGUgdG9rZW4gaXMgYWxsb3dlZCB0byBiZSByZWdlbmVyYXRlZC5cbiAgICAgKiAoQWxsb3dlZCBvbmx5IGluIGNhc2Ugd2hlbiBzZXNzaW9uIGlzIG5vdCBhY3RpdmUgYW5kIGdtaWQgdG9rZW4gaXMgbm90IGxhdGVzdC4pXG4gICAgICogQHBhcmFtIGdpZ3lhT2JqIEdpZ3lhIGdsb2JhbCBvYmplY3QuXG4gICAgICogQHBhcmFtIGlzU2Vzc2lvbkFjdGl2ZSBJcyBzZXNzaW9uIGFjdGl2ZSBpbmRpY2F0b3IuXG4gICAgICovXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFJlZ2VuZXJhdGVHbWlkKFxuICAgICAgICBnaWd5YU9iajogdHlwZW9mIGdpZ3lhLFxuICAgICAgICBpc1Nlc3Npb25BY3RpdmU6IGJvb2xlYW5cbiAgICApOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaGFzTGF0ZXN0VmVyNEdtaWQgPSBoYXNMYXRlc3RHbWlkVmVyc2lvbihnaWd5YU9iaik7XG4gICAgICAgIHJldHVybiAhaXNTZXNzaW9uQWN0aXZlICYmIChzaG91bGRGb3JjZUJvb3RzdHJhcCgpIHx8ICAhaGFzTGF0ZXN0VmVyNEdtaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBmbGFnIHdoZXRoZXIgaGFzR21pZCBjb29raWUgaGFzIGxhdGVzdCB2ZXJzaW9uLlxuICAgICAqIEBwYXJhbSBnaWd5YU9iaiBHaWd5YSBnbG9iYWwgb2JqZWN0LlxuICAgICAqL1xuICAgIGV4cG9ydCBmdW5jdGlvbiBoYXNMYXRlc3RHbWlkVmVyc2lvbihcbiAgICAgICAgZ2lneWFPYmo6IHR5cGVvZiBnaWd5YVxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBoYXNHbWlkQ29udGV4dDogSGFzR21pZENvbnRleHQgPSBnZXRIYXNHbWlkUGFyYW0oZ2lneWFPYmopO1xuICAgICAgICByZXR1cm4gQm9vbGVhbihoYXNHbWlkQ29udGV4dC5oYXNHbWlkKSAmJiBoYXNHbWlkQ29udGV4dC5pc1Y0O1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0SGFzR21pZFRvQm9vdHN0cmFwSW5kaWNhdGlvbihnaWd5YU9iajogdHlwZW9mIGdpZ3lhLCBnbWlkVmVyc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIChnaWd5YU9iai5wYXJ0bmVyU2V0dGluZ3MuY3VzdG9tQVBJRG9tYWluUHJlZml4IHx8ICdfZ2lneWEnKSArIGBfJHtnbWlkVmVyc2lvbn1gO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEdtaWRCb290c3RyYXBQYXJhbShnaWd5YU9iajogdHlwZW9mIGdpZ3lhKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZ21pZEJvb3RzdHJhcENvb2tpZSA9IGdpZ3lhT2JqLnV0aWxzLmNvb2tpZS5nZXQoYGdpZ19ib290c3RyYXBfJHtnaWd5YU9iai5hcGlLZXl9YCk7XG4gICAgICAgIHJldHVybiBnaWd5YU9iai51dGlscy5hcnJheS5nZXRBcnJheUZyb21TdHJpbmcoZ21pZEJvb3RzdHJhcENvb2tpZSwgJ18nKT8ucG9wKCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEZvcmNlQm9vdHN0cmFwKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gRmxhZ1NlcnZpY2UuZm9yY2VXZWJTZGtCb290c3RyYXAgJiYgIXNpdGVEYXRhLmRpZEZvcmNlZEJvb3RzdHJhcDtcbiAgICB9XG59XG4iLCJpbXBvcnQge2xvY2FsSW5mb30gZnJvbSBcIi4uLy4uL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm9cIjtcblxuY29uc3QgR3JvdXBBcGlEb21haW5LZXkgPSAnYXBpRG9tYWluJztcbmV4cG9ydCBjbGFzcyBHcm91cEFwaURvbWFpblNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2Nvb2tpZU5hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9zc29LZXkgPSBnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5LFxuICAgICAgICBwcml2YXRlIF9zdG9yYWdlID0gZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLmluaXRpYWxpemVBZGFwdGVyKGdpZ3lhLnV0aWxzLmxvY2FsU3RvcmFnZS5Db29raWVTdG9yYWdlQWRhcHRlciksXG4gICAgICAgIHByaXZhdGUgX3BhZ2VEb21haW4gPSBsb2NhbEluZm8ucGFnZURvbWFpblxuICAgICkge1xuICAgICAgICB0aGlzLl9jb29raWVOYW1lID0gYCR7R3JvdXBBcGlEb21haW5LZXl9XyR7dGhpcy5fc3NvS2V5fWA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nzb0tleSA/IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9jb29raWVOYW1lKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcHVibGljIHNldChhcGlEb21haW46IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5fc3NvS2V5KSB7XG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc2V0dGluZyBhcyBncm91cCBhcGkgZG9tYWluIGZvciAke3RoaXMuX3Nzb0tleX1gKTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9jb29raWVOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9jb29raWVOYW1lLCBhcGlEb21haW4sIHVuZGVmaW5lZCwgdGhpcy5fcGFnZURvbWFpbik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0FwaUFkYXB0ZXJTZXR0aW5nc30gZnJvbSBcIi4uLy4uL0dpZ3lhLkpzL2ludGVyZmFjZXMvSUFwaUFkYXB0ZXJcIjtcbmltcG9ydCB7R1NFcnJvcnN9IGZyb20gXCIuLi8uLi9HaWd5YS5Kcy9hcHAvR1NFcnJvcnNcIjtcbmltcG9ydCB7UmVxdWVzdFR5cGUsIFVybExlbmd0aEZpZWxkc30gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7bG9jYWxJbmZvfSBmcm9tIFwiLi4vLi4vR2lneWEuSnMvYXBwL0xvY2FsSW5mb1wiO1xuaW1wb3J0IHtzZW5zaXRpdmVQYXJhbXNPdmVycmlkZX0gZnJvbSBcIi4uLy4uLy4uL2FjY291bnRzL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSAnLi4vLi4vR2lneWEuSnMvYXBwL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlcXVlc3Qge1xuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgYmFzZURvbWFpbjogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgbWV0aG9kOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBwYXJhbXM6IE9iamVjdCxcbiAgICAgICAgcHVibGljIHNldHRpbmdzOiBBcGlBZGFwdGVyU2V0dGluZ3MgPSB7fSxcbiAgICApIHtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmV0cnlUaW1lcklEOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHJldHJ5OiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGFzeW5jIHNlbmQoaWdub3JlQ2FjaGVUaW1lb3V0PzogYm9vbGVhbikge1xuICAgICAgICBpZighbG9jYWxJbmZvLmlzT25MaW5lKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmtFcnJvclJlc3BvbnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1JlcXVlc3RQYXRoTWFuaXB1bGF0ZWQoKSkgIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKGBBYm9ydGluZyBSZXF1ZXN0IGZvciAke3RoaXMubWV0aG9kfS4gUGF0aCBtYW5pcHVsYXRpb24gZGV0ZWN0ZWQuYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBnaWd5YS51dGlscy5vYmplY3QuZGVjb2RlT2JqZWN0S2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcignUmVxdWVzdCBBUEkgRXJyb3IgLSBGYWlsZWQgdG8gZGVjb2RlIG9iamVjdCBrZXlzJywge1xuICAgICAgICAgICAgICAgIGV4Y2VwdGlvbjogZXgsXG4gICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtczogSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkRGVmYXVsdFBhcmFtcygpO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBlcmZvcm1TZW5kKHRoaXMuZ2V0UmVxdWVzdFR5cGUoKSwgaWdub3JlQ2FjaGVUaW1lb3V0KTtcbiAgICB9O1xuXG4gICAgcHVibGljIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlOiBPYmplY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2FjaGVUaW1lb3V0KSB7XG4gICAgICAgICAgICBnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUuc2V0KHRoaXMuZ2V0Q2FjaGVLZXkoKSwgcmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLk9LID8gcmVzcG9uc2UgOiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXRyeVRpbWVySUQgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZXJJRCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkRhdGFfUGVuZGluZykge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLmdldERhdGFQZW5kaW5nVGltZW91dCh0aGlzLnJldHJ5KyspO1xuICAgICAgICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0cnlcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZCgpO1xuICAgICAgICAgICAgICAgIH0sIHQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFVybCA9ICgpID0+IGdpZ3lhLl8uVXJpLnBhcnNlKGAke3RoaXMuYmFzZURvbWFpbn0vJHt0aGlzLm1ldGhvZH1gKTtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBkaXNwb3NlKCk7XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcGVyZm9ybVNlbmQocmVxdWVzdFR5cGU6IFJlcXVlc3RUeXBlLCBpZ25vcmVDYWNoZVRpbWVvdXQ/OiBib29sZWFuKTtcblxuICAgIHByb3RlY3RlZCBnZXRDYWNoZUtleSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5tZXRob2R9XyR7Z2lneWEudXRpbHMua2V5VmFsdWUuc2VyaWFsaXplKHRoaXMucGFyYW1zKX1gO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRGdWxsVXJsKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0VXJsKCk7XG5cbiAgICAgICAgcmV0dXJuIHVybC5hZGRUb1NlYXJjaCh0aGlzLmdldEZsYXR0ZW5QYXJhbXMoKSkuaHJlZjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkRGVmYXVsdFBhcmFtcygpIHtcbiAgICAgICAgdGhpcy5wYXJhbXNbJ3NkayddID0gJ2pzXycgKyAoZ2lneWEuYnVpbGQ/LnZlcnNpb24gfHwgJycpO1xuICAgICAgICB0aGlzLnBhcmFtc1snc2RrQnVpbGQnXSA9IGdpZ3lhLmJ1aWxkPy5udW1iZXIgfHwgMDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgbmV0d29ya0Vycm9yUmVzcG9uc2UoKTtcblxuICAgIHByaXZhdGUgaXNSZXF1ZXN0UGF0aE1hbmlwdWxhdGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcmwoKS5ocmVmLnRvTG93ZXJDYXNlKCkgIT09IGAke3RoaXMuYmFzZURvbWFpbn0vJHt0aGlzLm1ldGhvZH1gLnRvTG93ZXJDYXNlKCkgfHwgdGhpcy5nZXRVcmwoKS5zZWFyY2gubGVuZ3RoID4gMCA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREYXRhUGVuZGluZ1RpbWVvdXQocmV0cnkpIHtcbiAgICAgICAgaWYgKHJldHJ5IDw9IDQpIHJldHVybiA1MDA7XG4gICAgICAgIGlmIChyZXRyeSA8PSA0ICsgNCkgcmV0dXJuIDEwMDA7XG4gICAgICAgIGlmIChyZXRyeSA8PSA0ICsgNCArIDEzKSByZXR1cm4gMjAwMDtcbiAgICAgICAgaWYgKHJldHJ5IDw9IDQgKyA0ICsgMTMgKyAxOCkgcmV0dXJuIDUwMDA7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFJlcXVlc3RUeXBlKCk6IFJlcXVlc3RUeXBlIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGb3JjZVBvc3QgfHwgdGhpcy5oYXZlU2Vuc2l0aXZlUGFyYW1zKCkgfHwgdGhpcy5yZXF1ZXN0T3ZlcnNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RUeXBlLlBPU1Q7XG4gICAgICAgIH1cblxuICAgICAgIHJldHVybiBSZXF1ZXN0VHlwZS5HRVQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgaXNGb3JjZVBvc3QoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmZvcmNlUG9zdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcXVlc3RPdmVyc2l6ZSgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgcmVxVXJsTGVuZ3RoOiBhbnkgPSB0aGlzLmdldFJlcXVlc3RVcmxMZW5ndGgoKTtcbiAgICAgICAgY29uc3Qge2V4dHJhTGVuZ3RoLCBtYXhMZW5ndGh9ID0gdGhpcy5nZXRVcmxMZW5ndGhGaWVsZHMoKTtcblxuICAgICAgICByZXR1cm4gcmVxVXJsTGVuZ3RoICsgZXh0cmFMZW5ndGggPiBtYXhMZW5ndGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSZXF1ZXN0VXJsTGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0VXJsKCk7XG5cbiAgICAgICAgcmV0dXJuICh1cmwuaHJlZiArIGdpZ3lhLnV0aWxzLmtleVZhbHVlLnNlcmlhbGl6ZSh0aGlzLmdldEZsYXR0ZW5QYXJhbXMoKSkpLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFVybExlbmd0aEZpZWxkcygpOiBVcmxMZW5ndGhGaWVsZHMge1xuICAgICAgICBsZXQgZXh0cmFMZW5ndGggPSAwOyAvLzgwMDA7XG4gICAgICAgIGNvbnN0IG1heExlbmd0aCA9IDQgKiAxMDI0O1xuICAgICAgICBpZiAoZ2lneWEubG9jYWxJbmZvLmlzSUUgfHwgZ2lneWEubG9jYWxJbmZvLmlzRWRnZUxlZ2FjeSkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAyICogMTAyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7ZXh0cmFMZW5ndGgsIG1heExlbmd0aH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGbGF0dGVuUGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gZ2lneWEudXRpbHMua2V5VmFsdWUuZGVzZXJpYWxpemUoZ2lneWEudXRpbHMua2V5VmFsdWUuc2VyaWFsaXplKHRoaXMucGFyYW1zKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXZlU2Vuc2l0aXZlUGFyYW1zKCk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIHNlbnNpdGl2ZVBhcmFtc092ZXJyaWRlPy5zcGxpdCgnfCcpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXM/Lmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbmV4cG9ydCBjbGFzcyBSZXF1ZXN0UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF94aHJSZXF1ZXN0ID0gZ2lneWEuWGhyUmVxdWVzdCxcbiAgICAgICAgcHVibGljIHRpbWVvdXQgPSAxNTAwMCxcbiAgICAgICAgcHJpdmF0ZSBfd2luID0gd2luZG93XG4gICAgKSB7fVxuXG4gICAgYXN5bmMgc2VuZChiYXNlRG9tYWluLCBtZXRob2ROYW1lLCBwYXJhbXMsIHNldHRpbmdzLCBoZWFkZXJzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5feGhyUmVxdWVzdChiYXNlRG9tYWluLCBtZXRob2ROYW1lLCBwYXJhbXMsIHNldHRpbmdzLCBoZWFkZXJzKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHRoaXMuX3dpbi5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoJ0FQSSByZXF1ZXN0IHRpbWVvdXQnKTtcbiAgICAgICAgICAgIH0sIHRoaXMudGltZW91dCk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCByZXF1ZXN0LnNlbmQoKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdYSFIgcmVxdWVzdCBmYWlsZWQnLCB7bWV0aG9kTmFtZSwgcGFyYW1zLCBzZXR0aW5ncywgZXJyfSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGBSZXF1ZXN0IGZvciAke21ldGhvZE5hbWV9IGZhaWxlZGApO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aW4uY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UmVxdWVzdH0gZnJvbSAnLi9SZXF1ZXN0JztcbmltcG9ydCB7QXBpQWRhcHRlclNldHRpbmdzfSBmcm9tIFwiLi4vLi4vR2lneWEuSnMvaW50ZXJmYWNlcy9JQXBpQWRhcHRlclwiO1xuaW1wb3J0IHtHU0Vycm9yc30gZnJvbSBcIi4uLy4uL0dpZ3lhLkpzL2FwcC9HU0Vycm9yc1wiO1xuaW1wb3J0IHtSZXF1ZXN0VHlwZX0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IEdpZ3lhUmVzcG9uc2UgZnJvbSBcImdpZ3lhL2Rpc3QvbGliL2ludGVyZmFjZXMvZ2lneWEtcmVzcG9uc2VcIjtcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gXCIuLi8uLi9HaWd5YS5Kcy9hcHAvU2VydmljZXMvRmxhZ1NlcnZpY2VcIjtcblxuZXhwb3J0IGNsYXNzIFhoclJlcXVlc3QgZXh0ZW5kcyBSZXF1ZXN0IHtcbiAgICBwcml2YXRlIHhodHRwO1xuICAgIHByaXZhdGUgaGVhZGVyczoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBiYXNlRG9tYWluOiBzdHJpbmcsXG4gICAgICAgIG1ldGhvZDogc3RyaW5nLFxuICAgICAgICBwYXJhbXM6IE9iamVjdCxcbiAgICAgICAgc2V0dGluZ3M6IEFwaUFkYXB0ZXJTZXR0aW5ncyA9IHt9LFxuICAgICAgICByZXF1ZXN0SGVhZGVycyA9IHt9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGJhc2VEb21haW4sIG1ldGhvZCwgcGFyYW1zLCBzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMueGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVycyhyZXF1ZXN0SGVhZGVycyk7XG4gICAgfTtcblxuICAgIHByb3RlY3RlZCBwZXJmb3JtU2VuZChyZXF1ZXN0VHlwZTogUmVxdWVzdFR5cGUsIGlnbm9yZUNhY2hlVGltZW91dD86IGJvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0UG9zdFBhcmFtczogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IHJlcVVybCA9IHRoaXMuZ2V0RnVsbFVybCgpO1xuXG4gICAgICAgICAgICAvLyBTZXQgcmVxdWVzdCBvbiBsb2FkXG4gICAgICAgICAgICB0aGlzLnhodHRwLm9ubG9hZCA9ICgpID0+IHRoaXMub25SZXF1ZXN0TG9hZChyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgLy8gU2V0IHJlcXVlc3Qgb24gZXJyb3JcbiAgICAgICAgICAgIHRoaXMueGh0dHAub25lcnJvciA9ICgpID0+IHJlamVjdCh0aGlzLmNyZWF0ZUVycm9yRnJvbVJlc3BvbnNlKCdYSFJfRkFJTFVSRSAtIGh0dHAgcmVxdWVzdCBvbmVycm9yIGV2ZW50JykpO1xuICAgICAgICAgICAgLy8gQWxsb3cgWE1MSHR0cCByZXF1ZXN0IHRvIGF0dGFjaCBjb29raWVzXG4gICAgICAgICAgICB0aGlzLnhodHRwLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChyZXF1ZXN0VHlwZSA9PT0gUmVxdWVzdFR5cGUuUE9TVCkge1xuICAgICAgICAgICAgICAgIHJlcVVybCA9IHRoaXMuZ2V0VXJsKCkuaHJlZjtcbiAgICAgICAgICAgICAgICAvLyBPcHRpb24gcmVxdWVzdCBnbyBvdXQgd2l0aG91dCBhcGlLZXkgYW5kIGZhaWxzXG4gICAgICAgICAgICAgICAgLy8gd2UgYWRkIGl0IGluIGNhc2UgaGVhZGVycyBoYXMgY2hhbmdlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzSGVhZGVycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcVVybCArPSBgP0FQSUtleT0ke3RoaXMucGFyYW1zWydBUElLZXknXX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXF1ZXN0UG9zdFBhcmFtcyA9IGdpZ3lhLnV0aWxzLmtleVZhbHVlLnNlcmlhbGl6ZSh0aGlzLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnhodHRwLm9wZW4ocmVxdWVzdFR5cGUsIHJlcVVybCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCByZXF1aXJlZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmhlYWRlcnMpLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnhodHRwLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCB0aGlzLmhlYWRlcnNbaGVhZGVyXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy54aHR0cC5zZW5kKHJlcXVlc3RQb3N0UGFyYW1zKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgaGFzSGVhZGVycygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhT2JqZWN0LmtleXModGhpcy5oZWFkZXJzKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlcXVlc3RMb2FkKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBsZXQganNvblJlc3BvbnNlOiBHaWd5YVJlc3BvbnNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZSh0aGlzLnhodHRwLnJlc3BvbnNlVGV4dCkgYXMgR2lneWFSZXNwb25zZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgnWEhSX0ZBSUxVUkUgLSBmYWlsZWQgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIG9iamVjdCcsIHtyZXNwb25zZVRleHQ6IHRoaXMueGh0dHAucmVzcG9uc2VUZXh0fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHR0cC5yZWFkeVN0YXRlICE9PSA0IHx8ICFqc29uUmVzcG9uc2U/LnN0YXR1c0NvZGUpIHtcbiAgICAgICAgICAgIHJlamVjdCh0aGlzLmNyZWF0ZUVycm9yRnJvbVJlc3BvbnNlKCdYSFJfRkFJTFVSRSAtIGh0dHAgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0aGlzLmhhbmRsZVJlc3BvbnNlKGpzb25SZXNwb25zZSkpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGNyZWF0ZUVycm9yRnJvbVJlc3BvbnNlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnhodHRwLnN0YXR1cyxcbiAgICAgICAgICAgIHJlYWR5U3RhdGU6IHRoaXMueGh0dHAucmVhZHlTdGF0ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlVGV4dDogdGhpcy54aHR0cC5yZXNwb25zZVRleHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGREZWZhdWx0UGFyYW1zKCkge1xuICAgICAgICBzdXBlci5hZGREZWZhdWx0UGFyYW1zKCk7XG4gICAgICAgIHRoaXMucGFyYW1zWydmb3JtYXQnXSA9ICdqc29uJztcbiAgICAgICAgaWYgKEZsYWdTZXJ2aWNlLnVzZUh0dHBTdGF0dXNDb2RlICYmIHRoaXMuc2V0dGluZ3MudXNlSHR0cFN0YXR1c0NvZGVzKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc1snaHR0cFN0YXR1c0NvZGVzJ10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG5ldHdvcmtFcnJvclJlc3BvbnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLk5FVFdPUktfRVJST1IsXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdOZXR3b3JrX2Vycm9yJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRpc3Bvc2UoKSB7fTtcblxuICAgIHByaXZhdGUgc2V0UmVxdWVzdEhlYWRlcnMocmVxdWVzdEhlYWRlcnM6IG9iamVjdCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzdXBwb3J0ZWRIZWFkZXJzID0gWydBdXRob3JpemF0aW9uJ107XG5cbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWVzdEhlYWRlcnMpLmZpbHRlcihoZWFkZXIgPT4gc3VwcG9ydGVkSGVhZGVycy5pbmRleE9mKGhlYWRlcikgIT09IC0xKS5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJWYWx1ZSA9IHJlcXVlc3RIZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICBpZiAoQm9vbGVhbihoZWFkZXJWYWx1ZSkgJiYgdHlwZW9mIGhlYWRlclZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc1toZWFkZXJdID0gaGVhZGVyVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBjb29raWVVdGlscyBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Nvb2tpZVwiO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0RPTSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNEb21haW5zIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9kb21haW5zJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNGdW5jdGlvbnMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzSlNPTiBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzS2V5VmFsdWUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2tleVZhbHVlJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNMb2NhbFN0b3JhZ2UgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzU3RyaW5nUGFyYW1zIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc09iamVjdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNTY3JpcHQgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3NjcmlwdCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzU2Vzc2lvbkNhY2hlIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zZXNzaW9uQ2FjaGUnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0xvY2FsQ2FjaGUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsQ2FjaGUnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1VyaSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNVUkwgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VSTCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzVmFsaWRhdGlvbiBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdmFsaWRhdGlvbic7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzQXJyYXkgZnJvbSBcIi4uLy4uL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheVwiO1xuXG5cbmRlY2xhcmUgY29uc3QgZ2lneWE6IGFueTtcblxuaWYgKCFnaWd5YS5fKSB7XG4gICAgZ2lneWEuXyA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscykge1xuICAgIGdpZ3lhLnV0aWxzID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLmFycmF5KSB7XG4gICAgZ2lneWEudXRpbHMuYXJyYXkgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuY29va2llKSB7XG4gICAgZ2lneWEudXRpbHMuY29va2llID0gY29va2llVXRpbHM7XG59XG5pZiAoIWdpZ3lhLnV0aWxzLkRPTSkge1xuICAgIGdpZ3lhLnV0aWxzLkRPTSA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5mdW5jdGlvbnMpIHtcbiAgICBnaWd5YS51dGlscy5mdW5jdGlvbnMgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuSlNPTikge1xuICAgIGdpZ3lhLnV0aWxzLkpTT04gPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMua2V5VmFsdWUpIHtcbiAgICBnaWd5YS51dGlscy5rZXlWYWx1ZSA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UpIHtcbiAgICBnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMub2JqZWN0KSB7XG4gICAgZ2lneWEudXRpbHMub2JqZWN0ID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLnNjcmlwdCkge1xuICAgIGdpZ3lhLnV0aWxzLnNjcmlwdCA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUpIHtcbiAgICBnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMubG9jYWxDYWNoZSkge1xuICAgIGdpZ3lhLnV0aWxzLmxvY2FsQ2FjaGUgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMpIHtcbiAgICBnaWd5YS51dGlscy5zdHJpbmdVdGlscyA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5VUkwpIHtcbiAgICBnaWd5YS51dGlscy5VUkwgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMudmFsaWRhdGlvbikge1xuICAgIGdpZ3lhLnV0aWxzLnZhbGlkYXRpb24gPSB7fTtcbn1cbk9iamVjdC5hc3NpZ24oZ2lneWEuXywgR2lneWFVdGlsc1VyaSwgR2lneWFVdGlsc0RvbWFpbnMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5hcnJheSwgR2lneWFVdGlsc0FycmF5KTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuRE9NLCBHaWd5YVV0aWxzRE9NKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuZnVuY3Rpb25zLCBHaWd5YVV0aWxzRnVuY3Rpb25zKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuSlNPTiwgR2lneWFVdGlsc0pTT04pO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5rZXlWYWx1ZSwgR2lneWFVdGlsc0tleVZhbHVlKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlLCBHaWd5YVV0aWxzTG9jYWxTdG9yYWdlKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMub2JqZWN0LCBHaWd5YVV0aWxzT2JqZWN0KTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuc2NyaXB0LCBHaWd5YVV0aWxzU2NyaXB0KTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlLCBHaWd5YVV0aWxzU2Vzc2lvbkNhY2hlKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMubG9jYWxDYWNoZSwgR2lneWFVdGlsc0xvY2FsQ2FjaGUpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5VUkwsIEdpZ3lhVXRpbHNVUkwpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy52YWxpZGF0aW9uLCBHaWd5YVV0aWxzVmFsaWRhdGlvbik7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLCBHaWd5YVV0aWxzU3RyaW5nUGFyYW1zKTtcbiIsImltcG9ydCB7IEFwaUFkYXB0ZXJTZXR0aW5ncywgSUdtaWRUaWNrZXRSZXNwb25zZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2ludGVyZmFjZXMvSUFwaUFkYXB0ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIElEb21haW5SZXNvbHZlciBleHRlbmRzIElHcm91cEFwaURvbWFpbkluZm8ge1xuICAgIG9yaWdpbkRvbWFpbjogc3RyaW5nO1xuICAgIGdldEFwaURvbWFpbjogKG5hbWVzcGFjZT86IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIGlzQXBpRG9tYWluRmlyc3RQYXJ0eTogYm9vbGVhbjtcbiAgICBjYW5TYXZlR21pZEFzQ29va2llPzogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUFwaVNlcnZpY2VJbml0SW5mbyBleHRlbmRzIElHcm91cEFwaURvbWFpbkluZm8ge1xuICAgIGFwaURvbWFpbjogc3RyaW5nO1xuICAgIGNhblNhdmVHbWlkQXNDb29raWU/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBJR3JvdXBBcGlEb21haW5JbmZvIHtcbiAgICBpc0dyb3VwQXBpRG9tYWluOiBib29sZWFuO1xuICAgIGhhc0dyb3VwQXBpRG9tYWluQ2hhbmdlZDogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUFwaVNlcnZpY2VSZXF1ZXN0IHtcbiAgICBtZXRob2ROYW1lOiBzdHJpbmc7XG4gICAgcGFyYW1zOiBPYmplY3Q7XG4gICAgc2V0dGluZ3M/OiBBcGlBZGFwdGVyU2V0dGluZ3M7XG4gICAgaGVhZGVycz86IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9XG59XG5leHBvcnQgaW50ZXJmYWNlIElBcGlTZXJ2aWNlIHtcbiAgICBib290c3RyYXAoZm9yY2U/OiBib29sZWFuKTogUHJvbWlzZTxJQXBpU2VydmljZUJvb3RzdHJhcEluZm8+O1xuICAgIHNlbmRSZXF1ZXN0PFQ+KGRhdGE6IElBcGlTZXJ2aWNlUmVxdWVzdCk6IFByb21pc2U8VD47XG4gICAgZ2V0R21pZFRpY2tldChjcmVhdGVOZXc/OiBib29sZWFuKTogUHJvbWlzZTxJR21pZFRpY2tldFJlc3BvbnNlPjtcbiAgICBnZXRBcGlEb21haW4obWV0aG9kTmFtZT86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPjtcbiAgICBzZXRHcm91cEFwaURvbWFpbihhcGlEb21haW4/OiBzdHJpbmcpO1xuICAgIHNlbmRSZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogYW55KTogUHJvbWlzZTx2b2lkPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUFwaVNlcnZpY2VCb290c3RyYXBJbmZvIHtcbiAgICB0aWNrZXRJbmZvPzogSUdtaWRUaWNrZXRSZXNwb25zZTtcbiAgICBoYXNHbWlkPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBJVG9rZW5JZHMge1xuICAgIGdjaWQ6IHN0cmluZztcbiAgICB1Y2lkOiBzdHJpbmc7XG4gICAgZ21pZFRpY2tldDogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBJR2V0R21pZFRpY2tldFJlcXVlc3Qge1xuICAgIGFwaUtleTogc3RyaW5nO1xuICAgIGV4cGlyZXM6IG51bWJlcjtcbiAgICBnbWlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RTZXR0aW5ncyB7XG4gICAgZm9yY2VQb3N0PzogYm9vbGVhbjtcbiAgICBmb3JjZUdpZ3lhRG9tYWluPzogYm9vbGVhbjsgLy8gZm9yIGFub255bW91cyB1c2Vyc1xuICAgIGRpc2FibGVDYWNoZT86IGJvb2xlYW47XG4gICAgcmVxdWlyZXNTZXNzaW9uPzogKCkgPT4gYm9vbGVhbjtcbiAgICBjbGVhclNlc3Npb24/OiBib29sZWFuO1xuICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbj86IChwYXJhbXM6IGFueSkgPT4gYm9vbGVhbjtcbiAgICBjYWNoZVRpbWVvdXQ/OiBudW1iZXI7XG4gICAganNTZGtSZXF1ZXN0SWQ/OiBzdHJpbmc7XG4gICAgcHJlcHJvY2Vzc29yPzogKHBhcmFtcywgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXJsTGVuZ3RoRmllbGRzIHtcbiAgICBleHRyYUxlbmd0aDogbnVtYmVyLFxuICAgIG1heExlbmd0aDogbnVtYmVyLFxufVxuXG5leHBvcnQgZW51bSBSZXF1ZXN0VHlwZSB7XG4gICAgR0VUID0gJ0dFVCcsXG4gICAgUE9TVCA9ICdQT1NUJ1xufVxuIiwiaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2lneWFHbG9iYWxzJztcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9tYWluJztcbmltcG9ydCAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvZ2lneWFVdGlscyc7XG5pbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvbWFpbic7XG5pbXBvcnQgKiBhcyBMb2NhbEluZm8gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyBYaHJSZXF1ZXN0IGZyb20gJy4vWGhyUmVxdWVzdCc7XG5pbXBvcnQgKiBhcyBSZXF1ZXN0IGZyb20gJy4vUmVxdWVzdCc7XG5pbXBvcnQge0dyb3VwQXBpRG9tYWluU2VydmljZX0gZnJvbSAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvR3JvdXBBcGlEb21haW5TZXJ2aWNlJztcbmltcG9ydCB7Y3JlYXRlRG9tYWluUmVzb2x2ZXJ9IGZyb20gJ3NyYy9jb3JlL0FwaVNlcnZpY2UvYXBwL0RvbWFpblJlc29sdmVyJztcbmltcG9ydCB7QXBpU2VydmljZX0gZnJvbSAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvQXBpU2VydmljZSc7XG5pbXBvcnQge1Byb3h5TGlzdGVuZXJ9IGZyb20gJ3NyYy9jb3JlL1NlcnZpY2VQcm94eS9Qcm94eUxpc3RlbmVyJztcbmltcG9ydCB7SUFwaVNlcnZpY2VJbml0SW5mb30gZnJvbSAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvaW50ZXJmYWNlcyc7XG5pbXBvcnQge0lXZWJTZGtDb25maWd9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2ludGVyZmFjZXMvSVdlYlNka0NvbmZpZyc7XG5pbXBvcnQge2dldEJhc2VEb21haW4sIGdldFN0b3JhZ2VEb21haW59IGZyb20gXCIuLi8uLi9HaWd5YS5Kcy9hcHAvVXRpbHMvZG9tYWluc1wiO1xuaW1wb3J0IHsgR21pZFByb3ZpZGVyIH0gZnJvbSAnLi9HbWlkUHJvdmlkZXInO1xuaW1wb3J0IHtnZXRTZGtDb25maWd9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9hcGlCb290c3RyYXAnO1xuaW1wb3J0IHtnZXRVbmlxdWVWYWx1ZXN9IGZyb20gJy4uLy4uL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5cbi8qKlxuICogdGhpcyBmaWxlIHdpbGwgYmUgaW5qZWN0IGludG8gYXBpLmFzcHhcbiAqL1xuXG5pZiAoIWdpZ3lhLmFwaUtleSkgLy8gZmFsbGluZyBiYWNrIHRvIGFwaUtleSBmcm9tIHF1ZXJ5IHN0cmluZyBpbiBjYXNlIHNvbWV0aGluZyB3ZW50IHdyb25nIG9uIG91ciBiYWNrIGVuZC5cbiAgICBnaWd5YS5hcGlLZXkgPSBnaWd5YS51dGlscy5nZXRSZXFQYXJhbVZhbHVlKGxvY2F0aW9uLnNlYXJjaCwgJ2FwaUtleScpO1xuXG5jb25zdCB7YXBpS2V5LCBkYXRhQ2VudGVyLCBjb25maWdIb3N0bmFtZU92ZXJyaWRlfSA9IGdpZ3lhO1xuXG4oYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgICBsZXQgd2ViU2RrQ29uZmlnOiBJV2ViU2RrQ29uZmlnO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luRG9tYWluID0gZ2V0T3JpZ2luRG9tYWluKCk7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0hvc3RuYW1lID0gY29uZmlnSG9zdG5hbWVPdmVycmlkZSB8fCBnZXRPcmlnaW5Ib3N0TmFtZSgpIHx8IGBodHRwczovLyR7Z2V0U3RvcmFnZURvbWFpbigpfWA7XG5cbiAgICAgICAgd2ViU2RrQ29uZmlnID0gYXdhaXQgZ2V0Q29uZmlnKG9yaWdpbkRvbWFpbiwgY29uZmlnSG9zdG5hbWUpO1xuICAgICAgICBnaWd5YS5fLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGZsYWdzOiB3ZWJTZGtDb25maWcuZmxhZ3MsXG4gICAgICAgICAgICBhcGk6IHdlYlNka0NvbmZpZy5hcGksXG4gICAgICAgICAgICBwbHVnaW5zOiB3ZWJTZGtDb25maWcucGx1Z2lucyxcbiAgICAgICAgICAgIGhvc3RlZFBhZ2VzRG9tYWluOiB3ZWJTZGtDb25maWcuaG9zdGVkUGFnZXNEb21haW4sXG4gICAgICAgICAgICB0b2dnbGVzOiB7XG4gICAgICAgICAgICAgICAgbGlua0FjY291bnRWMjogd2ViU2RrQ29uZmlnLnRvZ2dsZXM/LmxpbmtBY2NvdW50VjIsXG4gICAgICAgICAgICAgICAgaHR0cFN0YXR1c0NvZGVzOiB3ZWJTZGtDb25maWcudG9nZ2xlcz8uaHR0cFN0YXR1c0NvZGVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uc2VudDoge1xuICAgICAgICAgICAgICAgIGhhc0xpY2Vuc2U6IHdlYlNka0NvbmZpZy5oYXNDb25zZW50TGljZW5zZSA/PyBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIExvY2FsSW5mby5sb2NhbEluZm8uYmFzZURvbWFpbiA9IGdldEJhc2VEb21haW4od2ViU2RrQ29uZmlnLmFwaS5iYXNlRG9tYWlucyk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZ2lneWEsIExvY2FsSW5mbywgUmVxdWVzdCwgWGhyUmVxdWVzdCk7XG5cbiAgICAgICAgY29uc3QgZ3JvdXBBcGlEb21haW5TZXJ2aWNlID0gbmV3IEdyb3VwQXBpRG9tYWluU2VydmljZSgpO1xuXG4gICAgICAgIGNvbnN0IHRydXN0ZWREb21haW5zID0gZ2V0VW5pcXVlVmFsdWVzKHdlYlNka0NvbmZpZy5hcGkuYmFzZURvbWFpbnMuY29uY2F0KHdlYlNka0NvbmZpZy5zc28/LnZhbGlkRG9tYWlucyB8fCBbXSkpO1xuICAgICAgICBjb25zdCBkb21haW5SZXNvbHZlciA9XG4gICAgICAgICAgICBjcmVhdGVEb21haW5SZXNvbHZlcihcbiAgICAgICAgICAgICAgICBkYXRhQ2VudGVyLFxuICAgICAgICAgICAgICAgIHRydXN0ZWREb21haW5zLFxuICAgICAgICAgICAgICAgIG9yaWdpbkRvbWFpbixcbiAgICAgICAgICAgICAgICBnaWd5YS5kZWZhdWx0QXBpRG9tYWluLFxuICAgICAgICAgICAgICAgIHdlYlNka0NvbmZpZy5hcGkuY3VzdG9tQVBJRG9tYWluUHJlZml4LFxuICAgICAgICAgICAgICAgIGdyb3VwQXBpRG9tYWluU2VydmljZSk7XG5cbiAgICAgICAgY29uc3QgaGFzR21pZENvbnRleHQgPSBHbWlkUHJvdmlkZXIuZ2V0SGFzR21pZFBhcmFtKGdpZ3lhKTtcbiAgICAgICAgY29uc3QgaGFzR21pZCA9IGhhc0dtaWRDb250ZXh0LmlzVjMgfHwgaGFzR21pZENvbnRleHQuaXNWNDtcbiAgICAgICAgY29uc3QgYXBpU2VydmljZSA9IG5ldyBBcGlTZXJ2aWNlKGFwaUtleSwgaGFzR21pZCwgZG9tYWluUmVzb2x2ZXIsIGdyb3VwQXBpRG9tYWluU2VydmljZSk7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbmV3IFByb3h5TGlzdGVuZXIoYXBpU2VydmljZSwgb3JpZ2luRG9tYWluKTtcblxuICAgICAgICBsaXN0ZW5lci5saXN0ZW4oe1xuICAgICAgICAgICAgYXBpRG9tYWluOiBkb21haW5SZXNvbHZlci5nZXRBcGlEb21haW4oKSxcbiAgICAgICAgICAgIGlzR3JvdXBBcGlEb21haW46IGRvbWFpblJlc29sdmVyLmlzR3JvdXBBcGlEb21haW4sXG4gICAgICAgICAgICBoYXNHcm91cEFwaURvbWFpbkNoYW5nZWQ6IGRvbWFpblJlc29sdmVyLmhhc0dyb3VwQXBpRG9tYWluQ2hhbmdlZCxcbiAgICAgICAgICAgIGNhblNhdmVHbWlkQXNDb29raWU6IGdpZ3lhLnV0aWxzLmNvb2tpZS5jYW5TYXZlQ29va2llKClcbiAgICAgICAgfSBhcyBJQXBpU2VydmljZUluaXRJbmZvKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcihgZ2lneWE6IGVycm9yIGxvYWRpbmcgYXBpIGZyYW1lYCwge2V9KTtcbiAgICB9XG59KSgpO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRDb25maWcob3JpZ2luRG9tYWluOiBzdHJpbmcsIGNvbmZpZ0hvc3RuYW1lOiBzdHJpbmcpOiBQcm9taXNlPElXZWJTZGtDb25maWc+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB3ZWJTZGtDb25maWcgPSAgYXdhaXQgZ2V0U2RrQ29uZmlnKGNvbmZpZ0hvc3RuYW1lKTtcbiAgICAgICAgaWYgKHdlYlNka0NvbmZpZy5zdGF0dXNDb2RlICE9PSAyMDAgfHwgd2ViU2RrQ29uZmlnLmVycm9yQ29kZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjb25maWcuZ2V0IGZhaWxlZCB3aXRoIHN0YXR1c0NvZGU6ICR7d2ViU2RrQ29uZmlnLnN0YXR1c0NvZGV9IGFuZCBlcnJvckNvZGU6ICR7d2ViU2RrQ29uZmlnLmVycm9yQ29kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2ViU2RrQ29uZmlnO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbmV3IFByb3h5TGlzdGVuZXIoe30sIG9yaWdpbkRvbWFpbik7XG4gICAgICAgIGxpc3RlbmVyLnBvc3RFcnJvcih7cmVzOiAnQm9vdHN0cmFwIGZhaWxlZCBvbjogZ2V0IGNvbmZpZycsIGlkOiAnMCd9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXAgZmFpbGVkIG9uOiBnZXQgY29uZmlnJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW5Eb21haW4oKSB7XG4gICAgLy8gaW4gaWZyYW1lXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbiAhPSB3aW5kb3cucGFyZW50LmxvY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXIgfHwgZ2lneWEudXRpbHMuZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCAnb3JpZ2luJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0T3JpZ2luSG9zdE5hbWUoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbj8uaG9zdG5hbWU7XG59XG4iLCJleHBvcnQgY29uc3QgZW51bSBHU0Vycm9ycyB7XG4gICAgT0sgPSAwLFxuICAgIERhdGFfUGVuZGluZyA9IDEwMDAwMSwgLy8gRGF0YSBpcyBzdGlsbCBiZWluZyBwcm9jZXNzZWQsIHF1ZXJ5IGFnYWluIGZvciB0aGUgcmVzcG9uc2VcbiAgICBORVRXT1JLX0VSUk9SID0gNTAwMDI2LFxuICAgIERBVEFfUEVORElORyA9IDEwMDAwMSwgLy8gRGF0YSBpcyBzdGlsbCBiZWluZyBwcm9jZXNzZWQsIHF1ZXJ5IGFnYWluIGZvciB0aGUgcmVzcG9uc2VcbiAgICBPUEVSQVRJT05fQ0FOQ0VMRUQgPSAyMDAwMDEsIC8vIHVzZXIgY2FuY2VsZWQsIGluIGxvZ2luIHByb2Nlc3NcbiAgICBQRVJNSVNTSU9OX0dSQU5URUQgPSAyMDAwMDIsIC8vIElubmVyIGNvZGVcbiAgICBQRVJNSVNTSU9OX05PVF9HUkFOVEVEID0gMjAwMDAzLCAvLyBJbm5lciBjb2RlXG4gICAgUkVESVJFQ1QgPSAyMDAwMDQsIC8vIElubmVyIGNvZGVcbiAgICBORVdfVVNFUiA9IDIwMDAwNSwgLy8gSW5uZXIgY29kZVxuICAgIE9QRVJBVElPTl9ET05FID0gMjAwMDA2LCAvLyBJbm5lciBjb2RlXG4gICAgVVBEQVRFX1VTRVIgPSAyMDAwMDcsIC8vIElubmVyIGNvZGVcbiAgICBPS19XSVRIX0VSUk9SUyA9IDIwMDAwOCwgLy8gRm9yIHJlcG9ydHMgLSB3aGVuIHdlIHJldHVybiBvayB0byBjbGllbnQgYnV0IGhhZCBhY2NlcHRhYmxlIGVycm9ycyAodGhhdCB3ZSB3YW50IHRvIGtub3cgYWJvdXQpIG9uIHRoZSB3YXlcbiAgICBBQ0NPVU5UU19MSU5LRUQgPSAyMDAwMDksIC8vIEFmdGVyIGxpbmtpZ24gYWNjb3V0bnMgdmlhIGxvZ2luLCByZXR1cm4gdGhpcyBlcnJvciBjb2RlXG4gICAgT0tfV0lUSF9FUlJPUl9MT0dJTl9JREVOVElGSUVSX0VYSVNUUyA9IDIwMDAxMCwgLy8gRm9yIHNldEFjY291bnRJbmZvIHVzaW5nIHRoZSBjb25mbGljdEhhbmRsaW5nIHBhcmFtIC0gcHJvZmlsZSB3YXMgc2F2ZWQsIGJ1dCB0aGUgZW1haWwgY29uZmxpY3RzIHdpdGggYW5vdGhlciB1c2VyXG4gICAgQUNDT1VOVF9QRU5ESU5HX1JFR0lTVFJBVElPTiA9IDIwNjAwMSwgLy8gRm9yIGFjY291bnRzIEFQSSxcbiAgICBBQ0NPVU5UX1BFTkRJTkdfVkVSSUZJQ0FUSU9OID0gMjA2MDAyLCAvLyBGb3IgYWNjb3VudHMgQVBJOyBjb25zaWRlciBtb3ZpbmcgdG8gNDAzeHh4IHNlY3Rpb24gaW4gdGhlIGZ1dHVyZS5cbiAgICBBQ0NPVU5UX01JU1NJTkdfTE9HSU5JRCA9IDIwNjAwMywgLy8gRm9yIGFjY291bnRzIEFQSVxuICAgIElERU5USVRZX0FMUkVBRFlfQVNTSUdORUQgPSAyMDYwMDQsIC8vIEZvciBpbXBvcnQgYWNjb3VudHMgQVBJXG4gICAgQUZURVJfRU1BSUxfVkVSSUZJQ0FUSU9OID0gMjA2MDA1LFxuICAgIFBFTkRJTkdfQ09ERV9WRVJJRklDQVRJT04gPSAyMDYwMDYsXG4gICAgQ0xJRU5UX0xPRyA9IDMwMDAwMSwgLy8gaW50ZXJuYWwsIGZvciByZXBvcnRpbmcgZXJvcnJzIGluIGNsaWVudCBTREtTXG4gICAgSU5WQUxJRF9EQVRBX0NFTlRFUiA9IDMwMTAwMSwgLy8gXCJJbnZhbGlkIGRhdGEtY2VudGVyXCIuIHdpdGggZXJyb3IgZGV0YWlscyBvZjogXCJUaGlzIEFQSSBrZXkgaXMgc2VydmVkIGJ5IGFub3RoZXIgZGF0YSBjZW50ZXJcIi5cbiAgICBJTlZBTElEX1JFUVVFU1RfRk9STUFUID0gNDAwMDAxLCAvLyBjb3VsZCBiZSBhbGwga2luZCBvZiBlcnJvcnMgd2l0aCB3cm9uZyByZXF1ZXN0IChub24gc2VjdXJlIHdoZW4gc2hvdWxkIGJlIHNlY3VyZSwgd3JvbmcgYXV0aGVudGljYXRpb24gaGVhZGVyKVxuICAgIE1JU1NJTkdfUkVRVUlSRURfUEFSQU1FVEVSID0gNDAwMDAyLFxuICAgIFVOSVFVRV9JREVOVElGSUVSX0VYSVNUUyA9IDQwMDAwMyxcbiAgICBJTlZBTElEX1BBUkFNRVRFUl9GT1JNQVQgPSA0MDAwMDQsXG4gICAgSU5WQUxJRF9QQVJBTUVURVJfVkFMVUUgPSA0MDAwMDYsXG4gICAgRFVQTElDQVRFX1ZBTFVFID0gNDAwMDA3LFxuICAgIElOVkFMSURfQVVUSEVOVElDQVRJT05fSEVBREVSID0gNDAwMDA4LCAvLyBPQXV0aDJcbiAgICBWQUxJREFUSU9OX0VSUk9SID0gNDAwMDA5LCAvLyBJbiBhY2NvdW50cy5yZWdpc3Rlciwgd2hlbmV2ZXIgdGhlcmUgaXMgYSB2YWxpZGF0aW9uIGVycm9yXG4gICAgSU5WQUxJRF9SRURJUkVDVF9VUkkgPSA0MDAwMTEsIC8vIE9BdXRoMlxuICAgIElOVkFMSURfUkVTUE9OU0VfVFlQRSA9IDQwMDAxMiwgLy8gT0F1dGgyXG4gICAgVU5TVVBQT1JURURfR1JBTlRfVFlQRSA9IDQwMDAxMywgLy8gT0F1dGgyXG4gICAgSU5WQUxJRF9HUkFOVCA9IDQwMDAxNCwgLy8gT0F1dGgyXG4gICAgQ09ERV9FWFBJUkVEID0gNDAwMDE1LCAvLyBPQXV0aDJcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMRUQgPSA0MDAwMjAsXG4gICAgQ0FQVENIQV9WRVJJRklDQVRJT05fRkFJTEVEID0gNDAwMDIxLFxuICAgIFVOSVFVRV9JTkRFWF9WQUxJREFUSU9OX0VSUk9SID0gNDAwMDIyLFxuICAgIElOVkFMSURfVFlQRV9WQUxJREFUSU9OX0VSUk9SID0gNDAwMDIzLFxuICAgIERZTkFNSUNfRklFTERTX1ZBTElEQVRJT05fRVJST1IgPSA0MDAwMjQsXG4gICAgV1JJVEVfQUNDRVNTX1ZBTElEQVRJT05fRVJST1IgPSA0MDAwMjUsXG4gICAgSU5WQUxJRF9GT1JNQVRfVkFMSURBVElPTl9FUlJPUiA9IDQwMDAyNixcbiAgICBSRVFVSVJFRF9WQUxVRV9WQUxJREFUSU9OX0VSUk9SID0gNDAwMDI3LFxuICAgIEVNQUlMX05PVF9WRVJJRklFRCA9IDQwMDAyOCxcbiAgICBTQ0hFTUFfQ09ORkxJQ1RfRVJST1IgPSA0MDAwMjksIC8vIFRvIGhhbmRsZSBVc2VyIHN0b3J5IDM0MzMwLiBJbXByb3ZlIEVsYXN0aWNTZWFyY2hNYXBwaW5nRXhjZXB0aW9uIGhhbmRsaW5nIGluIERTLkluZGV4T2JqZWN0XG4gICAgT1BFUkFUSU9OX05PVF9BTExPV0VEID0gNDAwMDMwLCAvLyBVc2VyIHN0b3J5IDM0MzExIC0gSWYgYWRkQ29ubmVjdGlvbiBpcyBjYWxsZWQgcmV0dXJuIGFuIGVycm9yIChcIm9wZXJhdGlvbiBub3QgYWxsb3dlZCBmb3IgdGhpcyBhY2NvdW50XCIsIDQwMFhYWCBlcnJvcikuXG4gICAgU0VDVVJJVFlfVkVSSUZJQ0FUSU9OX0ZBSUxFRCA9IDQwMDA1MCxcbiAgICBJTlZBTElEX0FQSUtFWV9QQVJBTUVURVIgPSA0MDAwOTMsXG4gICAgTk9UX1NVUFBPUlRFRCA9IDQwMDA5NiwgLy8gdGhlIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYW55IG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHByb3ZpZGVyc1xuICAgIFVOU1VQUE9SVEVEX1VTRVJfQUdFTlQgPSA0MDAwOTcsIC8vXG4gICAgTk9fUFJPVklERVJTID0gNDAwMTAwLCAvLyBjbGllbnQ/XG4gICAgUE9QVVBfQkxPQ0tFRCA9IDQwMDEwMSwgLy8gY2xpZW50XG4gICAgSU5WQUxJRF9FVkVOVF9IQU5ETEVSID0gNDAwMTAyLCAvLyBjbGllbnRcbiAgICBJTlZBTElEX0NPTlRBSU5FUklEID0gNDAwMTAzLCAvLyBjbGllbnRcbiAgICBOT1RfQ09OTkVDVEVEID0gNDAwMTA2LCAvLyB1c2VyIGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIHJlcXVpcmVkIG5ldHdvcmsgb3IgdG8gYW55IG5ldHdvcmtcbiAgICBJTlZBTElEX1NJVEVfRE9NQUlOID0gNDAwMTIwLCAvLyB0aGUgY3VycmVudCBkb21haW4gZG9lcyBub3QgbWF0Y2ggdGhlIGRvbWFpbiBjb25maWd1cmVkIGZvciB0aGUgYXBpIGtleVxuICAgIFBST1ZJREVSX0NPTkZJR1VSQVRJT05fRVJST1IgPSA0MDAxMjIsIC8vIHRoZSBjdXJyZW50IGRvbWFpbiBkb2VzIG5vdCBtYXRjaCB0aGUgZG9tYWluIGNvbmZpZ3VyZWQgZm9yIHRoZSBhcGkga2V5XG4gICAgTElNSVRfUkVBQ0hFRCA9IDQwMDEyNCwgLy8gR2FtZU1lY2hhbmljcyAtIENhcCB3YXMgcmVhY2hlZFxuICAgIEZSRVFVRU5DWV9MSU1JVF9SRUFDSEVEID0gNDAwMTI1LCAvLyBDb21tZW50cy9GZWVkIC0gU3BhbSBDYXBzIHdhcyByZWFjaGVkXG4gICAgSU5WQUxJRF9BQ1RJT04gPSA0MDAxMjYsIC8vIEdhbWVNZWNoYW5pY3MgLSBJbnZhbGlkIGFjdGlvbi4gVHJpZ2dlcmVkIGFjdGlvbiBjYW4ndCBiZSBpbml0aWF0ZWQgZXh0ZXJuYWxseVxuICAgIElOU1VGRklDSUVOVF9QT0lOVFNfVE9fUkVERUVNID0gNDAwMTI3LCAvLyBHYW1lTWVjaGFuaWNzIC0gSW5zdWZmaWNpZW50X3BvaW50c190b19yZWRlZW1cbiAgICBTSUdOQVRVUkVfVElNRVNUQU1QX0VYUElSRUQgPSA0MDAxMjgsIC8vIHRoZSB0aW1lc3RhbXAgaW5zaWRlIHRoZSBzaWduYXR1cmUgaXMgZXhwaXJlZFxuICAgIEVycm9yX0R1cmluZ19FeHRlbnNpb25zX09wZXJhdGlvbiA9IDQwMDMwMixcbiAgICBFeHRlbnNpb25fUG9pbnRfQ3VzdG9tX0Vycm9yID0gNDAwMzAzLCAvLyBFeHRlbnNpb24gcG9pbnQgcmV0dXJuIGEgdXNlckZhY2luZ0Vycm9yTWVzc2FnZVxuICAgIElOVkFMSURfUE9MSUNZX0NPTkZJR1VSQVRJT04gPSA0MDEwMDAsIC8vIFBvbGljeSBjb25maWd1cmF0aW9uIGlzIGludmFsaWQgKGkuZS4gcHJldmVudCByZWdpdHJhdGlvbilcbiAgICBTVVNQRUNURURfU1BBTSA9IDQwMTAxMCwgLy8gU29tZW9uZSBpcyB0cnlpbmcgdG8gdXNlIEdpZ3lhIHRvIHNlbmQgYSBlbWFpbCB3aXRoIGEgVVJMIHRoYXQgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBjbGllbnQncyBkb21haW5zOyBzdXNwZWN0ZWQgc3BhbS5cbiAgICBMT0dJTl9GQUlMRURfQ0FQVENIQV9SRVFVSVJFRCA9IDQwMTAyMCwgLy8gYWNjb3VudHMubG9naW4gLSBjYXB0Y2hhIHJlcXVpcmVkXG4gICAgUkVRVUVTVF9GQUlMRURfQ0FQVENIQV9SRVFVSVJFRCA9IDQwMTAyMywgLy8gYWNjb3VudHMubG9naW4gLSBjYXB0Y2hhIHJlcXVpcmVkXG4gICAgTE9HSU5fRkFJTEVEX1dST05HX0NBUFRDSEEgPSA0MDEwMjEsIC8vIGFjY291bnRzLmxvZ2luIC0gd3JvbmcgY2FwdGNoYSBjb2RlXG4gICAgT0xEX1BBU1NXT1JEX1VTRUQgPSA0MDEwMzAsIC8vIFRoZSB1c2VyIHByb3ZpZGVkIGhpcyBwcmV2aW91cyBwYXNzd29yZCwgbm90IHRoZSBjdXJyZW50IG9uZVxuICAgIEZPUkJJRERFTiA9IDQwMzAwMCxcbiAgICBJTlZBTElEX1NFU1NJT05fVE9LRU4gPSA0MDMwMDEsIC8vIGludGVybmFsXG4gICAgUkVRVUVTVF9IQVNfRVhQSVJFRCA9IDQwMzAwMiwgLy8gdGhlIHRpbWVzdGFtcCBvciBleHBpcmF0aW9uIG9mIHRoZSB0b2tlbiB1c2VkIGV4Y2VlZGVkIHRoZSBhbGxvd2VkIHRpbWUgd2luZG93XG4gICAgSU5WQUxJRF9SRVFVRVNUX1NJR05BVFVSRSA9IDQwMzAwMyxcbiAgICBEVVBMSUNBVEVfTk9OQ0UgPSA0MDMwMDQsXG4gICAgVU5BVVRIT1JJWkVEX1VTRVIgPSA0MDMwMDUsIC8vIHRoZSB1c2VyIGlkIHBhc3NlZCBpcyBub3QgdmFsaWQgZm9yIHRoaXMgc2l0ZVxuICAgIFNFTlNJVElWRV9EQVRBX1NFTlRfT1ZFUl9IVFRQID0gNDAzMDA2LCAvLyB3aGVuIHNlbmRpbmcgdGhlIHNlY3JldCBrZXkgaW4gUkVTVCBpdCBoYXMgdG8gYmUgb3ZlciBIVFRQU1xuICAgIFBFUk1JU1NJT05fREVOSUVEID0gNDAzMDA3LCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBQZXJtaXNzaW9uIGRlbmllZCAocmVhZE9ubHksbW9kZXJhdGlvbiBzaXRlKS5cbiAgICBJTlZBTElEX09QRU5JRF9VUkwgPSA0MDMwMDgsIC8vIGNhbm5vdCBmaW5kIGFuIG9wZW5JZCBlbmRwb2ludCBvbiB0aGUgdXJsIG9yIHVzZXJuYW1lIGdpdmVuIGZvciBvcGVuSWQgbG9naW5cbiAgICBQUk9WSURFUl9TRVNTSU9OX0VYUElSRUQgPSA0MDMwMDksIC8vIHRoZSB1c2VyIHNlc3Npb24gZm9yIHRoaXMgcHJvdmlkZXIgaXMgZXhwaXJlZFxuICAgIElOVkFMSURfU0VDUkVUID0gNDAzMDEwLCAvLyB0aGUgcmVxdWVzdCBoYXMgYW4gaW52YWxpZCBzZWNyZXQga2V5XG4gICAgU0VTU0lPTl9IQVNfRVhQSVJFRCA9IDQwMzAxMSwgLy8gdGhlIHNlc3Npb24gZm9yIHRoaXMgdXNlciBoYXMgZXhwaXJlZFxuICAgIE5PX1ZBTElEX1NFU1NJT04gPSA0MDMwMTIsIC8vIHJlcXVlc3RlZCB1c2VyIGhhcyBubyB2YWxpZCBzZXNzaW9uXG4gICAgVU5WRVJJRklFRF9VU0VSID0gNDAzMDEzLCAvLyB0aGUgdXNlciBpcyBub3QgdmVyaWZpZWQgaW4gU1NPIHNlc3Npb25cbiAgICBNSVNTSU5HX1JFUVVFU1RfUkVGRVJSRVIgPSA0MDMwMTUsIC8vIHdlIGNhbid0IHZhbGlkYXRlIHRoZSByZXF1ZXN0IGJlY2F1c2UgdGhlIHJlZmVycmVyIGhlYWRlciBpcyBtaXNzaW5nXG4gICAgVU5FWFBFQ1RFRF9QUk9WSURFUl9VU0VSID0gNDAzMDE3LCAvLyB0aGUgbG9nZ2VkIGluIHVzZXIgaXMgZGlmZmVyZW50IGZyb20gdGhlIG9uZSBleHBlY3RlZFxuICAgIFBFUk1JU1NJT05fTk9UX1JFUVVFU1RFRCA9IDQwMzAyMiwgLy8gdGhlIGFjdGlvbiBuZWVkcyBhIHVzZXIgcGVybWlzc2lvbiBhbmQgaXQgd2FzIG5vdCByZXF1ZXN0ZWRcbiAgICBOT19VU0VSX1BFUk1JU1NJT04gPSA0MDMwMjMsIC8vIHRoZSBhY3Rpb24gbmVlZHMgYSB1c2VyIHBlcm1pc3Npb24gYW5kIHdlIGRvbid0IGhhdmUgb25lXG4gICAgUFJPVklERVJfTElNSVRfUkVBQ0hFRCA9IDQwMzAyNCwgLy8gdGhlIHByb3ZpZGVyIGxpbWl0IGZvciB0aGlzIGFjdGlvbiB3YXMgZXhjZWVkZWRcbiAgICBJTlZBTElEX1RPS0VOID0gNDAzMDI1LCAvLyBPQXV0aDJcbiAgICBVTkFVVEhPUklaRURfQUNDRVNTX0VSUk9SID0gNDAzMDI2LCAvLyBDYWxscyB0byBhY2NvdW50cy5pc0F2YWlsYWJsZUxvZ2luSUQgV2hlbiBwcmV2ZW50TG9naW5JREhhcnZlc3RpbmcgPSB0cnVlIHNob3VsZCByZXR1cm4gYW4gYXBwcm9wcmlhdGUgNDAzeHh4IHVuYXV0aG9yaXplZCBhY2Nlc3MgZXJyb3IuXG4gICAgRElGRkVSRU5UX1VTRVJfRk9SX1JFQVVUSCA9IDQwMzAyNywgLy8gRGlmZmVyZW50IHVzZXIgdHJpZWQgdG8gcmUtYXV0aG9yaXplLlxuICAgIFNFU1NJT05fRVhQSVJFRF9SRVRSWSA9IDQwMzAzMCwgLy8gSW5uZXIgY29kZSAtIHdoZW4gdGhlIGZhY2Vib29rIHNlc3Npb24gaXMgZXhwaXJlZCBhbmQgdGhlIGNsaWVudCB3YWl0cyBmb3IgRkIgb24gcGFnZSB0byBsb2FkXG4gICAgQVBQUk9WRURfQllfTU9ERVJBVE9SID0gNDAzMDMxLCAvLyBjb21tZW50cyAtIGNhbnQgZmxhZyBjb21tZW50LCBpdCB3YXMgYXBwcm92ZWQgYnkgdGhlIG1vZGVyYXRvciBhbHJlYWR5LlxuICAgIFRPS0VOX0hBU19SRU5FV0VEID0gNDAzMDMyLCAvLyB0aGUgdG9rZW4gaXMgbm8gbG9uZ2VyIHZhbGlkLCBidXQgd2UgaGF2ZSBuZXcgdG9rZW4gdG8gcHJvdmlkZVxuICAgIE5PX1VTRVJfQ09PS0lFID0gNDAzMDM1LCAvLyBubyB1c2VyIGNvb2tpZVxuICAgIFVOQVVUSE9SSVpFRF9QQVJUTkVSID0gNDAzMDM2LCAvLyBwYXJ0bmVyIGlzIGRpc2FibGVkXG4gICAgUE9TVF9ERU5JRUQgPSA0MDMwMzcsIC8vIENvbW1lbnRzIHNlcnZlciAtIFBvc3QgZGVuaWVkIHdoZW4gdGhlIHVzZXIgdHJpZWQgdG8gcmV2aWV3IHR3aWNlLlxuICAgIE5PX0xPR0lOX1RJQ0tFVCA9IDQwMzA0MCwgLy8gbm8gbG9naW4gdGlja2V0IGluIGNhbGxiYWNrIHVybFxuICAgIEFDQ09VTlRfRElTQUJMRUQgPSA0MDMwNDEsIC8vIEZvciBhY2NvdW50cyAtIHdoZW4gZ3MuYWNjb3VudHMuSXNBY3RpdmU9ZmFsc2VcbiAgICBJTlZBTElEX0xPR0lOSUQgPSA0MDMwNDIsIC8vIEZvciBhY2NvdW50cyAtIHdoZW4gdHJ5aW5nIHRvIGxvZ2luIHdpdGggYSBsb2dpbklEIHRoYXQgZG8gbm90IGV4aXN0c1xuICAgIExPR0lOX0lERU5USUZJRVJfRVhJU1RTID0gNDAzMDQzLCAvLyBGb3IgYWNjb3VudDogSWYgcHJvdmlkZXJFbWFpbCBpcyBkZWZpbmVkIGFzIGEgbG9naW5JZGVudGlmaWVyIGluIHRoZSBwb2xpY3ksIGFuZCB0aGUgZW1haWwgYWRkcmVzcyByZWNlaXZlZCBmcm9tIHRoZSBwcm92aWRlciBleGlzdHMgaW4gdGhlIGdzLmxvZ2luSWRlbnRpZmllcnMgY29sbGVjdGlvbiBidXQgYXNzb2NpYXRlZCB3aXRoIGEgZGlmZmVyZW50IFVVSUQgdGhhbiB0aGUgY3VycmVudCB1c2VyLCB0aGVuIHJldHVybiBcIkxvZ2luIGlkZW50aWZpZXIgZXhpc3RzXCIgZXJyb3IgY29kZSAoNDAzeHh4KS5cbiAgICBVTkRFUkFHRV9VU0VSID0gNDAzMDQ0LCAvLyBGb3IgQ09QUEEgY29tcGxpYW5jZSAoQ2hpbGRyZW4ncyBPbmxpbmUgUHJpdmFjeSBQcm90ZWN0aW9uIEFjdClcbiAgICBJTlZBTElEX1NJVEVfQ09ORklHVVJBVElPTl9FUlJPUiA9IDQwMzA0NSwgLy8gRm9yIGFjY291bnRzIC0gc2l0ZSBEUyBpcyBlbmFibGVkIHRob3VnaCBubyBEU1NpemUgd2FzIGNvbmZpZ3VyZWQuXG4gICAgTE9HSU5JRF9ET0VTX05PVF9FWElTVCA9IDQwMzA0NywgLy8gRm9yIGFjY291bnRzIC0gd2hlbiB0cnlpbmcgdG8gcmVzZXQgcGFzc3dvcmQgd2l0aCBhIGxvZ2luSUQgdGhhdCBkbyBub3QgZXhpc3RzXG4gICAgQVBJX1JBVEVfTElNSVRfRVhDRUVERUQgPSA0MDMwNDgsXG4gICAgUEVORElOR19QQVNTV09SRF9DSEFOR0UgPSA0MDMxMDAsIC8vIFRoZSB1c2VyJ3MgcGFzc3dvcmQgbmVlZHMgdG8gYmUgY2hhbmdlZFxuICAgIEFDQ09VTlRfUEVORElOR19URkFfVkVSSUZJQ0FUSU9OID0gNDAzMTAxLFxuICAgIEFDQ09VTlRfUEVORElOR19URkFfUkVHSVNUUkFUSU9OID0gNDAzMTAyLFxuICAgIEFDQ09VTlRfUEVORElOR19SRUNFTlRfTE9HSU4gPSA0MDMxMTAsXG4gICAgQUNDT1VOVF9URU1QT1JBUklMWV9MT0NLRURfT1VUID0gNDAzMTIwLCAvLyBUb28gbWFueSBsb2dpbiBhdHRlbXB0czsgYWNjb3VudCBsb2NrZWQtb3V0XG4gICAgUkVEVU5EQU5UX09QRVJBVElPTiA9IDQwMzIwMCwgLy8gVGhlIGNsaWVudCBwZXJmb3JtZWQgYW4gb3BlcmF0aW9uIHRoYXQgaXMgcmVkdW5kYW50XG4gICAgSU5WQUxJRF9BUFBMSUNBVElPTl9JRCA9IDQwMzIwMSwgLy8gVGhlIGFwcCBpZCBwcm92aWRlZCBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIGNvbmZpZ3VyZWQgZm9yIHRoZSBzaXRlXG4gICAgTk9UX0ZPVU5EID0gNDA0MDAwLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBDYXRlZ29yeSBub3QgZm91bmQuIEFjY291bnRzIC0gZW1haWwgdmVyaWZpY2F0aW9uIGZhaWxlZCwgdXVpZCBub3QgZm91bmQuXG4gICAgRlJJRU5EX05PVF9GT1VORCA9IDQwNDAwMSwgLy8gdGhlIHVzZXIgaWQgcHJvdmlkZWQgYXMgYSB0YXJnZXQgaXMgbm90IGEgZnJpZW5kIGZvciB0aGUgY3VycmVudCB1c2VyXG4gICAgQ0FURUdPUllfTk9UX0ZPVU5EID0gNDA0MDAyLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBDYXRlZ29yeSBub3QgZm91bmQuXG4gICAgVUlEX05PVF9GT1VORCA9IDQwNDAwMyxcbiAgICBSRVNPVVJDRV9OT1RfRk9VTkQgPSA0MDQwMDQsIC8vIENsaWVudCBzaWRlIC0gaW1hZ2Ugbm90IGZvdW5kIGFmdGVyIHVwbG9hZFxuICAgIElOVkFMSURfQVBJX01FVEhPRCA9IDQwNTAwMSwgLy8gaW50ZXJuYWwgZm9yIG91ciBKUyBBUElcbiAgICBJREVOVElUWV9FWElTVFMgPSA0MDkwMDEsIC8vIHdoZW4gdHJ5aW5nIHRvIGNvbm5lY3QgdG8gYSBwcm92aWRlciB0aGF0IGlzIGFscmVhZHkgY29ubmVjdGVkIG9yIGxpbmsgdG8gYW4gYWxyZWFkeSBsaW5rZWQgYWNjb3VudFxuICAgIEdPTkUgPSA0MTAwMDAsIC8vIFJlc291cmNlIG5vIGxvbmdlciBhdmFpbGFibGUuIERhdGEgS2V5IFNlcnZlciAtIGtleSByZXZva2VkL2V4cGlyZWQuXG4gICAgUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFID0gNDEzMDAxLCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBSZXF1ZXN0IHRvIGxhcmdlXG4gICAgQ09NTUVOVF9URVhUX1RPT19MQVJHRSA9IDQxMzAwMiwgLy8gQ29tbWVudHMgc2VydmVyIC0gQ29tbWVudCBUZXh0IHRvIGxhcmdlLlxuICAgIE9CSkVDVF9UT09fTEFSR0UgPSA0MTMwMDMsIC8vIERhdGFTdG9yZSBvYmplY3QgaXMgdG9vIGxhcmdlXG4gICAgUFJPRklMRV9QSE9UT19UT09fTEFSR0UgPSA0MTMwMDQsIC8vIFByb2ZpbGUgcGhvdG8gaXMgdG9vIGxhcmdlLCBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBjb250ZW50IGxlbmd0aFxuICAgIFJFUVVFU1RfVVJJX1RPT19MT05HID0gNDE0MDAwLCAvL1RoZSBVUkkgcHJvdmlkZWQgd2FzIHRvbyBsb25nIGZvciB0aGUgc2VydmVyIHRvIHByb2Nlc3MuXG4gICAgTUlTU0lOR19VU0VSX1BIT1RPID0gNDA5MDEwLCAvLyBFcnJvciAtIG1pc3NpbmcgdXNlciBwaG90b1xuICAgIENPVU5URVJfTk9UX1JFR0lTVEVSRUQgPSA0MDkwMTEsIC8vIENvdW50ZXIgbm90IHJlZ2lzdGVyZWRcbiAgICBJTlZBTElEX0dNSURfVElDS0VUID0gNDA5MDEyLCAvLyBnbWlkIHRpY2tldCBpcyBub3QgdmFsaWRcbiAgICBTQU1MX01BUFBFRF9BVFRSSUJVVEVfTk9UX0ZPVU5EID0gNDA5MDEzLCAvLyBVc2VkIHdoZW4gbWFwcGVkIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgcHJvdmlkZXJVSUQgY2Fubm90IGJlIHJldHJlaXZlZFxuICAgIFNBTUxfQ0VSVElGSUNBVEVfTk9UX0ZPVU5EID0gNDA5MDE0LCAvLyBVc2VkIHdoZW4gU0FNTCBjZXJ0aWZpY2F0ZSBjb3VsZCBub3QgYmUgcmV0cmVpdmVkLlxuICAgIFNBTUxfTUVTU0FHRV9OT1RfRk9VTkQgPSA0MDkwMTUsIC8vIFVzZWQgd2hlbiBjYWNoZWQgU0FNTCBtZXNzYWdlIGNvdWxkIG5vdCBiZSByZXRyZWl2ZWQuXG4gICAgR0VORVJBTF9TRVJWRVJfRVJST1IgPSA1MDAwMDEsXG4gICAgU0VSVkVSX0xPR0lOX0VSUk9SID0gNTAwMDAyLCAvLyBnZW5lcmFsIGVycm9yIGR1cmluZyB0aGUgbG9naW4gcHJvY2Vzc1xuICAgIERFRkFVTFRfQVBQTElDQVRJT05fQ09ORklHVVJBVElPTl9FUlJPUiA9IDUwMDAwMywgLy8gRm9yIG11bHRpcGxlIERDIC0gd2hlbiBubyBkZWZhdWx0IGFwcGxpY2F0aW9uIGNhbiBiZSBmb3VuZCBpbiBEZWZhdWx0QXBwbGljYXRpb25zLmNvbmZpZy4gV2l0aCBlcnJvciBkZXRhaWxzIG9mOiBcIkRlZmF1bHQgYXBwbGljYXRpb24gaXNuJ3QgY29uZmlndXJlZCBmb3IgZGF0YUNlbnRlclwiXG4gICAgU0VTU0lPTl9NSUdSQVRJT05fRVJST1IgPSA1MDAwMTQsIC8vIGVycm9yIGluIG1pZ3JhdGluZyBvbGQgdG8gbmV3IGZhY2Vib29rIHNlc3Npb25cbiAgICBQUk9WSURFUl9FUlJPUiA9IDUwMDAyMywgLy8gZ2VuZXJhbCBlcnJvciBmcm9tIHRoZSBwcm92aWRlclxuICAgIERBVEFCQVNFX0VSUk9SID0gNTAwMDI4LFxuICAgIFVTRVJOQU1FX1JFUVVJUkVEID0gNTAwMDI5LCAvLyBJbm5lciBjb2RlXG4gICAgTk9fUFJPVklERVJfQVBQTElDQVRJT04gPSA1MDAwMzEsIC8vIHRoZSBhcHBsaWNhdGlvbiBmb3IgdGhpcyBwcm92aWRlciBpcyBub3QgZGVmaW5lZCBmb3IgdGhpcyBzaXRlXG4gICAgTE9BRF9GQUlMRUQgPSA1MDAwMzIsIC8vIGNsaWVudCBlcnJvclxuICAgIElOVkFMSURfRU5WSVJPTk1FTlRfQ09ORklHID0gNTAwMDMzLCAvLyBJbiBjYXNlIHRoZXJlIGlzIG5vIHRhcmdldCBlbnZpcm9ubWVudCBpbiB0aGUgY29uZmlnIGZpbGUgd2UnZCByZXR1cm4gd2l0aCAgaW52YWxpZF9lbnZpcm9ubWVudF9jb25maWcgZXJyb3IuXG4gICAgRVJST1JfRFVSSU5HX0JBQ0tFTkRfT1BFUkFUSU9OID0gNTAwMDM0LFxuICAgIFRJTUVPVVQgPSA1MDQwMDEsIC8vIG91dGdvaW5nIHJlcXVlc3QgaGFkIHRpbWVkIG91dFxuICAgIENMSUVOVFRJTUVPVVQgPSA1MDQwMDIsIC8vIEZvciBzZXJ2ZXIgU0RLcyAtIGEgY2xpZW50IHNpZGUgdGltZW91dFxuICAgIElOVkFMSURfVVJMID0gNDA0MDA0LCAvLyBlbWJlZC5seSA0MDQgZXJyb3IgbWVzc2FnZSAtIHVybCBpcyBub3QgdmFsaWRcbiAgICBNRURJQV9JVEVNU19OT1RfU1VQUE9SVEVEID0gNDAxMDAxLCAvLyBNZWRpYSBpdGVtcyBhIG5vdCBhbGxvd2VkIGZvciB0aGlzIGNhdGVnb3J5XG4gICAgTUlTU0lOR19FUlJPUl9DT0RFID0gNTk5OTk5LFxuICAgIFRISVNfQVVUSEVOVElDQVRJT05fTUVUSE9EX0lTX0NVUlJFTlRMWV9ESVNBQkxFRCAgPSA0MDMzMDAsXG4gICAgRk9SQ0VfTElOS19MT0dJTl9JREVOVElGSUVSX0VYSVNUUyA9IDQwOTAwMyxcbiAgICBQQVNTS0VZX0FVVEhFTlRJQ0FUT1JfUkVHSVNURVJFRCA9IDQwMDEzMCxcbiAgICBQQVNTS0VZX0FCT1JURUQgPSA0MDAxMzEsXG4gICAgUEFTU0tFWV9FUlJPUiA9IDUwMDEzMVxufVxuZXhwb3J0IGNvbnN0IGVudW0gR1NFcnJvckRldGFpbHMge1xuICAgIE5vbmUgPSAwLFxuICAgIFNhbWVfcGFzc3dvcmQgPSAxMDAwMDEsIC8vIFJlc2V0IFBhc3N3b3JkIC0gXCInb2xkUGFzc3dvcmQnIGNhbm5vdCBiZSB0aGUgc2FtZSBhcyAnbmV3UGFzc3dvcmQnXCJcbiAgICBJbnZhbGlkX3Bhc3N3b3JkID0gMTAwMDAyLCAvLyBSZXNldCBQYXNzd29yZCAtIGN1cnJlbnQgcGFzc3dvcmQgaXMgd3JvbmcvaW52YWxpZFxuICAgIEludmFsaWRfY291bnRlcnNfcXVlcnlfd2l0aF9jdXJzb3IgPSAxMDAwMDMsXG59XG4iLCJpbXBvcnQgKiBhcyBFUzZQcm9taXNlIGZyb20gJ2VzNi1wcm9taXNlJ1xuXG5PYmplY3QuYXNzaWduKGdpZ3lhLCB7IFByb21pc2U6IEVTNlByb21pc2UgfSk7XG4iLCIvLyBMb2NhbCBlbnZpcm9ubWVudCBpbmZvIChicm93c2VyLCBjYXBhYmlsaXRpZXMsIGhvc3RpbmcgZG9tYWluKVxuXG5kZWNsYXJlIGNvbnN0IEFjdGl2ZVhPYmplY3Q6IGFueTtcblxudmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbmV4cG9ydCB2YXIgbG9jYWxJbmZvID0ge1xuICAgIGJhc2VEb21haW46ICcnLCAvLyBjYWxjdWxhdGVkIGxhdGVyIG9uXG4gICAgaXNCcm93c2VyU3VwcG9ydHNGaWxlc0FQSTogKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBGaWxlUmVhZGVyID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBGaWxlUmVhZGVyID09PSAnb2JqZWN0JztcbiAgICB9KSgpLFxuICAgIGluaXRUaW1lOiBuZXcgRGF0ZSgpLFxuICAgIHZlcnNpb246IDAsIC8vVE9ET1xuICAgIHBhZ2VEb21haW46IGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgIHByb3RvY29sOiBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PSAnaHR0cDonID8gJ2h0dHAnIDogJ2h0dHBzJyxcbiAgICB1c2VyQWdlbnQ6IHVzZXJBZ2VudCxcbiAgICBpc1dpbjogdXNlckFnZW50LmluZGV4T2YoJ3dpbicpICE9IC0xLFxuICAgIGlzSUU6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llJykgIT0gLTEgfHwgKHVzZXJBZ2VudC5pbmRleE9mKCdtb3ppbGxhJykgIT0gLTEgJiYgdXNlckFnZW50LmluZGV4T2YoJ3RyaWRlbnQnKSAhPSAtMSksXG4gICAgaXNJRTY6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDYuJykgIT0gLTEsXG4gICAgaXNJRTc6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDcuJykgIT0gLTEsXG4gICAgaXNJRTg6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDguJykgIT0gLTEsXG4gICAgaXNJRTk6IHVzZXJBZ2VudC5pbmRleE9mKCdtc2llIDkuJykgIT0gLTEsXG4gICAgaXNJRTEwOiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSAxMC4nKSAhPSAtMSxcbiAgICBpc0lFMTE6IHVzZXJBZ2VudC5pbmRleE9mKCdtb3ppbGxhJykgIT0gLTEgJiYgdXNlckFnZW50LmluZGV4T2YoJ3RyaWRlbnQvNy4wJykgIT0gLTEsXG4gICAgaXNFZGdlTGVnYWN5OiB1c2VyQWdlbnQuaW5kZXhPZignZWRnZScpICE9IC0xLFxuICAgIGlzRWRnZTogUmVnRXhwKC9lZGcoPyFlKS8pLnRlc3QodXNlckFnZW50KSxcbiAgICBpc0lPUzogdXNlckFnZW50LmluZGV4T2YoJ2lwaG9uZScpICE9IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdpcGFkJykgIT0gLTEgfHwgdXNlckFnZW50LmluZGV4T2YoJ2lwb2QnKSAhPSAtMSxcbiAgICBpc1NhZmFyaTUzNDogdXNlckFnZW50LmluZGV4T2YoJ3NhZmFyaS81MzQnKSAhPSAtMSxcbiAgICBpc1dlQ2hhdDogdXNlckFnZW50LmluZGV4T2YoJ21pY3JvbWVzc2VuZ2VyJykgIT0gLTEsXG4gICAgaW9zVmVyc2lvbjogKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FwcGxld2Via2l0JykgIT0gLTEgJiYgdXNlckFnZW50LmluZGV4T2YoJ3ZlcnNpb24vJykgIT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh1c2VyQWdlbnQuc3BsaXQoJ3ZlcnNpb24vJylbMV0uc3BsaXQoJyAnKVswXSk7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gMDtcbiAgICB9KSgpLFxuICAgIGlzQW5kcm9pZDogdXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSAhPSAtMSxcbiAgICBpc0FuZHJvaWRCcm93c2VyOiAodXNlckFnZW50ID0+IHtcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdtb3ppbGxhLzUuMCcpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQgNCcpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FwcGxld2Via2l0JykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCd3aW5kb3dzIHBob25lJykgIT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gU3BlY2lhbCB1c2VyIGFnZW50cyBmb3VuZCBzbyBmYXIgdGhhdCB2aW9sYXRlIHRoZSBleGlzdGFuY2Ugb2YgY2hyb21lIHJ1bGVcbiAgICAgICAgLy8gQnVnIDM4MzY3IEFuZHJvaWQgQnJvd3NlcjogTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMi4yOyBlbi11czsgU0FNU1VORyBHVC1JOTUwMCBCdWlsZC9KRFEzOSkgQXBwbGVXZWJLaXQvNTM1LjE5IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xLjAgQ2hyb21lLzE4LjAuMTAyNS4zMDggTW9iaWxlIFNhZmFyaS81MzUuMTlcbiAgICAgICAgLy8gQnVnIDQwMjA5IENocm9tZSBCcm93c2VyOiBNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4yLjI7IFNBTVNVTkcgU0dULUk3NDcgQnVpbGQvS09UNDlIKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzkuMC4yMTcxLjkzIE1vYmlsZSBTYWZhcmkvNTM3LjM2XG4gICAgICAgIC8vIFdpbmRvd3MgUGhvbmUgQnJvd3NlcjogTW96aWxsYS81LjAgKE1vYmlsZTsgV2luZG93cyBQaG9uZSA4LjE7IEFuZHJvaWQgNC4wOyBBUk07IFRyaWRlbnQvNy4wOyBUb3VjaDsgcnY6MTEuMDsgSUVNb2JpbGUvMTEuMDsgTk9LSUE7IEx1bWlhIDkyMCkgbGlrZSBpUGhvbmUgT1MgN18wXzMgTWFjIE9TIFggQXBwbGVXZWJLaXQvNTM3IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlIFNhZmFyaS81MzdcbiAgICAgICAgLy8gQ2hyb21lIEJyb3dzZXI6IE1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjIuMjsgZW4tZ2I7IFNBTVNVTkcgR1QtSTk1MDAgQnVpbGQvS09UNDlIKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzEuNSBDaHJvbWUvMjguMC4xNTAwLjk0IE1vYmlsZSBTYWZhcmkvNTM3LjM2XG5cbiAgICAgICAgdmFyIGNocm9tZUluZm8gPSAvY2hyb21lXFwvKFxcZCspLy5leGVjKHVzZXJBZ2VudCk7XG5cbiAgICAgICAgaWYgKCFjaHJvbWVJbmZvKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICB2YXIgY2hyb21lVmVyc2lvbiA9IHBhcnNlSW50KGNocm9tZUluZm9bMV0pO1xuXG4gICAgICAgIHJldHVybiBjaHJvbWVWZXJzaW9uIDwgMjA7XG4gICAgfSkodXNlckFnZW50KSxcbiAgICBjdXJyZW50QnJvd3NlcjogJycsXG4gICAgYW5kcm9pZFZlcnNpb246IChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHVzZXJBZ2VudC5zbGljZSh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICsgOCkpO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIDA7XG4gICAgfSkoKSxcbiAgICBpc0Nocm9tZTogdXNlckFnZW50LmluZGV4T2YoJ2Nocm9tZScpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCdlZGcnKSA9PSAtMSwgLy8gZWRnZSBicm93c2VyIGFsc28gdXNlcyBDaHJvbWUgaW4gaXRzIFVBIHN0cmluZy5cbiAgICBpc0dvb2dsZUJvdDogdXNlckFnZW50LmluZGV4T2YoJ2dvb2dsZWJvdCcpICE9IC0xLFxuICAgIGlzRkY6IHVzZXJBZ2VudC5pbmRleE9mKCdmaXJlZm94JykgIT0gLTEsXG4gICAgaXNPcGVyYTogdXNlckFnZW50LmluZGV4T2YoJ29wZXJhJykgIT0gLTEsXG4gICAgaXNTYWZhcmk6XG4gICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uICYmXG4gICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignc2FmYXJpJykgIT0gLTEgJiZcbiAgICAgICAgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA9PSAtMSAmJlxuICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpID09IC0xLFxuICAgIGlzSU9TV2ViVmlldzogLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgIGlzSU9TQ2hyb21lOiB1c2VyQWdlbnQuaW5kZXhPZignY3Jpb3MnKSAhPSAtMSxcbiAgICBpc01BQzogbmF2aWdhdG9yLmFwcFZlcnNpb24gJiYgbmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtYWMnKSAhPSAtMSxcbiAgICBpc1dpbmRvd3NQaG9uZTogdXNlckFnZW50LmluZGV4T2YoJ3dpbmRvd3MgcGhvbmUnKSAhPSAtMSxcbiAgICBpc0ZhY2Vib29rQnJvd3NlcjogdXNlckFnZW50LmluZGV4T2YoJ2ZiYW4nKSAhPSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignZmJhdicpICE9IC0xLFxuICAgIHN1cHBvcnRzUG9zdE1lc3NhZ2U6IHdpbmRvdy5wb3N0TWVzc2FnZSAhPSBudWxsICYmICh1c2VyQWdlbnQuaW5kZXhPZignbXNpZScpID09IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdpZW1vYmlsZScpICE9IC0xKSxcbiAgICBzdXBwb3J0c0xvY2FsU3RvcmFnZTogZmFsc2UsXG4gICAgc3VwcG9ydHNTZXNzaW9uU3RvcmFnZTogZmFsc2UsXG4gICAgc3VwcG9ydHNGbGFzaDogKCgpID0+IHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85OTgyNDUvaG93LWNhbi1pLWRldGVjdC1pZi1mbGFzaC1pcy1pbnN0YWxsZWQtYW5kLWlmLW5vdC1kaXNwbGF5LWEtaGlkZGVuLWRpdi10aGF0LWluZlxuICAgICAgICBsZXQgc3VwcG9ydHNGbGFzaCA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5taW1lVHlwZXMgJiZcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWltZVR5cGVzWydhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCddICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5taW1lVHlwZXNbJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJ10uZW5hYmxlZFBsdWdpblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc3VwcG9ydHNGbGFzaCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvID0gbmV3IEFjdGl2ZVhPYmplY3QoJ1Nob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoJyk7XG4gICAgICAgICAgICAgICAgaWYgKGZvKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRmxhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzRmxhc2g7XG4gICAgfSkoKSxcbiAgICBxdWlya3NNb2RlOiBkb2N1bWVudC5jb21wYXRNb2RlID09ICdCYWNrQ29tcGF0JyAmJiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZScpICE9IC0xLFxuICAgIGJhY2tDb21wYXQ6IGRvY3VtZW50LmNvbXBhdE1vZGUgPT0gJ0JhY2tDb21wYXQnLFxuICAgIC8vIFRPRE86IEFkZCBpc1RhYmxldCBmdW5jdGlvbiBmb3IgZGV2aWNlcyBub24tTW9iaWxlXG4gICAgaXNNb2JpbGU6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vYmlsZUNsaWVudHMgPSBbXG4gICAgICAgICAgICAnaXBob25lJyxcbiAgICAgICAgICAgICdpcG9kJyxcbiAgICAgICAgICAgICdhbmRyb2lkJyxcbiAgICAgICAgICAgICdtaWRwJyxcbiAgICAgICAgICAgICcyNDB4MzIwJyxcbiAgICAgICAgICAgICdibGFja2JlcnJ5JyxcbiAgICAgICAgICAgICduZXRmcm9udCcsXG4gICAgICAgICAgICAnbm9raWEnLFxuICAgICAgICAgICAgJ3BhbmFzb25pYycsXG4gICAgICAgICAgICAncG9ydGFsbW1tJyxcbiAgICAgICAgICAgICdzaGFycCcsXG4gICAgICAgICAgICAnc2llLScsXG4gICAgICAgICAgICAnc29ueWVyaWNzc29uJyxcbiAgICAgICAgICAgICdzeW1iaWFuJyxcbiAgICAgICAgICAgICd3aW5kb3dzIGNlJyxcbiAgICAgICAgICAgICdiZW5xJyxcbiAgICAgICAgICAgICdtZGEnLFxuICAgICAgICAgICAgJ21vdC0nLFxuICAgICAgICAgICAgJ29wZXJhIG1pbmknLFxuICAgICAgICAgICAgJ3BoaWxpcHMnLFxuICAgICAgICAgICAgJ3BvY2tldCBwYycsXG4gICAgICAgICAgICAnc2FnZW0nLFxuICAgICAgICAgICAgJ3NhbXN1bmcnLFxuICAgICAgICAgICAgJ2h0YycsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAodmFyIGkgaW4gbW9iaWxlQ2xpZW50cykge1xuICAgICAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKG1vYmlsZUNsaWVudHNbaV0pICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pKCksXG4gICAgaXNNb2JpbGVBcHA6ICgoKSA9PiB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpXG4gICAgICAgICAgICAvLyBmb3Igb2xkIElFXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIG1ldGFUYWdzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZXRhJykgYXMgYW55O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YVRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtZXRhVGFnc1tpXS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PSAndmlld3BvcnQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBtZXRhVGFnc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQuaW5kZXhPZignd2lkdGg9ZGV2aWNlLXdpZHRoJykgIT09IC0xKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSgpLFxuICAgIGlzTmF0aXZlTW9iaWxlQXBwOiBmYWxzZSwgLy8gd2lsbCBjaGFuZ2UgaWYgbW9iaWxlIGFkYXB0ZXIgd2lsbCBsb2FkIFtpbiBpdHMgJ2luaXQnIG1ldGhvZF0uXG4gICAgaXNUb3VjaDogKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KVxuICAgICAgICAgICAgLy8gd29ya3Mgb24gbW9zdCBicm93c2Vyc1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgaWYgKCdvbm1zZ2VzdHVyZWNoYW5nZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAvLyB3b3JrcyBvbiBpZTEwXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIGlmIElFIGlzIG9wZW4gaW4gbWV0cm8gbW9kZS4gTWV0cm8gZG9lc24ndCBhbGxvdyBhY3RpdmVYLCB0aGF0J3MgdGhlIGJlc3QgdGVzdCBhdmFpbGFibGUgYXMgb2YgSUUxMS5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pKCksXG4gICAgaXNPbkxpbmU6ICgpID0+IG5hdmlnYXRvci5vbkxpbmUsXG4gICAgbWVzc2FnaW5nTWV0aG9kOiAxXG59O1xuY29uc3QgaXNTdG9yYWdlRW5hYmxlZCA9IChzdG9yYWdlTmFtZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHdpbmRvd1tzdG9yYWdlTmFtZV07XG4gICAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGVzdE5hbWUgPSAnX2dpZ19sb2NhbFN0b3JhZ2VfdGVzdCc7XG4gICAgICAgIGNvbnN0IHRlc3RWYWx1ZSA9ICdqdXN0IGNoZWNraW5nIGZvciBsb2NhbFN0b3JhZ2UnO1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0odGVzdE5hbWUsIHRlc3RWYWx1ZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0b3JhZ2UuZ2V0SXRlbSh0ZXN0TmFtZSkgPT09IHRlc3RWYWx1ZTtcbiAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHRlc3ROYW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAvLyBSZWFzb25zOlxuICAgICAgICAvLyAtIEluc2lkZSAzcmQgcGFydHkgQVBJIHByb3h5IGlGcmFtZS5cbiAgICAgICAgLy8gLSBTYWZhcmkgaW4gaW5jb2duaXRvIG1vZGUgd2lsbCBlcnJvciB3aXRoIFwicXVvdGEgZXhjZWVkZWRcIi5cbiAgICAgICAgLy8gLSBDaHJvbWUgd2l0aCAzcmQgcGFydHkgY29va2llcyBkaXNhYmxlZCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHlvdSBhY2Nlc3MgdGhlIHdpbmRvdy5sb2NhbFN0b3JhZ2Ugb2JqZWN0IGluIEFOWSB3YXkuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xubG9jYWxJbmZvLnN1cHBvcnRzTG9jYWxTdG9yYWdlID0gaXNTdG9yYWdlRW5hYmxlZCgnbG9jYWxTdG9yYWdlJyk7XG5sb2NhbEluZm8uc3VwcG9ydHNTZXNzaW9uU3RvcmFnZSA9IGlzU3RvcmFnZUVuYWJsZWQoJ3Nlc3Npb25TdG9yYWdlJyk7XG5sb2NhbEluZm8uaXNNQUMgPSBsb2NhbEluZm8uaXNNQUMgJiYgIWxvY2FsSW5mby5pc0lPUztcbnZhciBvcyA9IGxvY2FsSW5mby5pc1dpblxuICAgID8gJ3dpbmRvd3MnXG4gICAgOiBsb2NhbEluZm8uaXNXaW5kb3dzUGhvbmVcbiAgICAgICAgPyAnd2lucGhvbmUnXG4gICAgICAgIDogbG9jYWxJbmZvLmlzSU9TXG4gICAgICAgICAgICA/ICdpb3MtdicgKyBsb2NhbEluZm8uaW9zVmVyc2lvblxuICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNNQUNcbiAgICAgICAgICAgICAgICA/ICdtYWMnXG4gICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNBbmRyb2lkXG4gICAgICAgICAgICAgICAgICAgID8gJ2FuZHJvaWQnXG4gICAgICAgICAgICAgICAgICAgIDogJyc7XG5pZiAob3MpIG9zICs9ICcgJztcbnZhciBicm93c2VyID0gbG9jYWxJbmZvLmlzQ2hyb21lXG4gICAgPyAnY2hyb21lJ1xuICAgIDogbG9jYWxJbmZvLmlzRkZcbiAgICAgICAgPyAnZmlyZWZveCdcbiAgICAgICAgOiBsb2NhbEluZm8uaXNTYWZhcmlcbiAgICAgICAgICAgID8gJ3NhZmFyaSdcbiAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzRWRnZVxuICAgICAgICAgICAgICAgID8gJ2VkZ2UnXG4gICAgICAgICAgICA6IGxvY2FsSW5mby5pc0VkZ2VMZWdhY3lcbiAgICAgICAgICAgICAgICA/ICdlZGdlIGxlZ2FjeSdcbiAgICAgICAgICAgICAgICA6IGxvY2FsSW5mby5pc0lFMTFcbiAgICAgICAgICAgICAgICAgICAgPyAnaWUxMSdcbiAgICAgICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRTEwXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdpZTEwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRTlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdpZTknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRThcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnaWU4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnO1xubG9jYWxJbmZvLmN1cnJlbnRCcm93c2VyID0gb3MgKyBicm93c2VyO1xuXG50eXBlIEJhdHRlcnlJbmZvID0ge1xuICAgIGNoYXJnaW5nOiBib29sZWFuO1xuICAgIGNoYXJnaW5nVGltZTogbnVtYmVyO1xuICAgIGRpc2NoYXJnaW5nVGltZTogbnVtYmVyO1xuICAgIGxldmVsOiBudW1iZXI7XG59O1xudHlwZSBQbHVnaW4gPSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGZpbGVuYW1lOiBzdHJpbmc7XG4gICAgbGVuZ3RoOiBudW1iZXI7XG59O1xuZXhwb3J0IGNsYXNzIENsaWVudEZlYXR1cmUge1xuICAgIHB1YmxpYyB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gICAgcHVibGljIHBsdWdpbnM/OiBQbHVnaW5bXTtcbiAgICBwdWJsaWMgbG9jYWxUaW1lPzogc3RyaW5nO1xuICAgIHB1YmxpYyB0aW1lem9uZU9mZnNldD86IG51bWJlcjtcbiAgICBwdWJsaWMgcGVybWlzc2lvblN0YXR1cz86IHsgc3RhdGU6IHN0cmluZyB9O1xuICAgIHB1YmxpYyB3ZWJkcml2ZXI/OiBib29sZWFuO1xuICAgIHB1YmxpYyBiYXR0ZXJ5SW5mbz86IEJhdHRlcnlJbmZvO1xuICAgIHB1YmxpYyBmZWF0dXJlcz86IFtudW1iZXIsIHN0cmluZywgYm9vbGVhbiwgYm9vbGVhbl07XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hdmlnYXRvcjogTmF2aWdhdG9yID0gZ2lneWEuXy5XaW5kb3dQcm92aWRlci5uYXZpZ2F0b3IoKSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIHNjcmVlbjogU2NyZWVuID0gZ2lneWEuXy5XaW5kb3dQcm92aWRlci5zY3JlZW4oKSkge1xuICAgICAgICB0aGlzLmNvbGxlY3REYXRhKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjb2xsZWN0RGF0YSgpIHtcbiAgICAgICAgdGhpcy51c2VyQWdlbnQgPSB0aGlzLm5hdmlnYXRvcj8udXNlckFnZW50O1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBBcnJheS5mcm9tKHRoaXMubmF2aWdhdG9yPy5wbHVnaW5zIHx8IFtdKS5tYXAoKHtuYW1lLCBmaWxlbmFtZSwgbGVuZ3RofSkgPT4gKHsgbmFtZSwgZmlsZW5hbWUsIGxlbmd0aCB9KSk7XG4gICAgICAgIHRoaXMubG9jYWxUaW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICAgICAgdGhpcy50aW1lem9uZU9mZnNldCA9IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IGF3YWl0IHRoaXMubmF2aWdhdG9yPy5wZXJtaXNzaW9ucz8ucXVlcnkoeyBuYW1lOidub3RpZmljYXRpb25zJyB9KTtcbiAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHtzdGF0ZX0gPSBwZXJtaXNzaW9uU3RhdHVzO1xuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uU3RhdHVzID0ge3N0YXRlfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndlYmRyaXZlciA9IHRoaXMubmF2aWdhdG9yPy53ZWJkcml2ZXI7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgYmF0dGVyeUluZm8gPSB0aGlzLm5hdmlnYXRvci5nZXRCYXR0ZXJ5ICYmIGF3YWl0IHRoaXMubmF2aWdhdG9yLmdldEJhdHRlcnkoKTtcbiAgICAgICAgaWYgKGJhdHRlcnlJbmZvKSB7XG4gICAgICAgICAgICBjb25zdCB7Y2hhcmdpbmcsIGNoYXJnaW5nVGltZSwgZGlzY2hhcmdpbmdUaW1lLCBsZXZlbH0gPSBiYXR0ZXJ5SW5mbztcbiAgICAgICAgICAgIHRoaXMuYmF0dGVyeUluZm8gPSB7Y2hhcmdpbmcsIGNoYXJnaW5nVGltZSwgZGlzY2hhcmdpbmdUaW1lLCBsZXZlbH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IFtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yPy5tYXhUb3VjaFBvaW50cyB8fCB0aGlzLm5hdmlnYXRvcj8ubXNNYXhUb3VjaFBvaW50cyxcbiAgICAgICAgICAgIGAke3RoaXMuc2NyZWVuLndpZHRofXwke3RoaXMuc2NyZWVuLmhlaWdodH18JHt0aGlzLnNjcmVlbi5jb2xvckRlcHRofWAsXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRvci5qYXZhRW5hYmxlZCgpLFxuICAgICAgICAgICAgJ3NlbmRCZWFjb24nIGluIHRoaXMubmF2aWdhdG9yXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBJTG9nZ2VyQ29uZmlnLFxuICAgIExvZ0xldmVsLFxuICAgIENsaWVudE11dGVMZXZlbCxcbiAgICBMb2dUaGVtZSxcbiAgICBHcm91cEJlaGF2aW9yLFxuICAgIElMb2dnZXIsXG4gICAgSUxvZ0dyb3VwLFxuICAgIEdpZ0dsb2JhbCxcbiAgICBJRm9ybWF0dGVkTG9nQXJncyxcbiAgICBJR3JvdXBDbG9zZXIsXG4gICAgSUxvZ0Z1bmMsXG59IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRSZXFQYXJhbVZhbHVlLCBnZXRQYXJhbVZhbHVlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1BhcmFtcyc7XG5cbmV4cG9ydCBjb25zdCBnaWdFcnJvclJlcG9ydCA9ICdnaWdFcnJvclJlcG9ydCc7XG5jb25zdCBkZWZhdWx0TG9nZ2VyQ29uZmlnOiBJTG9nZ2VyQ29uZmlnID0ge1xuICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5kaXNhYmxlZCxcbiAgICBjbGllbnRNdXRlTGV2ZWw6IENsaWVudE11dGVMZXZlbC5ub25lLFxuICAgIGxvZ1RoZW1lOiBMb2dUaGVtZS5kYXJrLFxufTtcbmNvbnN0IHRoZW1lczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge1xuICAgIFtMb2dUaGVtZS5ub25lXTogWycnXSxcbiAgICBbTG9nVGhlbWUuZGFya106IFtcbiAgICAgICAgJzM4ZjY4OScsXG4gICAgICAgICcwMDlGRDQnLFxuICAgICAgICAnYjM4MWIzJyxcbiAgICAgICAgJzcxYjZlZicsXG4gICAgICAgICc2NGMxNjInLFxuICAgICAgICAnOTc3YmQ4JyxcbiAgICAgICAgJ2QxNjhhNCcsXG4gICAgICAgICc0YzcxZDInLFxuICAgICAgICAnODRiNDY2JyxcbiAgICAgICAgJzdkNjM4YScsXG4gICAgICAgICc3OTlmYjcnLFxuICAgICAgICAnOGZkZjk4JyxcbiAgICAgICAgJ2RjNzc2NycsXG4gICAgICAgICcwYTcwZjUnLFxuICAgICAgICAnMzhiMTU5JyxcbiAgICAgICAgJ2FmNzIxYicsXG4gICAgICAgICdiZmFmNmYnLFxuICAgIF0sXG4gICAgW0xvZ1RoZW1lLmxpZ2h0XTogW1xuICAgICAgICAnNDA4MDZBJyxcbiAgICAgICAgJzAwMzYzNicsXG4gICAgICAgICc5QjU5QjYnLFxuICAgICAgICAnREIwQTVCJyxcbiAgICAgICAgJzc5MjhBMScsXG4gICAgICAgICc1MjIwMzInLFxuICAgICAgICAnMDAwMEUwJyxcbiAgICAgICAgJzAwMjAyQScsXG4gICAgICAgICcwMDAwMzYnLFxuICAgICAgICAnMDA1NTU1JyxcbiAgICAgICAgJzFENzgxRCcsXG4gICAgICAgICc0RjVBNjUnLFxuICAgICAgICAnNzY1QUIwJyxcbiAgICAgICAgJzAwMDAwMCcsXG4gICAgICAgICczQzEzNjInLFxuICAgICAgICAnMDAwMDYwJyxcbiAgICAgICAgJzU5MUQ3NycsXG4gICAgXSxcbn07XG5jb25zdCBzZWxmTG9nc0Nzczogc3RyaW5nID0gJ2NvbG9yOiAjYjBiMGIwYjA7JztcbmNvbnN0IG5vQ3NzID0gJyc7XG5jb25zdCBzZXZlcml0eVRocmVzaG9sZDogTG9nTGV2ZWwgPSBMb2dMZXZlbC53YXJuO1xuY29uc3QgZGVmYXVsdEdyb3VwQmVoYXZpb3I6IEdyb3VwQmVoYXZpb3IgPSBHcm91cEJlaGF2aW9yLmNvbGxhcHNlZDtcbmNvbnN0IG5vb3BMb2dnZXJGbiA9IChtZXNzYWdlOiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge307XG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUxvZ2dlciBpbXBsZW1lbnRzIElMb2dnZXIge1xuICAgIHByaXZhdGUgX2NvbmZpZzogSUxvZ2dlckNvbmZpZztcbiAgICBwcml2YXRlIF9ncm91cHNTdGFjazogSUxvZ0dyb3VwW10gPSBbXTtcbiAgICBwcml2YXRlIF9jdXJyQ29sb3JJZHg6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25zb2xlOiBDb25zb2xlO1xuICAgIHB1YmxpYyByZWFkb25seSBjb25maWdLZXk6IHN0cmluZyA9ICdnaWdfbG9nZ2VyQ29uZmlnJztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX2dsb2JhbDogR2lnR2xvYmFsKSB7XG4gICAgICAgIHRoaXMuX2NvbnNvbGUgPSB0aGlzLl9nbG9iYWwuY29uc29sZTtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJyaWRlQ2xpZW50TG9ncygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IHJlcG9ydChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9LCBpbmNsdWRlU3RhY2s/OiBib29sZWFuKTtcblxuICAgIHB1YmxpYyBnZXRDb25maWcoKTogSUxvZ2dlckNvbmZpZyB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPVxuICAgICAgICAgICAgICAgIHRoaXMucmVhZExvZ2dlckNvbmZpZ0Zyb21IYXNoKCkgfHwgLy8gaW5uZXIgZnJhbWVzIHJlYWRzIGNvbmZpZyBmcm9tIGhhc2hcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRMb2dnZXJDb25maWdGcm9tQ29va2llKCkgfHwgLy8gdG9wIGZyYW1lcyByZWFkcyBjb25maWcgZnJvbSBjb29raWVcbiAgICAgICAgICAgICAgICBkZWZhdWx0TG9nZ2VyQ29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbmZpZygpLmxvZ0xldmVsID4gTG9nTGV2ZWwuZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgbG9nTGV2ZWwoKTogTG9nTGV2ZWwge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25maWcoKS5sb2dMZXZlbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBwYWxldHRlKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lc1t0aGlzLmdldENvbmZpZygpLmxvZ1RoZW1lXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE5leHRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5nZXRDb25maWcoKS5sb2dUaGVtZSA9PT0gTG9nVGhlbWUubm9uZSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jdXJyQ29sb3JJZHggPj0gdGhpcy5wYWxldHRlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fY3VyckNvbG9ySWR4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCMke3RoaXMucGFsZXR0ZVt0aGlzLl9jdXJyQ29sb3JJZHgrK119YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBjdXJyZW50R3JvdXAoKTogSUxvZ0dyb3VwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3Vwc1N0YWNrW3RoaXMuX2dyb3Vwc1N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZExvZ2dlckNvbmZpZ0Zyb21IYXNoKCk6IElMb2dnZXJDb25maWcge1xuICAgICAgICBsZXQgcmVzOiBJTG9nZ2VyQ29uZmlnID0gbnVsbDtcbiAgICAgICAgY29uc3QgbG9nZ2VyQ29uZmlnU3RyID0gZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCB0aGlzLmNvbmZpZ0tleSk7XG4gICAgICAgIGlmIChsb2dnZXJDb25maWdTdHIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobG9nZ2VyQ29uZmlnU3RyKSkgYXMgSUxvZ2dlckNvbmZpZztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbR2lneWFdOiBleGNlcHRpb24gd2hpbGUgdHJ5aW5nIHRvIHBhcnNlIGxvZ2dlciBjb25maWcgZnJvbSBoYXNoYCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRMb2dnZXJDb25maWdGcm9tQ29va2llKCk6IElMb2dnZXJDb25maWcge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlczogSUxvZ2dlckNvbmZpZyA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBjb29raWUgPSBnZXRQYXJhbVZhbHVlKGRvY3VtZW50LmNvb2tpZSwgdGhpcy5jb25maWdLZXksICc7Jyk7XG4gICAgICAgICAgICBpZiAoY29va2llKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShjb29raWUpIGFzIElMb2dnZXJDb25maWc7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbR2lneWFdOiBleGNlcHRpb24gd2hpbGUgdHJ5aW5nIHRvIHBhcnNlIGxvZ2dlciBjb25maWcgZnJvbSBjb29raWVgLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBpT1MgMTAgd2VidmlldyB0aHJvd3MgaW4gc29tZSBzY2VuYXJpb3NcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldExvZ2dlckNvbmZpZ0Nvb2tpZShsb2dnZXJDb25maWc6IElMb2dnZXJDb25maWcpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7dGhpcy5jb25maWdLZXl9PSR7SlNPTi5zdHJpbmdpZnkobG9nZ2VyQ29uZmlnKX1gO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3ZlcnJpZGVDbGllbnRMb2dzKCkge1xuICAgICAgICBsZXQgUHJveHkgPSB0aGlzLl9nbG9iYWxbJ1Byb3h5J107XG5cbiAgICAgICAgaWYgKCFQcm94eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmdldENvbmZpZygpLmNsaWVudE11dGVMZXZlbCkge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgY2FzZSBDbGllbnRNdXRlTGV2ZWwubm9uZTpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gcmVwbGFjZSBuYXRpdmUgY29uc29sZSB3aXRoIGEgZHVtbXlcbiAgICAgICAgICAgIGNhc2UgQ2xpZW50TXV0ZUxldmVsLmFsbDpcbiAgICAgICAgICAgICAgICB0aGlzLl9nbG9iYWwuY29uc29sZSA9IG5ldyBQcm94eSh0aGlzLl9nbG9iYWwuY29uc29sZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IG5vb3BMb2dnZXJGbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgdGhlIGdyb3VwIGFwaSBhbmQgb3V0cHV0IGEgcHJlZml4ZWQgY2xpZW50IGxvZ1xuICAgICAgICAgICAgY2FzZSBDbGllbnRNdXRlTGV2ZWwubm9ybWFsOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9nbG9iYWwuY29uc29sZSA9IG5ldyBQcm94eSh0aGlzLl9nbG9iYWwuY29uc29sZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICh0YXJnZXQ6IGFueSwgcHJvcGVydHk6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsnZ3JvdXAnLCAnZ3JvdXBDb2xsYXBzZWQnLCAnZ3JvdXBFbmQnXS5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICguLi5hcmdzKSA9PiB0aGlzLl9jb25zb2xlLmxvZyhgY2xpZW50IGhhcyBjYWxsZWQgY29uc29sZS4ke3Byb3BlcnR5fWAsIC4uLmFyZ3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0YXJnZXRbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGb3JtYXR0ZWRMb2dBcmdzKHRleHQ6IHN0cmluZyA9ICcnLCBsb2dHcm91cDogSUxvZ0dyb3VwID0gdGhpcy5jdXJyZW50R3JvdXApOiBJRm9ybWF0dGVkTG9nQXJncyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0OiBsb2dHcm91cCA/IGAlY+KWiCR7dGV4dH1gIDogYCVjJHt0ZXh0fWAsXG4gICAgICAgICAgICBjc3M6IGxvZ0dyb3VwID8gYGNvbG9yOiAke2xvZ0dyb3VwLmNvbG9yfTtgIDogJycsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0b3JlSGFuZ2luZ0dyb3VwcyhoYW5naW5nR3JvdXBzOiBJTG9nR3JvdXBbXSkge1xuICAgICAgICAvLyByZXN0b3JlIGdyb3VwcyBzdGFjayBhZnRlciBhIHBhcmVudCBncm91cCBoYXMgZW5kZWRcbiAgICAgICAgd2hpbGUgKGhhbmdpbmdHcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyByZXN0b3JlIHRoZSBncm91cHMgc3RhY2tcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gaGFuZ2luZ0dyb3Vwcy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzU3RhY2sucHVzaChncm91cCk7XG5cbiAgICAgICAgICAgIC8vIGluZGljYXRlIGdyb3VwIGhhcyBiZWVuIHJlc3RvcmVkXG4gICAgICAgICAgICBjb25zdCBsb2dBcmdzID0gdGhpcy5nZXRGb3JtYXR0ZWRMb2dBcmdzKGAgJWNbUkVTVE9SRUQgLSAke2dyb3VwLmdyb3VwVGl0bGV9XWApO1xuICAgICAgICAgICAgdGhpcy5fY29uc29sZS5ncm91cENvbGxhcHNlZChsb2dBcmdzLnRleHQsIGxvZ0FyZ3MuY3NzLCBzZWxmTG9nc0Nzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGVuZEdyb3VwKGdyb3VwOiBJTG9nR3JvdXApIHtcbiAgICAgICAgY29uc3QgbG9nQXJncyA9IHRoaXMuZ2V0Rm9ybWF0dGVkTG9nQXJncyhgIFtFTkQgLSAke2dyb3VwLmdyb3VwVGl0bGV9XWAsIGdyb3VwKTtcbiAgICAgICAgdGhpcy5fY29uc29sZS5sb2cobG9nQXJncy50ZXh0LCBsb2dBcmdzLmNzcyk7XG4gICAgICAgIHRoaXMuX2NvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvZyhzZXZlcml0eTogTG9nTGV2ZWwpOiBJTG9nRnVuYyB7XG4gICAgICAgIC8vIGxvZyBpZiBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICAgICAgICAvLyBbMV0gbG9nZ2luZyBpcyBlbmFibGVkIGFuZCB0aGUgbG9nJ3Mgc2V2ZXJpdHkgaXMgZ3JlYXRlciBvciBlcXVhbCB0byB0aGUgY29uZmlndXJlZCBsb2dMZXZlbFxuICAgICAgICAvLyBbMl0gc2V2ZXJpdHkgaXMgZ3JlYXRlciB0aGFuIHRoZSB0aHJlc2hvbGQgYnV0IHRoZSBjb25maWd1cmVkIGxvZ0xldmVsIGlzIG5vdCBncmVhdGVyIHRoYW4gdGhlIHRocmVzaG9sZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAodGhpcy5pc0VuYWJsZWQgJiYgc2V2ZXJpdHkgPj0gdGhpcy5sb2dMZXZlbCkgfHwgLy8gbG9nXG4gICAgICAgICAgICAoc2V2ZXJpdHkgPj0gc2V2ZXJpdHlUaHJlc2hvbGQgJiYgdGhpcy5sb2dMZXZlbCA8IHNldmVyaXR5VGhyZXNob2xkKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBsb2cgbGV2ZWxcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTG9nTGV2ZWwgPSBMb2dMZXZlbFtzZXZlcml0eV07XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkTG9nTGV2ZWwgPVxuICAgICAgICAgICAgICAgIHNldmVyaXR5ID09PSBMb2dMZXZlbC5kZWJ1Z1xuICAgICAgICAgICAgICAgICAgICA/IExvZ0xldmVsW0xvZ0xldmVsLmluZm9dIC8vIHVzaW5nIGNvbnNvbGUuaW5mbyBmb3IgZGVidWcgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgOiBvcmlnaW5hbExvZ0xldmVsO1xuXG4gICAgICAgICAgICAvLyBnZXQgZm9ybWF0dGVkIGFyZ3MgYW5kIHJldHVybiB0aGUgYm91bmQgbG9nIGZ1bmN0aW9uXG4gICAgICAgICAgICBjb25zdCBsb2dBcmdzID0gdGhpcy5nZXRGb3JtYXR0ZWRMb2dBcmdzKGAgJWNbJHtvcmlnaW5hbExvZ0xldmVsfV1gKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25zb2xlW25vcm1hbGl6ZWRMb2dMZXZlbF0uYmluZCh0aGlzLl9jb25zb2xlLCBsb2dBcmdzLnRleHQsIGxvZ0FyZ3MuY3NzLCBzZXZlcml0eSA8PSBMb2dMZXZlbC5pbmZvID8gc2VsZkxvZ3NDc3MgOiBub0Nzcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9vcExvZ2dlckZuO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0SnNvbkZyb21FcnJvcihlcnI6IEVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBlcnIubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IGVyci5zdGFjayxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGVycm9yUGFyc2VyKGRldGFpbHM6IHtba2V5OiBzdHJpbmddOiBhbnl9KSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IChrLCB2KSA9PiB2IGluc3RhbmNlb2YgRXJyb3IgPyB0aGlzLmdldEpzb25Gcm9tRXJyb3IodikgOiB2O1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZXRhaWxzLCBmb3JtYXR0ZXIpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRlYnVnKCk6IElMb2dGdW5jIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKExvZ0xldmVsLmRlYnVnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGluZm8oKTogSUxvZ0Z1bmMge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2coTG9nTGV2ZWwuaW5mbyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB3YXJuKCk6IElMb2dGdW5jIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKExvZ0xldmVsLndhcm4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZXJyb3IoKTogSUxvZ0Z1bmMge1xuICAgICAgICByZXR1cm4gKG1lc3NhZ2U6IGFueSwgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGlmIChkZXRhaWxzICYmIHR5cGVvZiBkZXRhaWxzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGRldGFpbHMgPSB0aGlzLmVycm9yUGFyc2VyKGRldGFpbHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZyhMb2dMZXZlbC5lcnJvcikuYXBwbHkodGhpcywgW21lc3NhZ2VdLmNvbmNhdChbZGV0YWlsc10pKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UsIGRldGFpbHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBncm91cChncm91cFRpdGxlOiBzdHJpbmcsIGNvbGxhcHNlZDogYm9vbGVhbiA9IGRlZmF1bHRHcm91cEJlaGF2aW9yID09PSBHcm91cEJlaGF2aW9yLmNvbGxhcHNlZCk6IElHcm91cENsb3NlciB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmdldE5leHRDb2xvcigpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBMb2cgPSAoLi4uYXJncykgPT4gKGNvbGxhcHNlZCA/IHRoaXMuX2NvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoLi4uYXJncykgOiB0aGlzLl9jb25zb2xlLmdyb3VwKC4uLmFyZ3MpKTtcbiAgICAgICAgICAgIHRoaXMuX2dyb3Vwc1N0YWNrLnB1c2goeyBncm91cFRpdGxlLCBjb2xvciB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxvZ0FyZ3MgPSB0aGlzLmdldEZvcm1hdHRlZExvZ0FyZ3MoYCBbU1RBUlQgLSAke2dyb3VwVGl0bGV9XWApO1xuICAgICAgICAgICAgZ3JvdXBMb2cobG9nQXJncy50ZXh0LCBsb2dBcmdzLmNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZDogKCkgPT4gdGhpcy5ncm91cEVuZChncm91cFRpdGxlKSxcbiAgICAgICAgICAgIGVuZFdoZW46IChkb25lOiBQcm9taXNlPGFueT4gfCAoKCkgPT4gdm9pZCB8IFByb21pc2U8YW55PikpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRvbmUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gZG9uZSgpIGFzIFByb21pc2U8YW55PiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSAmJiBkb25lLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZS50aGVuKCgpID0+IHRoaXMuZ3JvdXBFbmQoZ3JvdXBUaXRsZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bmNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cEVuZChncm91cFRpdGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBncm91cEVuZChncm91cFRpdGxlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5naW5nR3JvdXBzOiBJTG9nR3JvdXBbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGN1cnJHcm91cCA9IHRoaXMuX2dyb3Vwc1N0YWNrLnBvcCgpOyAvLyBnZXQgdGhlIGN1cnJlbnQgYWN0aXZlIGdyb3VwXG5cbiAgICAgICAgICAgIC8vIHdoaWxlIHRoZSBjdXJyZW50IGdyb3VwIGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgb25lIHRoYXQgd2Ugd2FudCB0byBlbmQgYW5kIHdlIGhhdmUgb3RoZXIgZ3JvdXBzIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJHcm91cC5ncm91cFRpdGxlICE9PSBncm91cFRpdGxlICYmIHRoaXMuX2dyb3Vwc1N0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGhhbmdpbmdHcm91cHMudW5zaGlmdChjdXJyR3JvdXApOyAvLyBbMV0gcHVzaCBpdCB0aGUgY3VycmVudCBncm91cCBpbnRvIHRoZSB0ZW1wICdoYW5naW5nIGdyb3Vwcycgc3RhY2tcbiAgICAgICAgICAgICAgICBjdXJyR3JvdXAgPSB0aGlzLl9ncm91cHNTdGFjay5wb3AoKTsgLy8gWzJdIGdldCB0aGUgbmV4dCBncm91cCBpbiBzdGFja1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnNvbGUuZ3JvdXBFbmQoKTsgLy8gWzNdIGdyb3VwRW5kIGZvciBlYWNoIGdyb3VwIHRoYXQgaXMgbm90IHRoZSBjdXJyZW50IGdyb3VwXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGVuZCB0aGUgZ3JvdXBcbiAgICAgICAgICAgIHRoaXMuZW5kR3JvdXAoY3Vyckdyb3VwKTtcblxuICAgICAgICAgICAgLy8gcmVzdW1lIGNoaWxkIGdyb3Vwc1xuICAgICAgICAgICAgaWYgKGhhbmdpbmdHcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlSGFuZ2luZ0dyb3VwcyhoYW5naW5nR3JvdXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBlbmFibGUobG9nTGV2ZWwgPSBMb2dMZXZlbC5pbmZvLCBjbGllbnRNdXRlTGV2ZWwgPSBDbGllbnRNdXRlTGV2ZWwubm9ybWFsLCBsb2dUaGVtZSA9IExvZ1RoZW1lLmRhcmspIHtcbiAgICAgICAgdGhpcy5zZXRMb2dnZXJDb25maWdDb29raWUoeyBsb2dMZXZlbCwgY2xpZW50TXV0ZUxldmVsLCBsb2dUaGVtZSB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRMb2dnZXJDb25maWdDb29raWUoe1xuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLmRpc2FibGVkLFxuICAgICAgICAgICAgY2xpZW50TXV0ZUxldmVsOiBkZWZhdWx0TG9nZ2VyQ29uZmlnLmNsaWVudE11dGVMZXZlbCxcbiAgICAgICAgICAgIGxvZ1RoZW1lOiBkZWZhdWx0TG9nZ2VyQ29uZmlnLmxvZ1RoZW1lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTG9nZ2VyLCBnaWdFcnJvclJlcG9ydCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvYmFzZUxvZ2dlcic7XG5pbXBvcnQgeyBHaWdHbG9iYWwgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0UmVxUGFyYW1WYWx1ZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMnO1xuXG5leHBvcnQgY2xhc3MgSUZyYW1lTG9nZ2VyIGV4dGVuZHMgQmFzZUxvZ2dlciB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIF9nbG9iYWw6IEdpZ0dsb2JhbCA9IHdpbmRvdykge1xuICAgICAgICBzdXBlcihfZ2xvYmFsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVwb3J0KG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgaW5jbHVkZVN0YWNrOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICAvLyBzZW5kIHRoZSByZXBvcnQgZnJvbSB0aGUgdG9wIGZyYW1lXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHRvcCBmcmFtZSBvcmlnaW5cbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBjb25zdCBkb21haW4gPSBnZXRSZXFQYXJhbVZhbHVlKGxvY2F0aW9uLmhhc2gsICdvcmlnaW4nKSB8fCBnZXRSZXFQYXJhbVZhbHVlKGxvY2F0aW9uLmhhc2gsICdkJyk7XG4gICAgICAgICAgICBpZighZG9tYWluKSByZXR1cm47XG4gICAgICAgICAgICBhLmhyZWYgPSBkb21haW47XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRPcmlnaW4gPSBgJHthLnByb3RvY29sfS8vJHthLmhvc3RuYW1lfSR7YS5wb3J0ID8gYDoke2EucG9ydH1gIDogJyd9YDtcblxuICAgICAgICAgICAgLy8gcG9zdCBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLl9nbG9iYWwudG9wLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogZ2lnRXJyb3JSZXBvcnQsIG1lc3NhZ2UsIGRldGFpbHMsIGluY2x1ZGVTdGFjayB9KSwgdGFyZ2V0T3JpZ2luKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgR2lnR2xvYmFsIHtcbiAgICBjb25zb2xlOiBDb25zb2xlO1xuICAgIFByb3h5PzogYW55O1xuICAgIGFkZEV2ZW50TGlzdGVuZXI/OiBhbnk7XG4gICAgdG9wPzogYW55O1xufVxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICAgIGRpc2FibGVkID0gMCxcbiAgICBkZWJ1ZyxcbiAgICBpbmZvLFxuICAgIHdhcm4sXG4gICAgZXJyb3IsXG59XG5leHBvcnQgY29uc3QgZW51bSBDbGllbnRNdXRlTGV2ZWwge1xuICAgIG5vbmUgPSAwLFxuICAgIG5vcm1hbCxcbiAgICBhbGwsXG59XG5leHBvcnQgY29uc3QgZW51bSBMb2dUaGVtZSB7XG4gICAgbm9uZSA9IDAsXG4gICAgZGFyayxcbiAgICBsaWdodCxcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ2dlckNvbmZpZyB7XG4gICAgbG9nTGV2ZWw6IExvZ0xldmVsO1xuICAgIGNsaWVudE11dGVMZXZlbDogQ2xpZW50TXV0ZUxldmVsO1xuICAgIGxvZ1RoZW1lOiBMb2dUaGVtZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUxvZ0dyb3VwIHtcbiAgICBncm91cFRpdGxlOiBzdHJpbmc7XG4gICAgY29sb3I6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUZvcm1hdHRlZExvZ0FyZ3Mge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjc3M6IHN0cmluZztcbn1cbmV4cG9ydCBjb25zdCBlbnVtIEdyb3VwQmVoYXZpb3Ige1xuICAgIGV4cGFuZGVkID0gMCxcbiAgICBjb2xsYXBzZWQsXG59XG5leHBvcnQgaW50ZXJmYWNlIElHcm91cENsb3NlciB7XG4gICAgZW5kKCk6IHZvaWQ7XG4gICAgZW5kV2hlbihkb25lV2hlbjogUHJvbWlzZTxhbnk+IHwgKCgpID0+IHZvaWQgfCBQcm9taXNlPGFueT4pKTogdm9pZDtcbn1cbmV4cG9ydCB0eXBlIElMb2dGdW5jID0gKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHZvaWQ7XG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xuICAgIGRpc2FibGUoKTogdm9pZDtcbiAgICBlbmFibGUobG9nTGV2ZWw/OiBMb2dMZXZlbCwgY2xpZW50TXV0ZUxldmVsPzogQ2xpZW50TXV0ZUxldmVsLCBsb2dUaGVtZT86IExvZ1RoZW1lKTogdm9pZDtcbiAgICBncm91cChncm91cFRpdGxlOiBzdHJpbmcsIGNvbGxhcHNlZD86IGJvb2xlYW4pOiBJR3JvdXBDbG9zZXI7XG4gICAgZ3JvdXBFbmQoZ3JvdXBUaXRsZTogc3RyaW5nKTogdm9pZDtcbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogdm9pZDtcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkO1xuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQ7XG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQ7XG4gICAgcmVwb3J0KG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGluY2x1ZGVTdGFjaz86IGJvb2xlYW4pOiB2b2lkO1xuICAgIGdldENvbmZpZygpOiBJTG9nZ2VyQ29uZmlnO1xuICAgIGlzRW5hYmxlZDogYm9vbGVhbjtcbiAgICBjb25maWdLZXk6IHN0cmluZztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBsb2dnZXJKc29ucChlbmRwb2ludDogc3RyaW5nLCBwYXJhbXM6IHN0cmluZykge1xuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5zcmMgPSBgJHtlbmRwb2ludH0/JHtwYXJhbXN9YDtcbiAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuXG4gICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG4iLCJpbXBvcnQgeyBQYXJlbnRMb2dnZXIgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL3BhcmVudExvZ2dlcic7XG5pbXBvcnQgeyBJRnJhbWVMb2dnZXIgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2lGcmFtZUxvZ2dlcic7XG5cbmlmKCFnaWd5YS5sb2dnZXIpIHtcbiAgICBPYmplY3QuYXNzaWduKGdpZ3lhLCB7bG9nZ2VyOiAgd2luZG93ID09PSB3aW5kb3cudG9wID8gbmV3IFBhcmVudExvZ2dlcigpIDogbmV3IElGcmFtZUxvZ2dlcigpfSk7XG59XG4iLCJpbXBvcnQgeyBCYXNlTG9nZ2VyLCBnaWdFcnJvclJlcG9ydCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvYmFzZUxvZ2dlcic7XG5pbXBvcnQgeyBHaWdHbG9iYWwgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgbG9nZ2VySnNvbnAgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2xvZ2dlckpzb25wJztcbmltcG9ydCB7IGdldEdpZ3lhU2NyaXB0RWxlbWVudCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9naWd5YVNjcmlwdEVsJztcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQge1VyaX0gZnJvbSBcIi4uL1V0aWxzL1VyaVwiO1xuXG5leHBvcnQgY2xhc3MgUGFyZW50TG9nZ2VyIGV4dGVuZHMgQmFzZUxvZ2dlciB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXNFcnJvclJlcG9ydGVyOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2d1aWQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgX2dsb2JhbDogR2lnR2xvYmFsID0gd2luZG93LFxuICAgICAgICBwcml2YXRlIF9lcnJvclJlcG9ydENvbmZpZzogeyBlbmFibGVkOiBib29sZWFuOyBwcm9iYWJpbGl0eTogbnVtYmVyIH0gPSBnaWd5YS5lcnJvclJlcG9ydCxcbiAgICAgICAgcHJpdmF0ZSBfY2FuYXJ5Q29uZmlnOiB7IGlzQWN0aXZlOiBib29sZWFuIH0gPSBnaWd5YS5jYW5hcnksXG4gICAgICAgIHByaXZhdGUgX3JhbmRvbSA9ICgpID0+IE1hdGgucmFuZG9tKCkgKiAxMDAsXG4gICAgICAgIHByaXZhdGUgX2pzb25wID0gbG9nZ2VySnNvbnAsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKF9nbG9iYWwpO1xuXG4gICAgICAgIGNvbnN0IGVycm9yUmVwb3J0RW5hYmxlZCA9IHRoaXMuX2Vycm9yUmVwb3J0Q29uZmlnICYmIHRoaXMuX2Vycm9yUmVwb3J0Q29uZmlnLmVuYWJsZWQ7XG4gICAgICAgIGNvbnN0IHJ1bm5pbmdBc0NhbmFyeSA9IHRoaXMuX2NhbmFyeUNvbmZpZyAmJiB0aGlzLl9jYW5hcnlDb25maWcuaXNBY3RpdmU7XG4gICAgICAgIGNvbnN0IGVucm9sbGVkVG9SZXBvcnRFcnJvcnMgPSB0aGlzLmVucm9sbEVycm9yUmVwb3J0aW5nKCk7XG5cbiAgICAgICAgaWYgKGVycm9yUmVwb3J0RW5hYmxlZCAmJiAocnVubmluZ0FzQ2FuYXJ5IHx8IGVucm9sbGVkVG9SZXBvcnRFcnJvcnMpKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0Vycm9yUmVwb3J0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXR1cE1lc3NhZ2VMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdGhpcy5fZ3VpZCA9IHRoaXMuZ2VuZXJhdGVHVUlEKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZW5yb2xsRXJyb3JSZXBvcnRpbmcoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZXJyb3JSZXBvcnRDb25maWcgJiYgdGhpcy5fZXJyb3JSZXBvcnRDb25maWcucHJvYmFiaWxpdHkpID49IHRoaXMuX3JhbmRvbSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBNZXNzYWdlTGlzdGVuZXIoKSB7XG4gICAgICAgIGNvbnN0IGVycm9yUmVwb3J0TWVzc2FnZUxpc3RlbmVyID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGMgPSBnaWd5YS5kYXRhQ2VudGVyO1xuICAgICAgICAgICAgY29uc3QgZ2lneWFEb21haW4gPSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluLnJlcGxhY2UoL1xcLi9nLCAnLicpOyAvLyByZXBsYWNlIGFsbCAnLicgd2l0aCAnXFwuJ1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZE9yaWdpblJlZ2V4ID0gbmV3IFJlZ0V4cChgY2Rucz9cXC4ke2RjfVxcLiR7Z2lneWFEb21haW59JGApO1xuXG4gICAgICAgICAgICBpZiAoIWV2ZW50Lm9yaWdpbi5tYXRjaChhbGxvd2VkT3JpZ2luUmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IGdpZ0Vycm9yUmVwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0KGRhdGEubWVzc2FnZSwgZGF0YS5kZXRhaWxzLCBkYXRhLmluY2x1ZGVTdGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge30gLy8gdW5leHBlY3RlZCBldmVudC5kYXRhXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBlcnJvclJlcG9ydE1lc3NhZ2VMaXN0ZW5lciwgZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0QXBpS2V5KCkge1xuICAgICAgICBsZXQgYXBpS2V5ID0gZ2lneWFbJ3RoaXNTY3JpcHQnXSAmJiBnaWd5YVsndGhpc1NjcmlwdCddLkFQSUtleTtcblxuICAgICAgICBpZiAoIWFwaUtleSkge1xuICAgICAgICAgICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGdldEdpZ3lhU2NyaXB0RWxlbWVudCgpO1xuICAgICAgICAgICAgY29uc3QgVVJMUGFyYW1zID0gVVJMVXRpbHMuZ2V0UGFyYW1zRnJvbVVSTChzY3JpcHRFbGVtZW50ICYmIHNjcmlwdEVsZW1lbnQuc3JjLCB0cnVlKSB8fCB7fTtcbiAgICAgICAgICAgIGFwaUtleSA9IFVSTFBhcmFtc1snYXBpa2V5J107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXBpS2V5O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmVwb3J0UGFyYW1zKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczogc3RyaW5nIHwgeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9LCBpbmNsdWRlU3RhY2s6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLmdldEFwaUtleSgpLFxuICAgICAgICAgICAgc3RhY2s6IGluY2x1ZGVTdGFjayA/IG5ldyBFcnJvcigpLnN0YWNrIDogJycsXG4gICAgICAgICAgICBwYWdlOiBsb2NhbEluZm8gJiYgbG9jYWxJbmZvLnBhZ2VEb21haW4sXG4gICAgICAgICAgICBicm93c2VyOiBsb2NhbEluZm8gJiYgbG9jYWxJbmZvLmN1cnJlbnRCcm93c2VyLFxuICAgICAgICAgICAgYnVpbGRWZXJzaW9uOiBnaWd5YS5idWlsZC52ZXJzaW9uLFxuICAgICAgICAgICAgYnVpbGROdW1iZXI6IGdpZ3lhLmJ1aWxkLm51bWJlcixcbiAgICAgICAgICAgIGZvcm1hdDogJ2pzb24nLFxuICAgICAgICAgICAgc2RrOiAnd2ViJyxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIGRldGFpbHMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGRldGFpbHMgPSB7bWVzc2FnZTogZGV0YWlsc307XG4gICAgICAgIH1cblxuICAgICAgICBkZXRhaWxzWydndWlkJ10gPSB0aGlzLl9ndWlkO1xuICAgICAgICBwYXJhbXNbJ2RldGFpbHMnXSA9IEpTT04uc3RyaW5naWZ5KGRldGFpbHMpO1xuXG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG4gICAgcHVibGljIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGluY2x1ZGVTdGFjazogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlcG9ydDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghKGZvcmNlUmVwb3J0IHx8IHRoaXMuX2lzRXJyb3JSZXBvcnRlcikpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGNvbnRpbnVlIGlmIHdlIGRvbid0IG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVwb3J0UGFyYW1zID0gdGhpcy5jcmVhdGVSZXBvcnRQYXJhbXMobWVzc2FnZSwgZGV0YWlscywgaW5jbHVkZVN0YWNrKTtcbiAgICAgICAgICAgIGNvbnN0IHNka0Vycm9yUmVwb3J0RW5kcG9pbnQgPSBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7dGhpcy5hcGlEb21haW59L3Nkay5lcnJvclJlcG9ydGA7XG4gICAgICAgICAgICBVcmkucGFyc2Uoc2RrRXJyb3JSZXBvcnRFbmRwb2ludClcbiAgICAgICAgICAgICAgICAuYWRkVG9TZWFyY2gocmVwb3J0UGFyYW1zKVxuICAgICAgICAgICAgICAgIC5mZXRjaDxudWxsPigwKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlR1VJRCgpOiBzdHJpbmcge1xuICAgICAgICB0cnkgeyAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvY3JlYXRlLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XG4gICAgICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGFwaURvbWFpbigpIHtcbiAgICAgICAgaWYgKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncz8uY3VzdG9tQVBJRG9tYWluUHJlZml4ICYmIGxvY2FsSW5mbz8uYmFzZURvbWFpbi5lbmRzV2l0aChnaWd5YS5fLmNvbmZpZy5ob3N0ZWRQYWdlc0RvbWFpbikpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbEluZm8uYmFzZURvbWFpbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2lneWEucGFydG5lclNldHRpbmdzPy5jdXN0b21BUElEb21haW5QcmVmaXggJiYgbG9jYWxJbmZvLmJhc2VEb21haW4gJiYgbG9jYWxJbmZvLmJhc2VEb21haW4gIT09IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4pIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtnaWd5YS5wYXJ0bmVyU2V0dGluZ3MuY3VzdG9tQVBJRG9tYWluUHJlZml4fS4ke2xvY2FsSW5mby5iYXNlRG9tYWlufWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYGFjY291bnRzLiR7Z2lneWEuZGF0YUNlbnRlcn0uJHtnaWd5YS5kZWZhdWx0QXBpRG9tYWlufWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRmxhZ1NlcnZpY2Uge1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGZvcmNlV2ViU2RrQm9vdHN0cmFwKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2ZvcmNlV2ViU2RrQm9vdHN0cmFwJyk7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHVzZUdpZ3lhSnNCYXNlRG9tYWluKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZUdpZ3lhSnNCYXNlRG9tYWluJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaGlkZVNTT0ZyYW1lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2hpZGVTU09GcmFtZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHdjYWdDb250cmFzdEZpeCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd3Y2FnQ29udHJhc3RGaXgnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBuZXdGb3JtTGlua0luc3RhbmNlRWxlbWVudCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCduZXdGb3JtTGlua0luc3RhbmNlRWxlbWVudCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHN0b3BTZW5kaW5nUmVwb3J0cygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzdG9wU2VuZGluZ1JlcG9ydHMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBzZXRHcm91cEFwaURvbWFpbkFmdGVyTG9naW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnc2V0R3JvdXBBcGlEb21haW5BZnRlckxvZ2luJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlSHR0cFN0YXR1c0NvZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndXNlSHR0cFN0YXR1c0NvZGUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBhbHdheXNDaGVja0Nvb2tpZVNhdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnYWx3YXlzQ2hlY2tDb29raWVTYXZlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZml4UGhvbmVURkFUcmFuc2xhdGlvbnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZml4UGhvbmVURkFUcmFuc2xhdGlvbnMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBsb2FkU3NvRnJhbWVPbmx5T25jZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdsb2FkU3NvRnJhbWVPbmx5T25jZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHZlcmlmeUxvZ2luT25seU9uY2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndmVyaWZ5TG9naW5Pbmx5T25jZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNlbmRMYW5nRm9yRW1haWxPVFAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnc2VuZExhbmdGb3JFbWFpbE9UUCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNldFByb3ZpZGVyRnJvbVJlc3BvbnNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldFByb3ZpZGVyRnJvbVJlc3BvbnNlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2V0Q29va2llU2FtZVNpdGVMYXhTZXNzaW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldENvb2tpZVNhbWVTaXRlTGF4U2Vzc2lvbicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNldENvb2tpZVNhbWVTaXRlTGF4U29jaWFsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldENvb2tpZVNhbWVTaXRlTGF4U29jaWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2V0Q29va2llU2FtZVNpdGVMYXhMb3dQcmlvcml0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZXRDb29raWVTYW1lU2l0ZUxheExvd1ByaW9yaXR5Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZm9yY2VFcnJvclJlcG9ydCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdmb3JjZUVycm9yUmVwb3J0Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2tpcFNhbWVTY3JlZW5DaGVja09uU3dpdGNoKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NraXBTYW1lU2NyZWVuQ2hlY2tPblN3aXRjaCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldE9ubHlWaXNpYmxlRmllbGQgKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2dldE9ubHlWaXNpYmxlRmllbGQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1cGRhdGVBY2NvdW50SW5mb0FzeW5jICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1cGRhdGVBY2NvdW50SW5mb0FzeW5jJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2FuaXRpemVFdmFsdWF0ZWRWYWx1ZSAoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3Nhbml0aXplRXZhbHVhdGVkVmFsdWUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1c2VTZXNzaW9uVmVyaWZ5ICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VTZXNzaW9uVmVyaWZ5Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlRXh0ZW5kZWRQaG9uZU51bWJlclJlZ2V4ICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VFeHRlbmRlZFBob25lTnVtYmVyUmVnZXgnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZW5lcmF0ZU5ld0NvZGVXY2FnQ29tcGxpYW5jZSAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZ2VuZXJhdGVOZXdDb2RlV2NhZ0NvbXBsaWFuY2UnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBlbmZvcmNlQXV0aEZsb3dSZWRpcmVjdEZvclNvY2lhbCAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZW5mb3JjZUF1dGhGbG93UmVkaXJlY3RGb3JTb2NpYWwnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1c2VEZWNvZGVVUklDb21wb25lbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndXNlRGVjb2RlVVJJQ29tcG9uZW50Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlT2lkY0dldFBhcmFtSGFzaE9sZFN0eWxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZU9pZGNHZXRQYXJhbUhhc2hPbGRTdHlsZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHVzZVZpZXdwb3J0UG9sbGVyQWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZVZpZXdwb3J0UG9sbGVyQWN0aW9uJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaWdub3JlSW50ZXJydXB0aW9uc0luT2lkY1Bhc3NpdmVMb2dpbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdpZ25vcmVJbnRlcnJ1cHRpb25zSW5PaWRjUGFzc2l2ZUxvZ2luJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgb3ZlcnJpZGVBbGxDaGlsZENvbnRleHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnb3ZlcnJpZGVBbGxDaGlsZENvbnRleHQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBkaXNwYXRjaExvZ2luRXZlbnRXaGVuSGFuZGxlckFkZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2Rpc3BhdGNoTG9naW5FdmVudFdoZW5IYW5kbGVyQWRkZWQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChnaWd5YS5fLmNvbmZpZz8uZmxhZ3MgJiYgZ2lneWEuXy5jb25maWc/LmZsYWdzW25hbWVdKSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFdmVyeSBmbGFnIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIGRhdGEgbW9kaWZpY2F0aW9uIHJlbGF0ZWQgdG8gdGhlIGFwaSBsYXllclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGFwaUZsYWdzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldE9iamVjdCwgc2V0T2JqZWN0IH0gZnJvbSBcIi4uL1V0aWxzL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHsgcmVtb3ZlVW5kZWZpbmVkIH0gZnJvbSAnLi4vVXRpbHMvb2JqZWN0JztcbmltcG9ydCAqIGFzIF9tZXJnZSBmcm9tICdsb2Rhc2gubWVyZ2UnO1xuXG5pbnRlcmZhY2UgSVNpdGVEYXRhU2VydmljZSB7XG4gIGdldFByZWZlcnJlZExvZ2luTWV0aG9kKGlkZW50aWZpZXI6IHN0cmluZyk6IHN0cmluZyB8ICcnXG4gIHNldFByZWZlcnJlZExvZ2luTWV0aG9kKG1ldGhvZDogc3RyaW5nLCBpZGVudGlmaWVyOiBzdHJpbmcpOiB2b2lkXG4gIGRpZEZvcmNlZEJvb3RzdHJhcDogc3RyaW5nO1xuICBnZXRTY3JlZW5WYXJpYW50KHNjcmVlblNldElkOiBzdHJpbmcsIHNjcmVlbklkOiBzdHJpbmcsIHRlc3RJZDogc3RyaW5nLCk6IHN0cmluZztcbiAgc2V0U2NyZWVuVmFyaWFudChzY3JlZW5TZXRJZDogc3RyaW5nLCBzY3JlZW5JZDogc3RyaW5nLCB0ZXN0SWQ6IHN0cmluZywgdmFyaWFudElkOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5cblxuZXhwb3J0IGludGVyZmFjZSBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kIHtcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuICBwcmVmZXJyZWRMb2dpbk1ldGhvZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyUHJlZmVyZW5jZXMge1xuICBhdXRoZW50aWNhdGlvbj86IHtcbiAgICB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kczogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdIHwgdW5kZWZpbmVkXG4gICAgdGZhUHJlZmVycmVkTWV0aG9kOiBhbnlcbiAgfSxcbiAgc2NyZWVuU2V0UHJvcGVydGllcz86IHtcbiAgICBbc2NyZWVuU2V0SWQ6IHN0cmluZ106IHtcbiAgICAgIHNjcmVlbnM6IHtcbiAgICAgICAgW3NjcmVlbklkOiBzdHJpbmddOiB7XG4gICAgICAgICAgW3Rlc3RJZDogc3RyaW5nXTogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgTUFYX0xJTUlUX09GX1VTRVJTX1BSRUZFUlJFRF9MT0dJTl9NRVRIT0RTX1BFUl9TSVRFID0gMTA7XG5cbmludGVyZmFjZSBJR2lnRGF0YSB7XG4gIGRpZEZvcmNlZEJvb3RzdHJhcD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFNpdGVEYXRhU2VydmljZSBpbXBsZW1lbnRzIElTaXRlRGF0YVNlcnZpY2Uge1xuXG4gIHByaXZhdGUgc3RhdGljIGdldCBTSVRFX1BSRUZFUkVOQ0VTX0tFWSgpIHtcbiAgICByZXR1cm4gYCR7Z2lneWEuYXBpS2V5fV9wcmVmZXJlbmNlc2A7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZXQgU0lURV9HSUdfS0VZKCkge1xuICAgIHJldHVybiBgJHtnaWd5YS5hcGlLZXl9X2dpZ2BcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZGlkRm9yY2VkQm9vdHN0cmFwKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUJ5S2V5PElHaWdEYXRhPihTaXRlRGF0YVNlcnZpY2UuU0lURV9HSUdfS0VZKS5kaWRGb3JjZWRCb290c3RyYXAgfHwgbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgZGlkRm9yY2VkQm9vdHN0cmFwKGRpZEZvcmNlZEJvb3RzdHJhcDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXREYXRhQnlLZXk8SUdpZ0RhdGE+KFNpdGVEYXRhU2VydmljZS5TSVRFX0dJR19LRVksIHsgZGlkRm9yY2VkQm9vdHN0cmFwIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFByZWZlcnJlZExvZ2luTWV0aG9kKGlkZW50aWZpZXI6IHN0cmluZyk6IHN0cmluZyB8ICcnIHtcblxuICAgIGlmICghaWRlbnRpZmllcikge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJQcmVmZXJlbmNlcyA9IHRoaXMuZ2V0RGF0YUJ5S2V5PElVc2VyUHJlZmVyZW5jZXM+KFNpdGVEYXRhU2VydmljZS5TSVRFX1BSRUZFUkVOQ0VTX0tFWSk7XG5cbiAgICBjb25zdCB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA9IHVzZXJQcmVmZXJlbmNlcz8uYXV0aGVudGljYXRpb24/LnVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzID8/IFtdXG5cbiAgICByZXR1cm4gdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMuZmluZCh1c2VyID0+IHVzZXIuaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcik/LnByZWZlcnJlZExvZ2luTWV0aG9kID8/ICcnXG5cbiAgfVxuXG4gIHB1YmxpYyBzZXRQcmVmZXJyZWRMb2dpbk1ldGhvZChhdXRoTWV0aG9kOiBzdHJpbmcsIGlkZW50aWZpZXI6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclByZWZlcmVuY2VzID0gdGhpcy5nZXREYXRhQnlLZXk8SVVzZXJQcmVmZXJlbmNlcz4oU2l0ZURhdGFTZXJ2aWNlLlNJVEVfUFJFRkVSRU5DRVNfS0VZKTtcblxuICAgIGxldCB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA9IFsuLi51c2VyUHJlZmVyZW5jZXM/LmF1dGhlbnRpY2F0aW9uPy51c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA/PyBbXV1cblxuICAgIGxldCB0ZmFQcmVmZXJyZWRNZXRob2QgPSB1c2VyUHJlZmVyZW5jZXM/LmF1dGhlbnRpY2F0aW9uPy50ZmFQcmVmZXJyZWRNZXRob2QgPz8gJyc7XG5cbiAgICBjb25zdCBpc1VzZXJFeGlzdHMgPSB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcy5zb21lKHVzZXIgPT4gdXNlci5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKVxuXG4gICAgaWYgKHRoaXMuaXNNYXhMaW1pdFVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzUmVhY2hlZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcykgJiYgIWlzVXNlckV4aXN0cykge1xuICAgICAgdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMgPSB0aGlzLnJlbW92ZU9sZGVzdFVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcylcbiAgICB9XG5cbiAgICBpZiAoIWlzVXNlckV4aXN0cykge1xuICAgICAgdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMgPSB0aGlzLmFkZFVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgeyBpZGVudGlmaWVyLCBwcmVmZXJyZWRMb2dpbk1ldGhvZDogYXV0aE1ldGhvZCB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNVc2VyRXhpc3RzKSB7XG4gICAgICB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA9IHRoaXMucmVmcmVzaEV4aXN0aW5nVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHsgYXV0aE1ldGhvZCwgaWRlbnRpZmllciwgdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMgfSlcbiAgICB9XG5cbiAgICB0aGlzLnNldERhdGFCeUtleTxJVXNlclByZWZlcmVuY2VzPihcbiAgICAgIFNpdGVEYXRhU2VydmljZS5TSVRFX1BSRUZFUkVOQ0VTX0tFWSxcbiAgICAgIHsgYXV0aGVudGljYXRpb246IHsgdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMsIHRmYVByZWZlcnJlZE1ldGhvZCB9fVxuICAgICk7XG5cbiAgfVxuXG4gIHB1YmxpYyBzZXRTY3JlZW5WYXJpYW50KHNjcmVlblNldElkOiBzdHJpbmcsIHNjcmVlbklkOiBzdHJpbmcsIHRlc3RJZDogc3RyaW5nLCB2YXJpYW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0RGF0YUJ5S2V5PElVc2VyUHJlZmVyZW5jZXM+KFxuICAgICAgU2l0ZURhdGFTZXJ2aWNlLlNJVEVfUFJFRkVSRU5DRVNfS0VZLFxuICAgICAge1xuICAgICAgICBbc2NyZWVuU2V0SWRdOiB7XG4gICAgICAgICAgc2NyZWVuczoge1xuICAgICAgICAgICAgW3NjcmVlbklkXTogeyBbdGVzdElkXTogeyB2YXJpYW50OiB2YXJpYW50SWQgfSB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTY3JlZW5WYXJpYW50KHNjcmVlblNldElkOiBzdHJpbmcsIHNjcmVlbklkOiBzdHJpbmcsIHRlc3RJZDogc3RyaW5nLCk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSB0aGlzLmdldERhdGFCeUtleTxJVXNlclByZWZlcmVuY2VzPihTaXRlRGF0YVNlcnZpY2UuU0lURV9QUkVGRVJFTkNFU19LRVkpO1xuICAgIHJldHVybiBwcmVmZXJlbmNlcz8uW3NjcmVlblNldElkXT8uc2NyZWVucz8uW3NjcmVlbklkXT8uW3Rlc3RJZF0/LnZhcmlhbnQ7XG4gIH1cblxuICBwcml2YXRlIGdldERhdGFCeUtleTxUPihrZXk6IHN0cmluZyk6IFQge1xuICAgIHJldHVybiBnZXRPYmplY3Qoa2V5LCB7fSkgYXMgVDtcbiAgfVxuXG4gIHByaXZhdGUgc2V0RGF0YUJ5S2V5PFQ+KGtleTogc3RyaW5nLCBuZXdEYXRhPzogVCkge1xuICAgIGNvbnN0IG9sZERhdGEgPSB0aGlzLmdldERhdGFCeUtleTxUPihrZXkpO1xuICAgIHRyeSB7XG4gICAgICBzZXRPYmplY3Qoa2V5LCByZW1vdmVVbmRlZmluZWQoX21lcmdlKG9sZERhdGEsIG5ld0RhdGEpKSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgnRmFpbGVkIHRvIHNhdmUgbG9jYWwgc2l0ZSBkYXRhJywgeyBlcnJvciwga2V5IH0pO1xuXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWZyZXNoRXhpc3RpbmdVc2VyUHJlZmVycmVkTG9naW5NZXRob2QoeyB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgaWRlbnRpZmllciwgYXV0aE1ldGhvZCB9OiB7IHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kW10sIGlkZW50aWZpZXI6IHN0cmluZywgYXV0aE1ldGhvZDogc3RyaW5nIH0pOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kW10ge1xuICAgIGNvbnN0IHJlbWFpbmluZ01ldGhvZHMgPSB0aGlzLnJlbW92ZVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgaWRlbnRpZmllcik7XG5cbiAgICByZXR1cm4gdGhpcy5hZGRVc2VyUHJlZmVycmVkTG9naW5NZXRob2QocmVtYWluaW5nTWV0aG9kcywgeyBpZGVudGlmaWVyLCBwcmVmZXJyZWRMb2dpbk1ldGhvZDogYXV0aE1ldGhvZCB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kW10sIGlkZW50aWZpZXI6IHN0cmluZyk6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSB7XG4gICAgcmV0dXJuIHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLmZpbHRlcih1c2VyTG9naW5NZXRob2QgPT4gdXNlckxvZ2luTWV0aG9kLmlkZW50aWZpZXIgIT09IGlkZW50aWZpZXIpXG4gIH1cblxuICBwcml2YXRlIGlzTWF4TGltaXRVc2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kc1JlYWNoZWQodXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHM6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcy5sZW5ndGggPT09IE1BWF9MSU1JVF9PRl9VU0VSU19QUkVGRVJSRURfTE9HSU5fTUVUSE9EU19QRVJfU0lURVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVPbGRlc3RVc2VyUHJlZmVycmVkTG9naW5NZXRob2QodXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHM6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSk6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSB7XG4gICAgY29uc3Qgb2xkZXN0TWV0aG9kID0gdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHNbMF07XG5cbiAgICByZXR1cm4gdGhpcy5yZW1vdmVVc2VyUHJlZmVycmVkTG9naW5NZXRob2QodXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMsIG9sZGVzdE1ldGhvZD8uaWRlbnRpZmllcilcbiAgfVxuXG4gIHByaXZhdGUgYWRkVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kW10sIHVzZXJQcmVmZXJyZWRMb2dpbjogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCk6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSB7XG4gICAgcmV0dXJuIFsuLi51c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgdXNlclByZWZlcnJlZExvZ2luXVxuICB9XG59XG5cblxuZXhwb3J0IGNvbnN0IHNpdGVEYXRhOiBJU2l0ZURhdGFTZXJ2aWNlID0gbmV3IFNpdGVEYXRhU2VydmljZSgpO1xuXG4iLCJpbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcbmltcG9ydCAqIGFzIHZpZXdwb3J0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZpZXdwb3J0JztcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xuXG5leHBvcnQgdmFyIF9wb3B1cENvbnRhaW5lcnMgPSBbXTtcbmV4cG9ydCB2YXIgX3BzZXVkb0NvbnRhaW5lcnMgPSBbXTtcbmxldCBfbmV4dFpJbmRleCA9IDk5OTk5OTk5OTtcbnZhciBiYWNrTGlzdGVuZXIgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRaSW5kZXgoKSB7XG4gICAgX25leHRaSW5kZXgrKztcbiAgICByZXR1cm4gX25leHRaSW5kZXg7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFTY3JpcHRFbGVtZW50KGZpbGVOYW1lczogc3RyaW5nW10pOiBIVE1MU2NyaXB0RWxlbWVudCB7XG4gICAgdmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgdmFyIHNjcmlwdEVsZW1lbnQ6IEhUTUxTY3JpcHRFbGVtZW50O1xuICAgIHZhciBnaWd5YUNkblJlZ2V4ID0gL1xcL1xcL2NkbihzKT9cXC4ocnUxXFwuKT9naWd5YS5jb20vO1xuICAgIGZvciAodmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBzY3JpcHQgPSBzY3JpcHRzW2ldO1xuICAgICAgICB2YXIgc3JjID0gc2NyaXB0LnNyYy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoc3JjICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKGdpZ3lhQ2RuUmVnZXgudGVzdChzcmMpIHx8IHNyYy5pbmRleE9mKCc/YXBpa2V5PScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNGaWxlTmFtZUV4aXN0SW5TcmMgPSBmaWxlTmFtZXMubGVuZ3RoID09PSAwIHx8IGZpbGVOYW1lcy5zb21lKGZpbGVOYW1lID0+IHNyYy5pbmRleE9mKGZpbGVOYW1lKSA+IC0xKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGaWxlTmFtZUV4aXN0SW5TcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxlbWVudCA9IHNjcmlwdDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY3JpcHRFbGVtZW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKGVsOiBIVE1MRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcpIHtcbiAgICB2YXIgZXZlbnQ7XG5cbiAgICB0cnkge1xuICAgICAgICBldmVudCA9IG5ldyBFdmVudChldmVudE5hbWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSUUxMCBhbmQgYmVsb3cgc3VwcG9ydFxuICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICBldmVudC5pbml0Q3VzdG9tRXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlLCB7fSk7XG4gICAgfVxuXG4gICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkQnV0dG9uU3VibWl0TGlzdGVuZXIoZWw6IEhUTUxFbGVtZW50LCBoYW5kbGVyOiBGdW5jdGlvbiwgZXZlbnQ6ICdjbGljaycgfCAndG91Y2hlbmQnID0gJ2NsaWNrJywgZGVidWdOYW1lPzogc3RyaW5nKSB7XG4gICAgLy8gSnVzdCBpbiBjYXNlIHRoZSBlbGVtZW50IGRvZXMgbm90IGV4aXN0LlxuICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9ICctMScpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCAoZTogTW91c2VFdmVudCkgPT4gaGFuZGxlcihlKSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoKGUud2hpY2ggfHwgZS5rZXlDb2RlKSA9PSAxMykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsOiBhbnksIGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGlmICghZWwgfHwgIWhhbmRsZXIpIHJldHVybjtcblxuICAgIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBY3RpdmF0aW9uSGFuZGxlcihlbDpIVE1MRWxlbWVudCwgaGFuZGxlcjpGdW5jdGlvbik6IHZvaWR7XG4gICAgaWYgKCFlbCB8fCAhaGFuZGxlcikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSAnU3BhY2UnIHx8IGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdjbGljaycsIGhhbmRsZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbDogYW55LCBldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoIWVsIHx8ICFoYW5kbGVyKSByZXR1cm47XG4gICAgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlRGVmYXVsdEV2ZW50SGFuZGxpbmcoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5ldmVudCkge1xuICAgICAgICB3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkRGlhbG9nQmFja0xpc3RlbmVyKGhhbmRsZXI6IChlOiBFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIF9yZW1vdmVEaWFsb2dCYWNrTGlzdGVuZXIoKTtcblxuICAgIC8vIFRoaXMgc2hvdWxkIGZpcmUgd2hlbiBiYWNrIGlzIGNsaWNrZWRcbiAgICBiYWNrTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlICYmIGUubmV3VVJMICYmIGUubmV3VVJMLmluZGV4T2YoJ3xnaWd5YU1vYmlsZURpYWxvZycpID09IC0xKSB7XG4gICAgICAgICAgICBoYW5kbGVyKGUpO1xuICAgICAgICAgICAgX3JlbW92ZURpYWxvZ0JhY2tMaXN0ZW5lcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGhhc2ggY291bGQgY2hhbmdlIHJpZ2h0IGFmdGVyIHRoZSBjYWxsIGlmIGl0IHdhcyBpbml0aWF0ZWQgZnJvbSBhIGxpbmsgdGhhdCBkaWRuJ3QgcmV0dXJuIGZhbHNlXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaC5pbmRleE9mKCd8Z2lneWFNb2JpbGVEaWFsb2cnKSA9PSAtMSkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaCArICd8Z2lneWFNb2JpbGVEaWFsb2cnO1xuICAgICAgICB9XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCAnaGFzaGNoYW5nZScsIGJhY2tMaXN0ZW5lcik7XG4gICAgfSwgNTApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9yZW1vdmVEaWFsb2dCYWNrTGlzdGVuZXIoKSB7XG4gICAgaWYgKCFiYWNrTGlzdGVuZXIpIHJldHVybjtcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBiYWNrTGlzdGVuZXIpO1xuICAgIGJhY2tMaXN0ZW5lciA9IG51bGw7XG4gICAgLy9yZXN0b3JlIHByZXZpb3VzIGhhc2hcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJ3xnaWd5YU1vYmlsZURpYWxvZycsICcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmVwZW5kVG9Cb2R5KGVsOiBIVE1MRWxlbWVudCwgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHJldHVybjtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUgJiYgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFRvQm9keShlbDogSFRNTEVsZW1lbnQsIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50KTogdm9pZCB7XG4gICAgaWYgKCFkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoZWwgJiYgZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDaGlsZE9mKGNoaWxkOiBOb2RlLCBwYXJlbnQ6IE5vZGUpIHtcbiAgICB2YXIgZGlyZWN0UGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcblxuICAgIHdoaWxlIChkaXJlY3RQYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCA9PSBkaXJlY3RQYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0UGFyZW50ID0gZGlyZWN0UGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShlbDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnIHx8IGNvbXB1dGVkU3R5bGUudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDZW50ZXJlZERpdklEKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiAnZ2lnXycgKyBsb2NhbEluZm8uaW5pdFRpbWUuZ2V0VGltZSgpLnRvU3RyaW5nKCkgKyAnXycgKyBuYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoQXR0cmlidXRlcyhkb21FbGVtTmFtZTogc3RyaW5nLCBkb21FbGVtQXR0cnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9KTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IG5ld0RvbUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGRvbUVsZW1OYW1lKTtcblxuICAgIGlmIChkb21FbGVtQXR0cnMpIHtcbiAgICAgICAgZm9yIChsZXQgZWxlbUF0dHIgaW4gZG9tRWxlbUF0dHJzKSB7XG4gICAgICAgICAgICBuZXdEb21FbGVtW2VsZW1BdHRyXSA9IGRvbUVsZW1BdHRyc1tlbGVtQXR0cl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RG9tRWxlbTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb3BMZXZlbERpdihpZD86IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGlmIChlbC5zdHlsZS56SW5kZXggIT0gbnVsbCkge1xuICAgICAgICBlbC5zdHlsZS56SW5kZXggPSAnJyArIGdldE5leHRaSW5kZXgoKTtcbiAgICB9XG5cbiAgICBlbC5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoaWQpIHtcbiAgICAgICAgZWwuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUgJiYgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaGlkZUJ5SUQoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvd0J5SUQoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGxvY2FsSW5mby5pc0lFNiA/IChlbC50YWdOYW1lID09ICdURCcgPyAndGFibGUtY2VsbCcgOiBlbC50YWdOYW1lID09ICdUUicgPyAnJyA6IGVsLnRhZ05hbWUgPT0gJ1RBQkxFJyA/ICcnIDogJ2Jsb2NrJykgOiAnJztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYXJCeUlEKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKGMgIT0gbnVsbCkge1xuICAgICAgICAgICAgYy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SFRNTFNpemUoaHRtbDogc3RyaW5nLCBjb250YWluZXI6IEhUTUxFbGVtZW50KTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICB2YXIgZGl2TWVhc3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdk1lYXN1cmUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRpdk1lYXN1cmUuc3R5bGUubGVmdCA9ICctMTAwMHB4JztcbiAgICBkaXZNZWFzdXJlLmlubmVySFRNTCA9IGh0bWw7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdk1lYXN1cmUpO1xuICAgIHZhciB3ID0gZGl2TWVhc3VyZS5vZmZzZXRXaWR0aDtcbiAgICB2YXIgaCA9IGRpdk1lYXN1cmUub2Zmc2V0SGVpZ2h0O1xuICAgIGRpdk1lYXN1cmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXZNZWFzdXJlKTtcbiAgICByZXR1cm4geyB3OiB3LCBoOiBoIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudHNCeUNsYXNzKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZywgaW5jbHVkZVBhcmVudD86IGJvb2xlYW4pOiBIVE1MRWxlbWVudFtdIHtcbiAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICB2YXIgYXJFbHMgPSBbXTtcblxuICAgIGlmIChpbmNsdWRlUGFyZW50ICYmIGlzRWxlbWVudENsYXNzKHBhcmVudEVsZW1lbnQsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgYXJFbHMucHVzaChwYXJlbnRFbGVtZW50KTtcbiAgICB9XG5cbiAgICB2YXIgZWxzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9IHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSBhcyBhbnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRWxlbWVudENsYXNzKGVsc1tpXSwgY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgYXJFbHMucHVzaChlbHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhckVscyB8fCBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50c0J5QXR0cmlidXRlKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0YWdOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgYXR0cmlidXRlVmFsdWU6IHN0cmluZyk6IEhUTUxFbGVtZW50W10ge1xuICAgIHZhciBhckVscyA9IFtdO1xuICAgIHZhciBlbHM6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+ID0gcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSBhcyBhbnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGVsc1tpXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkgPT0gYXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgICAgIGFyRWxzLnB1c2goZWxzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJFbHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsOiBIVE1MRWxlbWVudCk6IHsgbGVmdDogbnVtYmVyOyB0b3A6IG51bWJlcjsgcmlnaHQ6IG51bWJlcjsgYm90dG9tOiBudW1iZXIgfSB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm4geyBsZWZ0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfTtcbiAgICB9XG5cbiAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBzY3JvbGwgPSB2aWV3cG9ydFV0aWxzLmdldFNjcm9sbCgpO1xuICAgIHZhciBsZWZ0ID0gcmVjdC5sZWZ0ICsgc2Nyb2xsLmxlZnQ7XG4gICAgdmFyIHRvcCA9IHJlY3QudG9wICsgc2Nyb2xsLnRvcDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICByaWdodDogbGVmdCArIHJlY3Qud2lkdGgsXG4gICAgICAgIGJvdHRvbTogdG9wICsgcmVjdC5oZWlnaHQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzc1RvRWxlbWVudChlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGV4aXN0aW5nQ2xhc3NlcyA9IGVsLmNsYXNzTmFtZSA/IGdldENsYXNzTmFtZXMoZWwpIDogW107XG4gICAgdmFyIGV4aXN0aW5nT3JpZ2luYWxMZW5ndGggPSBleGlzdGluZ0NsYXNzZXMubGVuZ3RoO1xuICAgIHZhciBuZXdDbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG5cbiAgICBmb3IgKHZhciBqIGluIG5ld0NsYXNzZXMpIHtcbiAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICBpZiAoIW5ld0NsYXNzZXNbal0pIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIGV4aXN0aW5nQ2xhc3Nlcykge1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlc1tpXSA9PT0gbmV3Q2xhc3Nlc1tqXSkge1xuICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgZXhpc3RpbmdDbGFzc2VzLnB1c2gobmV3Q2xhc3Nlc1tqXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXhpc3RpbmdDbGFzc2VzLmxlbmd0aCAhPT0gZXhpc3RpbmdPcmlnaW5hbExlbmd0aCkge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBleGlzdGluZ0NsYXNzZXMuam9pbignICcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzc0Zyb21FbGVtZW50KGVsOiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcsIHN1YnN0cmluZzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBhckNsYXNzID0gZ2V0Q2xhc3NOYW1lcyhlbCk7XG4gICAgZm9yICh2YXIgaSA9IGFyQ2xhc3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGFyQ2xhc3NbaV0gPT09IGNsYXNzTmFtZSB8fCAoc3Vic3RyaW5nICYmIGFyQ2xhc3NbaV0uaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMSkpIHtcbiAgICAgICAgICAgIGFyQ2xhc3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsLmNsYXNzTmFtZSA9IGFyQ2xhc3Muam9pbignICcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZXMoZWw6IEhUTUxFbGVtZW50KTogQXJyYXk8c3RyaW5nPiB7XG4gICAgdmFyIGNsYXNzZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICBpZiAodHlwZW9mIGVsLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3Nlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnRDbGFzcyhlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCFlbCkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgaWYgKCFjbGFzc05hbWUpIHJldHVybiB0cnVlO1xuICAgIGVsc2UgaWYgKCFlbC5jbGFzc05hbWUpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICB2YXIgYXJDbGFzcyA9IGdldENsYXNzTmFtZXMoZWwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJDbGFzcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJDbGFzc1tpXSA9PT0gY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4aXN0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxFdmVudChldmVudDogYW55KTogdm9pZCB7XG4gICAgaWYgKCFldmVudCkgcmV0dXJuO1xuICAgIGlmICgnY2FuY2VsYWJsZScgaW4gZXZlbnQpXG4gICAgICAgIC8vIEFsbCBicm93c2VycyBleGNlcHQgPElFOVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVsc2UgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgdmFyIGRpdkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5hbWUgPSBuYW1lIHx8ICcnO1xuICAgIGRpdkNvbnRhaW5lci5pbm5lckhUTUwgPSAnPCcgKyB0eXBlICsgJyBuYW1lPVwiJyArIG5hbWUgKyAnXCIgaWQ9XCInICsgbmFtZSArICdcIj48LycgKyB0eXBlICsgJz4nO1xuICAgIHJldHVybiBkaXZDb250YWluZXIuZmlyc3RDaGlsZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRTaXplKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHc6IGFueSwgaDogYW55LCBjZW50ZXI/OiBib29sZWFuKSB7XG4gICAgaWYgKGNvbnRhaW5lciA9PSBudWxsIHx8IGNvbnRhaW5lci5zdHlsZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodykge1xuICAgICAgICB3ID0gJycgKyB3O1xuICAgICAgICB2YXIgaXNXaWR0aFByZWNlbnRhZ2UgPSB3LmluZGV4T2YoJyUnKSA+IDA7XG5cbiAgICAgICAgaWYgKCFpc05hTih3KSB8fCBpc1dpZHRoUHJlY2VudGFnZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoVmFsdWU6IHN0cmluZyA9ICcnICsgKGlzV2lkdGhQcmVjZW50YWdlID8gdyA6IHcgKyAncHgnKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZS53aWR0aCAhPSB3aWR0aFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gd2lkdGhWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoKSB7XG4gICAgICAgIGggPSAnJyArIGg7XG4gICAgICAgIHZhciBpc0hlaWdodFByZWNlbnRhZ2UgPSBoLmluZGV4T2YoJyUnKSA+IDA7XG5cbiAgICAgICAgaWYgKCFpc05hTih3KSB8fCBpc0hlaWdodFByZWNlbnRhZ2UpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHRWYWx1ZTogc3RyaW5nID0gJycgKyAoaXNIZWlnaHRQcmVjZW50YWdlID8gaCA6IGggKyAncHgnKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgIT09IGhlaWdodFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNlbnRlciAmJiB3ICYmIGgpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZS56SW5kZXggPT0gbnVsbCB8fCBjZW50ZXIpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS56SW5kZXggPSAnJyArIGdldE5leHRaSW5kZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2cCA9IHZpZXdwb3J0VXRpbHMuZ2V0SW5uZXJTaXplKCk7XG4gICAgICAgIHZhciBzY3JsID0gdmlld3BvcnRVdGlscy5nZXRTY3JvbGwoKTtcblxuICAgICAgICB2YXIgdnB0ID0gc2NybC50b3A7XG4gICAgICAgIHZhciB2cGwgPSBzY3JsLmxlZnQ7XG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnRvcCA9ICcnICsgTWF0aC5tYXgoMCwgdnB0ICsgTWF0aC5mbG9vcigodnAuaCAtIGgpIC8gMikpICsgJ3B4JztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnJyArIE1hdGgubWF4KDAsIHZwbCArIE1hdGguZmxvb3IoKHZwLncgLSB3KSAvIDIpKSArICdweCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhpZGRlbklmcmFtZShzcmM6IHN0cmluZyk6IEhUTUxJRnJhbWVFbGVtZW50IHtcbiAgICB2YXIgaWZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyLnNyYyA9IHNyYztcbiAgICBpZnIuc3R5bGUud2lkdGggPSAnMzBweCc7XG4gICAgaWZyLnN0eWxlLmhlaWdodCA9ICcxMHB4JztcbiAgICBpZnIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGlmci5zdHlsZS50b3AgPSAnLTEwMDBweCc7XG4gICAgaWZyLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XG5cbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBhcHBlbmRUb0JvZHkoaWZyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmdW5jdGlvbnNVdGlscy5pbnZva2VPblBhZ2VMb2FkKCgpID0+IHtcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keShpZnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaWZyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZUVuY29kZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAucmVwbGFjZSgvXFxcIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoL1xcJy9nLCAnJiMzOTsnKTsgLy8gSUU4IGRvZXNuJ3Qgc3VwcG9ydCAmYXBvcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYW5pcHVsYXRlQXR0cmlidXRlcyhcbiAgICBlbGVtZW50czogRWxlbWVudFtdLFxuICAgIG1hdGNoZXI6IFJlZ0V4cCxcbiAgICByZXBsYWNlUHJlZGljYXRlOiAobWF0Y2g6IHN0cmluZykgPT4gdm9pZCxcbiAgICBjcml0ZXJpYTogKGF0dHI/OiBBdHRyKSA9PiBib29sZWFuID0gKCkgPT4gdHJ1ZSxcbik6IHZvaWQge1xuICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBpZiAoIWVsLmF0dHJpYnV0ZXMpIHJldHVybjtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWwuYXR0cmlidXRlcykuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgICAgIGlmIChjcml0ZXJpYShhdHRyKSkge1xuICAgICAgICAgICAgICAgIGF0dHIudmFsdWUgPSBhdHRyLnZhbHVlLnJlcGxhY2UobWF0Y2hlciwgcmVwbGFjZVByZWRpY2F0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRleHROb2Rlc1VuZGVyKGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGxldCBuO1xuICAgIGNvbnN0IHRleHROb2RlczogVGV4dFtdID0gW107XG4gICAgY29uc3QgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhULCBudWxsLCBmYWxzZSk7XG4gICAgd2hpbGUgKChuID0gdHJlZVdhbGtlci5uZXh0Tm9kZSgpIGFzIFRleHQpKSB7XG4gICAgICAgIHRleHROb2Rlcy5wdXNoKG4pO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dE5vZGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzSFRNTEJvb2xlYW5BdHRyaWJ1dGUoYXR0ck5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBbJ2F1dG9jb21wbGV0ZScsICdhdXRvZm9jdXMnLCAnY2hlY2tlZCcsICdkaXNhYmxlZCcsICdoaWRkZW4nLCAncmVhZG9ubHknLCAncmVxdWlyZWQnLCAnc2VsZWN0ZWQnXS5pbmRleE9mKGF0dHJOYW1lKSA+IC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmVsb25nVG9HaWd5YUZpZWxkc2V0KGVsOiBFbGVtZW50KTogYm9vbGVhbiB7XG5cbiAgICBpZiAoIWVsIHx8IGVsIGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZW5kIG9mIHJlY3Vyc2lvbiAtIGVsZW1lbnQgaXMgbm90IGEgY2hpbGQgb2YgYSBmaWVsZHNldFxuICAgIH1cblxuICAgIGlmIChpc0VsZW1lbnRDbGFzcyhlbC5wYXJlbnRFbGVtZW50LCAnZ2lneWEtZmllbGRzZXQnKSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBpc0JlbG9uZ1RvR2lneWFGaWVsZHNldChlbC5wYXJlbnRFbGVtZW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zZXN0RWxlbWVudChlbGVtLCBzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQpIHtcbiAgICBzZXRNYXRjaGVzUG9seWZpbGwoKTtcblxuICAgIC8vIEdldCB0aGUgY2xvc2VzdCBtYXRjaGluZyBlbGVtZW50XG4gICAgZm9yICggOyBlbGVtICYmIGVsZW0gIT09IHBhcmVudDsgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSApIHtcbiAgICAgICAgaWYgKGVsZW0/Lm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gZWxlbTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50RnJvbVRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcgPSAnJyk6IENoaWxkTm9kZSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmlubmVySFRNTCA9IHRlbXBsYXRlPy50cmltKCk7XG4gICAgcmV0dXJuIGRpdi5maXJzdENoaWxkID8/IGRpdjtcbn1cbmZ1bmN0aW9uIHNldE1hdGNoZXNQb2x5ZmlsbCgpIHtcbiAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYXJlbnRIYXNDbGFzcyhuYXRpdmVFbGVtZW50OiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lIDpzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAobmF0aXZlRWxlbWVudD8uY2xhc3NMaXN0Py5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW5hdGl2ZUVsZW1lbnQ/LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gaXNQYXJlbnRIYXNDbGFzcyhuYXRpdmVFbGVtZW50Py5wYXJlbnRFbGVtZW50LCBjbGFzc05hbWUpO1xufVxuIiwiXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKG9iajogYW55LCBpbmNsdWRlRnVuY3Rpb25zID0gZmFsc2UsIHByZXR0eVByaW50ID0gZmFsc2UsIGwgPSAwLCBtYXhMZXZlbCA9IDIwKTogc3RyaW5nIHtcbiAgICBpZiAoIWdpZ3lhLmxvY2FsSW5mby5pc0lFOCkge1xuICAgICAgICByZXR1cm4gd2luZG93WydKU09OJ10uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFsKSBsID0gMDtcblxuICAgICAgICBpZiAobCA+IG1heExldmVsKSByZXR1cm4gJ1tUb28gZGVlcF0nO1xuXG4gICAgICAgIHZhciBwcmVmaXggPSAnJztcbiAgICAgICAgdmFyIG5ld2xpbmUgPSAnJztcbiAgICAgICAgdmFyIHRhYiA9ICcnO1xuICAgICAgICBpZiAocHJldHR5UHJpbnQpIHtcbiAgICAgICAgICAgIHRhYiA9ICdcXHQnO1xuICAgICAgICAgICAgbmV3bGluZSA9ICdcXG4nO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ICs9IHRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdCA9IHR5cGVvZiBvYmo7XG4gICAgICAgIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgIT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBzaW1wbGUgZGF0YSB0eXBlXG5cbiAgICAgICAgICAgIGlmICh0ID09ICdzdHJpbmcnKSBvYmogPSAnXCInICsgb2JqLnJlcGxhY2UoLyhcXFwifFxcXFwpL2csICdcXFxcJDEnKS5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnXFxcXG4nKSArICdcIic7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbixcbiAgICAgICAgICAgICAgICB2LFxuICAgICAgICAgICAgICAgIGpzb24gPSBbXSxcbiAgICAgICAgICAgICAgICBhcnIgPSBvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09IEFycmF5O1xuICAgICAgICAgICAgaWYgKGFycikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBvYmpbaV07XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0eXBlb2YgdjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPT0gbnVsbCB8fCB0ID09ICd1bmRlZmluZWQnKSB2ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gJ3N0cmluZycpIHYgPSAnXCInICsgdi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlRnVuY3Rpb25zKSB2ID0gJ0Z1bmN0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHYucGFyZW50Tm9kZSAmJiB2LmlubmVySFRNTCkgdiA9ICdIVE1MRWxlbWVudCc7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYuY29uc3RydWN0b3IgPT0gRGF0ZSkgdiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdvYmplY3QnICYmIHYgIT09IG51bGwpIHYgPSBzZXJpYWxpemUodiwgaW5jbHVkZUZ1bmN0aW9ucywgcHJldHR5UHJpbnQsIGwgKyAxKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKHYpICE9ICcnKSBqc29uLnB1c2gocHJlZml4ICsgdGFiICsgU3RyaW5nKHYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobiBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG9ialtuXTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHR5cGVvZiB2O1xuICAgICAgICAgICAgICAgICAgICBpZiAodiA9PSBudWxsIHx8IHQgPT0gJ3VuZGVmaW5lZCcpIHYgPSBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gJ3N0cmluZycpIHYgPSAnXCInICsgdi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9ICdGdW5jdGlvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnBhcmVudE5vZGUgJiYgdi5pbm5lckhUTUwpIHYgPSAnSFRNTEVsZW1lbnQnO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2LmNvbnN0cnVjdG9yID09IERhdGUpIHYgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodCA9PSAnb2JqZWN0JyAmJiB2ICE9PSBudWxsKSB2ID0gbmV3bGluZSArIHNlcmlhbGl6ZSh2LCBpbmNsdWRlRnVuY3Rpb25zLCBwcmV0dHlQcmludCwgbCArIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmcodikgIT0gJycpIGpzb24ucHVzaChwcmVmaXggKyB0YWIgKyAnXCInICsgbi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCI6JyArIFN0cmluZyh2KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld2xpbmUgKyBwcmVmaXggKyAoYXJyID8gJ1snIDogJ3snKSArIG5ld2xpbmUgKyBqc29uLmpvaW4oJywnICsgbmV3bGluZSkgKyBuZXdsaW5lICsgcHJlZml4ICsgKGFyciA/ICddJyA6ICd9Jyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemU8VD4oanNvbjogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBULCBzY29wZT86IGFueSk6IFQge1xuICAgIC8vIFJldHVybiBkZWZhdWx0IHZhbHVlIGlmIGlzIGVtcHR5IHN0cmluZyAob3Igc2ltaWxhcikuXG4gICAgaWYgKCFqc29uIHx8ICFqc29uLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlIHx8ICh7fSBhcyBUKTtcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHRvIHBhcnNlLiBPbiBlcnJvciwgd2FybiBpbiBjb25zb2xlIGFuZCByZXR1cm4gZGVmYXVsdCB2YWx1ZS5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmbjogRnVuY3Rpb24gPSBldmFsKGAoZnVuY3Rpb24oJHtrZXlzLmpvaW4oJywnKX0pIHsgcmV0dXJuICR7anNvbi50cmltKCl9OyB9KWApO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkodW5kZWZpbmVkLCB2YWx1ZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBkZXNlcmlhbGl6aW5nIEphdmFTY3JpcHQnLCBlKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlPFQ+KGpzb246IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xuICAgIGlmIChnaWd5YS5sb2NhbEluZm8uaXNJRTgpIHtcbiAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplPFQ+KGpzb24sIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3dbJ0pTT04nXS5wYXJzZShqc29uKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHSUdZQV9QQVJBTV9QUkVGSVggfSBmcm9tICcuLy4uLy4uLy4uLy4uL2FjY291bnRzL2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBrZXlWYWx1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlWYWx1ZSc7XG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcblxudHlwZSBJR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZyA9IGdpZ3lhLnV0aWxzLlVSTC5JR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZztcbnR5cGUgSUdldENvbnRleHRQYXJhbXNGcm9tVXJsQ29uZmlnID0gZ2lneWEudXRpbHMuVVJMLklHZXRDb250ZXh0UGFyYW1zRnJvbVVybENvbmZpZ1xuXG5leHBvcnQgZnVuY3Rpb24gVVJMRW5jb2RlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFVSTERlY29kZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBVUkxEZWNvZGVSZWN1cnNpdmUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHByZXZEZWNvZGluZ1JlcyA9ICcnO1xuICAgIGxldCBjdXJyRGVjb2RpbmdSZXMgPSB2YWx1ZTtcblxuICAgIC8vIGtlZXAgZGVjb2RpbmcgdW50aWwgd2UgY2FuJ3QgZGVjb2RlIGFueW1vcmVcbiAgICB3aGlsZSAoY3VyckRlY29kaW5nUmVzICE9IHByZXZEZWNvZGluZ1Jlcykge1xuICAgICAgICAvLyBzdG9yZSB0aGUgbGFzdCBkZWNvZGluZyByZXN1bHRcbiAgICAgICAgcHJldkRlY29kaW5nUmVzID0gY3VyckRlY29kaW5nUmVzO1xuXG4gICAgICAgIC8vIGRlY29kZSB0aGUgc3RyaW5nIG9uY2UgYWdhaW5cbiAgICAgICAgY3VyckRlY29kaW5nUmVzID0gVVJMRGVjb2RlKHByZXZEZWNvZGluZ1Jlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJEZWNvZGluZ1Jlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtc0Zyb21VUkwodXJsOiBzdHJpbmcsIGtleXNUb0xvd2VyPzogYm9vbGVhbik6IE9iamVjdCB7XG4gICAgaWYgKCF1cmwgfHwgdXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZSh1cmwuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzFdLCAnJicsIGtleXNUb0xvd2VyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpZ1BhcmFtc0Zyb21VUkwoY29uZmlnOiBJR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZykge1xuXG4gICAgY29uc3QgeyB1cmwsIHBhcmFtUHJlZml4LCBrZXlzVG9Mb3dlciwgcmVtb3ZlUHJlZml4IH0gPSBjb25maWcgfHwge31cblxuICAgIGNvbnN0IHByZWZpeCA9IHBhcmFtUHJlZml4IHx8IEdJR1lBX1BBUkFNX1BSRUZJWDtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRQYXJhbXNGcm9tVVJMKHVybCwga2V5c1RvTG93ZXIpO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh1cmxQYXJhbXMpXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IGtleS5pbmRleE9mKHByZWZpeCkgPT09IDAgJiYga2V5ICE9PSBwcmVmaXgpXG4gICAgICAgIC5yZWR1Y2U8YW55Pigob2JqLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IHJlbW92ZVByZWZpeCA/IGtleS5zbGljZSg0KSA6IGtleTtcbiAgICAgICAgICAgIG9ialtuZXdLZXldID0gdXJsUGFyYW1zW2tleV07XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbVZhbHVlRnJvbVVSTChwYXJhbTogc3RyaW5nLCB1cmw6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChudWxsID09IHVybCB8fCAnJyA9PSB1cmwpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBpcW0gPSB1cmwuaW5kZXhPZignPycpO1xuICAgIGlmIChpcW0gPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgcXMgPSAnJicgKyB1cmwuc3Vic3RyKGlxbSArIDEpO1xuXG4gICAgbGV0IGlkeCA9IHFzLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignJicgKyBwYXJhbS50b0xvd2VyQ2FzZSgpICsgJz0nKTtcbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbEFuZE1vcmUgPSBxcy5zdWJzdHIoaWR4ICsgKDEgKyBwYXJhbS5sZW5ndGggKyAxKSkgKyAnJic7XG4gICAgaWR4ID0gdmFsQW5kTW9yZS5pbmRleE9mKCcmJyk7XG5cbiAgICByZXR1cm4gdmFsQW5kTW9yZS5zdWJzdHIoMCwgaWR4KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXJhbXNUb1VSTCh1cmw6IHN0cmluZywgb1BhcmFtczogT2JqZWN0KTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJhbXMgPSBnZXRQYXJhbXNGcm9tVVJMKHVybCk7XG4gICAgb2JqZWN0VXRpbHMuYWRkKHBhcmFtcywgb1BhcmFtcyk7XG4gICAgY29uc3QgdXJsSGFzaFNwbGl0ID0gdXJsLnNwbGl0KCcjJyk7XG4gICAgbGV0IGZpbmFsVXJsID0gdXJsSGFzaFNwbGl0WzBdLnNwbGl0KCc/JylbMF0gKyAnPycgKyBrZXlWYWx1ZVV0aWxzLnNlcmlhbGl6ZShwYXJhbXMsICcmJyk7XG4gICAgaWYgKHVybEhhc2hTcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZpbmFsVXJsICs9ICcjJyArIHVybEhhc2hTcGxpdFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsVXJsO1xufVxuXG5cbmNvbnN0IHJlbW92ZVVuYWNjZXB0YWJsZVBhcmFtcyA9IDxUPihwYXJhbXM6IFQsIHVuYWNjZXB0YWJsZVBhcmFtczogUmVnRXhwKTogUGFydGlhbDxUPiA9PiB7XG5cbiAgICBpZiAoIXVuYWNjZXB0YWJsZVBhcmFtcykge1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkUGFyYW1zOiBQYXJ0aWFsPFQ+ID0ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhwYXJhbXMgfHwge30pXG4gICAgICAgIC5maWx0ZXIoKFtwYXJhbU5hbWVdKSA9PiAhdW5hY2NlcHRhYmxlUGFyYW1zLnRlc3QocGFyYW1OYW1lKSlcbiAgICAgICAgLmZvckVhY2goKFtwYXJhbU5hbWUsIHBhcmFtVmFsdWVdOiBbc3RyaW5nLCBzdHJpbmddKSA9PiB2YWxpZFBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZSlcblxuICAgIHJldHVybiB2YWxpZFBhcmFtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHRQYXJhbXNGcm9tVXJsPFQgPSB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9Pihjb25maWc6IElHZXRDb250ZXh0UGFyYW1zRnJvbVVybENvbmZpZyk6IFBhcnRpYWw8VD4ge1xuXG4gICAgY29uc3QgeyB1cmwsIHBhcmFtUHJlZml4LCB1bmFjY2VwdGFibGVQYXJhbXMgfSA9IGNvbmZpZyB8fCB7fVxuXG4gICAgaWYoIXVybCkge1xuICAgICAgcmV0dXJuIHt9XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gZ2lneWEudXRpbHMuVVJMLmdldEdpZ1BhcmFtc0Zyb21VUkwoeyB1cmwsIHBhcmFtUHJlZml4IH0pIGFzIFQ7XG5cbiAgICByZXR1cm4gcmVtb3ZlVW5hY2NlcHRhYmxlUGFyYW1zKHBhcmFtcywgdW5hY2NlcHRhYmxlUGFyYW1zKTtcbn1cbiIsImltcG9ydCAqIGFzIHN0cmluZ1V0aWxzVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFVyaSB7XG4gICAgcHJpdmF0ZSBfYW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nLCBpc0Fic29sdXRlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICdodHRwOicgPyAnaHR0cCcgOiAnaHR0cHMnO1xuICAgICAgICBpZiAoaXNBYnNvbHV0ZSAmJiB1cmwuaW5kZXhPZignOi8vJykgPT09IC0xICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykgdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt1cmx9YDtcbiAgICAgICAgdGhpcy5fYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkb21haW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3IuaG9zdG5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLnBhdGhuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaHJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvci5ocmVmO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2VhcmNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLnNlYXJjaC5zbGljZSgxKTtcbiAgICB9IC8vIGRyb3BwaW5nICc/J1xuICAgIHB1YmxpYyBnZXQgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvci5oYXNoLnNsaWNlKDEpO1xuICAgIH0gLy8gZHJvcHBpbmcgJyMnXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3IuaHJlZjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVG9TZWFyY2gocGFyYW1zOiBPYmplY3QpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcmFtc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICgodHlwZW9mIHZhbCA9PSAnYm9vbGVhbicgfHwgdHlwZW9mIHZhbCA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsID09ICdzdHJpbmcnKSAmJiBuYW1lICE9ICdldmVudE5hbWUnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uID0gdGhpcy5fYW5jaG9yLnNlYXJjaCA/ICcmJyA6ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZWFyY2ggKz0gYCR7YWRkaXRpb259JHtuYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbXNbbmFtZV0pfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGZldGNoPFQ+KHJldHJpZXMgPSAwKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmZldGNoID8gYXdhaXQgdGhpcy5icm93c2VyRmV0Y2g8VD4oKSA6IGF3YWl0IHRoaXMueGhyPFQ+KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzIDw9IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWQ6ICR7ZX1gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsYXkoMSk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaChyZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNCYXNlT2YodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFVyaS5wYXJzZSh1cmwpLmlzSW4odGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSW4oYmFzZTogc3RyaW5nKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgaXNJbihiYXNlOiBVcmkpOiBib29sZWFuO1xuICAgIHB1YmxpYyBpc0luKGJhc2U6IFVyaSB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBiYXNlID0gVXJpLnBhcnNlKGJhc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0aGlzLmRvbWFpbiA9PSBiYXNlLmRvbWFpbiB8fCAvLyBwYWdlIGlzIHRoZSBiYXNlIGRvbWFpblxuICAgICAgICAgICAgICAgIHRoaXMuaXNTdWJEb21haW5PZihiYXNlKSkgJiYgLy8gb3Igc3ViLWRvbWFpbiBvZiBpdFxuICAgICAgICAgICAgKCFiYXNlLnBhdGggfHwgdGhpcy5wYXRoLmluZGV4T2YoYmFzZS5wYXRoKSA9PSAwKVxuICAgICAgICApOyAvLyBwYWdlIGlzIGFsc28gaW4gYmFzZSdzIGRlZmluZWQgcGF0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNGb3JTdWJEb21haW5zKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21haW4uaW5kZXhPZignLicpID09IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGlzU3ViRG9tYWluT2YoYmFzZTogVXJpKTogYm9vbGVhbiB7XG4gICAgICAgIHZhciBkb21haW4gPSAnJztcblxuICAgICAgICBpZiAoIWJhc2UuaXNGb3JTdWJEb21haW5zKCkpIGRvbWFpbiA9ICcuJztcblxuICAgICAgICBkb21haW4gKz0gYmFzZS5kb21haW47XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ1V0aWxzVXRpbHMuZW5kc1dpdGgodGhpcy5kb21haW4sIGRvbWFpbik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZSh1cmw6IHN0cmluZywgaXNBYnNvbHV0ZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF1cmwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBVcmkodXJsLCBpc0Fic29sdXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGJyb3dzZXJGZXRjaDxUPigpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWRgKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHhocjxUPigpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgICAgICB4aHIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0IHx8IHhoci5zdGF0dXMgIT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoYHhociBmYWlsZWQgLSAke3hoci5zdGF0dXN9IC0gJHt4aHIuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoanNvblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgbXMpKTtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIElOdW1lcmljTWFwPFQ+IHtcbiAgICBba2V5OiBudW1iZXJdOiBUO1xufVxuZXhwb3J0IGludGVyZmFjZSBJTWFwPFQ+IHtcbiAgICBba2V5OiBzdHJpbmddOiBUO1xufVxuZXhwb3J0IGludGVyZmFjZSBJRW51bWVyYWJsZTxUPiB7XG4gICAgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2k6IG51bWJlcl06IFQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcjogYW55W10sIG86IGFueSk6IG51bWJlciB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJbaV0gPT0gbykgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhcjogYW55W10pIHtcbiAgICB2YXIgYXIyID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcjJbaV0gPSBhcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFyMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCeVZhbHVlKGFyOiBhbnlbXSwgdmFsdWU6IE9iamVjdCkge1xuICAgIGlmICghYXIpIHJldHVybjtcbiAgICBmb3IgKHZhciBpID0gYXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGFyW2ldID09IHZhbHVlKSB7XG4gICAgICAgICAgICBhci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQnlQcm9wZXJ0eShhcjogYW55W10sIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAoIWFyKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IGFyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChhcltpXVtwcm9wZXJ0eV0gPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGFyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21TdHJpbmcoc3RyOiBzdHJpbmcsIGRlbGltaXRlcjogc3RyaW5nLCBsb3dlckNhc2U/OiBib29sZWFuKSB7XG4gICAgLy8gY2hlY2sgZm9yIHN0cmluZyB0eXBlIGluIHRoZSBpbnB1dCBhbmQgbm90IGVtcHR5LlxuICAgIGlmICghc3RyIHx8IHR5cGVvZiBzdHIgIT0gJ3N0cmluZycpIHJldHVybiBbXTtcblxuICAgIC8vIGxvd2VyY2FzZSBpZiBkZW1lbmRlZFxuICAgIGlmIChsb3dlckNhc2UpIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gY2xlYW4gdGhlIHN0cmluZzpcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvWyBdL2csICcnKS5yZXBsYWNlKC8sLC9nLCAnLCcpO1xuXG4gICAgLy8gaWYgc3RyaW5nIGVtcHR5XG4gICAgaWYgKCFzdHIpIHJldHVybiBbXTtcblxuICAgIC8vIHJldHVybiBhcnJheSBmcm9tIHN0cmluZ1xuICAgIHJldHVybiBzdHIuc3BsaXQoZGVsaW1pdGVyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXk6IGFueVtdLCAuLi5hcmdzOiBhbnlbXSk6IGFueVtdIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQ6IGFueVtdID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGg6IG51bWJlciA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtOiBhbnkgPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhPZihyZXN1bHQsIGl0ZW0pICE9IC0xKSBjb250aW51ZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBhcnI6IGFueVtdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgICAgaWYgKGFyciA9PSBudWxsIHx8IHRoaXMuaW5kZXhPZihhcnIsIGl0ZW0pID09IC0xKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbGFzdEluZGV4T2Y8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgdmFsOiBULCBmcm9tSW5kZXggPSAwKTogbnVtYmVyIHtcbiAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aDsgLS1pID49IGZyb21JbmRleDsgKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT09IHZhbCkgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2g8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgYWN0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiB2b2lkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGFjdGlvbihhcnJbaV0sIGksIGFycik7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFByb3A8VD4ob2JqOiBJTWFwPFQ+LCBhY3Rpb246IChwcm9wOiBULCBuYW1lOiBzdHJpbmcsIG9iajogSU1hcDxUPikgPT4gdm9pZCk7XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFByb3A8VCBleHRlbmRzIE9iamVjdD4ob2JqOiBULCBhY3Rpb246IChwcm9wOiBhbnksIG5hbWU6IHN0cmluZywgb2JqOiBUKSA9PiB2b2lkKTtcbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUHJvcChvYmo6IE9iamVjdCwgYWN0aW9uOiAocHJvcDogYW55LCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiB2b2lkKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgYWN0aW9uKG9ialtuYW1lXSwgbmFtZSwgb2JqKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc29tZTxUPihhcnI6IElFbnVtZXJhYmxlPFQ+LCBjb25kaXRpb246IChlbGVtZW50OiBULCBpbmRleD86IG51bWJlciwgYXJyPzogSUVudW1lcmFibGU8VD4pID0+IGJvb2xlYW4pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKGFycltpXSwgaSwgYXJyKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KGFycjogSUVudW1lcmFibGU8VD4sIGNvbmRpdGlvbjogKGVsZW1lbnQ6IFQsIGluZGV4PzogbnVtYmVyLCBhcnI/OiBJRW51bWVyYWJsZTxUPikgPT4gYm9vbGVhbikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghY29uZGl0aW9uKGFycltpXSwgaSwgYXJyKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5UHJvcDxUPihvYmo6IElNYXA8VD4sIGNvbmRpdGlvbjogKHByb3A6IFQsIG5hbWU6IHN0cmluZywgb2JqOiBJTWFwPFQ+KSA9PiBib29sZWFuKTtcbmV4cG9ydCBmdW5jdGlvbiBldmVyeVByb3A8VD4ob2JqOiBULCBjb25kaXRpb246IChwcm9wLCBuYW1lOiBzdHJpbmcsIG9iajogVCkgPT4gYm9vbGVhbik7XG5leHBvcnQgZnVuY3Rpb24gZXZlcnlQcm9wKG9iajogT2JqZWN0LCBjb25kaXRpb246IChwcm9wLCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiBib29sZWFuKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiAhY29uZGl0aW9uKG9ialtuYW1lXSwgbmFtZSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxTLCBUPihhcnI6IElFbnVtZXJhYmxlPFM+LCBhY3Rpb246IChlbGVtZW50OiBTLCBpbmRleD86IG51bWJlciwgYXJyPzogSUVudW1lcmFibGU8Uz4pID0+IFQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5PFQ+KCk7XG5cbiAgICBmb3JFYWNoKGFyciwgKGl0ZW0sIGlkeCwgYXJyKSA9PiByZXN1bHQucHVzaChhY3Rpb24oaXRlbSwgaWR4LCBhcnIpKSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0SW5kZXg8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICB2YXIgcmVzdWx0OiBudW1iZXIgPSAtMTtcbiAgICBzb21lKGFyciwgKGl0ZW0sIGluZGV4LCBhcnIpID0+IHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihpdGVtLCBpbmRleCwgYXJyKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKTogVCB7XG4gICAgcmV0dXJuIGFycltmaXJzdEluZGV4KGFyciwgY29uZGl0aW9uKV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsRW51bVZhbHVlczxUPihlbnVtVHlwZSk6IFRbXSB7XG4gICAgdmFyIHJlc3VsdHM6IFRbXSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSBpbiBlbnVtVHlwZSkgaWYgKHR5cGVvZiBlbnVtVHlwZVtpXSA9PSAnbnVtYmVyJykgcmVzdWx0cy5wdXNoKGVudW1UeXBlW2ldKTtcblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZVZhbHVlczxUPihhcnI6IFRbXSk6IFRbXSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgYXJyLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gYXJyW2pdKSB7XG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluY2x1ZGVzPFQ+KGFycjogVFtdID0gW10sIGl0ZW06IFQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYXJyPy5pbmRleE9mKGl0ZW0pID49IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc09ubHkoYXJyMT86IGFueVtdLCBhcnIyPzogYW55W10pOiBib29sZWFuIHtcbiAgICBpZiAoIWFycjEgfHwgIWFycjIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGFycjEubGVuZ3RoID09PSAwICYmIGFycjIubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gIWFycjEuc29tZShlbGVtID0+ICFpbmNsdWRlcyhhcnIyLCBlbGVtKSk7XG59XG4iLCJpbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcbmltcG9ydCB7Q29va2llU3RvcmV9IGZyb20gXCIuL2dsb2JhbFwiO1xuXG5leHBvcnQgdHlwZSBTYW1lU2l0ZSA9ICdOb25lJyB8ICdTdHJpY3QnIHwgJ0xheCc7XG5cbmV4cG9ydCBjbGFzcyBDb29raWVVdGlscyB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyB0ZXN0Q29va2llTmFtZSA9ICdnaWczcGN0ZXN0JztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2Nvb2tpZVN0b3JlOiBDb29raWVTdG9yZSA9IG5ldyBDb29raWVTdG9yZSgpKSB7IH1cblxuICAgIHB1YmxpYyBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzX2luPzogYW55LCBjb29raWVEb21haW4/OiBzdHJpbmcsIGRvbnRVc2VSb290UGF0aD86IGJvb2xlYW4sIHNhbWVTaXRlPzogU2FtZVNpdGUpOiBib29sZWFuIHtcblxuICAgICAgICBpZiAoY29va2llRG9tYWluID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvb2tpZURvbWFpbiA9IHRoaXMuZ2V0RGVmYXVsdERvbWFpbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IGRvbnRVc2VSb290UGF0aCA/ICcnIDogJy8nO1xuXG4gICAgICAgIGNvbnN0IGV4cGlyZU1zID0gdGhpcy5fZ2V0RXhwaXJhdGlvbkluTXMoZXhwaXJlc19pbik7XG5cbiAgICAgICAgbGV0IGV4cGlyZXMgPSBudWxsO1xuICAgICAgICBpZihleHBpcmVNcyAhPSBudWxsKSB7XG4gICAgICAgICAgICBleHBpcmVzID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGV4cGlyZXMuc2V0VGltZShleHBpcmVzLmdldFRpbWUoKSArIGV4cGlyZU1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb29raWVFeGlzdCA9IHRoaXMuX3NldENvb2tpZUludGVybmFsKG5hbWUsIHZhbHVlLCBwYXRoLCBleHBpcmVzLCBjb29raWVEb21haW4sIHNhbWVTaXRlKTtcblxuICAgICAgICBjb25zdCBzaG91bGRDb29raWVFeGlzdCA9ICFleHBpcmVNcyB8fCBleHBpcmVNcyA+IDA7XG5cbiAgICAgICAgaWYgKHNob3VsZENvb2tpZUV4aXN0ID09PSBjb29raWVFeGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBmYWlsZWQgdG8gc2V0IGNvb2tpZSwgcmV0cnk7XG4gICAgICAgIC8vIGl0IG1pZ2h0IGJlIGJlY2F1c2UgdGhlIGRvbWFpbiBpcyBsaXN0ZWQgYXMgVExEIGh0dHBzOi8vZGF0YS5pYW5hLm9yZy9UTEQvdGxkcy1hbHBoYS1ieS1kb21haW4udHh0XG4gICAgICAgIGNvbnN0IHBhZ2VEb21haW4gPSBsb2NhbEluZm8ucGFnZURvbWFpbjtcbiAgICAgICAgY29va2llRXhpc3QgPSB0aGlzLl9zZXRDb29raWVJbnRlcm5hbChuYW1lLCB2YWx1ZSwgcGF0aCwgZXhwaXJlcywgcGFnZURvbWFpbiwgc2FtZVNpdGUpO1xuXG4gICAgICAgIHJldHVybiBjb29raWVFeGlzdCA9PT0gc2hvdWxkQ29va2llRXhpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIGdldChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29va2llU3RvcmUuZ2V0Q29va2llKG5hbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUobmFtZTogc3RyaW5nLCBkb21haW4gPSBsb2NhbEluZm8ucGFnZURvbWFpbik6IHZvaWQge1xuICAgICAgICB0aGlzLl9yZW1vdmVGcm9tQmFzZURvbWFpbnMobmFtZSwgZG9tYWluKTtcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgJycsIC0xLCAnJywgZmFsc2UpO1xuICAgICAgICB0aGlzLnNldChuYW1lLCAnJywgLTEsICcnLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SW5maW5pdGVFeHBpcmF0aW9uVGltZUluU2Vjb25kcygpIHtcbiAgICAgICAgLy8gU2V0IGV4cGlyYXRpb24gdGltZSB0byAxIHllYXJzXG4gICAgICAgIHJldHVybiA2MCAqIDYwICogMjQgKiAzNjU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhblNhdmVDb29raWUoY29va2llRG9tYWluID0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0KENvb2tpZVV0aWxzLnRlc3RDb29raWVOYW1lLCAndHJ1ZScsIDEsIGNvb2tpZURvbWFpbiwgbnVsbCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGlPUyAxMCB3ZWJ2aWV3IHRocm93cyBpbiBzb21lIHNjZW5hcmlvc1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlZmF1bHREb21haW4ocGFnZURvbWFpbiA9IGxvY2FsSW5mby5wYWdlRG9tYWluLCBiYXNlRG9tYWluID0gbG9jYWxJbmZvLmJhc2VEb21haW4gfHwgJycpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYmFzZURvbWFpbi5sZW5ndGggPiAwICYmIHBhZ2VEb21haW4ubGVuZ3RoID49IGJhc2VEb21haW4ubGVuZ3RoICYmIHBhZ2VEb21haW4ubGFzdEluZGV4T2YoYmFzZURvbWFpbikgPT09IHBhZ2VEb21haW4ubGVuZ3RoIC0gYmFzZURvbWFpbi5sZW5ndGhcbiAgICAgICAgICAgID8gYmFzZURvbWFpblxuICAgICAgICAgICAgOiBwYWdlRG9tYWluO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEV4cGlyYXRpb25Jbk1zKGV4cGlyZXNJbjogYW55KSB7XG5cbiAgICAgICAgbGV0IGV4cGlyZU1zOiBudW1iZXI7XG4gICAgICAgIGlmIChleHBpcmVzSW4gPT0gbnVsbCB8fCBleHBpcmVzSW4gPT09ICcnIHx8IGlzTmFOKGV4cGlyZXNJbikpIHtcbiAgICAgICAgICAgIGV4cGlyZU1zID0gMTAwMCAqIHRoaXMuZ2V0SW5maW5pdGVFeHBpcmF0aW9uVGltZUluU2Vjb25kcygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV4cGlyZXNJbiA9PSAwKSB7XG4gICAgICAgICAgICAvLyAwIG1lYW5zIFNlc3Npb25cbiAgICAgICAgICAgIGV4cGlyZU1zID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFueSBvdGhlciB2YWx1ZSBpcyBudW1iZXIgb2Ygc2Vjb25kcyAoQSBuZWdhdGl2ZSB2YWx1ZSB3b3VsZCBtZWFuIGV4cGlyZSBub3chKVxuICAgICAgICAgICAgZXhwaXJlTXMgPSBleHBpcmVzSW4gKiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4cGlyZU1zO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3NldENvb2tpZUludGVybmFsKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBleHBpcmVzOiBEYXRlLCBjb29raWVEb21haW46IHN0cmluZywgc2FtZVNpdGVNb2RlID0gQ29va2llVXRpbHMuX2dldFNhbWVTaXRlTW9kZSgpKSB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gbG9jYWxJbmZvPy5wcm90b2NvbCA/PyBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgY29uc3QgaXNTZWN1cmVkID0gcHJvdG9jb2wuaW5kZXhPZignaHR0cHMnKSA9PT0gMDtcblxuICAgICAgICB0aGlzLl9jb29raWVTdG9yZS5zZXRDb29raWUobmFtZSwgdmFsdWUsIHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBleHBpcmVzLFxuICAgICAgICAgICAgZG9tYWluOiBjb29raWVEb21haW4sXG4gICAgICAgICAgICBzYW1lU2l0ZTogc2FtZVNpdGVNb2RlLFxuICAgICAgICAgICAgc2VjdXJlOiBpc1NlY3VyZWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2FtZVNpdGVNb2RlKSB7XG4gICAgICAgICAgICAvL2lmIGZhaWxlZCB0byB3cml0ZSBjb29raWUgd2l0aG91dCBzYW1lU2l0ZSBtb2RlLCB0aGVuIHN0b3AgaGVyZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNhbWVTaXRlTW9kZSAhPT0gJ05vbmUnKSB7XG4gICAgICAgICAgICB0aGlzLl9mYWxsYmFja1RvU2FtZVNpdGVOb25lKG5hbWUsIHZhbHVlLCBwYXRoLCBleHBpcmVzLCBjb29raWVEb21haW4sIGlzU2VjdXJlZClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmdldChuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVwb3J0RmFsbGJhY2soJ1NldHRpbmcgU2FtZVNpdGU9Tm9uZScsIHtuYW1lLCB2YWx1ZSwgc2FtZVNpdGVNb2RlfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGZhaWxlZCB0byB3cml0ZSBjb29raWUgd2l0aCBzYW1lU2l0ZSBtb2RlLCByZXRyeSB3aXRob3V0O1xuICAgICAgICB0aGlzLl9jb29raWVTdG9yZS5zZXRDb29raWUobmFtZSwgdmFsdWUsIHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBleHBpcmVzLFxuICAgICAgICAgICAgZG9tYWluOiBjb29raWVEb21haW4sXG4gICAgICAgICAgICBzZWN1cmU6IGlzU2VjdXJlZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5nZXQobmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEZhbGxiYWNrKCdDb29raWUgZXN0YWJsaXNoZWQgb25seSB3aXRob3V0IHNhbWVTaXRlIG1vZGUnLCB7bmFtZSwgdmFsdWUsIHNhbWVTaXRlTW9kZX0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcmVtb3ZlRnJvbUJhc2VEb21haW5zKG5hbWU6IHN0cmluZywgZG9tYWluOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZG9tYWluUGFydHMgPSBkb21haW4uc3BsaXQoJy4nKTtcblxuICAgICAgICAvLyB3aGVuIGNsZWFyaW5nIGZyb20gYS5iLmMuZC5jb20gLS0+IGNsZWFyIGZyb20gYS5iLmMuZC5jb20sIGIuYy5kLmNvbSwgYy5kLmNvbSwgZC5jb21cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb21haW5QYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRvbWFpbiA9IGRvbWFpblBhcnRzLnNsaWNlKGkpLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KG5hbWUsICcnLCAtMSwgZG9tYWluLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnNldChuYW1lLCAnJywgLTEsIGRvbWFpbiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZ2V0U2FtZVNpdGVNb2RlKCkgOiBTYW1lU2l0ZSB7XG4gICAgICAgIGlmICghQ29va2llVXRpbHMuX2Rpc2FsbG93U2FtZVNpdGVNb2RlKCkpIHJldHVybiAnTm9uZSc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2Rpc2FsbG93U2FtZVNpdGVNb2RlKCkge1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IGxvY2FsSW5mbz8ucHJvdG9jb2wgPz8gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgIGNvbnN0IHVhID0gbG9jYWxJbmZvPy51c2VyQWdlbnQgPz8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpc1NlY3VyZWQgPSBwcm90b2NvbC5pbmRleE9mKCdodHRwcycpID09PSAwO1xuXG4gICAgICAgIHJldHVybiAhaXNTZWN1cmVkIHx8ICF1YSB8fFxuICAgICAgICAgICAgLy8gQ292ZXIgYWxsIGlPUyBiYXNlZCBicm93c2VycyBoZXJlLiBUaGlzIGluY2x1ZGVzOlxuICAgICAgICAgICAgLy8gLSBTYWZhcmkgb24gaU9TIDEyIGZvciBpUGhvbmUsIGlQb2QgVG91Y2gsIGlQYWRcbiAgICAgICAgICAgIC8vIC0gV2tXZWJ2aWV3IG9uIGlPUyAxMiBmb3IgaVBob25lLCBpUG9kIFRvdWNoLCBpUGFkXG4gICAgICAgICAgICAvLyAtIENocm9tZSBvbiBpT1MgMTIgZm9yIGlQaG9uZSwgaVBvZCBUb3VjaCwgaVBhZFxuICAgICAgICAgICAgLy8gQWxsIG9mIHdoaWNoIGFyZSBicm9rZW4gYnkgU2FtZVNpdGU9Tm9uZSwgYmVjYXVzZSB0aGV5IHVzZSB0aGUgaU9TIG5ldHdvcmtpbmcgc3RhY2tcbiAgICAgICAgICAgICgodWEuaW5kZXhPZignQ1BVIGlQaG9uZSBPUyAxMicpID4gLTEgfHwgdWEuaW5kZXhPZignaVBhZDsgQ1BVIE9TIDEyJykgPiAtMSkgfHxcbiAgICAgICAgICAgICAgICAvLyBDb3ZlciBNYWMgT1MgWCBiYXNlZCBicm93c2VycyB0aGF0IHVzZSB0aGUgTWFjIE9TIG5ldHdvcmtpbmcgc3RhY2suIFRoaXMgaW5jbHVkZXM6XG4gICAgICAgICAgICAgICAgLy8gLSBTYWZhcmkgb24gTWFjIE9TIFguXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBkb2VzIG5vdCBpbmNsdWRlOlxuICAgICAgICAgICAgICAgIC8vIC0gQ2hyb21lIG9uIE1hYyBPUyBYXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGV5IGRvIG5vdCB1c2UgdGhlIE1hYyBPUyBuZXR3b3JraW5nIHN0YWNrLlxuICAgICAgICAgICAgICAgICh1YS5pbmRleE9mKCdNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0JykgPiAtMSAmJiB1YS5pbmRleE9mKCdWZXJzaW9uLycpID4gLTEgJiYgdWEuaW5kZXhPZignU2FmYXJpJykgPiAtMSkgfHxcbiAgICAgICAgICAgICAgICAvLyBDb3ZlciBDaHJvbWUgNTAtNjksIGJlY2F1c2Ugc29tZSB2ZXJzaW9ucyBhcmUgYnJva2VuIGJ5IFNhbWVTaXRlPU5vbmUsXG4gICAgICAgICAgICAgICAgLy8gYW5kIG5vbmUgaW4gdGhpcyByYW5nZSByZXF1aXJlIGl0LlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgY292ZXJzIHNvbWUgcHJlLUNocm9taXVtIEVkZ2UgdmVyc2lvbnMsXG4gICAgICAgICAgICAgICAgLy8gYnV0IHByZS1DaHJvbWl1bSBFZGdlIGRvZXMgbm90IHJlcXVpcmUgU2FtZVNpdGU9Tm9uZS5cbiAgICAgICAgICAgICAgICAodWEuaW5kZXhPZignQ2hyb21lLzUnKSA+IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZS82JykgPiAtMSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2ZhbGxiYWNrVG9TYW1lU2l0ZU5vbmUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGV4cGlyZXM6IERhdGUsIGNvb2tpZURvbWFpbjogc3RyaW5nLCBzZWN1cmU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29va2llU3RvcmUuc2V0Q29va2llKG5hbWUsIHZhbHVlLCB7XG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgZXhwaXJlcyxcbiAgICAgICAgICAgIGRvbWFpbjogY29va2llRG9tYWluLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdOb25lJyxcbiAgICAgICAgICAgIHNlY3VyZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZXBvcnRGYWxsYmFjayhtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM6IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgICBzYW1lU2l0ZU1vZGU6IHN0cmluZztcbiAgICAgICAgaXNTdWNjZXNzZnVsPzogYm9vbGVhbjtcbiAgICAgICAgaXNJZnJhbWU/OiBib29sZWFuO1xuICAgIH0pIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydChgQ29va2llIFBvbGljeSBGYWxsYmFjazogJHttZXNzYWdlfWAsIHsuLi5kZXRhaWxzLCBpc0lmcmFtZTogdGhpcy5faXNJRnJhbWUoKX0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlICBfaXNJRnJhbWUoKTogYm9vbGVhbiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Py5sb2NhdGlvbiAhPT0gd2luZG93Py5wYXJlbnQ/LmxvY2F0aW9uO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29va2llVXRpbHMoKTtcbiIsImltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xuaW1wb3J0ICogYXMgc3RyaW5nVXRpbHNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nVXRpbHMnO1xuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tICcuLi9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5pbXBvcnQgY29va2llIGZyb20gJy4vY29va2llJztcblxuLy8gVE9ETzogbW92ZSB0byBjb25maWdcbmxldCBiYXNlRG9tYWluczogc3RyaW5nW118c3RyaW5nO1xuaWYgKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncz8uYmFzZURvbWFpbnM/Lmxlbmd0aCkge1xuICAgIGJhc2VEb21haW5zID0gZ2lneWEucGFydG5lclNldHRpbmdzLmJhc2VEb21haW5zIGFzIHN0cmluZ1tdfHN0cmluZztcbn0gZWxzZSB7XG4gICAgaWYgKHdpbmRvdy5zZWxmID09PSB3aW5kb3cudG9wKSB7XG4gICAgICAgIC8vIG9ubHkgaW4gdGhlIHRvcCBmcmFtZVxuICAgICAgICBnaWd5YS5sb2dnZXIud2FybignZ2lneWE6IG1pc3NpbmcgYmFzZSBkb21haW5zIGZvciBzaXRlJyk7XG4gICAgfVxuICAgIGJhc2VEb21haW5zID0gW2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lXTtcbn1cbmxvY2FsSW5mby5iYXNlRG9tYWluID0gZ2V0QmFzZURvbWFpbihiYXNlRG9tYWlucyk7XG5leHBvcnQgZGVjbGFyZSB2YXIgZ2V0QXBpRG9tYWluOiAobmFtZXNwYWNlPzogc3RyaW5nKSA9PiBzdHJpbmc7XG5jb25zdCBnaWd5YURvbWFpbk5hbWVzcGFjZXMgPSBbJ3NvY2lhbGl6ZScsICdhY2NvdW50cycsICdmaWRtJywgJ2dtJywgJ2NvbW1lbnRzJywgJ2djcycsICdpZHMnLCAnZHMnLCAnZ3Njb3VudGVycycsICdyZXBvcnRzJ107XG5leHBvcnQgZnVuY3Rpb24gYXBpRG9tYWluRmFjdG9yeShhcGlEb21haW4gPSByZXNvbHZlQXBpRG9tYWluKCksIGRlZmF1bHRBcGlEb21haW4gPSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluKTogKG5hbWVzcGFjZT86IHN0cmluZykgPT4gc3RyaW5nIHtcblxuICAgIGNvbnN0IHNob3VsZEFkZE5hbWVzcGFjZSA9IFVyaS5wYXJzZShhcGlEb21haW4pLmlzSW4oVXJpLnBhcnNlKGRlZmF1bHRBcGlEb21haW4pKTtcblxuICAgIHJldHVybiAobmFtZXNwYWNlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgJiYgc2hvdWxkQWRkTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBsZXQgc3ViRG9tYWluID0gbmFtZXNwYWNlLnNwbGl0KCcuJylbMF07XG4gICAgICAgICAgICBpZiAoc3ViRG9tYWluID09PSAnc2RrJyB8fCBzdWJEb21haW4gPT09ICdvYXV0aCcpIHtcbiAgICAgICAgICAgICAgICBzdWJEb21haW4gPSAnYWNjb3VudHMnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnaWd5YURvbWFpbk5hbWVzcGFjZXMuaW5kZXhPZihzdWJEb21haW4pID09IC0xKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKGB0cnlpbmcgdG8gc2VuZCByZXF1ZXN0IHRvIGFuIGludmFsaWQgZG9tYWluYCk7XG4gICAgICAgICAgICAgICAgc3ViRG9tYWluID0gZ2lneWFEb21haW5OYW1lc3BhY2VzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYCR7c3ViRG9tYWlufS4ke2FwaURvbWFpbn1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwaURvbWFpbjtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFEb21haW4obmFtZXNwYWNlPzogc3RyaW5nLCBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlciwgZGVmYXVsdERvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4pIHtcbiAgICBpZihkZWZhdWx0RG9tYWluID09PSAnc2FwY2RtLmNuJyAmJiBkYXRhQ2VudGVyICE9PSAnY24xJykge1xuICAgICAgICBkZWZhdWx0RG9tYWluID0gYGNuMS4ke2RlZmF1bHREb21haW59YDsgLy9GaXggZm9yIGNuMS1zdDEuIGl0IHNob3VsZCBiZSBjbjEtc3QxLmNuMS5zYXBjZG0uY24gYW5kIG5vdCBjbjEtc3QxLnNhcGNkbS5jblxuICAgIH1cbiAgICBjb25zdCBkb21haW4gPSBgJHtkYXRhQ2VudGVyfS4ke2RlZmF1bHREb21haW59YDtcblxuICAgIGlmIChuYW1lc3BhY2UpIHJldHVybiBgJHtuYW1lc3BhY2V9LiR7ZG9tYWlufWA7XG4gICAgZWxzZSByZXR1cm4gZG9tYWluO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2VEb21haW4oXG4gICAgYmFzZURvbWFpbnM6IHN0cmluZ1tdfHN0cmluZyA9IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5iYXNlRG9tYWlucyxcbiAgICBjdXJyZW50RG9tYWluID0gbG9jYXRpb24uaG9zdG5hbWUsXG4gICAgZGVmYXVsdERvbWFpbnMgPSBbJ2dpZ3lhLmNvbScsICdjbjEuc2FwY2RtLmNuJywgJ2xvY2FsaG9zdCcsIGdpZ3lhLmRlZmF1bHRBcGlEb21haW5dLFxuKTogc3RyaW5nIHtcbiAgICAvLyAjNDk3ODYgLSBTdXBwb3J0IHdlYnZpZXcgd2l0aG91dCBob3N0bmFtZS5cbiAgICBpZiAoIWN1cnJlbnREb21haW4pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmFzZURvbWFpbnMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgYmFzZURvbWFpbnMgPSBiYXNlRG9tYWlucy5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIGxldCBvcmlnaW5VUkkgPSBVcmkucGFyc2UoY3VycmVudERvbWFpbik7XG5cbiAgICBpZiAoZGVmYXVsdERvbWFpbnMpIHtcbiAgICAgICAgYmFzZURvbWFpbnMgPSBiYXNlRG9tYWlucy5jb25jYXQoZGVmYXVsdERvbWFpbnMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJhd0RvbWFpbiBvZiBiYXNlRG9tYWlucykge1xuICAgICAgICAvLyBUaGlzIGRvZXMgbm90IHRha2UgY2FyZSBvZiB3aWxkY2FyZHMgaW4gdGhlIG1pZGRsZSBvZiBzdHJpbmcuXG4gICAgICAgIGNvbnN0IGJhc2VEb21haW4gPSBzdHJpbmdVdGlsc1V0aWxzLnJlcGxhY2VBbGwocmF3RG9tYWluLCAnKicsICcnKTtcbiAgICAgICAgY29uc3QgYmFzZVVyaSA9IFVyaS5wYXJzZShiYXNlRG9tYWluKTtcbiAgICAgICAgaWYgKGJhc2VVcmkgJiYgb3JpZ2luVVJJLmlzSW4oYmFzZVVyaSkpIHtcbiAgICAgICAgICAgIGlmICghZ2lneWEuXykge1xuICAgICAgICAgICAgICAgIGdpZ3lhLl8gPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnaWd5YS5fLmlzVHJ1c3RlZERvbWFpbj0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChiYXNlVXJpLmlzRm9yU3ViRG9tYWlucygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpblVSSS5kb21haW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVXJpLmRvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZhbGxiYWNrIHRvIHRoZSBwYXJlbnQncyB3aW5kb3cgZG9tYWluIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSkuXG4gICAgcmV0dXJuIG9yaWdpblVSSS5kb21haW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXBpRG9tYWluKFxuICAgIGN1c3RvbUFwaURvbWFpblByZWZpeCA9IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncyAmJiBnaWd5YS5wYXJ0bmVyU2V0dGluZ3MuY3VzdG9tQVBJRG9tYWluUHJlZml4LFxuICAgIGJhc2VEb21haW4gPSBsb2NhbEluZm8uYmFzZURvbWFpbixcbiAgICBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlcixcbiAgICBkZWZhdWx0QXBpRG9tYWluID0gZ2lneWEuZGVmYXVsdEFwaURvbWFpbixcbikge1xuICAgIGNvbnN0IGFwaURvbWFpbiA9IGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCk7XG4gICAgaWYgKGFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYXBpRG9tYWluO1xuICAgIH1cbiAgICAvLyBUT0RPOiByZW1vdmUgb25jZSBhIHNvbHV0aW9uIHdpbGwgYmUgZm91bmQgZm9yIGhvc3RlZCBwYWdlc1xuICAgIGlmIChiYXNlRG9tYWluLmVuZHNXaXRoKGdpZ3lhLl8uY29uZmlnPy5ob3N0ZWRQYWdlc0RvbWFpbiB8fCAnbXkuZ2lneWEtZXh0LmNvbScpKSB7XG4gICAgICAgIHJldHVybiBiYXNlRG9tYWluO1xuICAgIH1cbiAgICBpZiAoY3VzdG9tQXBpRG9tYWluUHJlZml4ICYmIGJhc2VEb21haW4gJiYgYmFzZURvbWFpbiAhPT0gZGVmYXVsdEFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYCR7Y3VzdG9tQXBpRG9tYWluUHJlZml4fS4ke2Jhc2VEb21haW59YDtcbiAgICB9XG4gICAgcmV0dXJuIGdldEdpZ3lhRG9tYWluKHVuZGVmaW5lZCwgZGF0YUNlbnRlciwgZGVmYXVsdEFwaURvbWFpbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yYWdlRG9tYWluKCkge1xuICAgIGNvbnN0IGFwaURvbWFpbiA9IGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCk7XG4gICAgaWYgKGFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYXBpRG9tYWluO1xuICAgIH1cbiAgICBpZiAoZ2lneWEudGhpc1NjcmlwdD8uZ2xvYmFsQ29uZj8uWydzdG9yYWdlRG9tYWluT3ZlcnJpZGUnXSkge1xuICAgICAgICByZXR1cm4gZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydzdG9yYWdlRG9tYWluT3ZlcnJpZGUnXTtcbiAgICB9XG4gICAgaWYgKGdpZ3lhLnRoaXNTY3JpcHQ/LmJhc2VEb21haW4gJiYgRmxhZ1NlcnZpY2UudXNlR2lneWFKc0Jhc2VEb21haW4pIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnRoaXNTY3JpcHQuYmFzZURvbWFpbjtcbiAgICB9XG4gICAgbGV0IGRvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW5cbiAgICBpZiAoZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMuZW5kc1dpdGgoZG9tYWluLCAnc2FwY2RtLmNuJykgJiYgZ2lneWEuZGF0YUNlbnRlciAhPT0gJ2NuMScpIHsgLy8gc3BlY2lhbCBjYXNlIHdpdGggY2hpbmEgZG9tYWluIHN0YWdpbmdcbiAgICAgICAgZG9tYWluID0gYGNuMS5zYXBjZG0uY25gO1xuICAgIH1cbiAgICBjb25zdCBwcmVmaXggPSBnaWd5YS5kYXRhQ2VudGVyICE9PSAnZ2xvYmFsJyA/IGBjZG5zLiR7Z2lneWEuZGF0YUNlbnRlcn1gIDogYGNkbnNgO1xuICAgIHJldHVybiBgJHtwcmVmaXh9LiR7ZG9tYWlufWA7XG59XG5cbmZ1bmN0aW9uIGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCkge1xuICAgIHJldHVybiBjb29raWUuZ2V0KGBwYWdlc19hcGlEb21haW5fJHtnaWd5YS5hcGlLZXl9YCk7XG59XG4iLCJpbXBvcnQgKiBhcyBET01VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcbmltcG9ydCB7IGdldENkblJlc291cmNlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxBc3luYzxUPihtZXRob2ROYW1lOiBzdHJpbmcsIHBhcmFtcyA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KHJlc29sdmUgPT4ge1xuICAgICAgICBjYWxsRnVuY3Rpb24oYGdpZ3lhLiR7bWV0aG9kTmFtZX1gLCBbey4uLnBhcmFtcywgY2FsbGJhY2s6IHJlc29sdmV9XSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxGdW5jdGlvbihuYW1lOiBzdHJpbmcsIGFyUGFyYW1zOiBhbnlbXSk6IHZvaWQge1xuICAgIHZhciBmbiA9IGV2YWwobmFtZSk7XG4gICAgdmFyIGFyUGFydHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgYXJQYXJ0cy5zcGxpY2UoYXJQYXJ0cy5sZW5ndGggLSAxLCAxKTtcbiAgICB2YXIgc2NvcGUgPSBldmFsKGFyUGFydHMuam9pbignLicpKTtcbiAgICBmbi5hcHBseShzY29wZSwgYXJQYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlT25QYWdlTG9hZChmdW5jOiBGdW5jdGlvbiwgY29tcGxldGVPbmx5PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChcbiAgICAgICAgKCFkb2N1bWVudC5yZWFkeVN0YXRlICYmIGRvY3VtZW50LmJvZHkpIHx8XG4gICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHxcbiAgICAgICAgKCFjb21wbGV0ZU9ubHkgJiYgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJyAmJiBkb2N1bWVudC5ib2R5KVxuICAgICkge1xuICAgICAgICBmdW5jKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmbk9uTG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmbk9uTG9hZCwgMjAwMDApOyAvLyBmYWxsYmFjayAtIHNvbWV0aW1lcyByZWFkeXN0YXRlIHN0YXlzIHN0dWNrIG9uIGludGVyYWN0aXZlXG5cbiAgICAgICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdsb2FkJywgZm5PbkxvYWQpO1xuICAgICAgICBET01VdGlscy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIGZuT25Mb2FkKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWxpYXMocHVibGljTmFtZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uIHwgeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQge1xuICAgIGNvbnN0IGFyTmFtZVNlZ21lbnRzID0gcHVibGljTmFtZS5zcGxpdCgnLicpO1xuICAgIGxldCBvQ3VycmVudFNlZ21lbnQgPSB3aW5kb3c7XG4gICAgZm9yIChsZXQgaVNlZ21lbnQgPSAwOyBpU2VnbWVudCA8IGFyTmFtZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGlTZWdtZW50KyspIHtcbiAgICAgICAgY29uc3Qgc1NlZ21lbnQgPSBhck5hbWVTZWdtZW50c1tpU2VnbWVudF07XG4gICAgICAgIGlmICghb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSkge1xuICAgICAgICAgICAgb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIG9DdXJyZW50U2VnbWVudCA9IG9DdXJyZW50U2VnbWVudFtzU2VnbWVudF07XG4gICAgfVxuICAgIG9DdXJyZW50U2VnbWVudFthck5hbWVTZWdtZW50c1thck5hbWVTZWdtZW50cy5sZW5ndGggLSAxXV0gPSBmbmM7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZm46ICgpID0+IHZvaWQsIGRlbGF5TWlsbGlzZWNvbmRzOiBudW1iZXIpOiAoKSA9PiB2b2lkIHtcbiAgICBsZXQgdGltZXI6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0sIGRlbGF5TWlsbGlzZWNvbmRzKSBhcyBhbnk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTcmNUb0lGcmFtZUlmTmVlZGVkKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQsIHNyYzogc3RyaW5nID0gZ2V0Q2RuUmVzb3VyY2UoJy8nKSkge1xuICAgIGlmIChsb2NhbEluZm8uaXNJT1NXZWJWaWV3IHx8IChsb2NhbEluZm8uaXNJT1MgJiYgbG9jYWxJbmZvLmlzV2VDaGF0KSkge1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Y3JlYXRlQWxpYXN9IGZyb20gXCIuL2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBnaWd5YUNkblJlZ2V4ID0gL1xcL1xcL2NkbihzKT9cXC4ocnUxXFwuKT9naWd5YS5jb20vO1xuY29uc3QgZmlsZU5hbWVzID0gWydnaWd5YS5qcycsICdzb2NpYWxpemUuanMnLCAnc29jaWFsaXplMi5qcycsICdnc2pzc2RrLmpzJ107XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFTY3JpcHRFbGVtZW50KCk6IEhUTUxTY3JpcHRFbGVtZW50IHtcbiAgICBsZXQgc2NyaXB0RWxlbWVudDogSFRNTFNjcmlwdEVsZW1lbnQ7XG4gICAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgc2NyaXB0ID0gc2NyaXB0c1tpXTtcbiAgICAgICAgbGV0IHNyYyA9IHNjcmlwdC5zcmMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHNyYyAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmIChnaWd5YUNkblJlZ2V4LnRlc3Qoc3JjKSB8fCBzcmMuaW5kZXhPZignP2FwaWtleT0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzRmlsZU5hbWVFeGlzdEluU3JjID0gZmlsZU5hbWVzLmxlbmd0aCA9PT0gMCB8fCBmaWxlTmFtZXMuc29tZShmaWxlTmFtZSA9PiBzcmMuaW5kZXhPZihmaWxlTmFtZSkgPiAtMSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZU5hbWVFeGlzdEluU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQgPSBzY3JpcHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RWxlbWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZ3VyYXRpb24oY29uZmlnOiBPYmplY3QgPSB7fSkge1xuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBnbG9iYWxDb25mIGlzIHVwZGF0ZWRgLCB7XG4gICAgICAgIHVwZGF0ZU9iamVjdDogY29uZmlnXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYgfHwge30sIGNvbmZpZyk7XG59XG5cbmNyZWF0ZUFsaWFzKCdnaWd5YS51cGRhdGVDb25maWd1cmF0aW9uJywgdXBkYXRlQ29uZmlndXJhdGlvbik7XG4iLCJleHBvcnQgaW50ZXJmYWNlIElDb29raWVPcHRpb25zIHtcbiAgICBwYXRoPzogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBleHBpcmVzPzogRGF0ZTtcbiAgICBzYW1lU2l0ZT86ICdOb25lJyB8ICdTdHJpY3QnIHwgJ0xheCc7XG4gICAgc2VjdXJlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIENvb2tpZVN0b3JlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3dpbjogV2luZG93ID0gd2luZG93KSB7IH1cblxuICAgIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IElDb29raWVPcHRpb25zKSB7XG4gICAgICAgIGxldCBjb29raWVTdHJpbmcgPSBgJHtuYW1lfT0ke2VzY2FwZSh2YWx1ZSl9YDtcbiAgICAgICAgaWYob3B0aW9ucy5wYXRoKSBjb29raWVTdHJpbmcgKz0gYDsgcGF0aD0ke29wdGlvbnMucGF0aH1gO1xuICAgICAgICBpZihvcHRpb25zLmV4cGlyZXMpIGNvb2tpZVN0cmluZyArPSBgOyBleHBpcmVzPSR7b3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCl9YDtcbiAgICAgICAgaWYob3B0aW9ucy5kb21haW4gJiYgb3B0aW9ucy5kb21haW4uaW5kZXhPZignLicpICE9IC0xKSBjb29raWVTdHJpbmcgKz0gYDsgZG9tYWluPSR7b3B0aW9ucy5kb21haW59YDtcbiAgICAgICAgaWYob3B0aW9ucy5zYW1lU2l0ZSkgY29va2llU3RyaW5nICs9IGA7IHNhbWVTaXRlPSR7b3B0aW9ucy5zYW1lU2l0ZX1gO1xuICAgICAgICBpZihvcHRpb25zLnNlY3VyZSkgY29va2llU3RyaW5nICs9IGA7IHNlY3VyZWA7XG4gICAgICAgIHRoaXMuX3dpbi5kb2N1bWVudC5jb29raWUgPSBjb29raWVTdHJpbmc7XG4gICAgfVxuXG4gICAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKS5yZXBsYWNlKC9eWyBcXHRdK3xbIFxcdF0rJC9nLCAnJyk7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKD86Xnw7KVxcXFxzPycgKyBuYW1lICsgJz0oLio/KSg/Ojt8JCknKTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl93aW4uZG9jdW1lbnQuY29va2llLm1hdGNoKHJlZ2V4KTtcbiAgICAgICAgcmV0dXJuIG1hdGNoICYmIHVuZXNjYXBlKG1hdGNoWzFdKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcbmltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tIFwiLi4vU2VydmljZXMvRmxhZ1NlcnZpY2VcIjtcbmRlY2xhcmUgZnVuY3Rpb24gdW5lc2NhcGUoZXNjYXBlZFN0cjogc3RyaW5nKTogc3RyaW5nO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKG9LZXlWYWx1ZTogT2JqZWN0LCBkZWxpbWl0ZXI/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGEgPSBbXTtcbiAgICBpZiAoIWRlbGltaXRlcikge1xuICAgICAgICBkZWxpbWl0ZXIgPSAnJic7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcCBpbiBvS2V5VmFsdWUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2Ygb0tleVZhbHVlW3BdKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKG9LZXlWYWx1ZVtwXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChwICsgJz0nICsgVVJMVXRpbHMuVVJMRW5jb2RlKEpTT05VdGlscy5zZXJpYWxpemUob0tleVZhbHVlW3BdKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhLnB1c2gocCArICc9JyArIFVSTFV0aWxzLlVSTEVuY29kZShvS2V5VmFsdWVbcF0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzID0gYS5qb2luKGRlbGltaXRlcik7XG4gICAgcmV0dXJuIHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemUodXJsRW5jb2RlZFN0cmluZzogc3RyaW5nLCBkZWxpbWl0ZXI/OiBzdHJpbmcsIGtleXNUb0xvd2VyPzogYm9vbGVhbiwgdXNlVW5lc2NhcGU/OiBib29sZWFuKTogYW55IHtcbiAgICBjb25zdCBvID0ge307XG4gICAgaWYgKCF1cmxFbmNvZGVkU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbiAgICBpZiAoIWRlbGltaXRlcikge1xuICAgICAgICBkZWxpbWl0ZXIgPSAnJic7XG4gICAgfVxuICAgIGNvbnN0IHBhaXJzID0gdXJsRW5jb2RlZFN0cmluZy5zcGxpdChkZWxpbWl0ZXIpO1xuICAgIGZvciAobGV0IGlQYWlyID0gMDsgaVBhaXIgPCBwYWlycy5sZW5ndGg7IGlQYWlyKyspIHtcbiAgICAgICAgY29uc3QgcGFpciA9IHBhaXJzW2lQYWlyXTtcbiAgICAgICAgY29uc3QgZXFQb3MgPSBwYWlyLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGVxUG9zID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1RvTG93ZXIgPyBwYWlyLnRvTG93ZXJDYXNlKCkgOiBwYWlyO1xuICAgICAgICAgICAgb1trZXldID0gJzEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGtleSA9IHBhaXIuc3Vic3RyKDAsIGVxUG9zKTtcbiAgICAgICAgICAgIGlmIChrZXlzVG9Mb3dlcikge1xuICAgICAgICAgICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gcGFpci5zdWJzdHIoZXFQb3MgKyAxKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZVVuZXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ba2V5XSA9IEZsYWdTZXJ2aWNlLnVzZURlY29kZVVSSUNvbXBvbmVudCA/IGNvbXBhcmVSZXN1bHRzQW5kUmV0dXJuVVJMRGVjb2RlKHNlcmlhbGl6ZWRWYWx1ZSkgOiB1bmVzY2FwZShzZXJpYWxpemVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ba2V5XSA9IFVSTFV0aWxzLlVSTERlY29kZShzZXJpYWxpemVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBvW2tleV0gPSBGbGFnU2VydmljZS51c2VEZWNvZGVVUklDb21wb25lbnQgPyBVUkxVdGlscy5VUkxEZWNvZGUoc2VyaWFsaXplZFZhbHVlKSA6IHVuZXNjYXBlKHNlcmlhbGl6ZWRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXN1bHRzQW5kUmV0dXJuVVJMRGVjb2RlKHNlcmlhbGl6ZWRWYWx1ZSl7XG4gICAgY29uc3QgdW5lc2NhcGVkUmVzdWx0ID0gdW5lc2NhcGUoc2VyaWFsaXplZFZhbHVlKTtcbiAgICBjb25zdCB1cmxEZWNvZGVSZXN1bHQgPSBVUkxVdGlscy5VUkxEZWNvZGUoc2VyaWFsaXplZFZhbHVlKTtcbiAgICB1bmVzY2FwZWRSZXN1bHQubG9jYWxlQ29tcGFyZSh1cmxEZWNvZGVSZXN1bHQpICE9PSAwICYmIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ3VybERlY29kZXIgYW5kIHVuZXNjYXBlZCBoYXZlIGRpZmZlcmVudCB2YWx1ZXMnLCB7XG4gICAgICAgIHVuZXNjYXBlZFJlc3VsdCxcbiAgICAgICAgdXJsRGVjb2RlUmVzdWx0XG4gICAgfSk7XG4gICAgcmV0dXJuIHVybERlY29kZVJlc3VsdDtcbn1cbiIsImltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQgKiBhcyBxdWV1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tICcuLi9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5cbnZhciBsb2NhbFN0b3JhZ2VFbmFibGVkO1xudHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2VFbmFibGVkID0gQm9vbGVhbih3aW5kb3cubG9jYWxTdG9yYWdlKTsgLy8gd2hlbiAzcGMgYmxvY2tlZCwgY2hyb21lIHRocm93cyB3aGVuIHRyeWluZyB0byBhY2Nlc3MgbG9jYWwgc3RvcmFnZS5cbn0gY2F0Y2ggKGV4KSB7XG4gICAgbG9jYWxTdG9yYWdlRW5hYmxlZCA9IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXk6IHN0cmluZywgcmVzcG9uc2U6IE9iamVjdCkge1xuICAgIGlmICghbG9jYWxTdG9yYWdlRW5hYmxlZCkgcmV0dXJuO1xuICAgIGxldCBvR2lneWE7XG4gICAgdHJ5IHtcbiAgICAgICAgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2lneWFDYWNoZScpKTtcblxuICAgICAgICBpZiAocmVzcG9uc2UgPT0gbnVsbCAmJiBvR2lneWFba2V5XSkge1xuICAgICAgICAgICAgZGVsZXRlIG9HaWd5YVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgb0dpZ3lhW2tleV0gPSB7IHJlc3BvbnNlLCB0aW1lIH07XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ2dpZ19vaWRjQ29udGV4dF8nKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgnb2lkYyBzdG9yYWdlIGxvZ3MgLSBzZXQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9HaWd5YVtrZXldXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UsIEZsYWdTZXJ2aWNlLmZvcmNlRXJyb3JSZXBvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnaWd5YUNhY2hlJywgSlNPTlV0aWxzLnNlcmlhbGl6ZShvR2lneWEpKTtcbiAgICB9IGNhdGNoIChleCkge31cblxuICAgIHF1ZXVlVXRpbHMucmVsZWFzZSgnY2FjaGUnLCAnY2FjaGVfJyArIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleTogc3RyaW5nLCBjYWNoZVRpbWVvdXQ6IG51bWJlciA9IC0xKTogT2JqZWN0IHtcbiAgICBpZiAoIWxvY2FsU3RvcmFnZUVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFxdWV1ZVV0aWxzLmlzQWN0aXZlKCdjYWNoZV8nICsga2V5KSkge1xuICAgICAgICAgICAgY29uc3Qgc0dpZ3lhQ2FjaGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2dpZ3lhQ2FjaGUnKTtcbiAgICAgICAgICAgIGNvbnN0IG9HaWd5YSA9IEpTT05VdGlscy5kZXNlcmlhbGl6ZShzR2lneWFDYWNoZSk7XG4gICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBvR2lneWFba2V5XTtcbiAgICAgICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZVRpbWVvdXQgPCAwIHx8IGNhY2hlVGltZW91dCArIGNhY2hlZC50aW1lID4gY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jYWNoZWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ2dpZ19vaWRjQ29udGV4dF8nKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdvaWRjIHN0b3JhZ2UgbG9ncyAtIGdldCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9HaWd5YVtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlVGltZTogY2FjaGVkLnRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlLCBGbGFnU2VydmljZS5mb3JjZUVycm9yUmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL2V4cGlyZWRcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjYWNoZWQpIHtcbiAgICAgICAgICAgICAgICAvL25vdCBjYWNoZWQgKGZpcnN0IHRpbWUpXG4gICAgICAgICAgICAgICAgcXVldWVVdGlscy5ob2xkKCdjYWNoZScsICdjYWNoZV8nICsga2V5KTsgLy9zbyB0aGF0IGZ1dHVyZSByZXF1ZXN0cyB3aWxsIHdhaXQgZm9yIHRoZSBmaXJzdCBvbmUncyByZXNwb25zZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vd2FpdCBmb3IgZmlyc3QgcmVzcG9uc2VcbiAgICAgICAgICAgIHF1ZXVlVXRpbHMud2FpdEZvcignY2FjaGVfJyArIGtleSwgZ2V0LCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChleCkge31cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzZXQoa2V5LCBudWxsKTtcbn1cbiIsImltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcbmltcG9ydCBjb29raWVVdGlscywge1NhbWVTaXRlfSBmcm9tICcuL2Nvb2tpZSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdBYnN0cmFjdEFkYXB0ZXInO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlciwgZG9tYWluPzogc3RyaW5nKTogdm9pZDtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCByZW1vdmVJdGVtKGtleTogc3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldCBvYmplY3QgdG8gc3RvcmFnZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0T2JqZWN0KGtleTogc3RyaW5nLCBvOiBPYmplY3QpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtKGtleSwgSlNPTlV0aWxzLnNlcmlhbGl6ZShvKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IG9iamVjdCBmcm9tIGxvY2FsIHN0b3JhZ2UuXG4gICAgICovXG4gICAgcHVibGljIGdldE9iamVjdChrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogYW55KTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIEpTT05VdGlscy5kZXNlcmlhbGl6ZSh0aGlzLmdldEl0ZW0oa2V5KSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBwZXJzaXN0ZW50IHN0b3JhZ2UuIFJldHVybnMgZmFsc2Ugd2hlbiBkYXRhIGlzIG5vdCBwZXJzaXN0ZWQuXG4gICAgICovXG4gICAgcHVibGljIGlzUGVyc2lzdGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0QXN5bmNMb2NhbFN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBwcm90ZWN0ZWQgaXNMb2FkZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1JlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0xvYWRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHdoZW4gdGhlcmUgaXMgaW5pdGlhbGl6YXRpb24gdGltZSBvbiB0aGUgbG9jYWwgc3RvcmFnZSBhZGFwdGVyLlxuICAgICAqL1xuICAgIHB1YmxpYyB3YWl0Rm9yU2VydmljZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc1JlYWR5KCkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMud2FpdEZvclNlcnZpY2UoY2FsbGJhY2spLCA1MCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5hYnN0cmFjdCBjbGFzcyBTdG9yYWdlQWRhcHRlciBleHRlbmRzIEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB7XG4gICAgcHJvdGVjdGVkIHN0b3JhZ2U6IGFueTtcblxuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZVtrZXldO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7fVxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfVxufVxuY2xhc3MgTG9jYWxTdG9yYWdlQWRhcHRlciBleHRlbmRzIFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnTG9jYWxTdG9yYWdlQWRhcHRlcic7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5mby5zdXBwb3J0c0xvY2FsU3RvcmFnZTtcbiAgICB9XG59XG5jbGFzcyBTZXNzaW9uU3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBTdG9yYWdlQWRhcHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnU2Vzc2lvblN0b3JhZ2VBZGFwdGVyJztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbG9jYWxJbmZvLnN1cHBvcnRzU2Vzc2lvblN0b3JhZ2U7XG4gICAgfVxufVxuY2xhc3MgRmlyZWZveFN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbG9jYWxJbmZvLmlzRkYgJiYgd2luZG93WydnbG9iYWxTdG9yYWdlJ107XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0ZpcmVmb3hTdG9yYWdlQWRhcHRlcic7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gd2luZG93WydnbG9iYWxTdG9yYWdlJ11bbG9jYXRpb24uaG9zdG5hbWVdW2tleV07XG4gICAgfVxuXG4gICAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93WydnbG9iYWxTdG9yYWdlJ11bbG9jYXRpb24uaG9zdG5hbWVdW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgZGVsZXRlIHdpbmRvd1snZ2xvYmFsU3RvcmFnZSddW2xvY2F0aW9uLmhvc3RuYW1lXVtrZXldO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDb29raWVTdG9yYWdlQWRhcHRlciBleHRlbmRzIEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB7XG4gICAgcHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvb2tpZVV0aWxzLmNhblNhdmVDb29raWUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnQ29va2llU3RvcmFnZUFkYXB0ZXInO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGNvb2tpZVV0aWxzLmdldChrZXkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIsIGRvbWFpbj86IHN0cmluZywgYWRkaXRpb25hbFBhcmFtczoge2RvbnRVc2VSb290UGF0aD86IGJvb2xlYW4sIHNhbWVTaXRlPzogU2FtZVNpdGV9ID0ge30pOiB2b2lkIHtcbiAgICAgICAgY29va2llVXRpbHMuc2V0KGtleSwgdmFsdWUsIGV4cGlyZXNJbiwgZG9tYWluLCBhZGRpdGlvbmFsUGFyYW1zLmRvbnRVc2VSb290UGF0aCwgYWRkaXRpb25hbFBhcmFtcy5zYW1lU2l0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgY29va2llVXRpbHMucmVtb3ZlKGtleSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1lbW9yeVN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgbWVtb3J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWVtb3J5ID0ge307XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gJ01lbW9yeVN0b3JhZ2VBZGFwdGVyJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SXRlbShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lbW9yeVtrZXldO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lbW9yeVtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHBlcnNpc3RlbnQgc3RvcmFnZS4gUmV0dXJucyBmYWxzZSB3aGVuIGRhdGEgaXMgbm90IHBlcnNpc3RlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNQZXJzaXN0ZW50KCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGFkYXB0ZXJzOiBBcnJheTxhbnk+ID0gW1xuICAgIExvY2FsU3RvcmFnZUFkYXB0ZXIsXG4gICAgU2Vzc2lvblN0b3JhZ2VBZGFwdGVyLFxuICAgIEZpcmVmb3hTdG9yYWdlQWRhcHRlcixcbiAgICBDb29raWVTdG9yYWdlQWRhcHRlcixcbiAgICBNZW1vcnlTdG9yYWdlQWRhcHRlcixcbl07XG5leHBvcnQgY29uc3QgaW5zdGFuY2VzOiB7IFtrZXk6IHN0cmluZ106IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB9ID0ge307XG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFkYXB0ZXIoYWRhcHRlcjogeyBuYW1lPzogc3RyaW5nOyBnZXROYW1lOiAoKSA9PiBzdHJpbmcgfSAmIChuZXcgKCkgPT4gQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyKSkge1xuICAgIGNvbnN0IGFkYXB0ZXJOYW1lID0gYWRhcHRlci5nZXROYW1lKCkgfHwgYWRhcHRlci5uYW1lO1xuICAgIGlmICghaW5zdGFuY2VzW2FkYXB0ZXJOYW1lXSkge1xuICAgICAgICBpbnN0YW5jZXNbYWRhcHRlck5hbWVdID0gbmV3IGFkYXB0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlc1thZGFwdGVyTmFtZV07XG59XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvclNlcnZpY2UoKTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlKGNhbGxiYWNrOiAoc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyKSA9PiB2b2lkKTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JTZXJ2aWNlKGNhbGxiYWNrPzogKHN0b3JhZ2U6IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlcikgPT4gdm9pZCk6IEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB7XG4gICAgLy8gU2VsZWN0IGNvbXBhdGlibGUgYWRhcHRlci5cbiAgICBsZXQgc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyO1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBhZGFwdGVycykge1xuICAgICAgICBpZiAoYWRhcHRlci5pc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBzZWxlY3QgYWRhcHRlciBpZiBpdCdzIGFzeW5jIGFuZCBhIGNhbGxiYWNrIHdhc24ndCBwcm92aWRlZC5cbiAgICAgICAgICAgIGlmIChhZGFwdGVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIEFic3RyYWN0QXN5bmNMb2NhbFN0b3JhZ2VBZGFwdGVyICYmICFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdG9yYWdlID0gaW5pdGlhbGl6ZUFkYXB0ZXIoYWRhcHRlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIG1lbW9yeS1iYXNlZCBub24tcGVyc2lzdGVudCBzdG9yYWdlLlxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICBzdG9yYWdlID0gaW5pdGlhbGl6ZUFkYXB0ZXIoTWVtb3J5U3RvcmFnZUFkYXB0ZXIpO1xuICAgIH1cblxuICAgIC8vIFRyaWdnZXIgY2FsbGJhY2sgd2hlbiBhZGFwdGVyIGZpbmlzaGVzIGxvYWRpbmcgKG9yIGluc3RhbnRseSwgaWYgbm90IHJlcXVpcmVkIHRvIHdhaXQpLlxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBpZiAoc3RvcmFnZSBpbnN0YW5jZW9mIEFic3RyYWN0QXN5bmNMb2NhbFN0b3JhZ2VBZGFwdGVyKSB7XG4gICAgICAgICAgICBzdG9yYWdlLndhaXRGb3JTZXJ2aWNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzdG9yYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0b3JhZ2U7XG59XG5jb25zdCBhZGFwdGVyID0gd2FpdEZvclNlcnZpY2UoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYWRhcHRlci5nZXRJdGVtKGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyKTogdm9pZCB7XG4gICAgcmV0dXJuIGFkYXB0ZXIuc2V0SXRlbShrZXksIHZhbHVlLCBleHBpcmVzSW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICByZXR1cm4gYWRhcHRlci5yZW1vdmVJdGVtKGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0T2JqZWN0KGtleTogc3RyaW5nLCBvOiBPYmplY3QpOiB2b2lkIHtcbiAgICByZXR1cm4gYWRhcHRlci5zZXRPYmplY3Qoa2V5LCBvKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPYmplY3Qoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IGFueSk6IE9iamVjdCB7XG4gICAgcmV0dXJuIGFkYXB0ZXIuZ2V0T2JqZWN0KGtleSwgZGVmYXVsdFZhbHVlKTtcbn1cbiIsImltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQgV2ViU0RLVG9nZ2xlcyBmcm9tIFwiLi90b2dnbGVzXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkKG86IE9iamVjdCk6IE9iamVjdCB7XG4gICAgdmFyIG8yID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBvKSB7XG4gICAgICAgIGlmIChvW3BdICE9IG51bGwgJiYgb1twXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG8yW3BdID0gb1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbzI7XG59XG5leHBvcnQgZnVuY3Rpb24gZXhwcmVzc2lvbkhlbHBlcihjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0RmllbGQ6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgICAgIGlmICghcGF0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciBwYXRocyA9IHBhdGguc3BsaXQoJy4nKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY29udGV4dCxcbiAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFtwYXRoc1tpXV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGF0aHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlCeVNlcmlhbGl6ZWROYW1lKG86IE9iamVjdCwgbmFtZTogc3RyaW5nLCBjcmVhdGVNaXNzaW5nT2JqZWN0czogYm9vbGVhbik6IGFueSB7XG4gICAgaWYgKCFuYW1lKSByZXR1cm4gbztcbiAgICB2YXIgb1Jlc3VsdCA9IG87XG4gICAgdmFyIGFyTmFtZVNlZ21lbnRzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgIGZvciAodmFyIGlTZWdtZW50ID0gMDsgaVNlZ21lbnQgPCBhck5hbWVTZWdtZW50cy5sZW5ndGg7IGlTZWdtZW50KyspIHtcbiAgICAgICAgdmFyIHNTZWdtZW50ID0gYXJOYW1lU2VnbWVudHNbaVNlZ21lbnRdO1xuICAgICAgICB2YXIgc0luZGV4ID0gbnVsbDtcbiAgICAgICAgLy9TdXBwb3J0IGZvciBhcnJheSBhY2Nlc3MuIGkuZS4gXCJvYmoucHJvcDFbMF0ucHJvcDJcIlxuICAgICAgICBpZiAoc1NlZ21lbnQubWF0Y2goL1xcW1swLTldK10vKSkge1xuICAgICAgICAgICAgc0luZGV4ID0gTnVtYmVyKHNTZWdtZW50Lm1hdGNoKC9cXFtbMC05XStdLylbMF0ucmVwbGFjZSgvW1xcW1xcXV0vZywgJycpKTtcbiAgICAgICAgfVxuICAgICAgICBzU2VnbWVudCA9IHNTZWdtZW50LnNwbGl0KC9cXFtbMC05XStdLykuam9pbignJyk7XG4gICAgICAgIHZhciByZXMgPSAoc0luZGV4IHx8IHNJbmRleCA9PT0gMCkgJiYgb1Jlc3VsdFtzU2VnbWVudF0gPyBvUmVzdWx0W3NTZWdtZW50XVtzSW5kZXhdIDogb1Jlc3VsdFtzU2VnbWVudF07XG4gICAgICAgIGlmIChjcmVhdGVNaXNzaW5nT2JqZWN0cyAmJiAhb1Jlc3VsdFtzU2VnbWVudF0pIHtcbiAgICAgICAgICAgIG9SZXN1bHRbc1NlZ21lbnRdID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlTWlzc2luZ09iamVjdHMgJiYgIXJlcyAmJiByZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvUmVzdWx0W3NTZWdtZW50XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXMgfHwgcmVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgb1Jlc3VsdCA9IHJlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvUmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5QnlTZXJpYWxpemVkTmFtZShvOiBPYmplY3QsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgIHZhciBhck5hbWVTZWdtZW50cyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICB2YXIgcHJvcGVydHlOYW1lID0gYXJOYW1lU2VnbWVudHMucG9wKCk7XG4gICAgZ2V0UHJvcGVydHlCeVNlcmlhbGl6ZWROYW1lKG8sIGFyTmFtZVNlZ21lbnRzLmpvaW4oJy4nKSwgdHJ1ZSlbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvVGFyZ2V0OiBPYmplY3QsIG86IE9iamVjdCwgZG9udE92ZXJyaWRlPzogYm9vbGVhbik6IHZvaWQge1xuICAgIGZvciAodmFyIHAgaW4gbykge1xuICAgICAgICBpZiAoIWRvbnRPdmVycmlkZSB8fCB0eXBlb2Ygb1RhcmdldFtwXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9UYXJnZXRbcF0gPSBvW3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEhhc2gobzogYW55KTogc3RyaW5nIHtcbiAgICB2YXIgYXIgPSBbXTtcbiAgICBmb3IgKHZhciBwIGluIG8pIHtcbiAgICAgICAgdmFyIHM7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvW3BdID09ICdvYmplY3QnKSBzID0gSlNPTlV0aWxzLnNlcmlhbGl6ZShvW3BdLCBmYWxzZSk7XG4gICAgICAgIGVsc2UgaWYgKG9bcF0pIHMgPSBvW3BdLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgYXIucHVzaChwICsgJz0nICsgcyk7XG4gICAgfVxuICAgIHJldHVybiBhci5zb3J0KCkuam9pbignJicpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE11cm11ckhhc2goa2V5OiBzdHJpbmcsIHNlZWQ/OiBudW1iZXIpIHtcbiAgICBpZiAoIXNlZWQpIHNlZWQgPSAwO1xuICAgIHZhciByZW1haW5kZXIsIGJ5dGVzLCBoMSwgaDFiLCBjMSwgYzFiLCBjMiwgYzJiLCBrMSwgaTtcblxuICAgIHJlbWFpbmRlciA9IGtleS5sZW5ndGggJiAzOyAvLyBrZXkubGVuZ3RoICUgNFxuICAgIGJ5dGVzID0ga2V5Lmxlbmd0aCAtIHJlbWFpbmRlcjtcbiAgICBoMSA9IHNlZWQ7XG4gICAgYzEgPSAweGNjOWUyZDUxO1xuICAgIGMyID0gMHgxYjg3MzU5MztcbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgYnl0ZXMpIHtcbiAgICAgICAgazEgPSAoa2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmKSB8ICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDgpIHwgKChrZXkuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMTYpIHwgKChrZXkuY2hhckNvZGVBdCgrK2kpICYgMHhmZikgPDwgMjQpO1xuICAgICAgICArK2k7XG5cbiAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMxICsgKCgoKGsxID4+PiAxNikgKiBjMSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xuICAgICAgICBrMSA9IChrMSA8PCAxNSkgfCAoazEgPj4+IDE3KTtcbiAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMyICsgKCgoKGsxID4+PiAxNikgKiBjMikgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xuXG4gICAgICAgIGgxIF49IGsxO1xuICAgICAgICBoMSA9IChoMSA8PCAxMykgfCAoaDEgPj4+IDE5KTtcbiAgICAgICAgaDFiID0gKChoMSAmIDB4ZmZmZikgKiA1ICsgKCgoKGgxID4+PiAxNikgKiA1KSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICAgIGgxID0gKGgxYiAmIDB4ZmZmZikgKyAweDZiNjQgKyAoKCgoaDFiID4+PiAxNikgKyAweGU2NTQpICYgMHhmZmZmKSA8PCAxNik7XG4gICAgfVxuXG4gICAgazEgPSAwO1xuXG4gICAgc3dpdGNoIChyZW1haW5kZXIpIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgazEgXj0gKGtleS5jaGFyQ29kZUF0KGkgKyAyKSAmIDB4ZmYpIDw8IDE2O1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBrMSBePSAoa2V5LmNoYXJDb2RlQXQoaSArIDEpICYgMHhmZikgPDwgODtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgazEgXj0ga2V5LmNoYXJDb2RlQXQoaSkgJiAweGZmO1xuXG4gICAgICAgICAgICBrMSA9ICgoazEgJiAweGZmZmYpICogYzEgKyAoKCgoazEgPj4+IDE2KSAqIGMxKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICAgICAgICBrMSA9IChrMSA8PCAxNSkgfCAoazEgPj4+IDE3KTtcbiAgICAgICAgICAgIGsxID0gKChrMSAmIDB4ZmZmZikgKiBjMiArICgoKChrMSA+Pj4gMTYpICogYzIpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcbiAgICAgICAgICAgIGgxIF49IGsxO1xuICAgIH1cblxuICAgIGgxIF49IGtleS5sZW5ndGg7XG5cbiAgICBoMSBePSBoMSA+Pj4gMTY7XG4gICAgaDEgPSAoKGgxICYgMHhmZmZmKSAqIDB4ODVlYmNhNmIgKyAoKCgoaDEgPj4+IDE2KSAqIDB4ODVlYmNhNmIpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcbiAgICBoMSBePSBoMSA+Pj4gMTM7XG4gICAgaDEgPSAoKGgxICYgMHhmZmZmKSAqIDB4YzJiMmFlMzUgKyAoKCgoaDEgPj4+IDE2KSAqIDB4YzJiMmFlMzUpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcbiAgICBoMSBePSBoMSA+Pj4gMTY7XG5cbiAgICByZXR1cm4gaDEgPj4+IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmUob2JqOiBhbnksIGRlZXBDb3B5PzogYm9vbGVhbiwgaWdub3JlRnVuY3Rpb25zPzogYm9vbGVhbiwgbWF4TGV2ZWw6IG51bWJlciA9IDIwLCBsZXZlbDogbnVtYmVyID0gMCwgaWdub3JlQ29udGV4dD86IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmIChvYmogPT09IHdpbmRvdykgcmV0dXJuIHdpbmRvdzsgLy8gZG8gbm90IGNsb25lIHRoZSB3aW5kb3cgb2JqZWN0XG4gICAgaWYgKGxldmVsID4gbWF4TGV2ZWwpIHJldHVybiBudWxsOyAvLyBUb28gZGVlcFxuICAgIGlmICh0eXBlb2Ygb2JqID09ICd1bmRlZmluZWQnIHx8IG9iaiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBXZWJTREtUb2dnbGVzLmlzT24oJ3JlbW92ZVVuZGVmaW5lZFByb3BlcnRpZXMnKSA/IG9iaiA6IG51bGw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgJiYgaWdub3JlRnVuY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAob2JqLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XG4gICAgICAgIHZhciBhciA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFpZ25vcmVGdW5jdGlvbnMgfHwgdHlwZW9mIG9ialtpXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZXBDb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIGFyW2ldID0gY2xvbmUob2JqW2ldLCBkZWVwQ29weSwgaWdub3JlRnVuY3Rpb25zLCBtYXhMZXZlbCwgbGV2ZWwgKyAxLCBpZ25vcmVDb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcltpXSA9IG9ialtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGlnbm9yZUNvbnRleHQgJiYgcCA9PSAnY29udGV4dCcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFpZ25vcmVGdW5jdGlvbnMgfHwgdHlwZW9mIG9ialtwXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZXBDb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBjbG9uZShvYmpbcF0sIGRlZXBDb3B5LCBpZ25vcmVGdW5jdGlvbnMsIG1heExldmVsLCBsZXZlbCArIDEsIGlnbm9yZUNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBvYmpbcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGFyZ3M6IE9iamVjdFtdLCBpc0RlZXBNZXJnZT86IGJvb2xlYW4pOiBPYmplY3Q7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoYXJnczogYW55W10sIGlzRGVlcE1lcmdlPzogYm9vbGVhbik6IE9iamVjdCB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFyZ3NbaV0gJiYgYXJnc1tpXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYXJnc1tpXS5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXJnc1tpXVt1XSkge1xuICAgICAgICAgICAgICAgICAgICBvW3BdID0gYXJnc1tpXVt1XVtwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBNZXJnZSBvYmplY3RzLlxuICAgICAgICAgICAgaWYgKCFpc0RlZXBNZXJnZSkge1xuICAgICAgICAgICAgICAgIC8vIEZsYXQgbWVyZ2UuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBhcmdzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIG9bcF0gPSBhcmdzW2ldW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVlcCBtZXJnZS5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGFyZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy93ZSBvdmVycmlkZSBwcmltaXRpdmUgLyBhcnJheVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9bcF0gIT09ICdvYmplY3QnIHx8IG9bcF0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb1twXSA9IGFyZ3NbaV1bcF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvW3BdID0gbWVyZ2UoW29bcF0sIGFyZ3NbaV1bcF1dLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bmZsYXR0ZW4oZGF0YTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBib29sZWFuIH0pOiBPYmplY3Qge1xuICAgIGlmIChPYmplY3QoZGF0YSkgIT09IGRhdGEgfHwgQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChsZXQgcCBpbiBkYXRhKSB7XG4gICAgICAgIGxldCBjdXIgPSByZXN1bHQ7XG4gICAgICAgIGxldCBwcm9wID0gJyc7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcC5yZXBsYWNlKC9cXFsoWzAtOV0pXS8sICcuJDEnKS5zcGxpdCgnLicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSAhaXNOYU4oTnVtYmVyKHBhcnRzW2ldKSk7XG4gICAgICAgICAgICBjdXIgPSBjdXJbcHJvcF0gfHwgKGN1cltwcm9wXSA9IGlkeCA/IFtdIDoge30pO1xuICAgICAgICAgICAgcHJvcCA9IHBhcnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGN1cltwcm9wXSA9IGRhdGFbcF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRbJyddIHx8IHt9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oZGF0YTogYW55LCB3aXRoQnJhY2tldCA9IGZhbHNlKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBib29sZWFuIH0ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZ1bmN0aW9uIHJlY3Vyc2UoY3VyOiBhbnksIHByb3A6IHN0cmluZykge1xuICAgICAgICBpZiAoT2JqZWN0KGN1cikgIT09IGN1cikge1xuICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gY3VyO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY3VyKSkge1xuICAgICAgICAgICAgY29uc3QgbCA9IGN1ci5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBuZXN0ZWRQcm9wZXJ0eSA9IHdpdGhCcmFja2V0ID8gYCR7cHJvcH1bJHtpfV1gIDogYCR7cHJvcH0uJHtpfWA7XG4gICAgICAgICAgICAgICAgcmVjdXJzZShjdXJbaV0sIHByb3AgPyBuZXN0ZWRQcm9wZXJ0eSA6IFN0cmluZyhpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlzRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIGluIGN1cikge1xuICAgICAgICAgICAgICAgIGlzRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZWN1cnNlKGN1cltwXSwgcHJvcCA/IGAke3Byb3B9LiR7cH1gIDogcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNFbXB0eSAmJiBwcm9wICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlY3Vyc2UoZGF0YSwgJycpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFByb3BlcnRpZXMoc3JjOiBhbnksIGRlc3Q/OiBhbnksIHNjaGVtYT86IFN0cmluZyk6IE9iamVjdCB7XG4gICAgaWYgKHNyYyA9PSBudWxsKSByZXR1cm47XG4gICAgaWYgKGRlc3QgPT0gbnVsbCkgZGVzdCA9IHt9O1xuICAgIGlmIChzcmMuY29uc3RydWN0b3IgPT0gQXJyYXkpIHtcbiAgICAgICAgZm9yICh2YXIgaVNyYyA9IDA7IGlTcmMgPCBzcmMubGVuZ3RoOyBpU3JjKyspIHtcbiAgICAgICAgICAgIGV4dHJhY3RQcm9wZXJ0aWVzKHNyY1tpU3JjXSwgZGVzdCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2NoZW1hKSB7XG4gICAgICAgIHZhciBhclNjaGVtYSA9IHNjaGVtYS5zcGxpdCgnfCcpO1xuICAgICAgICB2YXIgc3JjTENhc2UgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHNyYykge1xuICAgICAgICAgICAgc3JjTENhc2VbZmllbGROYW1lLnRvTG93ZXJDYXNlKCldID0gMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyU2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZmllbGROYW1lMiA9IGFyU2NoZW1hW2ldO1xuICAgICAgICAgICAgaWYgKHNyY0xDYXNlW2ZpZWxkTmFtZTIudG9Mb3dlckNhc2UoKV0pIGRlc3RbZmllbGROYW1lMl0gPSBzcmNbZmllbGROYW1lMl07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkZXN0ID0gY2xvbmUoc3JjLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQcm9wZXJ0eShzcmM6IGFueSwgcGFyYW1OYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgIHZhciBwYXJhbXM7XG4gICAgcmV0dXJuIGV4dHJhY3RQcm9wZXJ0aWVzKHNyYywgcGFyYW1zLCBwYXJhbU5hbWUpW3BhcmFtTmFtZV07XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUb09iamVjdChzdHI6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFZhbCA9IHdpbmRvd1snSlNPTiddLnBhcnNlKHN0cik7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkVmFsID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkVmFsO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydGllc1ByZWZpeChvYmo6IE9iamVjdCA9IHt9LCBwcmVmaXg6IHN0cmluZyB8IFJlZ0V4cCA9ICcnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChhY2MsIGN1cnIpID0+IChPYmplY3QuYXNzaWduKGFjYywge1tjdXJyLnJlcGxhY2UocHJlZml4LCcnKV06IG9ialtjdXJyXX0pKSx7fSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByZWZpeFRvUHJvcGVydGllcyhvYmo6IE9iamVjdCA9IHt9LCBwcmVmaXg6IHN0cmluZyA9ICcnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5LmluZGV4T2YocHJlZml4KSAhPT0gMCkge1xuICAgICAgICAgICAgYWNjW2Ake3ByZWZpeH0ke2tleX1gXSA9IG9ialtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0S2V5c1RvTG93ZXJDYXNlKG9iamVjdDogT2JqZWN0KTogT2JqZWN0IHtcbiAgICAvLyBOb3JtYWxpemUgYWxsIGtleXMgdG8gbG93ZXJjYXNlIGluIGFkZGl0aW9uIHRvIHRoZWlyIG9yaWdpbmFsIGNhc2luZy5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0W2tleS50b0xvd2VyQ2FzZSgpXSA9IG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVPYmplY3RLZXlzKG9iajogT2JqZWN0KTogT2JqZWN0IHtcbiAgICBsZXQgZGVjb2RlT2JqZWN0S2V5cyA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICAgICAgbGV0IGRlY29kZWRLZXkgPSBrZXk7XG4gICAgICAgIHdoaWxlIChkZWNvZGVkS2V5LmluZGV4T2YoJyUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGRlY29kZWRLZXkgPSBkZWNvZGVVUklDb21wb25lbnQoZGVjb2RlZEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVjb2RlT2JqZWN0S2V5c1tkZWNvZGVkS2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlT2JqZWN0S2V5cztcbn1cbiIsIlxudmFyIF9xID0ge307XG5leHBvcnQgZnVuY3Rpb24gX3NlcnZpY2VzU3RhdHVzKCkge1xuICAgIHZhciBzZXJ2aWNlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgc2VydmljZSBpbiBfcSkge1xuICAgICAgICB2YXIgYWN0aXZlID0gaXNBY3RpdmUoc2VydmljZSk7XG5cbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgc2VydmljZXNbc2VydmljZV0gPSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdhaXRpbmdGb3I6IF9xW3NlcnZpY2VdLmlkcyxcbiAgICAgICAgICAgICAgICBxdWV1ZWRDb3VudDogX3Fbc2VydmljZV0ucS5sZW5ndGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VydmljZXNbc2VydmljZV0gPSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VydmljZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBY3RpdmUoc2VydmljZTogc3RyaW5nKSB7XG4gICAgaWYgKCFfcVtzZXJ2aWNlXSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaWQgaW4gX3Fbc2VydmljZV0uaWRzKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZShpZDogc3RyaW5nLCBzZXJ2aWNlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBnaWd5YS5sb2dnZXIuZGVidWcoYHJlbGVhc2luZyAke3NlcnZpY2V9IHF1ZXVlIGJ5ICR7aWR9YCk7XG4gICAgaWYgKCFfcVtzZXJ2aWNlXSkgcmV0dXJuO1xuICAgIGRlbGV0ZSBfcVtzZXJ2aWNlXS5pZHNbaWRdO1xuICAgIGlmICghaXNBY3RpdmUoc2VydmljZSkpIHtcbiAgICAgICAgdmFyIHEgPSBfcVtzZXJ2aWNlXS5xO1xuICAgICAgICBfcVtzZXJ2aWNlXS5xID0gW107XG4gICAgICAgIHdoaWxlIChxLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBvID0gcS5zcGxpY2UoMCwgMSlbMF07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG8uZnVuYy5hcHBseSh0aGlzLCBvLmFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS5sb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dpZ3lhOiBFeGNlcHRpb24gd2hpbGUgaW52b2tpbmcgcXVldWVkIG1ldGhvZCAoJyArIHNlcnZpY2UgKyAnOiAnICsgaWQgKyAnKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FjdGl2ZShzZXJ2aWNlKSkge1xuICAgICAgICAgICAgICAgIC8vcXVldWUgYmVjYW1lIGluYWN0aXZlXG4gICAgICAgICAgICAgICAgX3Fbc2VydmljZV0ucSA9IHE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaG9sZChpZDogc3RyaW5nLCBzZXJ2aWNlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBnaWd5YS5sb2dnZXIuZGVidWcoYGxvY2tpbmcgcXVldWUgJHtzZXJ2aWNlfSBieSAke2lkfWApO1xuXG4gICAgaWYgKCFfcVtzZXJ2aWNlXSkgX3Fbc2VydmljZV0gPSB7IHE6IFtdLCBpZHM6IHt9IH07XG4gICAgX3Fbc2VydmljZV0uaWRzW2lkXSA9IHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvcihzZXJ2aWNlOiBzdHJpbmcsIGZuYzogRnVuY3Rpb24sIGFyZ3M6IGFueVtdKTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yKHNlcnZpY2U6IHN0cmluZywgZm5jOiBGdW5jdGlvbiwgYXJnczogSUFyZ3VtZW50cyk6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvcihzZXJ2aWNlOiBzdHJpbmcsIGZuYzogRnVuY3Rpb24sIGFyZ3M6IGFueSk6IHZvaWQge1xuICAgIGlmICghX3Fbc2VydmljZV0pIF9xW3NlcnZpY2VdID0geyBxOiBbXSwgaWRzOiB7fSB9O1xuICAgIF9xW3NlcnZpY2VdLnEucHVzaCh7IGZ1bmM6IGZuYywgYXJnczogYXJncyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZUZvckV4ZWN1dGlvbihzZXJ2aWNlOiBzdHJpbmcsIGZ1bmM6IEZ1bmN0aW9uLCBhcmdzPzogYW55W10pIHtcbiAgICBhcmdzID0gYXJncyB8fCBbXTtcbiAgICBpZiAoaXNBY3RpdmUoc2VydmljZSkpIHtcbiAgICAgICAgd2FpdEZvcihzZXJ2aWNlLCBmdW5jLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xuaW1wb3J0IHsgZ2V0Q2RuUmVzb3VyY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcblxuaW50ZXJmYWNlIElTY3JpcHRQZW5kaW5nIHtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgb25Mb2FkOiBGdW5jdGlvbltdO1xuICAgIG9uRXJyb3I6IEZ1bmN0aW9uW107XG59XG52YXIgcGVuZGluZzogeyBbc3JjOiBzdHJpbmddOiBJU2NyaXB0UGVuZGluZyB9ID0ge307XG5mdW5jdGlvbiBhZGRTZGtWZXJzaW9uKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgc2NyaXB0VXJsID0gVXJpLnBhcnNlKHVybCk7XG4gICAgc2NyaXB0VXJsLmFkZFRvU2VhcmNoKHsgdmVyc2lvbjogZ2lneWEuYnVpbGQudmVyc2lvbiB9KTtcbiAgICByZXR1cm4gc2NyaXB0VXJsLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBmb3JtYXRTcmNVcmwoc3JjOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIHJlbW92ZSBjZG4gZG9tYWluIG51bWJlclxuICAgIHJldHVybiBzcmMucmVwbGFjZSgvXmh0dHAocz8pOlxcL1xcL2NkbihzPylbMC05XSouZ2lneWEuY29tXFwvLywgJ2h0dHAkMTovL2NkbiQyLmdpZ3lhLmNvbS8nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRlZChzcmM6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHZhciBwZW5kaW5nU3JjID0gZm9ybWF0U3JjVXJsKHNyYyk7XG5cbiAgICByZXR1cm4gQm9vbGVhbihwZW5kaW5nW3BlbmRpbmdTcmNdICYmIHBlbmRpbmdbcGVuZGluZ1NyY10ubG9hZGVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKFxuICAgIHNyYzogc3RyaW5nLFxuICAgIGZuT25FcnJvcj86ICgpID0+IHZvaWQsXG4gICAgZm5PbkxvYWQ/OiAoKSA9PiB2b2lkLFxuICAgIGxvYWRPbmNlPzogYm9vbGVhbixcbiAgICByZW1vdmVBZnRlcjogbnVtYmVyIHwgYm9vbGVhbiA9IDUwMDAsXG4gICAgdHJlYXRUb2dldGhlcj86IHN0cmluZ1tdLFxuKTogdm9pZCB7XG4gICAgdmFyIG9TY3JpcHQ6IElTY3JpcHRQZW5kaW5nO1xuXG4gICAgaWYgKHNyYy5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgIHNyYyA9IGxvY2FsSW5mby5wcm90b2NvbCArICc6JyArIHNyYztcbiAgICB9XG5cbiAgICBpZiAobG9hZE9uY2UpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdTcmMgPSBmb3JtYXRTcmNVcmwoc3JjKTtcblxuICAgICAgICBpZiAocGVuZGluZ1twZW5kaW5nU3JjXSkge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmdbcGVuZGluZ1NyY10ubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBzY3JpcHQgd2FzIGFscmVhZHkgbG9hZGVkOmAsIHsgc3JjIH0pO1xuICAgICAgICAgICAgICAgIGlmIChmbk9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBmbk9uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1twZW5kaW5nU3JjXS5vbkxvYWQucHVzaChmbk9uTG9hZCk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1twZW5kaW5nU3JjXS5vbkVycm9yLnB1c2goZm5PbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9TY3JpcHQgPSBwZW5kaW5nW3BlbmRpbmdTcmNdID0geyBsb2FkZWQ6IGZhbHNlLCBvbkxvYWQ6IFtmbk9uTG9hZF0sIG9uRXJyb3I6IFtmbk9uRXJyb3JdIH07XG5cbiAgICAgICAgaWYgKHRyZWF0VG9nZXRoZXIgJiYgdHJlYXRUb2dldGhlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcnJheVV0aWxzLmZvckVhY2godHJlYXRUb2dldGhlciwgdXJsID0+IHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nW3VybF0gPSBvU2NyaXB0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtdWx0aXBsZSBsb2Fkc1xuICAgICAgICBvU2NyaXB0ID0geyBsb2FkZWQ6IGZhbHNlLCBvbkxvYWQ6IFtmbk9uTG9hZF0sIG9uRXJyb3I6IFtmbk9uRXJyb3JdIH07XG4gICAgfVxuXG4gICAgdmFyIHNjcmlwdExvYWRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5jaGFyc2V0ID0gJ1VURi04JztcblxuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZm5PblNjcmlwdExvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAob1NjcmlwdC5vbkxvYWQgJiYgb1NjcmlwdC5vbkxvYWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb1NjcmlwdC5vbkxvYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb1NjcmlwdC5vbkxvYWRbaV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvU2NyaXB0Lm9uTG9hZFtpXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb1NjcmlwdC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9TY3JpcHQub25FcnJvciA9IG9TY3JpcHQub25Mb2FkID0gbnVsbDsgLy8gcmVtb3ZlIG1lbW9yeSBsZWFrXG5cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVBZnRlciA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCByZW1vdmVBZnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzY3JpcHQub25sb2FkID0gZm5PblNjcmlwdExvYWQ7XG4gICAgICAgIHNjcmlwdFsnb25yZWFkeXN0YXRlY2hhbmdlJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgZm5PblNjcmlwdExvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvU2NyaXB0Lm9uRXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9TY3JpcHQub25FcnJvcltpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBvU2NyaXB0Lm9uRXJyb3JbaV0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgcGVuZGluZ1tzcmNdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKTtcbiAgICAgICAgaWYgKGhlYWQgJiYgaGVhZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoZWFkWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuU2V0U2NyaXB0U3JjID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2ViU2RrUmVzb3VyY2VzRG9tYWluID0gbmV3IFJlZ0V4cChgXmh0dHBzPzpcXC9cXC9jZG5zPy4qJHtnaWd5YS5kZWZhdWx0QXBpRG9tYWlufVxcLy4qZ2lneWFcXC5qc2ApO1xuICAgICAgICAgICAgY29uc3Qgc2NyaXB0U3JjID0gd2ViU2RrUmVzb3VyY2VzRG9tYWluLnRlc3Qoc3JjKSA/IGFkZFNka1ZlcnNpb24oc3JjKSA6IHNyYztcbiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBzY3JpcHRTcmM7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChsb2NhbEluZm8uaW9zVmVyc2lvbiA+PSA2KSB7XG4gICAgICAgICAgICAvLyBpT1MgNiBicmVha3Mgc2V0VGltZW91dCB3aGVuIGFuaW1hdGlvbiBpcyBhY3RpdmUgKHN3aXRjaGluZyB0YWJzIGJhY2sgZnJvbSBhIGxvZ2luIHNlcXVlbmNlKVxuICAgICAgICAgICAgZm5TZXRTY3JpcHRTcmMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm5TZXRTY3JpcHRTcmMsIDEpOyAvLyBEb2luZyB0aGlzIGFzeW5jIGdpdmVzIGJldHRlciBwZXJmb3JtYW5jZSBpbiBvbGRlciBicm93c2Vyc1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChsb2NhbEluZm8uaXNJRSkge1xuICAgICAgICBmdW5jdGlvbnNVdGlscy5pbnZva2VPblBhZ2VMb2FkKHNjcmlwdExvYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2NyaXB0TG9hZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0IGVudW0gUmVzb3VyY2VUeXBlcyB7XG4gICAgc2NyaXB0LFxuICAgIGltYWdlLFxuICAgIGlmcmFtZSxcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyUmVzb3VyY2UodXJsOiBzdHJpbmcsIGNhbGxiYWNrPzogKCkgPT4gdm9pZCwgcmVzb3VyY2VUeXBlID0gUmVzb3VyY2VUeXBlcy5pbWFnZSwgcmVtb3ZlQWZ0ZXI6IG51bWJlciB8IGJvb2xlYW4gPSA1MDAwKSB7XG4gICAgc3dpdGNoIChyZXNvdXJjZVR5cGUpIHtcbiAgICAgICAgY2FzZSBSZXNvdXJjZVR5cGVzLnNjcmlwdDpcbiAgICAgICAgICAgIGxvYWQodXJsLCBjYWxsYmFjaywgY2FsbGJhY2ssIGZhbHNlLCByZW1vdmVBZnRlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBSZXNvdXJjZVR5cGVzLmltYWdlOlxuICAgICAgICAgICAgbG9hZEltYWdlKHVybCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUmVzb3VyY2VUeXBlcy5pZnJhbWU6XG4gICAgICAgICAgICBsb2FkSWZyYW1lKHVybCwgY2FsbGJhY2ssIHJlbW92ZUFmdGVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZXNvdXJjZSB0eXBlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZEltYWdlKHVybDogc3RyaW5nLCBjYWxsYmFjaz86IEZ1bmN0aW9uKSB7XG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHZhciBsb2FkZWQgPSBmYWxzZTtcblxuICAgIHZhciBmbk9uTG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IGZuT25Mb2FkO1xuXG4gICAgaW1nLnNyYyA9IHVybDtcbn1cblxuZnVuY3Rpb24gbG9hZElmcmFtZSh1cmw6IHN0cmluZywgY2FsbGJhY2s/OiAoKSA9PiB2b2lkLCByZW1vdmVBZnRlcjogbnVtYmVyIHwgYm9vbGVhbiA9IDUwMDApIHtcbiAgICB2YXIgaWZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyLnN0eWxlLndpZHRoID0gJzMwcHgnO1xuICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG4gICAgaWZyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZnIuc3R5bGUudG9wID0gJy0xMDAwcHgnO1xuICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xuXG4gICAgaWYgKHJlbW92ZUFmdGVyID09PSB0cnVlKSB7XG4gICAgICAgIHJlbW92ZUFmdGVyID0gMDtcbiAgICB9XG5cbiAgICB2YXIgZm5PbkxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlbDtcbiAgICAgICAgaWYgKGUgJiYgZS5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICBlbCA9IGUuc3JjRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChlICYmIGUudGFyZ2V0KSB7XG4gICAgICAgICAgICBlbCA9IGUudGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbC5sb2FkZWQgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZWwubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlQWZ0ZXIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXIgYXMgYW55LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihpZnIsICdsb2FkJywgZm5PbkxvYWQpO1xuICAgIERPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoaWZyLCAnZXJyb3InLCBmbk9uTG9hZCk7XG4gICAgaWZyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICBmbk9uTG9hZChlKTtcbiAgICB9O1xuICAgIGlmci5vbmVycm9yID0gZm5PbkxvYWQ7XG5cbiAgICBpZnIuc3JjID0gdXJsO1xuICAgIERPTVV0aWxzLmFwcGVuZFRvQm9keShpZnIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNlcnZpY2Uoc2VydmljZU5hbWU6IHN0cmluZywgZm5PbkVycm9yPzogKCkgPT4gdm9pZCwgZm5PbkxvYWQ/OiAoKSA9PiB2b2lkKSB7XG4gICAgdmFyIHVybCA9IGdldENkblJlc291cmNlKCkgKyAnL2pzL2dpZ3lhLnNlcnZpY2VzLicgKyBzZXJ2aWNlTmFtZSArICcuanMnO1xuICAgIGxvYWQoXG4gICAgICAgIHVybCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3IgbG9hZGluZyBnaWd5YSBzZXJ2aWNlICcgKyBzZXJ2aWNlTmFtZSArICcgZnJvbSB1cmw6ICcgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGlmIChmbk9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZm5PbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmbk9uTG9hZCxcbiAgICAgICAgdHJ1ZSxcbiAgICApO1xufVxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCAqIGFzIHF1ZXVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gJy4uL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcbnZhciBzZXNzaW9uU3RvcmFnZUVuYWJsZWQ7XG50cnkge1xuICAgIHNlc3Npb25TdG9yYWdlRW5hYmxlZCA9IEJvb2xlYW4od2luZG93LnNlc3Npb25TdG9yYWdlKTsgLy8gd2hlbiAzcGMgYmxvY2tlZCwgY2hyb21lIHRocm93cyB3aGVuIHRyeWluZyB0byBhY2Nlc3Mgc2Vzc2lvbiBzdG9yYWdlLlxufSBjYXRjaCAoZXgpIHtcbiAgICBzZXNzaW9uU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5OiBzdHJpbmcsIHJlc3BvbnNlOiBPYmplY3QpIHtcbiAgICBpZiAoIXNlc3Npb25TdG9yYWdlRW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBvR2lneWE7XG4gICAgdHJ5IHtcbiAgICAgICAgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdnaWd5YUNhY2hlJykpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZSA9PSBudWxsICYmIG9HaWd5YVtrZXldKSB7XG4gICAgICAgICAgICBkZWxldGUgb0dpZ3lhW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBvR2lneWFba2V5XSA9IHsgcmVzcG9uc2UsIHRpbWUgfTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdvaWRjIHN0b3JhZ2UgbG9ncyAtIHNldCcsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV1cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSwgRmxhZ1NlcnZpY2UuZm9yY2VFcnJvclJlcG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZ2lneWFDYWNoZScsIEpTT05VdGlscy5zZXJpYWxpemUob0dpZ3lhKSk7XG4gICAgfSBjYXRjaCAoZXgpIHt9XG5cbiAgICBxdWV1ZVV0aWxzLnJlbGVhc2UoJ2NhY2hlJywgJ2NhY2hlXycgKyBrZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXk6IHN0cmluZywgY2FjaGVUaW1lb3V0OiBudW1iZXIgPSAtMSk6IE9iamVjdCB7XG4gICAgaWYgKCFzZXNzaW9uU3RvcmFnZUVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFxdWV1ZVV0aWxzLmlzQWN0aXZlKCdjYWNoZV8nICsga2V5KSkge1xuICAgICAgICAgICAgY29uc3Qgc0dpZ3lhQ2FjaGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZ2lneWFDYWNoZScpO1xuICAgICAgICAgICAgY29uc3Qgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHNHaWd5YUNhY2hlKTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IG9HaWd5YVtrZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlVGltZW91dCA8IDAgfHwgY2FjaGVUaW1lb3V0ICsgY2FjaGVkLnRpbWUgPiBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NhY2hlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ29pZGMgc3RvcmFnZSBsb2dzIC0gZ2V0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVUaW1lOiBjYWNoZWQudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UsIEZsYWdTZXJ2aWNlLmZvcmNlRXJyb3JSZXBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vZXhwaXJlZFxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgICAgIC8vbm90IGNhY2hlZCAoZmlyc3QgdGltZSlcbiAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLmhvbGQoJ2NhY2hlJywgJ2NhY2hlXycgKyBrZXkpOyAvL3NvIHRoYXQgZnV0dXJlIHJlcXVlc3RzIHdpbGwgd2FpdCBmb3IgdGhlIGZpcnN0IG9uZSdzIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy93YWl0IGZvciBmaXJzdCByZXNwb25zZVxuICAgICAgICAgICAgcXVldWVVdGlscy53YWl0Rm9yKCdjYWNoZV8nICsga2V5LCBnZXQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7fVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHNldChrZXksIG51bGwpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtVmFsdWUoc3RyOiBzdHJpbmcsIGtleTogc3RyaW5nLCBkZWw6IHN0cmluZyA9ICcmJyk6IHN0cmluZyB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTkyMDY5Ny9ob3ctdG8tZ2V0LWhhc2gtdmFsdWUtaW4tYS11cmwtaW4tanNcbiAgICBjb25zdCBtYXRjaGVzID0gc3RyLm1hdGNoKG5ldyBSZWdFeHAoYCR7a2V5fT0oW14ke2RlbH1dKilgKSk7XG4gICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXFQYXJhbVZhbHVlKHN0cjogc3RyaW5nLCBrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZ2V0UGFyYW1WYWx1ZShzdHIsIGtleSk7XG4gICAgcmV0dXJuIHZhbCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogbnVsbDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0cmltKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXlxccyooXFxTKiguKlxcUyk/KVxccyokLywgJyQxJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHM6IHN0cmluZywgLi4ucmVzdDogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2kgKyAxXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzID0gcy5zcGxpdCgneycgKyBpICsgJ30nKS5qb2luKGFyZ3VtZW50c1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcy5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHMuc3Vic3RyaW5nKDEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHM6IHN0cmluZywgc3VmZml4OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcy5pbmRleE9mKHN1ZmZpeCwgcy5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VBbGwoc3RyOiBzdHJpbmcsIGZpbmQ6IHN0cmluZywgcmVwbGFjZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWZpbmQpIHJldHVybiBzdHI7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKGZpbmQpLCAnZycpLCByZXBsYWNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ29tbWFTZXBhcmF0ZWRWYWx1ZXMoc3RyMTogc3RyaW5nID0gJycsIHN0cjI6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcbiAgICBjb25zdCBhcnIgPSBzdHIxLmNvbmNhdCgnLCcsIHN0cjIpLnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIGdpZ3lhLnV0aWxzLmFycmF5LmdldFVuaXF1ZVZhbHVlcyhhcnIpLmZpbHRlcih4ID0+IHgpLmpvaW4oJywnKTtcbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJy4vb2JqZWN0JztcblxuY2xhc3MgV2ViU0RLVG9nZ2xlcyB7XG4gICAgaGFzKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fdG9nZ2xlc1trZXldICE9ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIGdldDxUID0gYW55PihrZXk6IHN0cmluZyk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlc1trZXldIGFzIFQ7XG4gICAgfVxuXG4gICAgaXNPbihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiB0aGlzLmdldChrZXkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IF90b2dnbGVzKCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0VXRpbHMubWVyZ2UoW1xuICAgICAgICAgICAgdGhpcy5fZ2xvYmFsQ29uZlRvZ2dsZXMsXG4gICAgICAgICAgICB0aGlzLl93ZWJTZGtDb25maWdUb2dnbGVzXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IF9nbG9iYWxDb25mVG9nZ2xlcygpIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnRoaXNTY3JpcHQ/Lmdsb2JhbENvbmY/LnRvZ2dsZXMgfHwge307XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgX3dlYlNka0NvbmZpZ1RvZ2dsZXMoKSB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZXMgPSBnaWd5YS5fPy5jb25maWc/LnRvZ2dsZXMgfHwge307XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0b2dnbGVzKS5yZWR1Y2UoKG5ld1RvZ2dsZXMsIGtleSkgPT4ge1xuICAgICAgICAgICAgbmV3VG9nZ2xlc1trZXldID0gdG9nZ2xlc1trZXldID09PSAnb24nO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3VG9nZ2xlcztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBXZWJTREtUb2dnbGVzKCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNFeHBsaWNpdFRydWUodmFsOiBhbnkpOiBib29sZWFuIHtcbiAgICB2YXIgbGMgPSAoJycgKyB2YWwpLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGxjID09ICd0cnVlJyB8fCBsYyA9PSAnMSc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFeHBsaWNpdEZhbHNlKHZhbDogYW55KTogYm9vbGVhbiB7XG4gICAgdmFyIGxjID0gKCcnICsgdmFsKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBsYyA9PSAnZmFsc2UnIHx8IGxjID09ICcwJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xhdGVyVGhhbk5vdyhleHBpcmF0aW9uVGltZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lID4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWxsRGVmaW5lZE9yQWxsVW5kZWZpbmVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhbnlVbmRlZmluZWQgPSBhcmdzLnNvbWUoeCA9PiB0eXBlb2YgeCA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgIGNvbnN0IGFueURlZmluZWQgPSBhcmdzLnNvbWUoeCA9PiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgIHJldHVybiAoYW55RGVmaW5lZCAmJiAhYW55VW5kZWZpbmVkKSB8fCAoIWFueURlZmluZWQgJiYgYW55VW5kZWZpbmVkKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGwoKTogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH0ge1xuICAgIHZhciBzY3JPZlggPSAwLFxuICAgICAgICBzY3JPZlkgPSAwO1xuICAgIGlmICh0eXBlb2Ygd2luZG93LnBhZ2VZT2Zmc2V0ID09ICdudW1iZXInKSB7XG4gICAgICAgIHNjck9mWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgc2NyT2ZYID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiAoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSkge1xuICAgICAgICBzY3JPZlkgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgc2NyT2ZYID0gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSkge1xuICAgICAgICBzY3JPZlkgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBzY3JPZlggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdDogc2NyT2ZYLCB0b3A6IHNjck9mWSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxTaXplKCk6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSB7XG4gICAgdmFyIGRlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBkYiA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICB2YXIgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICBpZiAoaCA9PSAwKSBoID0gZGIuY2xpZW50SGVpZ2h0O1xuICAgIHZhciB3ID0gZGUuY2xpZW50V2lkdGg7XG4gICAgaWYgKHcgPT0gMCkgdyA9IGRiLmNsaWVudFdpZHRoO1xuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbigpOiBudW1iZXIge1xuICAgIHZhciBvcmllbnRhdGlvbiA9IHBhcnNlSW50KCh3aW5kb3dbJ29yaWVudGF0aW9uJ10gYXMgc3RyaW5nKSB8fCAnMCcpO1xuICAgIGlmIChvcmllbnRhdGlvbiA8IDApIG9yaWVudGF0aW9uICs9IDM2MDtcblxuICAgIHJldHVybiBvcmllbnRhdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdXRlclNpemUoKTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICB2YXIgaDtcbiAgICB2YXIgdztcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKHdpbmRvdy5vdXRlckhlaWdodCkge1xuICAgICAgICBoID0gd2luZG93Lm91dGVySGVpZ2h0O1xuICAgICAgICB3ID0gd2luZG93Lm91dGVyV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKGggPT0gMCkgaCA9IGRiLmNsaWVudEhlaWdodDtcbiAgICAgICAgdyA9IGRlLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbm5lclNpemUoKTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICB2YXIgaDtcbiAgICB2YXIgdztcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICBoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKGggPT0gMCkgaCA9IGRiLmNsaWVudEhlaWdodDtcbiAgICAgICAgdyA9IGRlLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWRkbGVDZW50ZXIoKTogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH0ge1xuICAgIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoKTtcbiAgICB2YXIgc2l6ZSA9IGdldElubmVyU2l6ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogc2Nyb2xsLnRvcCArIE1hdGguZmxvb3Ioc2l6ZS5oIC8gMiksXG4gICAgICAgIGxlZnQ6IHNjcm9sbC5sZWZ0ICsgTWF0aC5mbG9vcihzaXplLncgLyAyKSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjdEhvcml6b250YWxseVZpc2libGUocmVjdDogeyB0b3A6IG51bWJlcjsgYm90dG9tOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ6IG51bWJlciB9KSB7XG4gICAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCgpO1xuICAgIHZhciBzaXplID0gZ2V0SW5uZXJTaXplKCk7XG4gICAgcmV0dXJuIHJlY3QubGVmdCA+PSBzY3JvbGwubGVmdCAmJiByZWN0LnJpZ2h0IDw9IHNjcm9sbC5sZWZ0ICsgc2l6ZS53O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjdEZ1bGx5VmlzaWJsZShyZWN0OiB7IHRvcDogbnVtYmVyOyBib3R0b206IG51bWJlcjsgbGVmdDogbnVtYmVyOyByaWdodDogbnVtYmVyIH0pIHtcbiAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XG4gICAgdmFyIHNpemUgPSBnZXRJbm5lclNpemUoKTtcbiAgICByZXR1cm4gcmVjdC50b3AgPj0gc2Nyb2xsLnRvcCAmJiByZWN0LmJvdHRvbSA8PSBzY3JvbGwudG9wICsgc2l6ZS5oICYmIHJlY3QubGVmdCA+PSBzY3JvbGwubGVmdCAmJiByZWN0LnJpZ2h0IDw9IHNjcm9sbC5sZWZ0ICsgc2l6ZS53O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtnZXRTdG9yYWdlRG9tYWluLCByZXNvbHZlQXBpRG9tYWlufSBmcm9tICcuL1V0aWxzL2RvbWFpbnMnO1xuaW1wb3J0IHtJV2ViU2RrQ29uZmlnfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lXZWJTZGtDb25maWcnO1xuaW1wb3J0IHtVcml9IGZyb20gJy4vVXRpbHMvVXJpJztcblxuY29uc3QgZGVmYXVsdFN0b3JhZ2VEb21haW4gPSAoKSA9PiBnaWd5YT8uY29uZmlnSG9zdG5hbWVPdmVycmlkZSB8fCBnZXRTdG9yYWdlRG9tYWluKCk7XG5jb25zdCBkZWZhdWx0QXBpRG9tYWluID0gKCkgPT4gcmVzb2x2ZUFwaURvbWFpbigpXG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNzb0NvbmZpZ1Jlc3BvbnNlIHtcbiAgICBhcGlLZXk/OiBzdHJpbmc7XG4gICAgcnBDb250ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb25zZW50U3RhdHVzUmVzcG9uc2Uge1xuICBjb25zZW50U3RhdHVzOiB7XG4gICAgaXNNaWdyYXRlZDogYm9vbGVhbjtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2RrQ29uZmlnKGRvbWFpbjogc3RyaW5nID0gZGVmYXVsdFN0b3JhZ2VEb21haW4oKSwgcmV0cmllczogbnVtYmVyID0gMCk6IFByb21pc2U8SVdlYlNka0NvbmZpZz4ge1xuICAgIGNvbnN0IHthcGlLZXl9ID0gZ2lneWE7XG4gICAgcmV0dXJuIGF3YWl0IFVyaS5wYXJzZShgJHtkb21haW59L3Nkay5jb25maWcuZ2V0YClcbiAgICAgICAgLmFkZFRvU2VhcmNoKHthcGlLZXksIGh0dHBTdGF0dXNDb2RlczogdHJ1ZX0pXG4gICAgICAgIC5mZXRjaDxJV2ViU2RrQ29uZmlnPihyZXRyaWVzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNzb0NvbnRleHQoc3NvVG9rZW46IHN0cmluZywgZG9tYWluOiBzdHJpbmcgPSBkZWZhdWx0QXBpRG9tYWluKCksIHJldHJpZXM6IG51bWJlciA9IDApOiBQcm9taXNlPElTc29Db25maWdSZXNwb25zZT4ge1xuICAgIGNvbnN0IHthcGlLZXk6IEFQSUtleX0gPSBnaWd5YTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgVXJpLnBhcnNlKGAke2RvbWFpbn0vYWNjb3VudHMuc3NvLmdldENvbnRleHRgKVxuICAgICAgICAgICAgLmFkZFRvU2VhcmNoKHtBUElLZXksIHNzb1Rva2VuLCBmb3JtYXQ6ICdqc29uJ30pXG4gICAgICAgICAgICAuZmV0Y2g8SVNzb0NvbmZpZ1Jlc3BvbnNlPihyZXRyaWVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7fVxuICAgIH1cbn1cblxuLy8gQ29uc2VudCBzdGF0dXMgY3VycmVudGx5IHJldHVybiBvbmx5IGJ5IGFwaSBkb21haW4gYmVjYXVzZSB0aGUgY29uZmlndXJhdGlvbiBpcyBzZXQgYnkgbWlub3IgREMoIHNob3VsZCBiZSBzYXZlIG9uIG1ham9yIGFsd2F5cylcbi8vIFdlIHNob3VsZCBjaGFuZ2UgdGhlIGdpZ3lhLl8uZ2V0QXBpRG9tYWluKCdhY2NvdW50cycpIHRvIGRlZmF1bHRTdG9yYWdlRG9tYWluIG9uY2UgdGhlIGNvbmZpZyBpcyB1cGRhdGVkLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnNlbnRTdGF0dXMoY29uZmlnPzogeyBkb21haW46IHN0cmluZywgcmV0cmllczogbnVtYmVyIH0pOiBQcm9taXNlPElDb25zZW50U3RhdHVzUmVzcG9uc2U+e1xuICAgIGNvbnN0IGRvbWFpbiA9IGNvbmZpZz8uZG9tYWluIHx8IGdpZ3lhLl8uZ2V0QXBpRG9tYWluKCdhY2NvdW50cycpXG4gICAgY29uc3QgcmV0cmllcyA9IGNvbmZpZz8ucmV0cmllcyB8fCAwXG4gICAgY29uc3QgeyBhcGlLZXkgfSA9IGdpZ3lhO1xuICAgIGNvbnN0IHVybCA9IGAke2RvbWFpbn0vc2RrLmdldENvbnNlbnRTdGF0dXNgXG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IFVyaS5wYXJzZSh1cmwpXG4gICAgICAuYWRkVG9TZWFyY2goeyBhcGlLZXkgfSlcbiAgICAgIC5mZXRjaDxJQ29uc2VudFN0YXR1c1Jlc3BvbnNlPihyZXRyaWVzKVxufVxuIiwiXG5sZXQgc2VsZWN0ZWRDZG5Ib3N0c0luZGV4ID0gMDtcbmV4cG9ydCBjb25zdCBDRE5fSE9TVFMgPSB7XG4gICAgaHR0cDogWydjZG4uZ2lneWEuY29tJywgJ2NkbjEuZ2lneWEuY29tJywgJ2NkbjIuZ2lneWEuY29tJywgJ2NkbjMuZ2lneWEuY29tJ10sXG4gICAgaHR0cHM6IFsnY2Rucy5naWd5YS5jb20nLCAnY2RuczEuZ2lneWEuY29tJywgJ2NkbnMyLmdpZ3lhLmNvbScsICdjZG5zMy5naWd5YS5jb20nXSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2RuUmVzb3VyY2UocGF0aD86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gZ2lneWEudGhpc1NjcmlwdCBtYXkgbm90IGV4aXN0IGlmIGxvYWRlZCBmb3Igc3NvT3JpZy5cbiAgICBsZXQgYmFzZURvbWFpbiA9IGdpZ3lhLnRoaXNTY3JpcHQ/LmJhc2VEb21haW4gPz8gJyc7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBnaWd5YS50aGlzU2NyaXB0Py5wcm90b2NvbCA/PyAnaHR0cHMnO1xuXG4gICAgLy8gSWYgbm8gYmFzZSBkb21haW4gb3IgaWYgYmFzZSBkb21haW4gZW5kcyB3aXRoIC5naWd5YS5jb20sIHVzZSBHaWd5YSBDRE4uXG4gICAgLy8gT3RoZXJ3aXNlIHVzZSB0aGUgYmFzZSBkb21haW4uXG4gICAgaWYgKCFiYXNlRG9tYWluIHx8IC9jZG5zP1xcLmdpZ3lhXFwuY29tJC8udGVzdChiYXNlRG9tYWluKSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFNjaGVtYVJlcG9zaXRvcnkgPSBDRE5fSE9TVFNbcHJvdG9jb2xdO1xuICAgICAgICBpZiAoc2VsZWN0ZWRTY2hlbWFSZXBvc2l0b3J5Lmxlbmd0aCA8PSBzZWxlY3RlZENkbkhvc3RzSW5kZXgpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2RuSG9zdHNJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgYmFzZURvbWFpbiA9IHNlbGVjdGVkU2NoZW1hUmVwb3NpdG9yeVtzZWxlY3RlZENkbkhvc3RzSW5kZXgrK107XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRoZSBwYXRoIHN0YXJ0cyB3aXRoIFwiL1wiLlxuICAgIGlmIChwYXRoKSB7XG4gICAgICAgIGlmIChwYXRoLmluZGV4T2YoJy8nKSAhPT0gMCkge1xuICAgICAgICAgICAgcGF0aCA9ICcvJyArIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvdG9jb2wgKyAnOi8vJyArIGJhc2VEb21haW4gKyAocGF0aCB8fCAnJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1nQ2RuUmVzb3VyY2UoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZ2V0Q2RuUmVzb3VyY2UoJy9ncy9pLycpO1xufVxuIiwiaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnc3JjL2NvcmUvU2VydmljZVByb3h5L3V0aWxzJztcbmltcG9ydCB7IElQcm94eVJlc3BvbnNlLCBJUHJveHlSZXF1ZXN0LCBpc1NpZ25hbFJlcXVlc3QsIElQcm94eVNpZ25hbFJlcXVlc3QgfSBmcm9tICdzcmMvY29yZS9TZXJ2aWNlUHJveHkvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCB0eXBlIE1heWJlUHJvbWlzZUFueSA9IGFueSB8IFByb21pc2U8YW55PjtcbmV4cG9ydCB0eXBlIFN0b3BDYW5jZWxsZXJzID0gKCkgPT4gTWF5YmVQcm9taXNlQW55O1xuZXhwb3J0IGNsYXNzIFByb3h5TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE9iamVjdCxcbiAgICAgICAgICAgICAgICBwdWJsaWMgb3JpZ2luID0gdXRpbHMuZ2V0UGFyZW50VXJsKCksXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBfYWxsb3dlZE1ldGhvZHMgPSB1dGlscy5nZXRBbGxDbGFzc01ldGhvZHNOYW1lcyhfc2VydmljZSksXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBfdGFyZ2V0ID0gd2luZG93LnBhcmVudCxcbiAgICAgICAgICAgICAgICBwcml2YXRlIF93aW4gPSB3aW5kb3cpIHt9XG5cbiAgICBwdWJsaWMgc3RvcENhbmNlbGxlcnM6IFN0b3BDYW5jZWxsZXJzW10gPSBbXTtcbiAgICBwdWJsaWMgb25TdG9wOiAoKSA9PiBNYXliZVByb21pc2VBbnk7XG5cbiAgICBwcml2YXRlIF9saXN0ZW5pbmcgPSBmYWxzZTtcblxuICAgIHB1YmxpYyBnZXQgaXNMaXN0ZW5pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5pbmc7XG4gICAgfVxuXG4gICAgcHVibGljIGxpc3RlbihwYXlsb2FkPzogYW55KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0xpc3RlbmluZykge1xuICAgICAgICAgICAgdGhpcy5fd2luLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQgd29ya2Fyb3VuZCBmb3IgSUU5LiBlbHNlIHdlJ2xsIGdldCBKU09OIGlzIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHRoaXMuX3dpbi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vblJlcXVlc3QsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWw6ICdsaXN0ZW5pbmcnLFxuICAgICAgICAgICAgICAgICAgICByZXM6IHBheWxvYWQsXG4gICAgICAgICAgICAgICAgfSBhcyBJUHJveHlSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBvc3RFcnJvcihyZXM6IElQcm94eVJlc3BvbnNlKSB7XG4gICAgICAgIHJlcy5zaWduYWwgPSAnZXJyb3InO1xuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHJlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9wTGlzdGVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc0xpc3RlbmluZykge1xuICAgICAgICAgICAgdGhpcy5fd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uUmVxdWVzdCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXF1ZXN0ID0gYXN5bmMgKGU6IE1lc3NhZ2VFdmVudCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAvLyB0byBwcmVzZXJ2ZSBjb250ZXh0XG4gICAgICAgIGlmICh1dGlscy52YWxpZGF0ZU9yaWdpbih0aGlzLm9yaWdpbiwgZS5vcmlnaW4pKSB7XG4gICAgICAgICAgICBjb25zdCByZXEgPSBKU09OLnBhcnNlKGUuZGF0YSkgYXMgSVByb3h5UmVxdWVzdDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTaWduYWxSZXF1ZXN0KHJlcSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTaWduYWxSZXF1ZXN0KHJlcSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9ybWFsIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVQcm94eVJlcXVlc3QocmVxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3N0RXJyb3IoeyByZXM6IGUubWVzc2FnZSB8fCBlLCBpZDogcmVxLmlkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlU2lnbmFsUmVxdWVzdChyZXE6IElQcm94eVNpZ25hbFJlcXVlc3QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgc3dpdGNoIChyZXEuc2lnbmFsKSB7XG4gICAgICAgICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWwgPSBhd2FpdCB0aGlzLmdldENhbmNlbFJlc3VsdCgpO1xuICAgICAgICAgICAgICAgIGxldCByZXM6IElQcm94eVJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmICghY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcExpc3RlbigpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25TdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gdGhpcy5vblN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gYXdhaXQgcGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVxLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiAnc3RvcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXM6IHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlczogY2FuY2VsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHJlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBnZXRDYW5jZWxSZXN1bHQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgZm9yIChjb25zdCBzaG91bGRDYW5jZWxTdG9wIG9mIHRoaXMuc3RvcENhbmNlbGxlcnMpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBzaG91bGRDYW5jZWxTdG9wKCkgYXMgTWF5YmVQcm9taXNlQW55O1xuICAgICAgICAgICAgaWYgKHJlcy50aGVuKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgcmVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzKSByZXR1cm4gcmVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGhhbmRsZVByb3h5UmVxdWVzdChyZXE6IElQcm94eVJlcXVlc3QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlcXVlc3QocmVxKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5mb3J3YXJkVG9TZXJ2aWNlKHJlcSk7XG5cbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBpZDogcmVxLmlkLFxuICAgICAgICAgICAgcmVzLFxuICAgICAgICB9IGFzIElQcm94eVJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkYXRlUmVxdWVzdChyZXE6IElQcm94eVJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCFyZXEuaWQgfHwgIXJlcS5tZXRob2ROYW1lIHx8IHRoaXMuX2FsbG93ZWRNZXRob2RzLmluZGV4T2YocmVxLm1ldGhvZE5hbWUpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgJ3Byb3h5IHJlcXVlc3QgaW4gaW52YWxpZCBmb3JtYXQnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBmb3J3YXJkVG9TZXJ2aWNlKHJlcTogSVByb3h5UmVxdWVzdCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuX3NlcnZpY2VbcmVxLm1ldGhvZE5hbWVdIGFzIEZ1bmN0aW9uO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWV0aG9kLmFwcGx5KHRoaXMuX3NlcnZpY2UsIHJlcS5wYXJhbXMpIGFzIE1heWJlUHJvbWlzZUFueTtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBvc3RNZXNzYWdlKG1zZzogYW55KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IHR5cGVvZiBtc2cgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkobXNnKSA6IG1zZztcbiAgICAgICAgdGhpcy5fdGFyZ2V0LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRoaXMub3JpZ2luKTtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIElQcm94eU1lc3NhZ2Uge1xuICAgIGlkOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIElQcm94eVJlcXVlc3QgZXh0ZW5kcyBJUHJveHlNZXNzYWdlIHtcbiAgICBtZXRob2ROYW1lOiBzdHJpbmc7XG4gICAgcGFyYW1zPzogYW55W107XG4gICAgaGVhZGVycz86IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9XG59XG5leHBvcnQgdHlwZSBQcm94eVNpZ25hbCA9ICdsaXN0ZW5pbmcnIHwgJ3N0b3AnIHwgJ2Vycm9yJztcbmV4cG9ydCBpbnRlcmZhY2UgSVByb3h5U2lnbmFsUmVxdWVzdCBleHRlbmRzIElQcm94eU1lc3NhZ2Uge1xuICAgIHNpZ25hbDogUHJveHlTaWduYWw7XG59XG5leHBvcnQgaW50ZXJmYWNlIElQcm94eVJlc3BvbnNlIGV4dGVuZHMgSVByb3h5TWVzc2FnZSB7XG4gICAgcmVzOiBhbnk7XG4gICAgc2lnbmFsPzogUHJveHlTaWduYWw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTaWduYWxSZXF1ZXN0KHJlcTogSVByb3h5TWVzc2FnZSk6IHJlcSBpcyBJUHJveHlTaWduYWxSZXF1ZXN0IHtcbiAgICByZXR1cm4gQm9vbGVhbigocmVxIGFzIElQcm94eVNpZ25hbFJlcXVlc3QpLnNpZ25hbCk7XG59XG4iLCJleHBvcnQgY29uc3QgZ2V0UGFyZW50VXJsID0gKHdpbiA9IHdpbmRvdywgZG9jID0gZG9jdW1lbnQpID0+ICh3aW4ubG9jYXRpb24gIT0gd2luLnBhcmVudC5sb2NhdGlvbiA/IGRvYy5yZWZlcnJlciA6IGRvYy5sb2NhdGlvbi5ocmVmKTtcbmV4cG9ydCBjb25zdCBnZXRCb2R5RWxlbWVudCA9IChkb2MgPSBkb2N1bWVudCkgPT5cbiAgICBuZXcgUHJvbWlzZTxIVE1MRWxlbWVudD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgIGlmIChkb2MuYm9keSkgcmVzb2x2ZShkb2MuYm9keSk7XG4gICAgICAgIGVsc2UgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiByZXNvbHZlKGRvYy5ib2R5KSk7XG4gICAgfSk7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVPcmlnaW4gPSAob3JpZ2luOiBzdHJpbmcsIGNoZWNrZWQ6IHN0cmluZykgPT4gb3JpZ2luPy50b0xvd2VyQ2FzZSgpPy5pbmRleE9mKGNoZWNrZWQ/LnRvTG93ZXJDYXNlKCkpID09PSAwO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUlmcmFtZSA9ICh0aXRsZTogc3RyaW5nID0gJ0dpZ3lhIEZyYW1lJywgZG9jID0gZG9jdW1lbnQpID0+IHtcbiAgICBjb25zdCBpZnJhbWUgPSBkb2MuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gJzBweCc7XG4gICAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzBweCc7XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgaWZyYW1lLnRpdGxlID0gdGl0bGU7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIHJldHVybiBpZnJhbWU7XG59O1xubGV0IF9jb3VudGVyID0gMTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUlkID0gKCkgPT4ge1xuICAgIHJldHVybiBTdHJpbmcoX2NvdW50ZXIrKyk7XG59O1xuZnVuY3Rpb24gaXNDbGFzcyh0eXBlOiBhbnl8KG5ldyAoKSA9PiBhbnkpKTogdHlwZSBpcyBuZXcgKCkgPT4gYW55IHtcbiAgICByZXR1cm4gISF0eXBlLnByb3RvdHlwZTtcbn1cbmV4cG9ydCBjb25zdCBnZXRBbGxDbGFzc01ldGhvZHNOYW1lcyA9ICh0eXBlOiBPYmplY3R8KG5ldyAoKSA9PiBhbnkpKTogc3RyaW5nW10gPT4ge1xuICAgIGxldCBwcm9wczogc3RyaW5nW10gPSBbXTtcblxuICAgIGxldCBwcm90byA9IGlzQ2xhc3ModHlwZSkgPyB0eXBlLnByb3RvdHlwZSA6IHR5cGU7XG4gICAgZG8ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqIGluaXRpYWwgaW1wbGVtZW50YXRpb24gLSB1c2luZyBmaWx0ZXIgKiovXG4gICAgICAgICAgICBjb25zdCBsID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pXG4gICAgICAgICAgICAgICAgLy8gLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3RvKS5tYXAocyA9PiBzLnRvU3RyaW5nKCkpKVxuICAgICAgICAgICAgICAgIC5tYXAocyA9PiBzLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIChwLCBpLCBhcnIpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcHJvdG9bcF0gPT09ICdmdW5jdGlvbicgJiYgLy9vbmx5IHRoZSBtZXRob2RzXG4gICAgICAgICAgICAgICAgICAgICAgICBwICE9PSAnY29uc3RydWN0b3InICYmIC8vbm90IHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgKGkgPT0gMCB8fCBwICE9PSBhcnJbaSAtIDFdKSAmJiAvL25vdCBvdmVycmlkaW5nIGluIHRoaXMgcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5pbmRleE9mKHApID09PSAtMSwgLy9ub3Qgb3ZlcnJpZGRlbiBpbiBhIGNoaWxkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMuY29uY2F0KGwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiogYnVnIGZpeCBpbXBsZW1lbnRhdGlvbiAtIHVzaW5nIGN1c3RvbSBvdXIgb3duIGZpbHRlciBsb2dpY1xuICAgICAgICAgICAgIGNhc2Ugb2YgQXJyYXkuZmlsdGVyIHBvbHlmaWxsIGNhdXNpbmcgXCJjYW4gbm90IHJlYWQgcHJvcGVydHkgJzAnIG9mIHVuZGVmaW5lZFwiICoqL1xuICAgICAgICAgICAgY29uc3QgYXJyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pXG4gICAgICAgICAgICAgICAgLy8gLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3RvKS5tYXAocyA9PiBzLnRvU3RyaW5nKCkpKVxuICAgICAgICAgICAgICAgIC5tYXAocyA9PiBzLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLnNvcnQoKTtcblxuICAgICAgICAgICAgY29uc3QgbCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYXJyW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcHJvdG9bcF0gPT09ICdmdW5jdGlvbicgJiYgLy9vbmx5IHRoZSBtZXRob2RzXG4gICAgICAgICAgICAgICAgICAgIHAgIT09ICdjb25zdHJ1Y3RvcicgJiYgLy9ub3QgdGhlIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgIChpID09IDAgfHwgcCAhPT0gYXJyW2kgLSAxXSkgJiYgLy9ub3Qgb3ZlcnJpZGluZyBpbiB0aGlzIHByb3RvdHlwZVxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5pbmRleE9mKHApID09PSAtMVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvL25vdCBvdmVycmlkZGVuIGluIGEgY2hpbGRcblxuICAgICAgICAgICAgICAgICAgICBsLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcHMgPSBwcm9wcy5jb25jYXQobCk7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChcbiAgICAgICAgKHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSkgJiYgLy93YWxrLXVwIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAvL25vdCB0aGUgdGhlIE9iamVjdCBwcm90b3R5cGUgbWV0aG9kcyAoaGFzT3duUHJvcGVydHksIGV0Yy4uLilcbiAgICApO1xuXG4gICAgcmV0dXJuIHByb3BzO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=
