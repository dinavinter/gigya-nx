/******/ (function (modules) {
  // webpackBootstrap
  /******/ // The module cache
  /******/ var installedModules = {};
  /******/
  /******/ // The require function
  /******/ function __webpack_require__(moduleId) {
    /******/
    /******/ // Check if module is in cache
    /******/ if (installedModules[moduleId]) {
      /******/ return installedModules[moduleId].exports;
      /******/
    }
    /******/ // Create a new module (and put it into the cache)
    /******/ var module = (installedModules[moduleId] = {
      /******/ i: moduleId,
      /******/ l: false,
      /******/ exports: {},
      /******/
    });
    /******/
    /******/ // Execute the module function
    /******/ modules[moduleId].call(
      module.exports,
      module,
      module.exports,
      __webpack_require__
    );
    /******/
    /******/ // Flag the module as loaded
    /******/ module.l = true;
    /******/
    /******/ // Return the exports of the module
    /******/ return module.exports;
    /******/
  }
  /******/
  /******/
  /******/ // expose the modules object (__webpack_modules__)
  /******/ __webpack_require__.m = modules;
  /******/
  /******/ // expose the module cache
  /******/ __webpack_require__.c = installedModules;
  /******/
  /******/ // define getter function for harmony exports
  /******/ __webpack_require__.d = function (exports, name, getter) {
    /******/ if (!__webpack_require__.o(exports, name)) {
      /******/ Object.defineProperty(exports, name, {
        enumerable: true,
        get: getter,
      });
      /******/
    }
    /******/
  };
  /******/
  /******/ // define __esModule on exports
  /******/ __webpack_require__.r = function (exports) {
    /******/ if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
      /******/ Object.defineProperty(exports, Symbol.toStringTag, {
        value: 'Module',
      });
      /******/
    }
    /******/ Object.defineProperty(exports, '__esModule', { value: true });
    /******/
  };
  /******/
  /******/ // create a fake namespace object
  /******/ // mode & 1: value is a module id, require it
  /******/ // mode & 2: merge all properties of value into the ns
  /******/ // mode & 4: return value when already ns object
  /******/ // mode & 8|1: behave like require
  /******/ __webpack_require__.t = function (value, mode) {
    /******/ if (mode & 1) value = __webpack_require__(value);
    /******/ if (mode & 8) return value;
    /******/ if (
      mode & 4 &&
      typeof value === 'object' &&
      value &&
      value.__esModule
    )
      return value;
    /******/ var ns = Object.create(null);
    /******/ __webpack_require__.r(ns);
    /******/ Object.defineProperty(ns, 'default', {
      enumerable: true,
      value: value,
    });
    /******/ if (mode & 2 && typeof value != 'string')
      for (var key in value)
        __webpack_require__.d(
          ns,
          key,
          function (key) {
            return value[key];
          }.bind(null, key)
        );
    /******/ return ns;
    /******/
  };
  /******/
  /******/ // getDefaultExport function for compatibility with non-harmony modules
  /******/ __webpack_require__.n = function (module) {
    /******/ var getter =
      module && module.__esModule
        ? /******/ function getDefault() {
            return module['default'];
          }
        : /******/ function getModuleExports() {
            return module;
          };
    /******/ __webpack_require__.d(getter, 'a', getter);
    /******/ return getter;
    /******/
  };
  /******/
  /******/ // Object.prototype.hasOwnProperty.call
  /******/ __webpack_require__.o = function (object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  };
  /******/
  /******/ // __webpack_public_path__
  /******/ __webpack_require__.p = '';
  /******/
  /******/
  /******/ // Load entry module and return exports
  /******/ return __webpack_require__(
    (__webpack_require__.s = './src/core/Gigya.Js/app/main.ts')
  );
  /******/
})(
  /************************************************************************/
  /******/ {
    /***/ '../node_modules/es6-promise/dist/es6-promise.js':
      /*!*******************************************************!*\
  !*** ../node_modules/es6-promise/dist/es6-promise.js ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (process, global) {
          /*!
           * @overview es6-promise - a tiny implementation of Promises/A+.
           * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
           * @license   Licensed under MIT license
           *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
           * @version   v4.2.8+1e68dce6
           */

          (function (global, factory) {
            true ? (module.exports = factory()) : undefined;
          })(this, function () {
            'use strict';

            function objectOrFunction(x) {
              var type = typeof x;
              return x !== null && (type === 'object' || type === 'function');
            }

            function isFunction(x) {
              return typeof x === 'function';
            }

            var _isArray = void 0;
            if (Array.isArray) {
              _isArray = Array.isArray;
            } else {
              _isArray = function (x) {
                return Object.prototype.toString.call(x) === '[object Array]';
              };
            }

            var isArray = _isArray;

            var len = 0;
            var vertxNext = void 0;
            var customSchedulerFn = void 0;

            var asap = function asap(callback, arg) {
              queue[len] = callback;
              queue[len + 1] = arg;
              len += 2;
              if (len === 2) {
                // If len is 2, that means that we need to schedule an async flush.
                // If additional callbacks are queued before the queue is flushed, they
                // will be processed by this flush that we are scheduling.
                if (customSchedulerFn) {
                  customSchedulerFn(flush);
                } else {
                  scheduleFlush();
                }
              }
            };

            function setScheduler(scheduleFn) {
              customSchedulerFn = scheduleFn;
            }

            function setAsap(asapFn) {
              asap = asapFn;
            }

            var browserWindow =
              typeof window !== 'undefined' ? window : undefined;
            var browserGlobal = browserWindow || {};
            var BrowserMutationObserver =
              browserGlobal.MutationObserver ||
              browserGlobal.WebKitMutationObserver;
            var isNode =
              typeof self === 'undefined' &&
              typeof process !== 'undefined' &&
              {}.toString.call(process) === '[object process]';

            // test for web worker but not in IE10
            var isWorker =
              typeof Uint8ClampedArray !== 'undefined' &&
              typeof importScripts !== 'undefined' &&
              typeof MessageChannel !== 'undefined';

            // node
            function useNextTick() {
              // node version 0.10.x displays a deprecation warning when nextTick is used recursively
              // see https://github.com/cujojs/when/issues/410 for details
              return function () {
                return process.nextTick(flush);
              };
            }

            // vertx
            function useVertxTimer() {
              if (typeof vertxNext !== 'undefined') {
                return function () {
                  vertxNext(flush);
                };
              }

              return useSetTimeout();
            }

            function useMutationObserver() {
              var iterations = 0;
              var observer = new BrowserMutationObserver(flush);
              var node = document.createTextNode('');
              observer.observe(node, { characterData: true });

              return function () {
                node.data = iterations = ++iterations % 2;
              };
            }

            // web worker
            function useMessageChannel() {
              var channel = new MessageChannel();
              channel.port1.onmessage = flush;
              return function () {
                return channel.port2.postMessage(0);
              };
            }

            function useSetTimeout() {
              // Store setTimeout reference so es6-promise will be unaffected by
              // other code modifying setTimeout (like sinon.useFakeTimers())
              var globalSetTimeout = setTimeout;
              return function () {
                return globalSetTimeout(flush, 1);
              };
            }

            var queue = new Array(1000);
            function flush() {
              for (var i = 0; i < len; i += 2) {
                var callback = queue[i];
                var arg = queue[i + 1];

                callback(arg);

                queue[i] = undefined;
                queue[i + 1] = undefined;
              }

              len = 0;
            }

            function attemptVertx() {
              try {
                var vertx = Function('return this')().require('vertx');
                vertxNext = vertx.runOnLoop || vertx.runOnContext;
                return useVertxTimer();
              } catch (e) {
                return useSetTimeout();
              }
            }

            var scheduleFlush = void 0;
            // Decide what async method to use to triggering processing of queued callbacks:
            if (isNode) {
              scheduleFlush = useNextTick();
            } else if (BrowserMutationObserver) {
              scheduleFlush = useMutationObserver();
            } else if (isWorker) {
              scheduleFlush = useMessageChannel();
            } else if (
              browserWindow === undefined &&
              'function' === 'function'
            ) {
              scheduleFlush = attemptVertx();
            } else {
              scheduleFlush = useSetTimeout();
            }

            function then(onFulfillment, onRejection) {
              var parent = this;

              var child = new this.constructor(noop);

              if (child[PROMISE_ID] === undefined) {
                makePromise(child);
              }

              var _state = parent._state;

              if (_state) {
                var callback = arguments[_state - 1];
                asap(function () {
                  return invokeCallback(
                    _state,
                    child,
                    callback,
                    parent._result
                  );
                });
              } else {
                subscribe(parent, child, onFulfillment, onRejection);
              }

              return child;
            }

            /**
  `Promise.resolve` returns a promise that will become resolved with the
  passed `value`. It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    resolve(1);
  });

  promise.then(function(value){
    // value === 1
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.resolve(1);

  promise.then(function(value){
    // value === 1
  });
  ```

  @method resolve
  @static
  @param {Any} value value that the returned promise will be resolved with
  Useful for tooling.
  @return {Promise} a promise that will become fulfilled with the given
  `value`
*/
            function resolve$1(object) {
              /*jshint validthis:true */
              var Constructor = this;

              if (
                object &&
                typeof object === 'object' &&
                object.constructor === Constructor
              ) {
                return object;
              }

              var promise = new Constructor(noop);
              resolve(promise, object);
              return promise;
            }

            var PROMISE_ID = Math.random().toString(36).substring(2);

            function noop() {}

            var PENDING = void 0;
            var FULFILLED = 1;
            var REJECTED = 2;

            function selfFulfillment() {
              return new TypeError('You cannot resolve a promise with itself');
            }

            function cannotReturnOwn() {
              return new TypeError(
                'A promises callback cannot return that same promise.'
              );
            }

            function tryThen(
              then$$1,
              value,
              fulfillmentHandler,
              rejectionHandler
            ) {
              try {
                then$$1.call(value, fulfillmentHandler, rejectionHandler);
              } catch (e) {
                return e;
              }
            }

            function handleForeignThenable(promise, thenable, then$$1) {
              asap(function (promise) {
                var sealed = false;
                var error = tryThen(
                  then$$1,
                  thenable,
                  function (value) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;
                    if (thenable !== value) {
                      resolve(promise, value);
                    } else {
                      fulfill(promise, value);
                    }
                  },
                  function (reason) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;

                    reject(promise, reason);
                  },
                  'Settle: ' + (promise._label || ' unknown promise')
                );

                if (!sealed && error) {
                  sealed = true;
                  reject(promise, error);
                }
              }, promise);
            }

            function handleOwnThenable(promise, thenable) {
              if (thenable._state === FULFILLED) {
                fulfill(promise, thenable._result);
              } else if (thenable._state === REJECTED) {
                reject(promise, thenable._result);
              } else {
                subscribe(
                  thenable,
                  undefined,
                  function (value) {
                    return resolve(promise, value);
                  },
                  function (reason) {
                    return reject(promise, reason);
                  }
                );
              }
            }

            function handleMaybeThenable(promise, maybeThenable, then$$1) {
              if (
                maybeThenable.constructor === promise.constructor &&
                then$$1 === then &&
                maybeThenable.constructor.resolve === resolve$1
              ) {
                handleOwnThenable(promise, maybeThenable);
              } else {
                if (then$$1 === undefined) {
                  fulfill(promise, maybeThenable);
                } else if (isFunction(then$$1)) {
                  handleForeignThenable(promise, maybeThenable, then$$1);
                } else {
                  fulfill(promise, maybeThenable);
                }
              }
            }

            function resolve(promise, value) {
              if (promise === value) {
                reject(promise, selfFulfillment());
              } else if (objectOrFunction(value)) {
                var then$$1 = void 0;
                try {
                  then$$1 = value.then;
                } catch (error) {
                  reject(promise, error);
                  return;
                }
                handleMaybeThenable(promise, value, then$$1);
              } else {
                fulfill(promise, value);
              }
            }

            function publishRejection(promise) {
              if (promise._onerror) {
                promise._onerror(promise._result);
              }

              publish(promise);
            }

            function fulfill(promise, value) {
              if (promise._state !== PENDING) {
                return;
              }

              promise._result = value;
              promise._state = FULFILLED;

              if (promise._subscribers.length !== 0) {
                asap(publish, promise);
              }
            }

            function reject(promise, reason) {
              if (promise._state !== PENDING) {
                return;
              }
              promise._state = REJECTED;
              promise._result = reason;

              asap(publishRejection, promise);
            }

            function subscribe(parent, child, onFulfillment, onRejection) {
              var _subscribers = parent._subscribers;
              var length = _subscribers.length;

              parent._onerror = null;

              _subscribers[length] = child;
              _subscribers[length + FULFILLED] = onFulfillment;
              _subscribers[length + REJECTED] = onRejection;

              if (length === 0 && parent._state) {
                asap(publish, parent);
              }
            }

            function publish(promise) {
              var subscribers = promise._subscribers;
              var settled = promise._state;

              if (subscribers.length === 0) {
                return;
              }

              var child = void 0,
                callback = void 0,
                detail = promise._result;

              for (var i = 0; i < subscribers.length; i += 3) {
                child = subscribers[i];
                callback = subscribers[i + settled];

                if (child) {
                  invokeCallback(settled, child, callback, detail);
                } else {
                  callback(detail);
                }
              }

              promise._subscribers.length = 0;
            }

            function invokeCallback(settled, promise, callback, detail) {
              var hasCallback = isFunction(callback),
                value = void 0,
                error = void 0,
                succeeded = true;

              if (hasCallback) {
                try {
                  value = callback(detail);
                } catch (e) {
                  succeeded = false;
                  error = e;
                }

                if (promise === value) {
                  reject(promise, cannotReturnOwn());
                  return;
                }
              } else {
                value = detail;
              }

              if (promise._state !== PENDING) {
                // noop
              } else if (hasCallback && succeeded) {
                resolve(promise, value);
              } else if (succeeded === false) {
                reject(promise, error);
              } else if (settled === FULFILLED) {
                fulfill(promise, value);
              } else if (settled === REJECTED) {
                reject(promise, value);
              }
            }

            function initializePromise(promise, resolver) {
              try {
                resolver(
                  function resolvePromise(value) {
                    resolve(promise, value);
                  },
                  function rejectPromise(reason) {
                    reject(promise, reason);
                  }
                );
              } catch (e) {
                reject(promise, e);
              }
            }

            var id = 0;
            function nextId() {
              return id++;
            }

            function makePromise(promise) {
              promise[PROMISE_ID] = id++;
              promise._state = undefined;
              promise._result = undefined;
              promise._subscribers = [];
            }

            function validationError() {
              return new Error('Array Methods must be provided an Array');
            }

            var Enumerator = (function () {
              function Enumerator(Constructor, input) {
                this._instanceConstructor = Constructor;
                this.promise = new Constructor(noop);

                if (!this.promise[PROMISE_ID]) {
                  makePromise(this.promise);
                }

                if (isArray(input)) {
                  this.length = input.length;
                  this._remaining = input.length;

                  this._result = new Array(this.length);

                  if (this.length === 0) {
                    fulfill(this.promise, this._result);
                  } else {
                    this.length = this.length || 0;
                    this._enumerate(input);
                    if (this._remaining === 0) {
                      fulfill(this.promise, this._result);
                    }
                  }
                } else {
                  reject(this.promise, validationError());
                }
              }

              Enumerator.prototype._enumerate = function _enumerate(input) {
                for (
                  var i = 0;
                  this._state === PENDING && i < input.length;
                  i++
                ) {
                  this._eachEntry(input[i], i);
                }
              };

              Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {
                var c = this._instanceConstructor;
                var resolve$$1 = c.resolve;

                if (resolve$$1 === resolve$1) {
                  var _then = void 0;
                  var error = void 0;
                  var didError = false;
                  try {
                    _then = entry.then;
                  } catch (e) {
                    didError = true;
                    error = e;
                  }

                  if (_then === then && entry._state !== PENDING) {
                    this._settledAt(entry._state, i, entry._result);
                  } else if (typeof _then !== 'function') {
                    this._remaining--;
                    this._result[i] = entry;
                  } else if (c === Promise$1) {
                    var promise = new c(noop);
                    if (didError) {
                      reject(promise, error);
                    } else {
                      handleMaybeThenable(promise, entry, _then);
                    }
                    this._willSettleAt(promise, i);
                  } else {
                    this._willSettleAt(
                      new c(function (resolve$$1) {
                        return resolve$$1(entry);
                      }),
                      i
                    );
                  }
                } else {
                  this._willSettleAt(resolve$$1(entry), i);
                }
              };

              Enumerator.prototype._settledAt = function _settledAt(
                state,
                i,
                value
              ) {
                var promise = this.promise;

                if (promise._state === PENDING) {
                  this._remaining--;

                  if (state === REJECTED) {
                    reject(promise, value);
                  } else {
                    this._result[i] = value;
                  }
                }

                if (this._remaining === 0) {
                  fulfill(promise, this._result);
                }
              };

              Enumerator.prototype._willSettleAt = function _willSettleAt(
                promise,
                i
              ) {
                var enumerator = this;

                subscribe(
                  promise,
                  undefined,
                  function (value) {
                    return enumerator._settledAt(FULFILLED, i, value);
                  },
                  function (reason) {
                    return enumerator._settledAt(REJECTED, i, reason);
                  }
                );
              };

              return Enumerator;
            })();

            /**
  `Promise.all` accepts an array of promises, and returns a new promise which
  is fulfilled with an array of fulfillment values for the passed promises, or
  rejected with the reason of the first passed promise to be rejected. It casts all
  elements of the passed iterable to promises as it runs this algorithm.

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = resolve(2);
  let promise3 = resolve(3);
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // The array here would be [ 1, 2, 3 ];
  });
  ```

  If any of the `promises` given to `all` are rejected, the first promise
  that is rejected will be given as an argument to the returned promises's
  rejection handler. For example:

  Example:

  ```javascript
  let promise1 = resolve(1);
  let promise2 = reject(new Error("2"));
  let promise3 = reject(new Error("3"));
  let promises = [ promise1, promise2, promise3 ];

  Promise.all(promises).then(function(array){
    // Code here never runs because there are rejected promises!
  }, function(error) {
    // error.message === "2"
  });
  ```

  @method all
  @static
  @param {Array} entries array of promises
  @param {String} label optional string for labeling the promise.
  Useful for tooling.
  @return {Promise} promise that is fulfilled when all `promises` have been
  fulfilled, or rejected if any of them become rejected.
  @static
*/
            function all(entries) {
              return new Enumerator(this, entries).promise;
            }

            /**
  `Promise.race` returns a new promise which is settled in the same way as the
  first passed promise to settle.

  Example:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 2');
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // result === 'promise 2' because it was resolved before promise1
    // was resolved.
  });
  ```

  `Promise.race` is deterministic in that only the state of the first
  settled promise matters. For example, even if other promises given to the
  `promises` array argument are resolved, but the first settled promise has
  become rejected before the other promises became fulfilled, the returned
  promise will become rejected:

  ```javascript
  let promise1 = new Promise(function(resolve, reject){
    setTimeout(function(){
      resolve('promise 1');
    }, 200);
  });

  let promise2 = new Promise(function(resolve, reject){
    setTimeout(function(){
      reject(new Error('promise 2'));
    }, 100);
  });

  Promise.race([promise1, promise2]).then(function(result){
    // Code here never runs
  }, function(reason){
    // reason.message === 'promise 2' because promise 2 became rejected before
    // promise 1 became fulfilled
  });
  ```

  An example real-world use case is implementing timeouts:

  ```javascript
  Promise.race([ajax('foo.json'), timeout(5000)])
  ```

  @method race
  @static
  @param {Array} promises array of promises to observe
  Useful for tooling.
  @return {Promise} a promise which settles in the same way as the first passed
  promise to settle.
*/
            function race(entries) {
              /*jshint validthis:true */
              var Constructor = this;

              if (!isArray(entries)) {
                return new Constructor(function (_, reject) {
                  return reject(
                    new TypeError('You must pass an array to race.')
                  );
                });
              } else {
                return new Constructor(function (resolve, reject) {
                  var length = entries.length;
                  for (var i = 0; i < length; i++) {
                    Constructor.resolve(entries[i]).then(resolve, reject);
                  }
                });
              }
            }

            /**
  `Promise.reject` returns a promise rejected with the passed `reason`.
  It is shorthand for the following:

  ```javascript
  let promise = new Promise(function(resolve, reject){
    reject(new Error('WHOOPS'));
  });

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  Instead of writing the above, your code now simply becomes the following:

  ```javascript
  let promise = Promise.reject(new Error('WHOOPS'));

  promise.then(function(value){
    // Code here doesn't run because the promise is rejected!
  }, function(reason){
    // reason.message === 'WHOOPS'
  });
  ```

  @method reject
  @static
  @param {Any} reason value that the returned promise will be rejected with.
  Useful for tooling.
  @return {Promise} a promise rejected with the given `reason`.
*/
            function reject$1(reason) {
              /*jshint validthis:true */
              var Constructor = this;
              var promise = new Constructor(noop);
              reject(promise, reason);
              return promise;
            }

            function needsResolver() {
              throw new TypeError(
                'You must pass a resolver function as the first argument to the promise constructor'
              );
            }

            function needsNew() {
              throw new TypeError(
                "Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."
              );
            }

            /**
  Promise objects represent the eventual result of an asynchronous operation. The
  primary way of interacting with a promise is through its `then` method, which
  registers callbacks to receive either a promise's eventual value or the reason
  why the promise cannot be fulfilled.

  Terminology
  -----------

  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.
  - `thenable` is an object or function that defines a `then` method.
  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).
  - `exception` is a value that is thrown using the throw statement.
  - `reason` is a value that indicates why a promise was rejected.
  - `settled` the final resting state of a promise, fulfilled or rejected.

  A promise can be in one of three states: pending, fulfilled, or rejected.

  Promises that are fulfilled have a fulfillment value and are in the fulfilled
  state.  Promises that are rejected have a rejection reason and are in the
  rejected state.  A fulfillment value is never a thenable.

  Promises can also be said to *resolve* a value.  If this value is also a
  promise, then the original promise's settled state will match the value's
  settled state.  So a promise that *resolves* a promise that rejects will
  itself reject, and a promise that *resolves* a promise that fulfills will
  itself fulfill.


  Basic Usage:
  ------------

  ```js
  let promise = new Promise(function(resolve, reject) {
    // on success
    resolve(value);

    // on failure
    reject(reason);
  });

  promise.then(function(value) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Advanced Usage:
  ---------------

  Promises shine when abstracting away asynchronous interactions such as
  `XMLHttpRequest`s.

  ```js
  function getJSON(url) {
    return new Promise(function(resolve, reject){
      let xhr = new XMLHttpRequest();

      xhr.open('GET', url);
      xhr.onreadystatechange = handler;
      xhr.responseType = 'json';
      xhr.setRequestHeader('Accept', 'application/json');
      xhr.send();

      function handler() {
        if (this.readyState === this.DONE) {
          if (this.status === 200) {
            resolve(this.response);
          } else {
            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));
          }
        }
      };
    });
  }

  getJSON('/posts.json').then(function(json) {
    // on fulfillment
  }, function(reason) {
    // on rejection
  });
  ```

  Unlike callbacks, promises are great composable primitives.

  ```js
  Promise.all([
    getJSON('/posts'),
    getJSON('/comments')
  ]).then(function(values){
    values[0] // => postsJSON
    values[1] // => commentsJSON

    return values;
  });
  ```

  @class Promise
  @param {Function} resolver
  Useful for tooling.
  @constructor
*/

            var Promise$1 = (function () {
              function Promise(resolver) {
                this[PROMISE_ID] = nextId();
                this._result = this._state = undefined;
                this._subscribers = [];

                if (noop !== resolver) {
                  typeof resolver !== 'function' && needsResolver();
                  this instanceof Promise
                    ? initializePromise(this, resolver)
                    : needsNew();
                }
              }

              /**
  The primary way of interacting with a promise is through its `then` method,
  which registers callbacks to receive either a promise's eventual value or the
  reason why the promise cannot be fulfilled.
   ```js
  findUser().then(function(user){
    // user is available
  }, function(reason){
    // user is unavailable, and you are given the reason why
  });
  ```
   Chaining
  --------
   The return value of `then` is itself a promise.  This second, 'downstream'
  promise is resolved with the return value of the first promise's fulfillment
  or rejection handler, or rejected if the handler throws an exception.
   ```js
  findUser().then(function (user) {
    return user.name;
  }, function (reason) {
    return 'default name';
  }).then(function (userName) {
    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it
    // will be `'default name'`
  });
   findUser().then(function (user) {
    throw new Error('Found user, but still unhappy');
  }, function (reason) {
    throw new Error('`findUser` rejected and we're unhappy');
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.
    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.
  });
  ```
  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.
   ```js
  findUser().then(function (user) {
    throw new PedagogicalException('Upstream error');
  }).then(function (value) {
    // never reached
  }).then(function (value) {
    // never reached
  }, function (reason) {
    // The `PedgagocialException` is propagated all the way down to here
  });
  ```
   Assimilation
  ------------
   Sometimes the value you want to propagate to a downstream promise can only be
  retrieved asynchronously. This can be achieved by returning a promise in the
  fulfillment or rejection handler. The downstream promise will then be pending
  until the returned promise is settled. This is called *assimilation*.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // The user's comments are now available
  });
  ```
   If the assimliated promise rejects, then the downstream promise will also reject.
   ```js
  findUser().then(function (user) {
    return findCommentsByAuthor(user);
  }).then(function (comments) {
    // If `findCommentsByAuthor` fulfills, we'll have the value here
  }, function (reason) {
    // If `findCommentsByAuthor` rejects, we'll have the reason here
  });
  ```
   Simple Example
  --------------
   Synchronous Example
   ```javascript
  let result;
   try {
    result = findResult();
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
  findResult(function(result, err){
    if (err) {
      // failure
    } else {
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findResult().then(function(result){
    // success
  }, function(reason){
    // failure
  });
  ```
   Advanced Example
  --------------
   Synchronous Example
   ```javascript
  let author, books;
   try {
    author = findAuthor();
    books  = findBooksByAuthor(author);
    // success
  } catch(reason) {
    // failure
  }
  ```
   Errback Example
   ```js
   function foundBooks(books) {
   }
   function failure(reason) {
   }
   findAuthor(function(author, err){
    if (err) {
      failure(err);
      // failure
    } else {
      try {
        findBoooksByAuthor(author, function(books, err) {
          if (err) {
            failure(err);
          } else {
            try {
              foundBooks(books);
            } catch(reason) {
              failure(reason);
            }
          }
        });
      } catch(error) {
        failure(err);
      }
      // success
    }
  });
  ```
   Promise Example;
   ```javascript
  findAuthor().
    then(findBooksByAuthor).
    then(function(books){
      // found books
  }).catch(function(reason){
    // something went wrong
  });
  ```
   @method then
  @param {Function} onFulfilled
  @param {Function} onRejected
  Useful for tooling.
  @return {Promise}
  */

              /**
  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same
  as the catch block of a try/catch statement.
  ```js
  function findAuthor(){
  throw new Error('couldn't find that author');
  }
  // synchronous
  try {
  findAuthor();
  } catch(reason) {
  // something went wrong
  }
  // async with promises
  findAuthor().catch(function(reason){
  // something went wrong
  });
  ```
  @method catch
  @param {Function} onRejection
  Useful for tooling.
  @return {Promise}
  */

              Promise.prototype.catch = function _catch(onRejection) {
                return this.then(null, onRejection);
              };

              /**
    `finally` will be invoked regardless of the promise's fate just as native
    try/catch/finally behaves
  
    Synchronous example:
  
    ```js
    findAuthor() {
      if (Math.random() > 0.5) {
        throw new Error();
      }
      return new Author();
    }
  
    try {
      return findAuthor(); // succeed or fail
    } catch(error) {
      return findOtherAuther();
    } finally {
      // always runs
      // doesn't affect the return value
    }
    ```
  
    Asynchronous example:
  
    ```js
    findAuthor().catch(function(reason){
      return findOtherAuther();
    }).finally(function(){
      // author was either found, or not
    });
    ```
  
    @method finally
    @param {Function} callback
    @return {Promise}
  */

              Promise.prototype.finally = function _finally(callback) {
                var promise = this;
                var constructor = promise.constructor;

                if (isFunction(callback)) {
                  return promise.then(
                    function (value) {
                      return constructor.resolve(callback()).then(function () {
                        return value;
                      });
                    },
                    function (reason) {
                      return constructor.resolve(callback()).then(function () {
                        throw reason;
                      });
                    }
                  );
                }

                return promise.then(callback, callback);
              };

              return Promise;
            })();

            Promise$1.prototype.then = then;
            Promise$1.all = all;
            Promise$1.race = race;
            Promise$1.resolve = resolve$1;
            Promise$1.reject = reject$1;
            Promise$1._setScheduler = setScheduler;
            Promise$1._setAsap = setAsap;
            Promise$1._asap = asap;

            /*global self*/
            function polyfill() {
              var local = void 0;

              if (typeof global !== 'undefined') {
                local = global;
              } else if (typeof self !== 'undefined') {
                local = self;
              } else {
                try {
                  local = Function('return this')();
                } catch (e) {
                  throw new Error(
                    'polyfill failed because global object is unavailable in this environment'
                  );
                }
              }

              var P = local.Promise;

              if (P) {
                var promiseToString = null;
                try {
                  promiseToString = Object.prototype.toString.call(P.resolve());
                } catch (e) {
                  // silently ignored
                }

                if (promiseToString === '[object Promise]' && !P.cast) {
                  return;
                }
              }

              local.Promise = Promise$1;
            }

            // Strange compat..
            Promise$1.polyfill = polyfill;
            Promise$1.Promise = Promise$1;

            return Promise$1;
          });

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../../process/browser.js */ '../node_modules/process/browser.js'
          ),
          __webpack_require__(
            /*! ./../../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          )
        );

        /***/
      },

    /***/ '../node_modules/lodash.merge/index.js':
      /*!*********************************************!*\
  !*** ../node_modules/lodash.merge/index.js ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (global, module) {
          /**
           * Lodash (Custom Build) <https://lodash.com/>
           * Build: `lodash modularize exports="npm" -o ./`
           * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
           * Released under MIT license <https://lodash.com/license>
           * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
           * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
           */

          /** Used as the size to enable large array optimizations. */
          var LARGE_ARRAY_SIZE = 200;

          /** Used to stand-in for `undefined` hash values. */
          var HASH_UNDEFINED = '__lodash_hash_undefined__';

          /** Used to detect hot functions by number of calls within a span of milliseconds. */
          var HOT_COUNT = 800,
            HOT_SPAN = 16;

          /** Used as references for various `Number` constants. */
          var MAX_SAFE_INTEGER = 9007199254740991;

          /** `Object#toString` result references. */
          var argsTag = '[object Arguments]',
            arrayTag = '[object Array]',
            asyncTag = '[object AsyncFunction]',
            boolTag = '[object Boolean]',
            dateTag = '[object Date]',
            errorTag = '[object Error]',
            funcTag = '[object Function]',
            genTag = '[object GeneratorFunction]',
            mapTag = '[object Map]',
            numberTag = '[object Number]',
            nullTag = '[object Null]',
            objectTag = '[object Object]',
            proxyTag = '[object Proxy]',
            regexpTag = '[object RegExp]',
            setTag = '[object Set]',
            stringTag = '[object String]',
            undefinedTag = '[object Undefined]',
            weakMapTag = '[object WeakMap]';

          var arrayBufferTag = '[object ArrayBuffer]',
            dataViewTag = '[object DataView]',
            float32Tag = '[object Float32Array]',
            float64Tag = '[object Float64Array]',
            int8Tag = '[object Int8Array]',
            int16Tag = '[object Int16Array]',
            int32Tag = '[object Int32Array]',
            uint8Tag = '[object Uint8Array]',
            uint8ClampedTag = '[object Uint8ClampedArray]',
            uint16Tag = '[object Uint16Array]',
            uint32Tag = '[object Uint32Array]';

          /**
           * Used to match `RegExp`
           * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
           */
          var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

          /** Used to detect host constructors (Safari). */
          var reIsHostCtor = /^\[object .+?Constructor\]$/;

          /** Used to detect unsigned integer values. */
          var reIsUint = /^(?:0|[1-9]\d*)$/;

          /** Used to identify `toStringTag` values of typed arrays. */
          var typedArrayTags = {};
          typedArrayTags[float32Tag] =
            typedArrayTags[float64Tag] =
            typedArrayTags[int8Tag] =
            typedArrayTags[int16Tag] =
            typedArrayTags[int32Tag] =
            typedArrayTags[uint8Tag] =
            typedArrayTags[uint8ClampedTag] =
            typedArrayTags[uint16Tag] =
            typedArrayTags[uint32Tag] =
              true;
          typedArrayTags[argsTag] =
            typedArrayTags[arrayTag] =
            typedArrayTags[arrayBufferTag] =
            typedArrayTags[boolTag] =
            typedArrayTags[dataViewTag] =
            typedArrayTags[dateTag] =
            typedArrayTags[errorTag] =
            typedArrayTags[funcTag] =
            typedArrayTags[mapTag] =
            typedArrayTags[numberTag] =
            typedArrayTags[objectTag] =
            typedArrayTags[regexpTag] =
            typedArrayTags[setTag] =
            typedArrayTags[stringTag] =
            typedArrayTags[weakMapTag] =
              false;

          /** Detect free variable `global` from Node.js. */
          var freeGlobal =
            typeof global == 'object' &&
            global &&
            global.Object === Object &&
            global;

          /** Detect free variable `self`. */
          var freeSelf =
            typeof self == 'object' && self && self.Object === Object && self;

          /** Used as a reference to the global object. */
          var root = freeGlobal || freeSelf || Function('return this')();

          /** Detect free variable `exports`. */
          var freeExports = true && exports && !exports.nodeType && exports;

          /** Detect free variable `module`. */
          var freeModule =
            freeExports &&
            typeof module == 'object' &&
            module &&
            !module.nodeType &&
            module;

          /** Detect the popular CommonJS extension `module.exports`. */
          var moduleExports = freeModule && freeModule.exports === freeExports;

          /** Detect free variable `process` from Node.js. */
          var freeProcess = moduleExports && freeGlobal.process;

          /** Used to access faster Node.js helpers. */
          var nodeUtil = (function () {
            try {
              // Use `util.types` for Node.js 10+.
              var types =
                freeModule &&
                freeModule.require &&
                freeModule.require('util').types;

              if (types) {
                return types;
              }

              // Legacy `process.binding('util')` for Node.js < 10.
              return (
                freeProcess &&
                freeProcess.binding &&
                freeProcess.binding('util')
              );
            } catch (e) {}
          })();

          /* Node.js helper references. */
          var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

          /**
           * A faster alternative to `Function#apply`, this function invokes `func`
           * with the `this` binding of `thisArg` and the arguments of `args`.
           *
           * @private
           * @param {Function} func The function to invoke.
           * @param {*} thisArg The `this` binding of `func`.
           * @param {Array} args The arguments to invoke `func` with.
           * @returns {*} Returns the result of `func`.
           */
          function apply(func, thisArg, args) {
            switch (args.length) {
              case 0:
                return func.call(thisArg);
              case 1:
                return func.call(thisArg, args[0]);
              case 2:
                return func.call(thisArg, args[0], args[1]);
              case 3:
                return func.call(thisArg, args[0], args[1], args[2]);
            }
            return func.apply(thisArg, args);
          }

          /**
           * The base implementation of `_.times` without support for iteratee shorthands
           * or max array length checks.
           *
           * @private
           * @param {number} n The number of times to invoke `iteratee`.
           * @param {Function} iteratee The function invoked per iteration.
           * @returns {Array} Returns the array of results.
           */
          function baseTimes(n, iteratee) {
            var index = -1,
              result = Array(n);

            while (++index < n) {
              result[index] = iteratee(index);
            }
            return result;
          }

          /**
           * The base implementation of `_.unary` without support for storing metadata.
           *
           * @private
           * @param {Function} func The function to cap arguments for.
           * @returns {Function} Returns the new capped function.
           */
          function baseUnary(func) {
            return function (value) {
              return func(value);
            };
          }

          /**
           * Gets the value at `key` of `object`.
           *
           * @private
           * @param {Object} [object] The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function getValue(object, key) {
            return object == null ? undefined : object[key];
          }

          /**
           * Creates a unary function that invokes `func` with its argument transformed.
           *
           * @private
           * @param {Function} func The function to wrap.
           * @param {Function} transform The argument transform.
           * @returns {Function} Returns the new function.
           */
          function overArg(func, transform) {
            return function (arg) {
              return func(transform(arg));
            };
          }

          /** Used for built-in method references. */
          var arrayProto = Array.prototype,
            funcProto = Function.prototype,
            objectProto = Object.prototype;

          /** Used to detect overreaching core-js shims. */
          var coreJsData = root['__core-js_shared__'];

          /** Used to resolve the decompiled source of functions. */
          var funcToString = funcProto.toString;

          /** Used to check objects for own properties. */
          var hasOwnProperty = objectProto.hasOwnProperty;

          /** Used to detect methods masquerading as native. */
          var maskSrcKey = (function () {
            var uid = /[^.]+$/.exec(
              (coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO) || ''
            );
            return uid ? 'Symbol(src)_1.' + uid : '';
          })();

          /**
           * Used to resolve the
           * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
           * of values.
           */
          var nativeObjectToString = objectProto.toString;

          /** Used to infer the `Object` constructor. */
          var objectCtorString = funcToString.call(Object);

          /** Used to detect if a method is native. */
          var reIsNative = RegExp(
            '^' +
              funcToString
                .call(hasOwnProperty)
                .replace(reRegExpChar, '\\$&')
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  '$1.*?'
                ) +
              '$'
          );

          /** Built-in value references. */
          var Buffer = moduleExports ? root.Buffer : undefined,
            Symbol = root.Symbol,
            Uint8Array = root.Uint8Array,
            allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
            getPrototype = overArg(Object.getPrototypeOf, Object),
            objectCreate = Object.create,
            propertyIsEnumerable = objectProto.propertyIsEnumerable,
            splice = arrayProto.splice,
            symToStringTag = Symbol ? Symbol.toStringTag : undefined;

          var defineProperty = (function () {
            try {
              var func = getNative(Object, 'defineProperty');
              func({}, '', {});
              return func;
            } catch (e) {}
          })();

          /* Built-in method references for those with the same name as other `lodash` methods. */
          var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
            nativeMax = Math.max,
            nativeNow = Date.now;

          /* Built-in method references that are verified to be native. */
          var Map = getNative(root, 'Map'),
            nativeCreate = getNative(Object, 'create');

          /**
           * The base implementation of `_.create` without support for assigning
           * properties to the created object.
           *
           * @private
           * @param {Object} proto The object to inherit from.
           * @returns {Object} Returns the new object.
           */
          var baseCreate = (function () {
            function object() {}
            return function (proto) {
              if (!isObject(proto)) {
                return {};
              }
              if (objectCreate) {
                return objectCreate(proto);
              }
              object.prototype = proto;
              var result = new object();
              object.prototype = undefined;
              return result;
            };
          })();

          /**
           * Creates a hash object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Hash(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the hash.
           *
           * @private
           * @name clear
           * @memberOf Hash
           */
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the hash.
           *
           * @private
           * @name delete
           * @memberOf Hash
           * @param {Object} hash The hash to modify.
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function hashDelete(key) {
            var result = this.has(key) && delete this.__data__[key];
            this.size -= result ? 1 : 0;
            return result;
          }

          /**
           * Gets the hash value for `key`.
           *
           * @private
           * @name get
           * @memberOf Hash
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result = data[key];
              return result === HASH_UNDEFINED ? undefined : result;
            }
            return hasOwnProperty.call(data, key) ? data[key] : undefined;
          }

          /**
           * Checks if a hash value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Hash
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate
              ? data[key] !== undefined
              : hasOwnProperty.call(data, key);
          }

          /**
           * Sets the hash `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Hash
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the hash instance.
           */
          function hashSet(key, value) {
            var data = this.__data__;
            this.size += this.has(key) ? 0 : 1;
            data[key] =
              nativeCreate && value === undefined ? HASH_UNDEFINED : value;
            return this;
          }

          // Add methods to `Hash`.
          Hash.prototype.clear = hashClear;
          Hash.prototype['delete'] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;

          /**
           * Creates an list cache object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function ListCache(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the list cache.
           *
           * @private
           * @name clear
           * @memberOf ListCache
           */
          function listCacheClear() {
            this.__data__ = [];
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the list cache.
           *
           * @private
           * @name delete
           * @memberOf ListCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function listCacheDelete(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index, 1);
            }
            --this.size;
            return true;
          }

          /**
           * Gets the list cache value for `key`.
           *
           * @private
           * @name get
           * @memberOf ListCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function listCacheGet(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            return index < 0 ? undefined : data[index][1];
          }

          /**
           * Checks if a list cache value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf ListCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }

          /**
           * Sets the list cache `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf ListCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the list cache instance.
           */
          function listCacheSet(key, value) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              ++this.size;
              data.push([key, value]);
            } else {
              data[index][1] = value;
            }
            return this;
          }

          // Add methods to `ListCache`.
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype['delete'] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;

          /**
           * Creates a map cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function MapCache(entries) {
            var index = -1,
              length = entries == null ? 0 : entries.length;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the map.
           *
           * @private
           * @name clear
           * @memberOf MapCache
           */
          function mapCacheClear() {
            this.size = 0;
            this.__data__ = {
              hash: new Hash(),
              map: new (Map || ListCache)(),
              string: new Hash(),
            };
          }

          /**
           * Removes `key` and its value from the map.
           *
           * @private
           * @name delete
           * @memberOf MapCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function mapCacheDelete(key) {
            var result = getMapData(this, key)['delete'](key);
            this.size -= result ? 1 : 0;
            return result;
          }

          /**
           * Gets the map value for `key`.
           *
           * @private
           * @name get
           * @memberOf MapCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }

          /**
           * Checks if a map value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf MapCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }

          /**
           * Sets the map `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf MapCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the map cache instance.
           */
          function mapCacheSet(key, value) {
            var data = getMapData(this, key),
              size = data.size;

            data.set(key, value);
            this.size += data.size == size ? 0 : 1;
            return this;
          }

          // Add methods to `MapCache`.
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype['delete'] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;

          /**
           * Creates a stack cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Stack(entries) {
            var data = (this.__data__ = new ListCache(entries));
            this.size = data.size;
          }

          /**
           * Removes all key-value entries from the stack.
           *
           * @private
           * @name clear
           * @memberOf Stack
           */
          function stackClear() {
            this.__data__ = new ListCache();
            this.size = 0;
          }

          /**
           * Removes `key` and its value from the stack.
           *
           * @private
           * @name delete
           * @memberOf Stack
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function stackDelete(key) {
            var data = this.__data__,
              result = data['delete'](key);

            this.size = data.size;
            return result;
          }

          /**
           * Gets the stack value for `key`.
           *
           * @private
           * @name get
           * @memberOf Stack
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function stackGet(key) {
            return this.__data__.get(key);
          }

          /**
           * Checks if a stack value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Stack
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function stackHas(key) {
            return this.__data__.has(key);
          }

          /**
           * Sets the stack `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Stack
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the stack cache instance.
           */
          function stackSet(key, value) {
            var data = this.__data__;
            if (data instanceof ListCache) {
              var pairs = data.__data__;
              if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
                pairs.push([key, value]);
                this.size = ++data.size;
                return this;
              }
              data = this.__data__ = new MapCache(pairs);
            }
            data.set(key, value);
            this.size = data.size;
            return this;
          }

          // Add methods to `Stack`.
          Stack.prototype.clear = stackClear;
          Stack.prototype['delete'] = stackDelete;
          Stack.prototype.get = stackGet;
          Stack.prototype.has = stackHas;
          Stack.prototype.set = stackSet;

          /**
           * Creates an array of the enumerable property names of the array-like `value`.
           *
           * @private
           * @param {*} value The value to query.
           * @param {boolean} inherited Specify returning inherited property names.
           * @returns {Array} Returns the array of property names.
           */
          function arrayLikeKeys(value, inherited) {
            var isArr = isArray(value),
              isArg = !isArr && isArguments(value),
              isBuff = !isArr && !isArg && isBuffer(value),
              isType = !isArr && !isArg && !isBuff && isTypedArray(value),
              skipIndexes = isArr || isArg || isBuff || isType,
              result = skipIndexes ? baseTimes(value.length, String) : [],
              length = result.length;

            for (var key in value) {
              if (
                (inherited || hasOwnProperty.call(value, key)) &&
                !(
                  skipIndexes &&
                  // Safari 9 has enumerable `arguments.length` in strict mode.
                  (key == 'length' ||
                    // Node.js 0.10 has enumerable non-index properties on buffers.
                    (isBuff && (key == 'offset' || key == 'parent')) ||
                    // PhantomJS 2 has enumerable non-index properties on typed arrays.
                    (isType &&
                      (key == 'buffer' ||
                        key == 'byteLength' ||
                        key == 'byteOffset')) ||
                    // Skip index properties.
                    isIndex(key, length))
                )
              ) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * This function is like `assignValue` except that it doesn't assign
           * `undefined` values.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function assignMergeValue(object, key, value) {
            if (
              (value !== undefined && !eq(object[key], value)) ||
              (value === undefined && !(key in object))
            ) {
              baseAssignValue(object, key, value);
            }
          }

          /**
           * Assigns `value` to `key` of `object` if the existing value is not equivalent
           * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * for equality comparisons.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function assignValue(object, key, value) {
            var objValue = object[key];
            if (
              !(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
              (value === undefined && !(key in object))
            ) {
              baseAssignValue(object, key, value);
            }
          }

          /**
           * Gets the index at which the `key` is found in `array` of key-value pairs.
           *
           * @private
           * @param {Array} array The array to inspect.
           * @param {*} key The key to search for.
           * @returns {number} Returns the index of the matched value, else `-1`.
           */
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }

          /**
           * The base implementation of `assignValue` and `assignMergeValue` without
           * value checks.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function baseAssignValue(object, key, value) {
            if (key == '__proto__' && defineProperty) {
              defineProperty(object, key, {
                configurable: true,
                enumerable: true,
                value: value,
                writable: true,
              });
            } else {
              object[key] = value;
            }
          }

          /**
           * The base implementation of `baseForOwn` which iterates over `object`
           * properties returned by `keysFunc` and invokes `iteratee` for each property.
           * Iteratee functions may exit iteration early by explicitly returning `false`.
           *
           * @private
           * @param {Object} object The object to iterate over.
           * @param {Function} iteratee The function invoked per iteration.
           * @param {Function} keysFunc The function to get the keys of `object`.
           * @returns {Object} Returns `object`.
           */
          var baseFor = createBaseFor();

          /**
           * The base implementation of `getTag` without fallbacks for buggy environments.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the `toStringTag`.
           */
          function baseGetTag(value) {
            if (value == null) {
              return value === undefined ? undefinedTag : nullTag;
            }
            return symToStringTag && symToStringTag in Object(value)
              ? getRawTag(value)
              : objectToString(value);
          }

          /**
           * The base implementation of `_.isArguments`.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an `arguments` object,
           */
          function baseIsArguments(value) {
            return isObjectLike(value) && baseGetTag(value) == argsTag;
          }

          /**
           * The base implementation of `_.isNative` without bad shim checks.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a native function,
           *  else `false`.
           */
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
            return pattern.test(toSource(value));
          }

          /**
           * The base implementation of `_.isTypedArray` without Node.js optimizations.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           */
          function baseIsTypedArray(value) {
            return (
              isObjectLike(value) &&
              isLength(value.length) &&
              !!typedArrayTags[baseGetTag(value)]
            );
          }

          /**
           * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           */
          function baseKeysIn(object) {
            if (!isObject(object)) {
              return nativeKeysIn(object);
            }
            var isProto = isPrototype(object),
              result = [];

            for (var key in object) {
              if (
                !(
                  key == 'constructor' &&
                  (isProto || !hasOwnProperty.call(object, key))
                )
              ) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * The base implementation of `_.merge` without support for multiple sources.
           *
           * @private
           * @param {Object} object The destination object.
           * @param {Object} source The source object.
           * @param {number} srcIndex The index of `source`.
           * @param {Function} [customizer] The function to customize merged values.
           * @param {Object} [stack] Tracks traversed source values and their merged
           *  counterparts.
           */
          function baseMerge(object, source, srcIndex, customizer, stack) {
            if (object === source) {
              return;
            }
            baseFor(
              source,
              function (srcValue, key) {
                stack || (stack = new Stack());
                if (isObject(srcValue)) {
                  baseMergeDeep(
                    object,
                    source,
                    key,
                    srcIndex,
                    baseMerge,
                    customizer,
                    stack
                  );
                } else {
                  var newValue = customizer
                    ? customizer(
                        safeGet(object, key),
                        srcValue,
                        key + '',
                        object,
                        source,
                        stack
                      )
                    : undefined;

                  if (newValue === undefined) {
                    newValue = srcValue;
                  }
                  assignMergeValue(object, key, newValue);
                }
              },
              keysIn
            );
          }

          /**
           * A specialized version of `baseMerge` for arrays and objects which performs
           * deep merges and tracks traversed objects enabling objects with circular
           * references to be merged.
           *
           * @private
           * @param {Object} object The destination object.
           * @param {Object} source The source object.
           * @param {string} key The key of the value to merge.
           * @param {number} srcIndex The index of `source`.
           * @param {Function} mergeFunc The function to merge values.
           * @param {Function} [customizer] The function to customize assigned values.
           * @param {Object} [stack] Tracks traversed source values and their merged
           *  counterparts.
           */
          function baseMergeDeep(
            object,
            source,
            key,
            srcIndex,
            mergeFunc,
            customizer,
            stack
          ) {
            var objValue = safeGet(object, key),
              srcValue = safeGet(source, key),
              stacked = stack.get(srcValue);

            if (stacked) {
              assignMergeValue(object, key, stacked);
              return;
            }
            var newValue = customizer
              ? customizer(objValue, srcValue, key + '', object, source, stack)
              : undefined;

            var isCommon = newValue === undefined;

            if (isCommon) {
              var isArr = isArray(srcValue),
                isBuff = !isArr && isBuffer(srcValue),
                isTyped = !isArr && !isBuff && isTypedArray(srcValue);

              newValue = srcValue;
              if (isArr || isBuff || isTyped) {
                if (isArray(objValue)) {
                  newValue = objValue;
                } else if (isArrayLikeObject(objValue)) {
                  newValue = copyArray(objValue);
                } else if (isBuff) {
                  isCommon = false;
                  newValue = cloneBuffer(srcValue, true);
                } else if (isTyped) {
                  isCommon = false;
                  newValue = cloneTypedArray(srcValue, true);
                } else {
                  newValue = [];
                }
              } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
                newValue = objValue;
                if (isArguments(objValue)) {
                  newValue = toPlainObject(objValue);
                } else if (!isObject(objValue) || isFunction(objValue)) {
                  newValue = initCloneObject(srcValue);
                }
              } else {
                isCommon = false;
              }
            }
            if (isCommon) {
              // Recursively merge objects and arrays (susceptible to call stack limits).
              stack.set(srcValue, newValue);
              mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
              stack['delete'](srcValue);
            }
            assignMergeValue(object, key, newValue);
          }

          /**
           * The base implementation of `_.rest` which doesn't validate or coerce arguments.
           *
           * @private
           * @param {Function} func The function to apply a rest parameter to.
           * @param {number} [start=func.length-1] The start position of the rest parameter.
           * @returns {Function} Returns the new function.
           */
          function baseRest(func, start) {
            return setToString(overRest(func, start, identity), func + '');
          }

          /**
           * The base implementation of `setToString` without support for hot loop shorting.
           *
           * @private
           * @param {Function} func The function to modify.
           * @param {Function} string The `toString` result.
           * @returns {Function} Returns `func`.
           */
          var baseSetToString = !defineProperty
            ? identity
            : function (func, string) {
                return defineProperty(func, 'toString', {
                  configurable: true,
                  enumerable: false,
                  value: constant(string),
                  writable: true,
                });
              };

          /**
           * Creates a clone of  `buffer`.
           *
           * @private
           * @param {Buffer} buffer The buffer to clone.
           * @param {boolean} [isDeep] Specify a deep clone.
           * @returns {Buffer} Returns the cloned buffer.
           */
          function cloneBuffer(buffer, isDeep) {
            if (isDeep) {
              return buffer.slice();
            }
            var length = buffer.length,
              result = allocUnsafe
                ? allocUnsafe(length)
                : new buffer.constructor(length);

            buffer.copy(result);
            return result;
          }

          /**
           * Creates a clone of `arrayBuffer`.
           *
           * @private
           * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
           * @returns {ArrayBuffer} Returns the cloned array buffer.
           */
          function cloneArrayBuffer(arrayBuffer) {
            var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
            new Uint8Array(result).set(new Uint8Array(arrayBuffer));
            return result;
          }

          /**
           * Creates a clone of `typedArray`.
           *
           * @private
           * @param {Object} typedArray The typed array to clone.
           * @param {boolean} [isDeep] Specify a deep clone.
           * @returns {Object} Returns the cloned typed array.
           */
          function cloneTypedArray(typedArray, isDeep) {
            var buffer = isDeep
              ? cloneArrayBuffer(typedArray.buffer)
              : typedArray.buffer;
            return new typedArray.constructor(
              buffer,
              typedArray.byteOffset,
              typedArray.length
            );
          }

          /**
           * Copies the values of `source` to `array`.
           *
           * @private
           * @param {Array} source The array to copy values from.
           * @param {Array} [array=[]] The array to copy values to.
           * @returns {Array} Returns `array`.
           */
          function copyArray(source, array) {
            var index = -1,
              length = source.length;

            array || (array = Array(length));
            while (++index < length) {
              array[index] = source[index];
            }
            return array;
          }

          /**
           * Copies properties of `source` to `object`.
           *
           * @private
           * @param {Object} source The object to copy properties from.
           * @param {Array} props The property identifiers to copy.
           * @param {Object} [object={}] The object to copy properties to.
           * @param {Function} [customizer] The function to customize copied values.
           * @returns {Object} Returns `object`.
           */
          function copyObject(source, props, object, customizer) {
            var isNew = !object;
            object || (object = {});

            var index = -1,
              length = props.length;

            while (++index < length) {
              var key = props[index];

              var newValue = customizer
                ? customizer(object[key], source[key], key, object, source)
                : undefined;

              if (newValue === undefined) {
                newValue = source[key];
              }
              if (isNew) {
                baseAssignValue(object, key, newValue);
              } else {
                assignValue(object, key, newValue);
              }
            }
            return object;
          }

          /**
           * Creates a function like `_.assign`.
           *
           * @private
           * @param {Function} assigner The function to assign values.
           * @returns {Function} Returns the new assigner function.
           */
          function createAssigner(assigner) {
            return baseRest(function (object, sources) {
              var index = -1,
                length = sources.length,
                customizer = length > 1 ? sources[length - 1] : undefined,
                guard = length > 2 ? sources[2] : undefined;

              customizer =
                assigner.length > 3 && typeof customizer == 'function'
                  ? (length--, customizer)
                  : undefined;

              if (guard && isIterateeCall(sources[0], sources[1], guard)) {
                customizer = length < 3 ? undefined : customizer;
                length = 1;
              }
              object = Object(object);
              while (++index < length) {
                var source = sources[index];
                if (source) {
                  assigner(object, source, index, customizer);
                }
              }
              return object;
            });
          }

          /**
           * Creates a base function for methods like `_.forIn` and `_.forOwn`.
           *
           * @private
           * @param {boolean} [fromRight] Specify iterating from right to left.
           * @returns {Function} Returns the new base function.
           */
          function createBaseFor(fromRight) {
            return function (object, iteratee, keysFunc) {
              var index = -1,
                iterable = Object(object),
                props = keysFunc(object),
                length = props.length;

              while (length--) {
                var key = props[fromRight ? length : ++index];
                if (iteratee(iterable[key], key, iterable) === false) {
                  break;
                }
              }
              return object;
            };
          }

          /**
           * Gets the data for `map`.
           *
           * @private
           * @param {Object} map The map to query.
           * @param {string} key The reference key.
           * @returns {*} Returns the map data.
           */
          function getMapData(map, key) {
            var data = map.__data__;
            return isKeyable(key)
              ? data[typeof key == 'string' ? 'string' : 'hash']
              : data.map;
          }

          /**
           * Gets the native function at `key` of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the method to get.
           * @returns {*} Returns the function if it's native, else `undefined`.
           */
          function getNative(object, key) {
            var value = getValue(object, key);
            return baseIsNative(value) ? value : undefined;
          }

          /**
           * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the raw `toStringTag`.
           */
          function getRawTag(value) {
            var isOwn = hasOwnProperty.call(value, symToStringTag),
              tag = value[symToStringTag];

            try {
              value[symToStringTag] = undefined;
              var unmasked = true;
            } catch (e) {}

            var result = nativeObjectToString.call(value);
            if (unmasked) {
              if (isOwn) {
                value[symToStringTag] = tag;
              } else {
                delete value[symToStringTag];
              }
            }
            return result;
          }

          /**
           * Initializes an object clone.
           *
           * @private
           * @param {Object} object The object to clone.
           * @returns {Object} Returns the initialized clone.
           */
          function initCloneObject(object) {
            return typeof object.constructor == 'function' &&
              !isPrototype(object)
              ? baseCreate(getPrototype(object))
              : {};
          }

          /**
           * Checks if `value` is a valid array-like index.
           *
           * @private
           * @param {*} value The value to check.
           * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
           * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
           */
          function isIndex(value, length) {
            var type = typeof value;
            length = length == null ? MAX_SAFE_INTEGER : length;

            return (
              !!length &&
              (type == 'number' ||
                (type != 'symbol' && reIsUint.test(value))) &&
              value > -1 &&
              value % 1 == 0 &&
              value < length
            );
          }

          /**
           * Checks if the given arguments are from an iteratee call.
           *
           * @private
           * @param {*} value The potential iteratee value argument.
           * @param {*} index The potential iteratee index or key argument.
           * @param {*} object The potential iteratee object argument.
           * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
           *  else `false`.
           */
          function isIterateeCall(value, index, object) {
            if (!isObject(object)) {
              return false;
            }
            var type = typeof index;
            if (
              type == 'number'
                ? isArrayLike(object) && isIndex(index, object.length)
                : type == 'string' && index in object
            ) {
              return eq(object[index], value);
            }
            return false;
          }

          /**
           * Checks if `value` is suitable for use as unique object key.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
           */
          function isKeyable(value) {
            var type = typeof value;
            return type == 'string' ||
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean'
              ? value !== '__proto__'
              : value === null;
          }

          /**
           * Checks if `func` has its source masked.
           *
           * @private
           * @param {Function} func The function to check.
           * @returns {boolean} Returns `true` if `func` is masked, else `false`.
           */
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }

          /**
           * Checks if `value` is likely a prototype object.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
           */
          function isPrototype(value) {
            var Ctor = value && value.constructor,
              proto =
                (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

            return value === proto;
          }

          /**
           * This function is like
           * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
           * except that it includes inherited enumerable properties.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           */
          function nativeKeysIn(object) {
            var result = [];
            if (object != null) {
              for (var key in Object(object)) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * Converts `value` to a string using `Object.prototype.toString`.
           *
           * @private
           * @param {*} value The value to convert.
           * @returns {string} Returns the converted string.
           */
          function objectToString(value) {
            return nativeObjectToString.call(value);
          }

          /**
           * A specialized version of `baseRest` which transforms the rest array.
           *
           * @private
           * @param {Function} func The function to apply a rest parameter to.
           * @param {number} [start=func.length-1] The start position of the rest parameter.
           * @param {Function} transform The rest array transform.
           * @returns {Function} Returns the new function.
           */
          function overRest(func, start, transform) {
            start = nativeMax(start === undefined ? func.length - 1 : start, 0);
            return function () {
              var args = arguments,
                index = -1,
                length = nativeMax(args.length - start, 0),
                array = Array(length);

              while (++index < length) {
                array[index] = args[start + index];
              }
              index = -1;
              var otherArgs = Array(start + 1);
              while (++index < start) {
                otherArgs[index] = args[index];
              }
              otherArgs[start] = transform(array);
              return apply(func, this, otherArgs);
            };
          }

          /**
           * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function safeGet(object, key) {
            if (key === 'constructor' && typeof object[key] === 'function') {
              return;
            }

            if (key == '__proto__') {
              return;
            }

            return object[key];
          }

          /**
           * Sets the `toString` method of `func` to return `string`.
           *
           * @private
           * @param {Function} func The function to modify.
           * @param {Function} string The `toString` result.
           * @returns {Function} Returns `func`.
           */
          var setToString = shortOut(baseSetToString);

          /**
           * Creates a function that'll short out and invoke `identity` instead
           * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
           * milliseconds.
           *
           * @private
           * @param {Function} func The function to restrict.
           * @returns {Function} Returns the new shortable function.
           */
          function shortOut(func) {
            var count = 0,
              lastCalled = 0;

            return function () {
              var stamp = nativeNow(),
                remaining = HOT_SPAN - (stamp - lastCalled);

              lastCalled = stamp;
              if (remaining > 0) {
                if (++count >= HOT_COUNT) {
                  return arguments[0];
                }
              } else {
                count = 0;
              }
              return func.apply(undefined, arguments);
            };
          }

          /**
           * Converts `func` to its source code.
           *
           * @private
           * @param {Function} func The function to convert.
           * @returns {string} Returns the source code.
           */
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e) {}
              try {
                return func + '';
              } catch (e) {}
            }
            return '';
          }

          /**
           * Performs a
           * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * comparison between two values to determine if they are equivalent.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to compare.
           * @param {*} other The other value to compare.
           * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
           * @example
           *
           * var object = { 'a': 1 };
           * var other = { 'a': 1 };
           *
           * _.eq(object, object);
           * // => true
           *
           * _.eq(object, other);
           * // => false
           *
           * _.eq('a', 'a');
           * // => true
           *
           * _.eq('a', Object('a'));
           * // => false
           *
           * _.eq(NaN, NaN);
           * // => true
           */
          function eq(value, other) {
            return value === other || (value !== value && other !== other);
          }

          /**
           * Checks if `value` is likely an `arguments` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an `arguments` object,
           *  else `false`.
           * @example
           *
           * _.isArguments(function() { return arguments; }());
           * // => true
           *
           * _.isArguments([1, 2, 3]);
           * // => false
           */
          var isArguments = baseIsArguments(
            (function () {
              return arguments;
            })()
          )
            ? baseIsArguments
            : function (value) {
                return (
                  isObjectLike(value) &&
                  hasOwnProperty.call(value, 'callee') &&
                  !propertyIsEnumerable.call(value, 'callee')
                );
              };

          /**
           * Checks if `value` is classified as an `Array` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array, else `false`.
           * @example
           *
           * _.isArray([1, 2, 3]);
           * // => true
           *
           * _.isArray(document.body.children);
           * // => false
           *
           * _.isArray('abc');
           * // => false
           *
           * _.isArray(_.noop);
           * // => false
           */
          var isArray = Array.isArray;

          /**
           * Checks if `value` is array-like. A value is considered array-like if it's
           * not a function and has a `value.length` that's an integer greater than or
           * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
           * @example
           *
           * _.isArrayLike([1, 2, 3]);
           * // => true
           *
           * _.isArrayLike(document.body.children);
           * // => true
           *
           * _.isArrayLike('abc');
           * // => true
           *
           * _.isArrayLike(_.noop);
           * // => false
           */
          function isArrayLike(value) {
            return (
              value != null && isLength(value.length) && !isFunction(value)
            );
          }

          /**
           * This method is like `_.isArrayLike` except that it also checks if `value`
           * is an object.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array-like object,
           *  else `false`.
           * @example
           *
           * _.isArrayLikeObject([1, 2, 3]);
           * // => true
           *
           * _.isArrayLikeObject(document.body.children);
           * // => true
           *
           * _.isArrayLikeObject('abc');
           * // => false
           *
           * _.isArrayLikeObject(_.noop);
           * // => false
           */
          function isArrayLikeObject(value) {
            return isObjectLike(value) && isArrayLike(value);
          }

          /**
           * Checks if `value` is a buffer.
           *
           * @static
           * @memberOf _
           * @since 4.3.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
           * @example
           *
           * _.isBuffer(new Buffer(2));
           * // => true
           *
           * _.isBuffer(new Uint8Array(2));
           * // => false
           */
          var isBuffer = nativeIsBuffer || stubFalse;

          /**
           * Checks if `value` is classified as a `Function` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a function, else `false`.
           * @example
           *
           * _.isFunction(_);
           * // => true
           *
           * _.isFunction(/abc/);
           * // => false
           */
          function isFunction(value) {
            if (!isObject(value)) {
              return false;
            }
            // The use of `Object#toString` avoids issues with the `typeof` operator
            // in Safari 9 which returns 'object' for typed arrays and other constructors.
            var tag = baseGetTag(value);
            return (
              tag == funcTag ||
              tag == genTag ||
              tag == asyncTag ||
              tag == proxyTag
            );
          }

          /**
           * Checks if `value` is a valid array-like length.
           *
           * **Note:** This method is loosely based on
           * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
           * @example
           *
           * _.isLength(3);
           * // => true
           *
           * _.isLength(Number.MIN_VALUE);
           * // => false
           *
           * _.isLength(Infinity);
           * // => false
           *
           * _.isLength('3');
           * // => false
           */
          function isLength(value) {
            return (
              typeof value == 'number' &&
              value > -1 &&
              value % 1 == 0 &&
              value <= MAX_SAFE_INTEGER
            );
          }

          /**
           * Checks if `value` is the
           * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
           * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an object, else `false`.
           * @example
           *
           * _.isObject({});
           * // => true
           *
           * _.isObject([1, 2, 3]);
           * // => true
           *
           * _.isObject(_.noop);
           * // => true
           *
           * _.isObject(null);
           * // => false
           */
          function isObject(value) {
            var type = typeof value;
            return value != null && (type == 'object' || type == 'function');
          }

          /**
           * Checks if `value` is object-like. A value is object-like if it's not `null`
           * and has a `typeof` result of "object".
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
           * @example
           *
           * _.isObjectLike({});
           * // => true
           *
           * _.isObjectLike([1, 2, 3]);
           * // => true
           *
           * _.isObjectLike(_.noop);
           * // => false
           *
           * _.isObjectLike(null);
           * // => false
           */
          function isObjectLike(value) {
            return value != null && typeof value == 'object';
          }

          /**
           * Checks if `value` is a plain object, that is, an object created by the
           * `Object` constructor or one with a `[[Prototype]]` of `null`.
           *
           * @static
           * @memberOf _
           * @since 0.8.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
           * @example
           *
           * function Foo() {
           *   this.a = 1;
           * }
           *
           * _.isPlainObject(new Foo);
           * // => false
           *
           * _.isPlainObject([1, 2, 3]);
           * // => false
           *
           * _.isPlainObject({ 'x': 0, 'y': 0 });
           * // => true
           *
           * _.isPlainObject(Object.create(null));
           * // => true
           */
          function isPlainObject(value) {
            if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
              return false;
            }
            var proto = getPrototype(value);
            if (proto === null) {
              return true;
            }
            var Ctor =
              hasOwnProperty.call(proto, 'constructor') && proto.constructor;
            return (
              typeof Ctor == 'function' &&
              Ctor instanceof Ctor &&
              funcToString.call(Ctor) == objectCtorString
            );
          }

          /**
           * Checks if `value` is classified as a typed array.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           * @example
           *
           * _.isTypedArray(new Uint8Array);
           * // => true
           *
           * _.isTypedArray([]);
           * // => false
           */
          var isTypedArray = nodeIsTypedArray
            ? baseUnary(nodeIsTypedArray)
            : baseIsTypedArray;

          /**
           * Converts `value` to a plain object flattening inherited enumerable string
           * keyed properties of `value` to own properties of the plain object.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Lang
           * @param {*} value The value to convert.
           * @returns {Object} Returns the converted plain object.
           * @example
           *
           * function Foo() {
           *   this.b = 2;
           * }
           *
           * Foo.prototype.c = 3;
           *
           * _.assign({ 'a': 1 }, new Foo);
           * // => { 'a': 1, 'b': 2 }
           *
           * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
           * // => { 'a': 1, 'b': 2, 'c': 3 }
           */
          function toPlainObject(value) {
            return copyObject(value, keysIn(value));
          }

          /**
           * Creates an array of the own and inherited enumerable property names of `object`.
           *
           * **Note:** Non-object values are coerced to objects.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Object
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           * @example
           *
           * function Foo() {
           *   this.a = 1;
           *   this.b = 2;
           * }
           *
           * Foo.prototype.c = 3;
           *
           * _.keysIn(new Foo);
           * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
           */
          function keysIn(object) {
            return isArrayLike(object)
              ? arrayLikeKeys(object, true)
              : baseKeysIn(object);
          }

          /**
           * This method is like `_.assign` except that it recursively merges own and
           * inherited enumerable string keyed properties of source objects into the
           * destination object. Source properties that resolve to `undefined` are
           * skipped if a destination value exists. Array and plain object properties
           * are merged recursively. Other objects and value types are overridden by
           * assignment. Source objects are applied from left to right. Subsequent
           * sources overwrite property assignments of previous sources.
           *
           * **Note:** This method mutates `object`.
           *
           * @static
           * @memberOf _
           * @since 0.5.0
           * @category Object
           * @param {Object} object The destination object.
           * @param {...Object} [sources] The source objects.
           * @returns {Object} Returns `object`.
           * @example
           *
           * var object = {
           *   'a': [{ 'b': 2 }, { 'd': 4 }]
           * };
           *
           * var other = {
           *   'a': [{ 'c': 3 }, { 'e': 5 }]
           * };
           *
           * _.merge(object, other);
           * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
           */
          var merge = createAssigner(function (object, source, srcIndex) {
            baseMerge(object, source, srcIndex);
          });

          /**
           * Creates a function that returns `value`.
           *
           * @static
           * @memberOf _
           * @since 2.4.0
           * @category Util
           * @param {*} value The value to return from the new function.
           * @returns {Function} Returns the new constant function.
           * @example
           *
           * var objects = _.times(2, _.constant({ 'a': 1 }));
           *
           * console.log(objects);
           * // => [{ 'a': 1 }, { 'a': 1 }]
           *
           * console.log(objects[0] === objects[1]);
           * // => true
           */
          function constant(value) {
            return function () {
              return value;
            };
          }

          /**
           * This method returns the first argument it receives.
           *
           * @static
           * @since 0.1.0
           * @memberOf _
           * @category Util
           * @param {*} value Any value.
           * @returns {*} Returns `value`.
           * @example
           *
           * var object = { 'a': 1 };
           *
           * console.log(_.identity(object) === object);
           * // => true
           */
          function identity(value) {
            return value;
          }

          /**
           * This method returns `false`.
           *
           * @static
           * @memberOf _
           * @since 4.13.0
           * @category Util
           * @returns {boolean} Returns `false`.
           * @example
           *
           * _.times(2, _.stubFalse);
           * // => [false, false]
           */
          function stubFalse() {
            return false;
          }

          module.exports = merge;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          ),
          __webpack_require__(
            /*! ./../webpack/buildin/module.js */ '../node_modules/webpack/buildin/module.js'
          )(module)
        );

        /***/
      },

    /***/ '../node_modules/lodash.remove/index.js':
      /*!**********************************************!*\
  !*** ../node_modules/lodash.remove/index.js ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (global, module) {
          /**
           * lodash (Custom Build) <https://lodash.com/>
           * Build: `lodash modularize exports="npm" -o ./`
           * Copyright jQuery Foundation and other contributors <https://jquery.org/>
           * Released under MIT license <https://lodash.com/license>
           * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
           * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
           */

          /** Used as the size to enable large array optimizations. */
          var LARGE_ARRAY_SIZE = 200;

          /** Used as the `TypeError` message for "Functions" methods. */
          var FUNC_ERROR_TEXT = 'Expected a function';

          /** Used to stand-in for `undefined` hash values. */
          var HASH_UNDEFINED = '__lodash_hash_undefined__';

          /** Used to compose bitmasks for comparison styles. */
          var UNORDERED_COMPARE_FLAG = 1,
            PARTIAL_COMPARE_FLAG = 2;

          /** Used as references for various `Number` constants. */
          var INFINITY = 1 / 0,
            MAX_SAFE_INTEGER = 9007199254740991;

          /** `Object#toString` result references. */
          var argsTag = '[object Arguments]',
            arrayTag = '[object Array]',
            boolTag = '[object Boolean]',
            dateTag = '[object Date]',
            errorTag = '[object Error]',
            funcTag = '[object Function]',
            genTag = '[object GeneratorFunction]',
            mapTag = '[object Map]',
            numberTag = '[object Number]',
            objectTag = '[object Object]',
            promiseTag = '[object Promise]',
            regexpTag = '[object RegExp]',
            setTag = '[object Set]',
            stringTag = '[object String]',
            symbolTag = '[object Symbol]',
            weakMapTag = '[object WeakMap]';

          var arrayBufferTag = '[object ArrayBuffer]',
            dataViewTag = '[object DataView]',
            float32Tag = '[object Float32Array]',
            float64Tag = '[object Float64Array]',
            int8Tag = '[object Int8Array]',
            int16Tag = '[object Int16Array]',
            int32Tag = '[object Int32Array]',
            uint8Tag = '[object Uint8Array]',
            uint8ClampedTag = '[object Uint8ClampedArray]',
            uint16Tag = '[object Uint16Array]',
            uint32Tag = '[object Uint32Array]';

          /** Used to match property names within property paths. */
          var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            reIsPlainProp = /^\w*$/,
            reLeadingDot = /^\./,
            rePropName =
              /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

          /**
           * Used to match `RegExp`
           * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
           */
          var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

          /** Used to match backslashes in property paths. */
          var reEscapeChar = /\\(\\)?/g;

          /** Used to detect host constructors (Safari). */
          var reIsHostCtor = /^\[object .+?Constructor\]$/;

          /** Used to detect unsigned integer values. */
          var reIsUint = /^(?:0|[1-9]\d*)$/;

          /** Used to identify `toStringTag` values of typed arrays. */
          var typedArrayTags = {};
          typedArrayTags[float32Tag] =
            typedArrayTags[float64Tag] =
            typedArrayTags[int8Tag] =
            typedArrayTags[int16Tag] =
            typedArrayTags[int32Tag] =
            typedArrayTags[uint8Tag] =
            typedArrayTags[uint8ClampedTag] =
            typedArrayTags[uint16Tag] =
            typedArrayTags[uint32Tag] =
              true;
          typedArrayTags[argsTag] =
            typedArrayTags[arrayTag] =
            typedArrayTags[arrayBufferTag] =
            typedArrayTags[boolTag] =
            typedArrayTags[dataViewTag] =
            typedArrayTags[dateTag] =
            typedArrayTags[errorTag] =
            typedArrayTags[funcTag] =
            typedArrayTags[mapTag] =
            typedArrayTags[numberTag] =
            typedArrayTags[objectTag] =
            typedArrayTags[regexpTag] =
            typedArrayTags[setTag] =
            typedArrayTags[stringTag] =
            typedArrayTags[weakMapTag] =
              false;

          /** Detect free variable `global` from Node.js. */
          var freeGlobal =
            typeof global == 'object' &&
            global &&
            global.Object === Object &&
            global;

          /** Detect free variable `self`. */
          var freeSelf =
            typeof self == 'object' && self && self.Object === Object && self;

          /** Used as a reference to the global object. */
          var root = freeGlobal || freeSelf || Function('return this')();

          /** Detect free variable `exports`. */
          var freeExports = true && exports && !exports.nodeType && exports;

          /** Detect free variable `module`. */
          var freeModule =
            freeExports &&
            typeof module == 'object' &&
            module &&
            !module.nodeType &&
            module;

          /** Detect the popular CommonJS extension `module.exports`. */
          var moduleExports = freeModule && freeModule.exports === freeExports;

          /** Detect free variable `process` from Node.js. */
          var freeProcess = moduleExports && freeGlobal.process;

          /** Used to access faster Node.js helpers. */
          var nodeUtil = (function () {
            try {
              return freeProcess && freeProcess.binding('util');
            } catch (e) {}
          })();

          /* Node.js helper references. */
          var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

          /**
           * A specialized version of `_.some` for arrays without support for iteratee
           * shorthands.
           *
           * @private
           * @param {Array} [array] The array to iterate over.
           * @param {Function} predicate The function invoked per iteration.
           * @returns {boolean} Returns `true` if any element passes the predicate check,
           *  else `false`.
           */
          function arraySome(array, predicate) {
            var index = -1,
              length = array ? array.length : 0;

            while (++index < length) {
              if (predicate(array[index], index, array)) {
                return true;
              }
            }
            return false;
          }

          /**
           * The base implementation of `_.property` without support for deep paths.
           *
           * @private
           * @param {string} key The key of the property to get.
           * @returns {Function} Returns the new accessor function.
           */
          function baseProperty(key) {
            return function (object) {
              return object == null ? undefined : object[key];
            };
          }

          /**
           * The base implementation of `_.times` without support for iteratee shorthands
           * or max array length checks.
           *
           * @private
           * @param {number} n The number of times to invoke `iteratee`.
           * @param {Function} iteratee The function invoked per iteration.
           * @returns {Array} Returns the array of results.
           */
          function baseTimes(n, iteratee) {
            var index = -1,
              result = Array(n);

            while (++index < n) {
              result[index] = iteratee(index);
            }
            return result;
          }

          /**
           * The base implementation of `_.unary` without support for storing metadata.
           *
           * @private
           * @param {Function} func The function to cap arguments for.
           * @returns {Function} Returns the new capped function.
           */
          function baseUnary(func) {
            return function (value) {
              return func(value);
            };
          }

          /**
           * Gets the value at `key` of `object`.
           *
           * @private
           * @param {Object} [object] The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function getValue(object, key) {
            return object == null ? undefined : object[key];
          }

          /**
           * Checks if `value` is a host object in IE < 9.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
           */
          function isHostObject(value) {
            // Many host objects are `Object` objects that can coerce to strings
            // despite having improperly defined `toString` methods.
            var result = false;
            if (value != null && typeof value.toString != 'function') {
              try {
                result = !!(value + '');
              } catch (e) {}
            }
            return result;
          }

          /**
           * Converts `map` to its key-value pairs.
           *
           * @private
           * @param {Object} map The map to convert.
           * @returns {Array} Returns the key-value pairs.
           */
          function mapToArray(map) {
            var index = -1,
              result = Array(map.size);

            map.forEach(function (value, key) {
              result[++index] = [key, value];
            });
            return result;
          }

          /**
           * Creates a unary function that invokes `func` with its argument transformed.
           *
           * @private
           * @param {Function} func The function to wrap.
           * @param {Function} transform The argument transform.
           * @returns {Function} Returns the new function.
           */
          function overArg(func, transform) {
            return function (arg) {
              return func(transform(arg));
            };
          }

          /**
           * Converts `set` to an array of its values.
           *
           * @private
           * @param {Object} set The set to convert.
           * @returns {Array} Returns the values.
           */
          function setToArray(set) {
            var index = -1,
              result = Array(set.size);

            set.forEach(function (value) {
              result[++index] = value;
            });
            return result;
          }

          /** Used for built-in method references. */
          var arrayProto = Array.prototype,
            funcProto = Function.prototype,
            objectProto = Object.prototype;

          /** Used to detect overreaching core-js shims. */
          var coreJsData = root['__core-js_shared__'];

          /** Used to detect methods masquerading as native. */
          var maskSrcKey = (function () {
            var uid = /[^.]+$/.exec(
              (coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO) || ''
            );
            return uid ? 'Symbol(src)_1.' + uid : '';
          })();

          /** Used to resolve the decompiled source of functions. */
          var funcToString = funcProto.toString;

          /** Used to check objects for own properties. */
          var hasOwnProperty = objectProto.hasOwnProperty;

          /**
           * Used to resolve the
           * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
           * of values.
           */
          var objectToString = objectProto.toString;

          /** Used to detect if a method is native. */
          var reIsNative = RegExp(
            '^' +
              funcToString
                .call(hasOwnProperty)
                .replace(reRegExpChar, '\\$&')
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  '$1.*?'
                ) +
              '$'
          );

          /** Built-in value references. */
          var Symbol = root.Symbol,
            Uint8Array = root.Uint8Array,
            propertyIsEnumerable = objectProto.propertyIsEnumerable,
            splice = arrayProto.splice;

          /* Built-in method references for those with the same name as other `lodash` methods. */
          var nativeKeys = overArg(Object.keys, Object);

          /* Built-in method references that are verified to be native. */
          var DataView = getNative(root, 'DataView'),
            Map = getNative(root, 'Map'),
            Promise = getNative(root, 'Promise'),
            Set = getNative(root, 'Set'),
            WeakMap = getNative(root, 'WeakMap'),
            nativeCreate = getNative(Object, 'create');

          /** Used to detect maps, sets, and weakmaps. */
          var dataViewCtorString = toSource(DataView),
            mapCtorString = toSource(Map),
            promiseCtorString = toSource(Promise),
            setCtorString = toSource(Set),
            weakMapCtorString = toSource(WeakMap);

          /** Used to convert symbols to primitives and strings. */
          var symbolProto = Symbol ? Symbol.prototype : undefined,
            symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
            symbolToString = symbolProto ? symbolProto.toString : undefined;

          /**
           * Creates a hash object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Hash(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the hash.
           *
           * @private
           * @name clear
           * @memberOf Hash
           */
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
          }

          /**
           * Removes `key` and its value from the hash.
           *
           * @private
           * @name delete
           * @memberOf Hash
           * @param {Object} hash The hash to modify.
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function hashDelete(key) {
            return this.has(key) && delete this.__data__[key];
          }

          /**
           * Gets the hash value for `key`.
           *
           * @private
           * @name get
           * @memberOf Hash
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result = data[key];
              return result === HASH_UNDEFINED ? undefined : result;
            }
            return hasOwnProperty.call(data, key) ? data[key] : undefined;
          }

          /**
           * Checks if a hash value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Hash
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate
              ? data[key] !== undefined
              : hasOwnProperty.call(data, key);
          }

          /**
           * Sets the hash `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Hash
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the hash instance.
           */
          function hashSet(key, value) {
            var data = this.__data__;
            data[key] =
              nativeCreate && value === undefined ? HASH_UNDEFINED : value;
            return this;
          }

          // Add methods to `Hash`.
          Hash.prototype.clear = hashClear;
          Hash.prototype['delete'] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;

          /**
           * Creates an list cache object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function ListCache(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the list cache.
           *
           * @private
           * @name clear
           * @memberOf ListCache
           */
          function listCacheClear() {
            this.__data__ = [];
          }

          /**
           * Removes `key` and its value from the list cache.
           *
           * @private
           * @name delete
           * @memberOf ListCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function listCacheDelete(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index, 1);
            }
            return true;
          }

          /**
           * Gets the list cache value for `key`.
           *
           * @private
           * @name get
           * @memberOf ListCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function listCacheGet(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            return index < 0 ? undefined : data[index][1];
          }

          /**
           * Checks if a list cache value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf ListCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }

          /**
           * Sets the list cache `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf ListCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the list cache instance.
           */
          function listCacheSet(key, value) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              data.push([key, value]);
            } else {
              data[index][1] = value;
            }
            return this;
          }

          // Add methods to `ListCache`.
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype['delete'] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;

          /**
           * Creates a map cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function MapCache(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the map.
           *
           * @private
           * @name clear
           * @memberOf MapCache
           */
          function mapCacheClear() {
            this.__data__ = {
              hash: new Hash(),
              map: new (Map || ListCache)(),
              string: new Hash(),
            };
          }

          /**
           * Removes `key` and its value from the map.
           *
           * @private
           * @name delete
           * @memberOf MapCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function mapCacheDelete(key) {
            return getMapData(this, key)['delete'](key);
          }

          /**
           * Gets the map value for `key`.
           *
           * @private
           * @name get
           * @memberOf MapCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }

          /**
           * Checks if a map value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf MapCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }

          /**
           * Sets the map `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf MapCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the map cache instance.
           */
          function mapCacheSet(key, value) {
            getMapData(this, key).set(key, value);
            return this;
          }

          // Add methods to `MapCache`.
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype['delete'] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;

          /**
           *
           * Creates an array cache object to store unique values.
           *
           * @private
           * @constructor
           * @param {Array} [values] The values to cache.
           */
          function SetCache(values) {
            var index = -1,
              length = values ? values.length : 0;

            this.__data__ = new MapCache();
            while (++index < length) {
              this.add(values[index]);
            }
          }

          /**
           * Adds `value` to the array cache.
           *
           * @private
           * @name add
           * @memberOf SetCache
           * @alias push
           * @param {*} value The value to cache.
           * @returns {Object} Returns the cache instance.
           */
          function setCacheAdd(value) {
            this.__data__.set(value, HASH_UNDEFINED);
            return this;
          }

          /**
           * Checks if `value` is in the array cache.
           *
           * @private
           * @name has
           * @memberOf SetCache
           * @param {*} value The value to search for.
           * @returns {number} Returns `true` if `value` is found, else `false`.
           */
          function setCacheHas(value) {
            return this.__data__.has(value);
          }

          // Add methods to `SetCache`.
          SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
          SetCache.prototype.has = setCacheHas;

          /**
           * Creates a stack cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Stack(entries) {
            this.__data__ = new ListCache(entries);
          }

          /**
           * Removes all key-value entries from the stack.
           *
           * @private
           * @name clear
           * @memberOf Stack
           */
          function stackClear() {
            this.__data__ = new ListCache();
          }

          /**
           * Removes `key` and its value from the stack.
           *
           * @private
           * @name delete
           * @memberOf Stack
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function stackDelete(key) {
            return this.__data__['delete'](key);
          }

          /**
           * Gets the stack value for `key`.
           *
           * @private
           * @name get
           * @memberOf Stack
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function stackGet(key) {
            return this.__data__.get(key);
          }

          /**
           * Checks if a stack value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Stack
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function stackHas(key) {
            return this.__data__.has(key);
          }

          /**
           * Sets the stack `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Stack
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the stack cache instance.
           */
          function stackSet(key, value) {
            var cache = this.__data__;
            if (cache instanceof ListCache) {
              var pairs = cache.__data__;
              if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
                pairs.push([key, value]);
                return this;
              }
              cache = this.__data__ = new MapCache(pairs);
            }
            cache.set(key, value);
            return this;
          }

          // Add methods to `Stack`.
          Stack.prototype.clear = stackClear;
          Stack.prototype['delete'] = stackDelete;
          Stack.prototype.get = stackGet;
          Stack.prototype.has = stackHas;
          Stack.prototype.set = stackSet;

          /**
           * Creates an array of the enumerable property names of the array-like `value`.
           *
           * @private
           * @param {*} value The value to query.
           * @param {boolean} inherited Specify returning inherited property names.
           * @returns {Array} Returns the array of property names.
           */
          function arrayLikeKeys(value, inherited) {
            // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
            // Safari 9 makes `arguments.length` enumerable in strict mode.
            var result =
              isArray(value) || isArguments(value)
                ? baseTimes(value.length, String)
                : [];

            var length = result.length,
              skipIndexes = !!length;

            for (var key in value) {
              if (
                (inherited || hasOwnProperty.call(value, key)) &&
                !(skipIndexes && (key == 'length' || isIndex(key, length)))
              ) {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * Gets the index at which the `key` is found in `array` of key-value pairs.
           *
           * @private
           * @param {Array} array The array to inspect.
           * @param {*} key The key to search for.
           * @returns {number} Returns the index of the matched value, else `-1`.
           */
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }

          /**
           * The base implementation of `_.get` without support for default values.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {Array|string} path The path of the property to get.
           * @returns {*} Returns the resolved value.
           */
          function baseGet(object, path) {
            path = isKey(path, object) ? [path] : castPath(path);

            var index = 0,
              length = path.length;

            while (object != null && index < length) {
              object = object[toKey(path[index++])];
            }
            return index && index == length ? object : undefined;
          }

          /**
           * The base implementation of `getTag`.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the `toStringTag`.
           */
          function baseGetTag(value) {
            return objectToString.call(value);
          }

          /**
           * The base implementation of `_.hasIn` without support for deep paths.
           *
           * @private
           * @param {Object} [object] The object to query.
           * @param {Array|string} key The key to check.
           * @returns {boolean} Returns `true` if `key` exists, else `false`.
           */
          function baseHasIn(object, key) {
            return object != null && key in Object(object);
          }

          /**
           * The base implementation of `_.isEqual` which supports partial comparisons
           * and tracks traversed objects.
           *
           * @private
           * @param {*} value The value to compare.
           * @param {*} other The other value to compare.
           * @param {Function} [customizer] The function to customize comparisons.
           * @param {boolean} [bitmask] The bitmask of comparison flags.
           *  The bitmask may be composed of the following flags:
           *     1 - Unordered comparison
           *     2 - Partial comparison
           * @param {Object} [stack] Tracks traversed `value` and `other` objects.
           * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
           */
          function baseIsEqual(value, other, customizer, bitmask, stack) {
            if (value === other) {
              return true;
            }
            if (
              value == null ||
              other == null ||
              (!isObject(value) && !isObjectLike(other))
            ) {
              return value !== value && other !== other;
            }
            return baseIsEqualDeep(
              value,
              other,
              baseIsEqual,
              customizer,
              bitmask,
              stack
            );
          }

          /**
           * A specialized version of `baseIsEqual` for arrays and objects which performs
           * deep comparisons and tracks traversed objects enabling objects with circular
           * references to be compared.
           *
           * @private
           * @param {Object} object The object to compare.
           * @param {Object} other The other object to compare.
           * @param {Function} equalFunc The function to determine equivalents of values.
           * @param {Function} [customizer] The function to customize comparisons.
           * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`
           *  for more details.
           * @param {Object} [stack] Tracks traversed `object` and `other` objects.
           * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
           */
          function baseIsEqualDeep(
            object,
            other,
            equalFunc,
            customizer,
            bitmask,
            stack
          ) {
            var objIsArr = isArray(object),
              othIsArr = isArray(other),
              objTag = arrayTag,
              othTag = arrayTag;

            if (!objIsArr) {
              objTag = getTag(object);
              objTag = objTag == argsTag ? objectTag : objTag;
            }
            if (!othIsArr) {
              othTag = getTag(other);
              othTag = othTag == argsTag ? objectTag : othTag;
            }
            var objIsObj = objTag == objectTag && !isHostObject(object),
              othIsObj = othTag == objectTag && !isHostObject(other),
              isSameTag = objTag == othTag;

            if (isSameTag && !objIsObj) {
              stack || (stack = new Stack());
              return objIsArr || isTypedArray(object)
                ? equalArrays(
                    object,
                    other,
                    equalFunc,
                    customizer,
                    bitmask,
                    stack
                  )
                : equalByTag(
                    object,
                    other,
                    objTag,
                    equalFunc,
                    customizer,
                    bitmask,
                    stack
                  );
            }
            if (!(bitmask & PARTIAL_COMPARE_FLAG)) {
              var objIsWrapped =
                  objIsObj && hasOwnProperty.call(object, '__wrapped__'),
                othIsWrapped =
                  othIsObj && hasOwnProperty.call(other, '__wrapped__');

              if (objIsWrapped || othIsWrapped) {
                var objUnwrapped = objIsWrapped ? object.value() : object,
                  othUnwrapped = othIsWrapped ? other.value() : other;

                stack || (stack = new Stack());
                return equalFunc(
                  objUnwrapped,
                  othUnwrapped,
                  customizer,
                  bitmask,
                  stack
                );
              }
            }
            if (!isSameTag) {
              return false;
            }
            stack || (stack = new Stack());
            return equalObjects(
              object,
              other,
              equalFunc,
              customizer,
              bitmask,
              stack
            );
          }

          /**
           * The base implementation of `_.isMatch` without support for iteratee shorthands.
           *
           * @private
           * @param {Object} object The object to inspect.
           * @param {Object} source The object of property values to match.
           * @param {Array} matchData The property names, values, and compare flags to match.
           * @param {Function} [customizer] The function to customize comparisons.
           * @returns {boolean} Returns `true` if `object` is a match, else `false`.
           */
          function baseIsMatch(object, source, matchData, customizer) {
            var index = matchData.length,
              length = index,
              noCustomizer = !customizer;

            if (object == null) {
              return !length;
            }
            object = Object(object);
            while (index--) {
              var data = matchData[index];
              if (
                noCustomizer && data[2]
                  ? data[1] !== object[data[0]]
                  : !(data[0] in object)
              ) {
                return false;
              }
            }
            while (++index < length) {
              data = matchData[index];
              var key = data[0],
                objValue = object[key],
                srcValue = data[1];

              if (noCustomizer && data[2]) {
                if (objValue === undefined && !(key in object)) {
                  return false;
                }
              } else {
                var stack = new Stack();
                if (customizer) {
                  var result = customizer(
                    objValue,
                    srcValue,
                    key,
                    object,
                    source,
                    stack
                  );
                }
                if (
                  !(result === undefined
                    ? baseIsEqual(
                        srcValue,
                        objValue,
                        customizer,
                        UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG,
                        stack
                      )
                    : result)
                ) {
                  return false;
                }
              }
            }
            return true;
          }

          /**
           * The base implementation of `_.isNative` without bad shim checks.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a native function,
           *  else `false`.
           */
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern =
              isFunction(value) || isHostObject(value)
                ? reIsNative
                : reIsHostCtor;
            return pattern.test(toSource(value));
          }

          /**
           * The base implementation of `_.isTypedArray` without Node.js optimizations.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           */
          function baseIsTypedArray(value) {
            return (
              isObjectLike(value) &&
              isLength(value.length) &&
              !!typedArrayTags[objectToString.call(value)]
            );
          }

          /**
           * The base implementation of `_.iteratee`.
           *
           * @private
           * @param {*} [value=_.identity] The value to convert to an iteratee.
           * @returns {Function} Returns the iteratee.
           */
          function baseIteratee(value) {
            // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
            // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
            if (typeof value == 'function') {
              return value;
            }
            if (value == null) {
              return identity;
            }
            if (typeof value == 'object') {
              return isArray(value)
                ? baseMatchesProperty(value[0], value[1])
                : baseMatches(value);
            }
            return property(value);
          }

          /**
           * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           */
          function baseKeys(object) {
            if (!isPrototype(object)) {
              return nativeKeys(object);
            }
            var result = [];
            for (var key in Object(object)) {
              if (hasOwnProperty.call(object, key) && key != 'constructor') {
                result.push(key);
              }
            }
            return result;
          }

          /**
           * The base implementation of `_.matches` which doesn't clone `source`.
           *
           * @private
           * @param {Object} source The object of property values to match.
           * @returns {Function} Returns the new spec function.
           */
          function baseMatches(source) {
            var matchData = getMatchData(source);
            if (matchData.length == 1 && matchData[0][2]) {
              return matchesStrictComparable(matchData[0][0], matchData[0][1]);
            }
            return function (object) {
              return (
                object === source || baseIsMatch(object, source, matchData)
              );
            };
          }

          /**
           * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
           *
           * @private
           * @param {string} path The path of the property to get.
           * @param {*} srcValue The value to match.
           * @returns {Function} Returns the new spec function.
           */
          function baseMatchesProperty(path, srcValue) {
            if (isKey(path) && isStrictComparable(srcValue)) {
              return matchesStrictComparable(toKey(path), srcValue);
            }
            return function (object) {
              var objValue = get(object, path);
              return objValue === undefined && objValue === srcValue
                ? hasIn(object, path)
                : baseIsEqual(
                    srcValue,
                    objValue,
                    undefined,
                    UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG
                  );
            };
          }

          /**
           * A specialized version of `baseProperty` which supports deep paths.
           *
           * @private
           * @param {Array|string} path The path of the property to get.
           * @returns {Function} Returns the new accessor function.
           */
          function basePropertyDeep(path) {
            return function (object) {
              return baseGet(object, path);
            };
          }

          /**
           * The base implementation of `_.pullAt` without support for individual
           * indexes or capturing the removed elements.
           *
           * @private
           * @param {Array} array The array to modify.
           * @param {number[]} indexes The indexes of elements to remove.
           * @returns {Array} Returns `array`.
           */
          function basePullAt(array, indexes) {
            var length = array ? indexes.length : 0,
              lastIndex = length - 1;

            while (length--) {
              var index = indexes[length];
              if (length == lastIndex || index !== previous) {
                var previous = index;
                if (isIndex(index)) {
                  splice.call(array, index, 1);
                } else if (!isKey(index, array)) {
                  var path = castPath(index),
                    object = parent(array, path);

                  if (object != null) {
                    delete object[toKey(last(path))];
                  }
                } else {
                  delete array[toKey(index)];
                }
              }
            }
            return array;
          }

          /**
           * The base implementation of `_.slice` without an iteratee call guard.
           *
           * @private
           * @param {Array} array The array to slice.
           * @param {number} [start=0] The start position.
           * @param {number} [end=array.length] The end position.
           * @returns {Array} Returns the slice of `array`.
           */
          function baseSlice(array, start, end) {
            var index = -1,
              length = array.length;

            if (start < 0) {
              start = -start > length ? 0 : length + start;
            }
            end = end > length ? length : end;
            if (end < 0) {
              end += length;
            }
            length = start > end ? 0 : (end - start) >>> 0;
            start >>>= 0;

            var result = Array(length);
            while (++index < length) {
              result[index] = array[index + start];
            }
            return result;
          }

          /**
           * The base implementation of `_.toString` which doesn't convert nullish
           * values to empty strings.
           *
           * @private
           * @param {*} value The value to process.
           * @returns {string} Returns the string.
           */
          function baseToString(value) {
            // Exit early for strings to avoid a performance hit in some environments.
            if (typeof value == 'string') {
              return value;
            }
            if (isSymbol(value)) {
              return symbolToString ? symbolToString.call(value) : '';
            }
            var result = value + '';
            return result == '0' && 1 / value == -INFINITY ? '-0' : result;
          }

          /**
           * Casts `value` to a path array if it's not one.
           *
           * @private
           * @param {*} value The value to inspect.
           * @returns {Array} Returns the cast property path array.
           */
          function castPath(value) {
            return isArray(value) ? value : stringToPath(value);
          }

          /**
           * A specialized version of `baseIsEqualDeep` for arrays with support for
           * partial deep comparisons.
           *
           * @private
           * @param {Array} array The array to compare.
           * @param {Array} other The other array to compare.
           * @param {Function} equalFunc The function to determine equivalents of values.
           * @param {Function} customizer The function to customize comparisons.
           * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
           *  for more details.
           * @param {Object} stack Tracks traversed `array` and `other` objects.
           * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
           */
          function equalArrays(
            array,
            other,
            equalFunc,
            customizer,
            bitmask,
            stack
          ) {
            var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
              arrLength = array.length,
              othLength = other.length;

            if (
              arrLength != othLength &&
              !(isPartial && othLength > arrLength)
            ) {
              return false;
            }
            // Assume cyclic values are equal.
            var stacked = stack.get(array);
            if (stacked && stack.get(other)) {
              return stacked == other;
            }
            var index = -1,
              result = true,
              seen =
                bitmask & UNORDERED_COMPARE_FLAG ? new SetCache() : undefined;

            stack.set(array, other);
            stack.set(other, array);

            // Ignore non-index properties.
            while (++index < arrLength) {
              var arrValue = array[index],
                othValue = other[index];

              if (customizer) {
                var compared = isPartial
                  ? customizer(othValue, arrValue, index, other, array, stack)
                  : customizer(arrValue, othValue, index, array, other, stack);
              }
              if (compared !== undefined) {
                if (compared) {
                  continue;
                }
                result = false;
                break;
              }
              // Recursively compare arrays (susceptible to call stack limits).
              if (seen) {
                if (
                  !arraySome(other, function (othValue, othIndex) {
                    if (
                      !seen.has(othIndex) &&
                      (arrValue === othValue ||
                        equalFunc(
                          arrValue,
                          othValue,
                          customizer,
                          bitmask,
                          stack
                        ))
                    ) {
                      return seen.add(othIndex);
                    }
                  })
                ) {
                  result = false;
                  break;
                }
              } else if (
                !(
                  arrValue === othValue ||
                  equalFunc(arrValue, othValue, customizer, bitmask, stack)
                )
              ) {
                result = false;
                break;
              }
            }
            stack['delete'](array);
            stack['delete'](other);
            return result;
          }

          /**
           * A specialized version of `baseIsEqualDeep` for comparing objects of
           * the same `toStringTag`.
           *
           * **Note:** This function only supports comparing values with tags of
           * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
           *
           * @private
           * @param {Object} object The object to compare.
           * @param {Object} other The other object to compare.
           * @param {string} tag The `toStringTag` of the objects to compare.
           * @param {Function} equalFunc The function to determine equivalents of values.
           * @param {Function} customizer The function to customize comparisons.
           * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
           *  for more details.
           * @param {Object} stack Tracks traversed `object` and `other` objects.
           * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
           */
          function equalByTag(
            object,
            other,
            tag,
            equalFunc,
            customizer,
            bitmask,
            stack
          ) {
            switch (tag) {
              case dataViewTag:
                if (
                  object.byteLength != other.byteLength ||
                  object.byteOffset != other.byteOffset
                ) {
                  return false;
                }
                object = object.buffer;
                other = other.buffer;

              case arrayBufferTag:
                if (
                  object.byteLength != other.byteLength ||
                  !equalFunc(new Uint8Array(object), new Uint8Array(other))
                ) {
                  return false;
                }
                return true;

              case boolTag:
              case dateTag:
              case numberTag:
                // Coerce booleans to `1` or `0` and dates to milliseconds.
                // Invalid dates are coerced to `NaN`.
                return eq(+object, +other);

              case errorTag:
                return (
                  object.name == other.name && object.message == other.message
                );

              case regexpTag:
              case stringTag:
                // Coerce regexes to strings and treat strings, primitives and objects,
                // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
                // for more details.
                return object == other + '';

              case mapTag:
                var convert = mapToArray;

              case setTag:
                var isPartial = bitmask & PARTIAL_COMPARE_FLAG;
                convert || (convert = setToArray);

                if (object.size != other.size && !isPartial) {
                  return false;
                }
                // Assume cyclic values are equal.
                var stacked = stack.get(object);
                if (stacked) {
                  return stacked == other;
                }
                bitmask |= UNORDERED_COMPARE_FLAG;

                // Recursively compare objects (susceptible to call stack limits).
                stack.set(object, other);
                var result = equalArrays(
                  convert(object),
                  convert(other),
                  equalFunc,
                  customizer,
                  bitmask,
                  stack
                );
                stack['delete'](object);
                return result;

              case symbolTag:
                if (symbolValueOf) {
                  return (
                    symbolValueOf.call(object) == symbolValueOf.call(other)
                  );
                }
            }
            return false;
          }

          /**
           * A specialized version of `baseIsEqualDeep` for objects with support for
           * partial deep comparisons.
           *
           * @private
           * @param {Object} object The object to compare.
           * @param {Object} other The other object to compare.
           * @param {Function} equalFunc The function to determine equivalents of values.
           * @param {Function} customizer The function to customize comparisons.
           * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
           *  for more details.
           * @param {Object} stack Tracks traversed `object` and `other` objects.
           * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
           */
          function equalObjects(
            object,
            other,
            equalFunc,
            customizer,
            bitmask,
            stack
          ) {
            var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
              objProps = keys(object),
              objLength = objProps.length,
              othProps = keys(other),
              othLength = othProps.length;

            if (objLength != othLength && !isPartial) {
              return false;
            }
            var index = objLength;
            while (index--) {
              var key = objProps[index];
              if (
                !(isPartial ? key in other : hasOwnProperty.call(other, key))
              ) {
                return false;
              }
            }
            // Assume cyclic values are equal.
            var stacked = stack.get(object);
            if (stacked && stack.get(other)) {
              return stacked == other;
            }
            var result = true;
            stack.set(object, other);
            stack.set(other, object);

            var skipCtor = isPartial;
            while (++index < objLength) {
              key = objProps[index];
              var objValue = object[key],
                othValue = other[key];

              if (customizer) {
                var compared = isPartial
                  ? customizer(othValue, objValue, key, other, object, stack)
                  : customizer(objValue, othValue, key, object, other, stack);
              }
              // Recursively compare objects (susceptible to call stack limits).
              if (
                !(compared === undefined
                  ? objValue === othValue ||
                    equalFunc(objValue, othValue, customizer, bitmask, stack)
                  : compared)
              ) {
                result = false;
                break;
              }
              skipCtor || (skipCtor = key == 'constructor');
            }
            if (result && !skipCtor) {
              var objCtor = object.constructor,
                othCtor = other.constructor;

              // Non `Object` object instances with different constructors are not equal.
              if (
                objCtor != othCtor &&
                'constructor' in object &&
                'constructor' in other &&
                !(
                  typeof objCtor == 'function' &&
                  objCtor instanceof objCtor &&
                  typeof othCtor == 'function' &&
                  othCtor instanceof othCtor
                )
              ) {
                result = false;
              }
            }
            stack['delete'](object);
            stack['delete'](other);
            return result;
          }

          /**
           * Gets the data for `map`.
           *
           * @private
           * @param {Object} map The map to query.
           * @param {string} key The reference key.
           * @returns {*} Returns the map data.
           */
          function getMapData(map, key) {
            var data = map.__data__;
            return isKeyable(key)
              ? data[typeof key == 'string' ? 'string' : 'hash']
              : data.map;
          }

          /**
           * Gets the property names, values, and compare flags of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @returns {Array} Returns the match data of `object`.
           */
          function getMatchData(object) {
            var result = keys(object),
              length = result.length;

            while (length--) {
              var key = result[length],
                value = object[key];

              result[length] = [key, value, isStrictComparable(value)];
            }
            return result;
          }

          /**
           * Gets the native function at `key` of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the method to get.
           * @returns {*} Returns the function if it's native, else `undefined`.
           */
          function getNative(object, key) {
            var value = getValue(object, key);
            return baseIsNative(value) ? value : undefined;
          }

          /**
           * Gets the `toStringTag` of `value`.
           *
           * @private
           * @param {*} value The value to query.
           * @returns {string} Returns the `toStringTag`.
           */
          var getTag = baseGetTag;

          // Fallback for data views, maps, sets, and weak maps in IE 11,
          // for data views in Edge < 14, and promises in Node.js.
          if (
            (DataView &&
              getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
            (Map && getTag(new Map()) != mapTag) ||
            (Promise && getTag(Promise.resolve()) != promiseTag) ||
            (Set && getTag(new Set()) != setTag) ||
            (WeakMap && getTag(new WeakMap()) != weakMapTag)
          ) {
            getTag = function (value) {
              var result = objectToString.call(value),
                Ctor = result == objectTag ? value.constructor : undefined,
                ctorString = Ctor ? toSource(Ctor) : undefined;

              if (ctorString) {
                switch (ctorString) {
                  case dataViewCtorString:
                    return dataViewTag;
                  case mapCtorString:
                    return mapTag;
                  case promiseCtorString:
                    return promiseTag;
                  case setCtorString:
                    return setTag;
                  case weakMapCtorString:
                    return weakMapTag;
                }
              }
              return result;
            };
          }

          /**
           * Checks if `path` exists on `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {Array|string} path The path to check.
           * @param {Function} hasFunc The function to check properties.
           * @returns {boolean} Returns `true` if `path` exists, else `false`.
           */
          function hasPath(object, path, hasFunc) {
            path = isKey(path, object) ? [path] : castPath(path);

            var result,
              index = -1,
              length = path.length;

            while (++index < length) {
              var key = toKey(path[index]);
              if (!(result = object != null && hasFunc(object, key))) {
                break;
              }
              object = object[key];
            }
            if (result) {
              return result;
            }
            var length = object ? object.length : 0;
            return (
              !!length &&
              isLength(length) &&
              isIndex(key, length) &&
              (isArray(object) || isArguments(object))
            );
          }

          /**
           * Checks if `value` is a valid array-like index.
           *
           * @private
           * @param {*} value The value to check.
           * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
           * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
           */
          function isIndex(value, length) {
            length = length == null ? MAX_SAFE_INTEGER : length;
            return (
              !!length &&
              (typeof value == 'number' || reIsUint.test(value)) &&
              value > -1 &&
              value % 1 == 0 &&
              value < length
            );
          }

          /**
           * Checks if `value` is a property name and not a property path.
           *
           * @private
           * @param {*} value The value to check.
           * @param {Object} [object] The object to query keys on.
           * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
           */
          function isKey(value, object) {
            if (isArray(value)) {
              return false;
            }
            var type = typeof value;
            if (
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean' ||
              value == null ||
              isSymbol(value)
            ) {
              return true;
            }
            return (
              reIsPlainProp.test(value) ||
              !reIsDeepProp.test(value) ||
              (object != null && value in Object(object))
            );
          }

          /**
           * Checks if `value` is suitable for use as unique object key.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
           */
          function isKeyable(value) {
            var type = typeof value;
            return type == 'string' ||
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean'
              ? value !== '__proto__'
              : value === null;
          }

          /**
           * Checks if `func` has its source masked.
           *
           * @private
           * @param {Function} func The function to check.
           * @returns {boolean} Returns `true` if `func` is masked, else `false`.
           */
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }

          /**
           * Checks if `value` is likely a prototype object.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
           */
          function isPrototype(value) {
            var Ctor = value && value.constructor,
              proto =
                (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

            return value === proto;
          }

          /**
           * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` if suitable for strict
           *  equality comparisons, else `false`.
           */
          function isStrictComparable(value) {
            return value === value && !isObject(value);
          }

          /**
           * A specialized version of `matchesProperty` for source values suitable
           * for strict equality comparisons, i.e. `===`.
           *
           * @private
           * @param {string} key The key of the property to get.
           * @param {*} srcValue The value to match.
           * @returns {Function} Returns the new spec function.
           */
          function matchesStrictComparable(key, srcValue) {
            return function (object) {
              if (object == null) {
                return false;
              }
              return (
                object[key] === srcValue &&
                (srcValue !== undefined || key in Object(object))
              );
            };
          }

          /**
           * Gets the parent value at `path` of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {Array} path The path to get the parent value of.
           * @returns {*} Returns the parent value.
           */
          function parent(object, path) {
            return path.length == 1
              ? object
              : baseGet(object, baseSlice(path, 0, -1));
          }

          /**
           * Converts `string` to a property path array.
           *
           * @private
           * @param {string} string The string to convert.
           * @returns {Array} Returns the property path array.
           */
          var stringToPath = memoize(function (string) {
            string = toString(string);

            var result = [];
            if (reLeadingDot.test(string)) {
              result.push('');
            }
            string.replace(rePropName, function (match, number, quote, string) {
              result.push(
                quote ? string.replace(reEscapeChar, '$1') : number || match
              );
            });
            return result;
          });

          /**
           * Converts `value` to a string key if it's not a string or symbol.
           *
           * @private
           * @param {*} value The value to inspect.
           * @returns {string|symbol} Returns the key.
           */
          function toKey(value) {
            if (typeof value == 'string' || isSymbol(value)) {
              return value;
            }
            var result = value + '';
            return result == '0' && 1 / value == -INFINITY ? '-0' : result;
          }

          /**
           * Converts `func` to its source code.
           *
           * @private
           * @param {Function} func The function to process.
           * @returns {string} Returns the source code.
           */
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e) {}
              try {
                return func + '';
              } catch (e) {}
            }
            return '';
          }

          /**
           * Gets the last element of `array`.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Array
           * @param {Array} array The array to query.
           * @returns {*} Returns the last element of `array`.
           * @example
           *
           * _.last([1, 2, 3]);
           * // => 3
           */
          function last(array) {
            var length = array ? array.length : 0;
            return length ? array[length - 1] : undefined;
          }

          /**
           * Removes all elements from `array` that `predicate` returns truthy for
           * and returns an array of the removed elements. The predicate is invoked
           * with three arguments: (value, index, array).
           *
           * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`
           * to pull elements from an array by value.
           *
           * @static
           * @memberOf _
           * @since 2.0.0
           * @category Array
           * @param {Array} array The array to modify.
           * @param {Function} [predicate=_.identity]
           *  The function invoked per iteration.
           * @returns {Array} Returns the new array of removed elements.
           * @example
           *
           * var array = [1, 2, 3, 4];
           * var evens = _.remove(array, function(n) {
           *   return n % 2 == 0;
           * });
           *
           * console.log(array);
           * // => [1, 3]
           *
           * console.log(evens);
           * // => [2, 4]
           */
          function remove(array, predicate) {
            var result = [];
            if (!(array && array.length)) {
              return result;
            }
            var index = -1,
              indexes = [],
              length = array.length;

            predicate = baseIteratee(predicate, 3);
            while (++index < length) {
              var value = array[index];
              if (predicate(value, index, array)) {
                result.push(value);
                indexes.push(index);
              }
            }
            basePullAt(array, indexes);
            return result;
          }

          /**
           * Creates a function that memoizes the result of `func`. If `resolver` is
           * provided, it determines the cache key for storing the result based on the
           * arguments provided to the memoized function. By default, the first argument
           * provided to the memoized function is used as the map cache key. The `func`
           * is invoked with the `this` binding of the memoized function.
           *
           * **Note:** The cache is exposed as the `cache` property on the memoized
           * function. Its creation may be customized by replacing the `_.memoize.Cache`
           * constructor with one whose instances implement the
           * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
           * method interface of `delete`, `get`, `has`, and `set`.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Function
           * @param {Function} func The function to have its output memoized.
           * @param {Function} [resolver] The function to resolve the cache key.
           * @returns {Function} Returns the new memoized function.
           * @example
           *
           * var object = { 'a': 1, 'b': 2 };
           * var other = { 'c': 3, 'd': 4 };
           *
           * var values = _.memoize(_.values);
           * values(object);
           * // => [1, 2]
           *
           * values(other);
           * // => [3, 4]
           *
           * object.a = 2;
           * values(object);
           * // => [1, 2]
           *
           * // Modify the result cache.
           * values.cache.set(object, ['a', 'b']);
           * values(object);
           * // => ['a', 'b']
           *
           * // Replace `_.memoize.Cache`.
           * _.memoize.Cache = WeakMap;
           */
          function memoize(func, resolver) {
            if (
              typeof func != 'function' ||
              (resolver && typeof resolver != 'function')
            ) {
              throw new TypeError(FUNC_ERROR_TEXT);
            }
            var memoized = function () {
              var args = arguments,
                key = resolver ? resolver.apply(this, args) : args[0],
                cache = memoized.cache;

              if (cache.has(key)) {
                return cache.get(key);
              }
              var result = func.apply(this, args);
              memoized.cache = cache.set(key, result);
              return result;
            };
            memoized.cache = new (memoize.Cache || MapCache)();
            return memoized;
          }

          // Assign cache to `_.memoize`.
          memoize.Cache = MapCache;

          /**
           * Performs a
           * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * comparison between two values to determine if they are equivalent.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to compare.
           * @param {*} other The other value to compare.
           * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
           * @example
           *
           * var object = { 'a': 1 };
           * var other = { 'a': 1 };
           *
           * _.eq(object, object);
           * // => true
           *
           * _.eq(object, other);
           * // => false
           *
           * _.eq('a', 'a');
           * // => true
           *
           * _.eq('a', Object('a'));
           * // => false
           *
           * _.eq(NaN, NaN);
           * // => true
           */
          function eq(value, other) {
            return value === other || (value !== value && other !== other);
          }

          /**
           * Checks if `value` is likely an `arguments` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an `arguments` object,
           *  else `false`.
           * @example
           *
           * _.isArguments(function() { return arguments; }());
           * // => true
           *
           * _.isArguments([1, 2, 3]);
           * // => false
           */
          function isArguments(value) {
            // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
            return (
              isArrayLikeObject(value) &&
              hasOwnProperty.call(value, 'callee') &&
              (!propertyIsEnumerable.call(value, 'callee') ||
                objectToString.call(value) == argsTag)
            );
          }

          /**
           * Checks if `value` is classified as an `Array` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array, else `false`.
           * @example
           *
           * _.isArray([1, 2, 3]);
           * // => true
           *
           * _.isArray(document.body.children);
           * // => false
           *
           * _.isArray('abc');
           * // => false
           *
           * _.isArray(_.noop);
           * // => false
           */
          var isArray = Array.isArray;

          /**
           * Checks if `value` is array-like. A value is considered array-like if it's
           * not a function and has a `value.length` that's an integer greater than or
           * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
           * @example
           *
           * _.isArrayLike([1, 2, 3]);
           * // => true
           *
           * _.isArrayLike(document.body.children);
           * // => true
           *
           * _.isArrayLike('abc');
           * // => true
           *
           * _.isArrayLike(_.noop);
           * // => false
           */
          function isArrayLike(value) {
            return (
              value != null && isLength(value.length) && !isFunction(value)
            );
          }

          /**
           * This method is like `_.isArrayLike` except that it also checks if `value`
           * is an object.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array-like object,
           *  else `false`.
           * @example
           *
           * _.isArrayLikeObject([1, 2, 3]);
           * // => true
           *
           * _.isArrayLikeObject(document.body.children);
           * // => true
           *
           * _.isArrayLikeObject('abc');
           * // => false
           *
           * _.isArrayLikeObject(_.noop);
           * // => false
           */
          function isArrayLikeObject(value) {
            return isObjectLike(value) && isArrayLike(value);
          }

          /**
           * Checks if `value` is classified as a `Function` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a function, else `false`.
           * @example
           *
           * _.isFunction(_);
           * // => true
           *
           * _.isFunction(/abc/);
           * // => false
           */
          function isFunction(value) {
            // The use of `Object#toString` avoids issues with the `typeof` operator
            // in Safari 8-9 which returns 'object' for typed array and other constructors.
            var tag = isObject(value) ? objectToString.call(value) : '';
            return tag == funcTag || tag == genTag;
          }

          /**
           * Checks if `value` is a valid array-like length.
           *
           * **Note:** This method is loosely based on
           * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
           * @example
           *
           * _.isLength(3);
           * // => true
           *
           * _.isLength(Number.MIN_VALUE);
           * // => false
           *
           * _.isLength(Infinity);
           * // => false
           *
           * _.isLength('3');
           * // => false
           */
          function isLength(value) {
            return (
              typeof value == 'number' &&
              value > -1 &&
              value % 1 == 0 &&
              value <= MAX_SAFE_INTEGER
            );
          }

          /**
           * Checks if `value` is the
           * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
           * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an object, else `false`.
           * @example
           *
           * _.isObject({});
           * // => true
           *
           * _.isObject([1, 2, 3]);
           * // => true
           *
           * _.isObject(_.noop);
           * // => true
           *
           * _.isObject(null);
           * // => false
           */
          function isObject(value) {
            var type = typeof value;
            return !!value && (type == 'object' || type == 'function');
          }

          /**
           * Checks if `value` is object-like. A value is object-like if it's not `null`
           * and has a `typeof` result of "object".
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
           * @example
           *
           * _.isObjectLike({});
           * // => true
           *
           * _.isObjectLike([1, 2, 3]);
           * // => true
           *
           * _.isObjectLike(_.noop);
           * // => false
           *
           * _.isObjectLike(null);
           * // => false
           */
          function isObjectLike(value) {
            return !!value && typeof value == 'object';
          }

          /**
           * Checks if `value` is classified as a `Symbol` primitive or object.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
           * @example
           *
           * _.isSymbol(Symbol.iterator);
           * // => true
           *
           * _.isSymbol('abc');
           * // => false
           */
          function isSymbol(value) {
            return (
              typeof value == 'symbol' ||
              (isObjectLike(value) && objectToString.call(value) == symbolTag)
            );
          }

          /**
           * Checks if `value` is classified as a typed array.
           *
           * @static
           * @memberOf _
           * @since 3.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
           * @example
           *
           * _.isTypedArray(new Uint8Array);
           * // => true
           *
           * _.isTypedArray([]);
           * // => false
           */
          var isTypedArray = nodeIsTypedArray
            ? baseUnary(nodeIsTypedArray)
            : baseIsTypedArray;

          /**
           * Converts `value` to a string. An empty string is returned for `null`
           * and `undefined` values. The sign of `-0` is preserved.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to process.
           * @returns {string} Returns the string.
           * @example
           *
           * _.toString(null);
           * // => ''
           *
           * _.toString(-0);
           * // => '-0'
           *
           * _.toString([1, 2, 3]);
           * // => '1,2,3'
           */
          function toString(value) {
            return value == null ? '' : baseToString(value);
          }

          /**
           * Gets the value at `path` of `object`. If the resolved value is
           * `undefined`, the `defaultValue` is returned in its place.
           *
           * @static
           * @memberOf _
           * @since 3.7.0
           * @category Object
           * @param {Object} object The object to query.
           * @param {Array|string} path The path of the property to get.
           * @param {*} [defaultValue] The value returned for `undefined` resolved values.
           * @returns {*} Returns the resolved value.
           * @example
           *
           * var object = { 'a': [{ 'b': { 'c': 3 } }] };
           *
           * _.get(object, 'a[0].b.c');
           * // => 3
           *
           * _.get(object, ['a', '0', 'b', 'c']);
           * // => 3
           *
           * _.get(object, 'a.b.c', 'default');
           * // => 'default'
           */
          function get(object, path, defaultValue) {
            var result = object == null ? undefined : baseGet(object, path);
            return result === undefined ? defaultValue : result;
          }

          /**
           * Checks if `path` is a direct or inherited property of `object`.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Object
           * @param {Object} object The object to query.
           * @param {Array|string} path The path to check.
           * @returns {boolean} Returns `true` if `path` exists, else `false`.
           * @example
           *
           * var object = _.create({ 'a': _.create({ 'b': 2 }) });
           *
           * _.hasIn(object, 'a');
           * // => true
           *
           * _.hasIn(object, 'a.b');
           * // => true
           *
           * _.hasIn(object, ['a', 'b']);
           * // => true
           *
           * _.hasIn(object, 'b');
           * // => false
           */
          function hasIn(object, path) {
            return object != null && hasPath(object, path, baseHasIn);
          }

          /**
           * Creates an array of the own enumerable property names of `object`.
           *
           * **Note:** Non-object values are coerced to objects. See the
           * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
           * for more details.
           *
           * @static
           * @since 0.1.0
           * @memberOf _
           * @category Object
           * @param {Object} object The object to query.
           * @returns {Array} Returns the array of property names.
           * @example
           *
           * function Foo() {
           *   this.a = 1;
           *   this.b = 2;
           * }
           *
           * Foo.prototype.c = 3;
           *
           * _.keys(new Foo);
           * // => ['a', 'b'] (iteration order is not guaranteed)
           *
           * _.keys('hi');
           * // => ['0', '1']
           */
          function keys(object) {
            return isArrayLike(object)
              ? arrayLikeKeys(object)
              : baseKeys(object);
          }

          /**
           * This method returns the first argument it receives.
           *
           * @static
           * @since 0.1.0
           * @memberOf _
           * @category Util
           * @param {*} value Any value.
           * @returns {*} Returns `value`.
           * @example
           *
           * var object = { 'a': 1 };
           *
           * console.log(_.identity(object) === object);
           * // => true
           */
          function identity(value) {
            return value;
          }

          /**
           * Creates a function that returns the value at `path` of a given object.
           *
           * @static
           * @memberOf _
           * @since 2.4.0
           * @category Util
           * @param {Array|string} path The path of the property to get.
           * @returns {Function} Returns the new accessor function.
           * @example
           *
           * var objects = [
           *   { 'a': { 'b': 2 } },
           *   { 'a': { 'b': 1 } }
           * ];
           *
           * _.map(objects, _.property('a.b'));
           * // => [2, 1]
           *
           * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
           * // => [1, 2]
           */
          function property(path) {
            return isKey(path)
              ? baseProperty(toKey(path))
              : basePropertyDeep(path);
          }

          module.exports = remove;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          ),
          __webpack_require__(
            /*! ./../webpack/buildin/module.js */ '../node_modules/webpack/buildin/module.js'
          )(module)
        );

        /***/
      },

    /***/ '../node_modules/lodash.set/index.js':
      /*!*******************************************!*\
  !*** ../node_modules/lodash.set/index.js ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (global) {
          /**
           * lodash (Custom Build) <https://lodash.com/>
           * Build: `lodash modularize exports="npm" -o ./`
           * Copyright jQuery Foundation and other contributors <https://jquery.org/>
           * Released under MIT license <https://lodash.com/license>
           * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
           * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
           */

          /** Used as the `TypeError` message for "Functions" methods. */
          var FUNC_ERROR_TEXT = 'Expected a function';

          /** Used to stand-in for `undefined` hash values. */
          var HASH_UNDEFINED = '__lodash_hash_undefined__';

          /** Used as references for various `Number` constants. */
          var INFINITY = 1 / 0,
            MAX_SAFE_INTEGER = 9007199254740991;

          /** `Object#toString` result references. */
          var funcTag = '[object Function]',
            genTag = '[object GeneratorFunction]',
            symbolTag = '[object Symbol]';

          /** Used to match property names within property paths. */
          var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            reIsPlainProp = /^\w*$/,
            reLeadingDot = /^\./,
            rePropName =
              /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

          /**
           * Used to match `RegExp`
           * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
           */
          var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

          /** Used to match backslashes in property paths. */
          var reEscapeChar = /\\(\\)?/g;

          /** Used to detect host constructors (Safari). */
          var reIsHostCtor = /^\[object .+?Constructor\]$/;

          /** Used to detect unsigned integer values. */
          var reIsUint = /^(?:0|[1-9]\d*)$/;

          /** Detect free variable `global` from Node.js. */
          var freeGlobal =
            typeof global == 'object' &&
            global &&
            global.Object === Object &&
            global;

          /** Detect free variable `self`. */
          var freeSelf =
            typeof self == 'object' && self && self.Object === Object && self;

          /** Used as a reference to the global object. */
          var root = freeGlobal || freeSelf || Function('return this')();

          /**
           * Gets the value at `key` of `object`.
           *
           * @private
           * @param {Object} [object] The object to query.
           * @param {string} key The key of the property to get.
           * @returns {*} Returns the property value.
           */
          function getValue(object, key) {
            return object == null ? undefined : object[key];
          }

          /**
           * Checks if `value` is a host object in IE < 9.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
           */
          function isHostObject(value) {
            // Many host objects are `Object` objects that can coerce to strings
            // despite having improperly defined `toString` methods.
            var result = false;
            if (value != null && typeof value.toString != 'function') {
              try {
                result = !!(value + '');
              } catch (e) {}
            }
            return result;
          }

          /** Used for built-in method references. */
          var arrayProto = Array.prototype,
            funcProto = Function.prototype,
            objectProto = Object.prototype;

          /** Used to detect overreaching core-js shims. */
          var coreJsData = root['__core-js_shared__'];

          /** Used to detect methods masquerading as native. */
          var maskSrcKey = (function () {
            var uid = /[^.]+$/.exec(
              (coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO) || ''
            );
            return uid ? 'Symbol(src)_1.' + uid : '';
          })();

          /** Used to resolve the decompiled source of functions. */
          var funcToString = funcProto.toString;

          /** Used to check objects for own properties. */
          var hasOwnProperty = objectProto.hasOwnProperty;

          /**
           * Used to resolve the
           * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
           * of values.
           */
          var objectToString = objectProto.toString;

          /** Used to detect if a method is native. */
          var reIsNative = RegExp(
            '^' +
              funcToString
                .call(hasOwnProperty)
                .replace(reRegExpChar, '\\$&')
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  '$1.*?'
                ) +
              '$'
          );

          /** Built-in value references. */
          var Symbol = root.Symbol,
            splice = arrayProto.splice;

          /* Built-in method references that are verified to be native. */
          var Map = getNative(root, 'Map'),
            nativeCreate = getNative(Object, 'create');

          /** Used to convert symbols to primitives and strings. */
          var symbolProto = Symbol ? Symbol.prototype : undefined,
            symbolToString = symbolProto ? symbolProto.toString : undefined;

          /**
           * Creates a hash object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function Hash(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the hash.
           *
           * @private
           * @name clear
           * @memberOf Hash
           */
          function hashClear() {
            this.__data__ = nativeCreate ? nativeCreate(null) : {};
          }

          /**
           * Removes `key` and its value from the hash.
           *
           * @private
           * @name delete
           * @memberOf Hash
           * @param {Object} hash The hash to modify.
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function hashDelete(key) {
            return this.has(key) && delete this.__data__[key];
          }

          /**
           * Gets the hash value for `key`.
           *
           * @private
           * @name get
           * @memberOf Hash
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function hashGet(key) {
            var data = this.__data__;
            if (nativeCreate) {
              var result = data[key];
              return result === HASH_UNDEFINED ? undefined : result;
            }
            return hasOwnProperty.call(data, key) ? data[key] : undefined;
          }

          /**
           * Checks if a hash value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf Hash
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function hashHas(key) {
            var data = this.__data__;
            return nativeCreate
              ? data[key] !== undefined
              : hasOwnProperty.call(data, key);
          }

          /**
           * Sets the hash `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf Hash
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the hash instance.
           */
          function hashSet(key, value) {
            var data = this.__data__;
            data[key] =
              nativeCreate && value === undefined ? HASH_UNDEFINED : value;
            return this;
          }

          // Add methods to `Hash`.
          Hash.prototype.clear = hashClear;
          Hash.prototype['delete'] = hashDelete;
          Hash.prototype.get = hashGet;
          Hash.prototype.has = hashHas;
          Hash.prototype.set = hashSet;

          /**
           * Creates an list cache object.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function ListCache(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the list cache.
           *
           * @private
           * @name clear
           * @memberOf ListCache
           */
          function listCacheClear() {
            this.__data__ = [];
          }

          /**
           * Removes `key` and its value from the list cache.
           *
           * @private
           * @name delete
           * @memberOf ListCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function listCacheDelete(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              return false;
            }
            var lastIndex = data.length - 1;
            if (index == lastIndex) {
              data.pop();
            } else {
              splice.call(data, index, 1);
            }
            return true;
          }

          /**
           * Gets the list cache value for `key`.
           *
           * @private
           * @name get
           * @memberOf ListCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function listCacheGet(key) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            return index < 0 ? undefined : data[index][1];
          }

          /**
           * Checks if a list cache value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf ListCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function listCacheHas(key) {
            return assocIndexOf(this.__data__, key) > -1;
          }

          /**
           * Sets the list cache `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf ListCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the list cache instance.
           */
          function listCacheSet(key, value) {
            var data = this.__data__,
              index = assocIndexOf(data, key);

            if (index < 0) {
              data.push([key, value]);
            } else {
              data[index][1] = value;
            }
            return this;
          }

          // Add methods to `ListCache`.
          ListCache.prototype.clear = listCacheClear;
          ListCache.prototype['delete'] = listCacheDelete;
          ListCache.prototype.get = listCacheGet;
          ListCache.prototype.has = listCacheHas;
          ListCache.prototype.set = listCacheSet;

          /**
           * Creates a map cache object to store key-value pairs.
           *
           * @private
           * @constructor
           * @param {Array} [entries] The key-value pairs to cache.
           */
          function MapCache(entries) {
            var index = -1,
              length = entries ? entries.length : 0;

            this.clear();
            while (++index < length) {
              var entry = entries[index];
              this.set(entry[0], entry[1]);
            }
          }

          /**
           * Removes all key-value entries from the map.
           *
           * @private
           * @name clear
           * @memberOf MapCache
           */
          function mapCacheClear() {
            this.__data__ = {
              hash: new Hash(),
              map: new (Map || ListCache)(),
              string: new Hash(),
            };
          }

          /**
           * Removes `key` and its value from the map.
           *
           * @private
           * @name delete
           * @memberOf MapCache
           * @param {string} key The key of the value to remove.
           * @returns {boolean} Returns `true` if the entry was removed, else `false`.
           */
          function mapCacheDelete(key) {
            return getMapData(this, key)['delete'](key);
          }

          /**
           * Gets the map value for `key`.
           *
           * @private
           * @name get
           * @memberOf MapCache
           * @param {string} key The key of the value to get.
           * @returns {*} Returns the entry value.
           */
          function mapCacheGet(key) {
            return getMapData(this, key).get(key);
          }

          /**
           * Checks if a map value for `key` exists.
           *
           * @private
           * @name has
           * @memberOf MapCache
           * @param {string} key The key of the entry to check.
           * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
           */
          function mapCacheHas(key) {
            return getMapData(this, key).has(key);
          }

          /**
           * Sets the map `key` to `value`.
           *
           * @private
           * @name set
           * @memberOf MapCache
           * @param {string} key The key of the value to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns the map cache instance.
           */
          function mapCacheSet(key, value) {
            getMapData(this, key).set(key, value);
            return this;
          }

          // Add methods to `MapCache`.
          MapCache.prototype.clear = mapCacheClear;
          MapCache.prototype['delete'] = mapCacheDelete;
          MapCache.prototype.get = mapCacheGet;
          MapCache.prototype.has = mapCacheHas;
          MapCache.prototype.set = mapCacheSet;

          /**
           * Assigns `value` to `key` of `object` if the existing value is not equivalent
           * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * for equality comparisons.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {string} key The key of the property to assign.
           * @param {*} value The value to assign.
           */
          function assignValue(object, key, value) {
            var objValue = object[key];
            if (
              !(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
              (value === undefined && !(key in object))
            ) {
              object[key] = value;
            }
          }

          /**
           * Gets the index at which the `key` is found in `array` of key-value pairs.
           *
           * @private
           * @param {Array} array The array to inspect.
           * @param {*} key The key to search for.
           * @returns {number} Returns the index of the matched value, else `-1`.
           */
          function assocIndexOf(array, key) {
            var length = array.length;
            while (length--) {
              if (eq(array[length][0], key)) {
                return length;
              }
            }
            return -1;
          }

          /**
           * The base implementation of `_.isNative` without bad shim checks.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a native function,
           *  else `false`.
           */
          function baseIsNative(value) {
            if (!isObject(value) || isMasked(value)) {
              return false;
            }
            var pattern =
              isFunction(value) || isHostObject(value)
                ? reIsNative
                : reIsHostCtor;
            return pattern.test(toSource(value));
          }

          /**
           * The base implementation of `_.set`.
           *
           * @private
           * @param {Object} object The object to modify.
           * @param {Array|string} path The path of the property to set.
           * @param {*} value The value to set.
           * @param {Function} [customizer] The function to customize path creation.
           * @returns {Object} Returns `object`.
           */
          function baseSet(object, path, value, customizer) {
            if (!isObject(object)) {
              return object;
            }
            path = isKey(path, object) ? [path] : castPath(path);

            var index = -1,
              length = path.length,
              lastIndex = length - 1,
              nested = object;

            while (nested != null && ++index < length) {
              var key = toKey(path[index]),
                newValue = value;

              if (index != lastIndex) {
                var objValue = nested[key];
                newValue = customizer
                  ? customizer(objValue, key, nested)
                  : undefined;
                if (newValue === undefined) {
                  newValue = isObject(objValue)
                    ? objValue
                    : isIndex(path[index + 1])
                    ? []
                    : {};
                }
              }
              assignValue(nested, key, newValue);
              nested = nested[key];
            }
            return object;
          }

          /**
           * The base implementation of `_.toString` which doesn't convert nullish
           * values to empty strings.
           *
           * @private
           * @param {*} value The value to process.
           * @returns {string} Returns the string.
           */
          function baseToString(value) {
            // Exit early for strings to avoid a performance hit in some environments.
            if (typeof value == 'string') {
              return value;
            }
            if (isSymbol(value)) {
              return symbolToString ? symbolToString.call(value) : '';
            }
            var result = value + '';
            return result == '0' && 1 / value == -INFINITY ? '-0' : result;
          }

          /**
           * Casts `value` to a path array if it's not one.
           *
           * @private
           * @param {*} value The value to inspect.
           * @returns {Array} Returns the cast property path array.
           */
          function castPath(value) {
            return isArray(value) ? value : stringToPath(value);
          }

          /**
           * Gets the data for `map`.
           *
           * @private
           * @param {Object} map The map to query.
           * @param {string} key The reference key.
           * @returns {*} Returns the map data.
           */
          function getMapData(map, key) {
            var data = map.__data__;
            return isKeyable(key)
              ? data[typeof key == 'string' ? 'string' : 'hash']
              : data.map;
          }

          /**
           * Gets the native function at `key` of `object`.
           *
           * @private
           * @param {Object} object The object to query.
           * @param {string} key The key of the method to get.
           * @returns {*} Returns the function if it's native, else `undefined`.
           */
          function getNative(object, key) {
            var value = getValue(object, key);
            return baseIsNative(value) ? value : undefined;
          }

          /**
           * Checks if `value` is a valid array-like index.
           *
           * @private
           * @param {*} value The value to check.
           * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
           * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
           */
          function isIndex(value, length) {
            length = length == null ? MAX_SAFE_INTEGER : length;
            return (
              !!length &&
              (typeof value == 'number' || reIsUint.test(value)) &&
              value > -1 &&
              value % 1 == 0 &&
              value < length
            );
          }

          /**
           * Checks if `value` is a property name and not a property path.
           *
           * @private
           * @param {*} value The value to check.
           * @param {Object} [object] The object to query keys on.
           * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
           */
          function isKey(value, object) {
            if (isArray(value)) {
              return false;
            }
            var type = typeof value;
            if (
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean' ||
              value == null ||
              isSymbol(value)
            ) {
              return true;
            }
            return (
              reIsPlainProp.test(value) ||
              !reIsDeepProp.test(value) ||
              (object != null && value in Object(object))
            );
          }

          /**
           * Checks if `value` is suitable for use as unique object key.
           *
           * @private
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
           */
          function isKeyable(value) {
            var type = typeof value;
            return type == 'string' ||
              type == 'number' ||
              type == 'symbol' ||
              type == 'boolean'
              ? value !== '__proto__'
              : value === null;
          }

          /**
           * Checks if `func` has its source masked.
           *
           * @private
           * @param {Function} func The function to check.
           * @returns {boolean} Returns `true` if `func` is masked, else `false`.
           */
          function isMasked(func) {
            return !!maskSrcKey && maskSrcKey in func;
          }

          /**
           * Converts `string` to a property path array.
           *
           * @private
           * @param {string} string The string to convert.
           * @returns {Array} Returns the property path array.
           */
          var stringToPath = memoize(function (string) {
            string = toString(string);

            var result = [];
            if (reLeadingDot.test(string)) {
              result.push('');
            }
            string.replace(rePropName, function (match, number, quote, string) {
              result.push(
                quote ? string.replace(reEscapeChar, '$1') : number || match
              );
            });
            return result;
          });

          /**
           * Converts `value` to a string key if it's not a string or symbol.
           *
           * @private
           * @param {*} value The value to inspect.
           * @returns {string|symbol} Returns the key.
           */
          function toKey(value) {
            if (typeof value == 'string' || isSymbol(value)) {
              return value;
            }
            var result = value + '';
            return result == '0' && 1 / value == -INFINITY ? '-0' : result;
          }

          /**
           * Converts `func` to its source code.
           *
           * @private
           * @param {Function} func The function to process.
           * @returns {string} Returns the source code.
           */
          function toSource(func) {
            if (func != null) {
              try {
                return funcToString.call(func);
              } catch (e) {}
              try {
                return func + '';
              } catch (e) {}
            }
            return '';
          }

          /**
           * Creates a function that memoizes the result of `func`. If `resolver` is
           * provided, it determines the cache key for storing the result based on the
           * arguments provided to the memoized function. By default, the first argument
           * provided to the memoized function is used as the map cache key. The `func`
           * is invoked with the `this` binding of the memoized function.
           *
           * **Note:** The cache is exposed as the `cache` property on the memoized
           * function. Its creation may be customized by replacing the `_.memoize.Cache`
           * constructor with one whose instances implement the
           * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
           * method interface of `delete`, `get`, `has`, and `set`.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Function
           * @param {Function} func The function to have its output memoized.
           * @param {Function} [resolver] The function to resolve the cache key.
           * @returns {Function} Returns the new memoized function.
           * @example
           *
           * var object = { 'a': 1, 'b': 2 };
           * var other = { 'c': 3, 'd': 4 };
           *
           * var values = _.memoize(_.values);
           * values(object);
           * // => [1, 2]
           *
           * values(other);
           * // => [3, 4]
           *
           * object.a = 2;
           * values(object);
           * // => [1, 2]
           *
           * // Modify the result cache.
           * values.cache.set(object, ['a', 'b']);
           * values(object);
           * // => ['a', 'b']
           *
           * // Replace `_.memoize.Cache`.
           * _.memoize.Cache = WeakMap;
           */
          function memoize(func, resolver) {
            if (
              typeof func != 'function' ||
              (resolver && typeof resolver != 'function')
            ) {
              throw new TypeError(FUNC_ERROR_TEXT);
            }
            var memoized = function () {
              var args = arguments,
                key = resolver ? resolver.apply(this, args) : args[0],
                cache = memoized.cache;

              if (cache.has(key)) {
                return cache.get(key);
              }
              var result = func.apply(this, args);
              memoized.cache = cache.set(key, result);
              return result;
            };
            memoized.cache = new (memoize.Cache || MapCache)();
            return memoized;
          }

          // Assign cache to `_.memoize`.
          memoize.Cache = MapCache;

          /**
           * Performs a
           * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
           * comparison between two values to determine if they are equivalent.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to compare.
           * @param {*} other The other value to compare.
           * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
           * @example
           *
           * var object = { 'a': 1 };
           * var other = { 'a': 1 };
           *
           * _.eq(object, object);
           * // => true
           *
           * _.eq(object, other);
           * // => false
           *
           * _.eq('a', 'a');
           * // => true
           *
           * _.eq('a', Object('a'));
           * // => false
           *
           * _.eq(NaN, NaN);
           * // => true
           */
          function eq(value, other) {
            return value === other || (value !== value && other !== other);
          }

          /**
           * Checks if `value` is classified as an `Array` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an array, else `false`.
           * @example
           *
           * _.isArray([1, 2, 3]);
           * // => true
           *
           * _.isArray(document.body.children);
           * // => false
           *
           * _.isArray('abc');
           * // => false
           *
           * _.isArray(_.noop);
           * // => false
           */
          var isArray = Array.isArray;

          /**
           * Checks if `value` is classified as a `Function` object.
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a function, else `false`.
           * @example
           *
           * _.isFunction(_);
           * // => true
           *
           * _.isFunction(/abc/);
           * // => false
           */
          function isFunction(value) {
            // The use of `Object#toString` avoids issues with the `typeof` operator
            // in Safari 8-9 which returns 'object' for typed array and other constructors.
            var tag = isObject(value) ? objectToString.call(value) : '';
            return tag == funcTag || tag == genTag;
          }

          /**
           * Checks if `value` is the
           * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
           * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
           *
           * @static
           * @memberOf _
           * @since 0.1.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is an object, else `false`.
           * @example
           *
           * _.isObject({});
           * // => true
           *
           * _.isObject([1, 2, 3]);
           * // => true
           *
           * _.isObject(_.noop);
           * // => true
           *
           * _.isObject(null);
           * // => false
           */
          function isObject(value) {
            var type = typeof value;
            return !!value && (type == 'object' || type == 'function');
          }

          /**
           * Checks if `value` is object-like. A value is object-like if it's not `null`
           * and has a `typeof` result of "object".
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
           * @example
           *
           * _.isObjectLike({});
           * // => true
           *
           * _.isObjectLike([1, 2, 3]);
           * // => true
           *
           * _.isObjectLike(_.noop);
           * // => false
           *
           * _.isObjectLike(null);
           * // => false
           */
          function isObjectLike(value) {
            return !!value && typeof value == 'object';
          }

          /**
           * Checks if `value` is classified as a `Symbol` primitive or object.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to check.
           * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
           * @example
           *
           * _.isSymbol(Symbol.iterator);
           * // => true
           *
           * _.isSymbol('abc');
           * // => false
           */
          function isSymbol(value) {
            return (
              typeof value == 'symbol' ||
              (isObjectLike(value) && objectToString.call(value) == symbolTag)
            );
          }

          /**
           * Converts `value` to a string. An empty string is returned for `null`
           * and `undefined` values. The sign of `-0` is preserved.
           *
           * @static
           * @memberOf _
           * @since 4.0.0
           * @category Lang
           * @param {*} value The value to process.
           * @returns {string} Returns the string.
           * @example
           *
           * _.toString(null);
           * // => ''
           *
           * _.toString(-0);
           * // => '-0'
           *
           * _.toString([1, 2, 3]);
           * // => '1,2,3'
           */
          function toString(value) {
            return value == null ? '' : baseToString(value);
          }

          /**
           * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
           * it's created. Arrays are created for missing index properties while objects
           * are created for all other missing properties. Use `_.setWith` to customize
           * `path` creation.
           *
           * **Note:** This method mutates `object`.
           *
           * @static
           * @memberOf _
           * @since 3.7.0
           * @category Object
           * @param {Object} object The object to modify.
           * @param {Array|string} path The path of the property to set.
           * @param {*} value The value to set.
           * @returns {Object} Returns `object`.
           * @example
           *
           * var object = { 'a': [{ 'b': { 'c': 3 } }] };
           *
           * _.set(object, 'a[0].b.c', 4);
           * console.log(object.a[0].b.c);
           * // => 4
           *
           * _.set(object, ['x', '0', 'y', 'z'], 5);
           * console.log(object.x[0].y.z);
           * // => 5
           */
          function set(object, path, value) {
            return object == null ? object : baseSet(object, path, value);
          }

          module.exports = set;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! ./../webpack/buildin/global.js */ '../node_modules/webpack/buildin/global.js'
          )
        );

        /***/
      },

    /***/ '../node_modules/process/browser.js':
      /*!******************************************!*\
  !*** ../node_modules/process/browser.js ***!
  \******************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        // shim for using process in browser
        var process = (module.exports = {});

        // cached from whatever global is present so that test runners that stub it
        // don't break things.  But we need to wrap it in a try catch in case it is
        // wrapped in strict mode code which doesn't define any globals.  It's inside a
        // function because try/catches deoptimize in certain engines.

        var cachedSetTimeout;
        var cachedClearTimeout;

        function defaultSetTimout() {
          throw new Error('setTimeout has not been defined');
        }
        function defaultClearTimeout() {
          throw new Error('clearTimeout has not been defined');
        }
        (function () {
          try {
            if (typeof setTimeout === 'function') {
              cachedSetTimeout = setTimeout;
            } else {
              cachedSetTimeout = defaultSetTimout;
            }
          } catch (e) {
            cachedSetTimeout = defaultSetTimout;
          }
          try {
            if (typeof clearTimeout === 'function') {
              cachedClearTimeout = clearTimeout;
            } else {
              cachedClearTimeout = defaultClearTimeout;
            }
          } catch (e) {
            cachedClearTimeout = defaultClearTimeout;
          }
        })();
        function runTimeout(fun) {
          if (cachedSetTimeout === setTimeout) {
            //normal enviroments in sane situations
            return setTimeout(fun, 0);
          }
          // if setTimeout wasn't available but was latter defined
          if (
            (cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) &&
            setTimeout
          ) {
            cachedSetTimeout = setTimeout;
            return setTimeout(fun, 0);
          }
          try {
            // when when somebody has screwed with setTimeout but no I.E. maddness
            return cachedSetTimeout(fun, 0);
          } catch (e) {
            try {
              // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
              return cachedSetTimeout.call(null, fun, 0);
            } catch (e) {
              // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
              return cachedSetTimeout.call(this, fun, 0);
            }
          }
        }
        function runClearTimeout(marker) {
          if (cachedClearTimeout === clearTimeout) {
            //normal enviroments in sane situations
            return clearTimeout(marker);
          }
          // if clearTimeout wasn't available but was latter defined
          if (
            (cachedClearTimeout === defaultClearTimeout ||
              !cachedClearTimeout) &&
            clearTimeout
          ) {
            cachedClearTimeout = clearTimeout;
            return clearTimeout(marker);
          }
          try {
            // when when somebody has screwed with setTimeout but no I.E. maddness
            return cachedClearTimeout(marker);
          } catch (e) {
            try {
              // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
              return cachedClearTimeout.call(null, marker);
            } catch (e) {
              // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
              // Some versions of I.E. have different rules for clearTimeout vs setTimeout
              return cachedClearTimeout.call(this, marker);
            }
          }
        }
        var queue = [];
        var draining = false;
        var currentQueue;
        var queueIndex = -1;

        function cleanUpNextTick() {
          if (!draining || !currentQueue) {
            return;
          }
          draining = false;
          if (currentQueue.length) {
            queue = currentQueue.concat(queue);
          } else {
            queueIndex = -1;
          }
          if (queue.length) {
            drainQueue();
          }
        }

        function drainQueue() {
          if (draining) {
            return;
          }
          var timeout = runTimeout(cleanUpNextTick);
          draining = true;

          var len = queue.length;
          while (len) {
            currentQueue = queue;
            queue = [];
            while (++queueIndex < len) {
              if (currentQueue) {
                currentQueue[queueIndex].run();
              }
            }
            queueIndex = -1;
            len = queue.length;
          }
          currentQueue = null;
          draining = false;
          runClearTimeout(timeout);
        }

        process.nextTick = function (fun) {
          var args = new Array(arguments.length - 1);
          if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; i++) {
              args[i - 1] = arguments[i];
            }
          }
          queue.push(new Item(fun, args));
          if (queue.length === 1 && !draining) {
            runTimeout(drainQueue);
          }
        };

        // v8 likes predictible objects
        function Item(fun, array) {
          this.fun = fun;
          this.array = array;
        }
        Item.prototype.run = function () {
          this.fun.apply(null, this.array);
        };
        process.title = 'browser';
        process.browser = true;
        process.env = {};
        process.argv = [];
        process.version = ''; // empty string to avoid regexp issues
        process.versions = {};

        function noop() {}

        process.on = noop;
        process.addListener = noop;
        process.once = noop;
        process.off = noop;
        process.removeListener = noop;
        process.removeAllListeners = noop;
        process.emit = noop;
        process.prependListener = noop;
        process.prependOnceListener = noop;

        process.listeners = function (name) {
          return [];
        };

        process.binding = function (name) {
          throw new Error('process.binding is not supported');
        };

        process.cwd = function () {
          return '/';
        };
        process.chdir = function (dir) {
          throw new Error('process.chdir is not supported');
        };
        process.umask = function () {
          return 0;
        };

        /***/
      },

    /***/ '../node_modules/tslib/tslib.es6.js':
      /*!******************************************!*\
  !*** ../node_modules/tslib/tslib.es6.js ***!
  \******************************************/
      /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */
      /***/ function (module, __webpack_exports__, __webpack_require__) {
        'use strict';
        __webpack_require__.r(__webpack_exports__);
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__extends',
            function () {
              return __extends;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__assign',
            function () {
              return __assign;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__rest',
            function () {
              return __rest;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__decorate',
            function () {
              return __decorate;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__param',
            function () {
              return __param;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__metadata',
            function () {
              return __metadata;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__awaiter',
            function () {
              return __awaiter;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__generator',
            function () {
              return __generator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__exportStar',
            function () {
              return __exportStar;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__values',
            function () {
              return __values;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__read',
            function () {
              return __read;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__spread',
            function () {
              return __spread;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__spreadArrays',
            function () {
              return __spreadArrays;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__await',
            function () {
              return __await;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncGenerator',
            function () {
              return __asyncGenerator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncDelegator',
            function () {
              return __asyncDelegator;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__asyncValues',
            function () {
              return __asyncValues;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__makeTemplateObject',
            function () {
              return __makeTemplateObject;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__importStar',
            function () {
              return __importStar;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__importDefault',
            function () {
              return __importDefault;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__classPrivateFieldGet',
            function () {
              return __classPrivateFieldGet;
            }
          );
          /* harmony export (binding) */ __webpack_require__.d(
            __webpack_exports__,
            '__classPrivateFieldSet',
            function () {
              return __classPrivateFieldSet;
            }
          );
          /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
          /* global Reflect, Promise */

          var extendStatics = function (d, b) {
            extendStatics =
              Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array &&
                function (d, b) {
                  d.__proto__ = b;
                }) ||
              function (d, b) {
                for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
              };
            return extendStatics(d, b);
          };

          function __extends(d, b) {
            extendStatics(d, b);
            function __() {
              this.constructor = d;
            }
            d.prototype =
              b === null
                ? Object.create(b)
                : ((__.prototype = b.prototype), new __());
          }

          var __assign = function () {
            __assign =
              __webpack_provided_Object_dot_assign ||
              function __assign(t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                  s = arguments[i];
                  for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                }
                return t;
              };
            return __assign.apply(this, arguments);
          };

          function __rest(s, e) {
            var t = {};
            for (var p in s)
              if (
                Object.prototype.hasOwnProperty.call(s, p) &&
                e.indexOf(p) < 0
              )
                t[p] = s[p];
            if (s != null && typeof Object.getOwnPropertySymbols === 'function')
              for (
                var i = 0, p = Object.getOwnPropertySymbols(s);
                i < p.length;
                i++
              ) {
                if (
                  e.indexOf(p[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(s, p[i])
                )
                  t[p[i]] = s[p[i]];
              }
            return t;
          }

          function __decorate(decorators, target, key, desc) {
            var c = arguments.length,
              r =
                c < 3
                  ? target
                  : desc === null
                  ? (desc = Object.getOwnPropertyDescriptor(target, key))
                  : desc,
              d;
            if (
              typeof Reflect === 'object' &&
              typeof Reflect.decorate === 'function'
            )
              r = Reflect.decorate(decorators, target, key, desc);
            else
              for (var i = decorators.length - 1; i >= 0; i--)
                if ((d = decorators[i]))
                  r =
                    (c < 3
                      ? d(r)
                      : c > 3
                      ? d(target, key, r)
                      : d(target, key)) || r;
            return c > 3 && r && Object.defineProperty(target, key, r), r;
          }

          function __param(paramIndex, decorator) {
            return function (target, key) {
              decorator(target, key, paramIndex);
            };
          }

          function __metadata(metadataKey, metadataValue) {
            if (
              typeof Reflect === 'object' &&
              typeof Reflect.metadata === 'function'
            )
              return Reflect.metadata(metadataKey, metadataValue);
          }

          function __awaiter(thisArg, _arguments, P, generator) {
            function adopt(value) {
              return value instanceof P
                ? value
                : new P(function (resolve) {
                    resolve(value);
                  });
            }
            return new (P || (P = gigya.Promise))(function (resolve, reject) {
              function fulfilled(value) {
                try {
                  step(generator.next(value));
                } catch (e) {
                  reject(e);
                }
              }
              function rejected(value) {
                try {
                  step(generator['throw'](value));
                } catch (e) {
                  reject(e);
                }
              }
              function step(result) {
                result.done
                  ? resolve(result.value)
                  : adopt(result.value).then(fulfilled, rejected);
              }
              step(
                (generator = generator.apply(thisArg, _arguments || [])).next()
              );
            });
          }

          function __generator(thisArg, body) {
            var _ = {
                label: 0,
                sent: function () {
                  if (t[0] & 1) throw t[1];
                  return t[1];
                },
                trys: [],
                ops: [],
              },
              f,
              y,
              t,
              g;
            return (
              (g = { next: verb(0), throw: verb(1), return: verb(2) }),
              typeof Symbol === 'function' &&
                (g[Symbol.iterator] = function () {
                  return this;
                }),
              g
            );
            function verb(n) {
              return function (v) {
                return step([n, v]);
              };
            }
            function step(op) {
              if (f) throw new TypeError('Generator is already executing.');
              while (_)
                try {
                  if (
                    ((f = 1),
                    y &&
                      (t =
                        op[0] & 2
                          ? y['return']
                          : op[0]
                          ? y['throw'] || ((t = y['return']) && t.call(y), 0)
                          : y.next) &&
                      !(t = t.call(y, op[1])).done)
                  )
                    return t;
                  if (((y = 0), t)) op = [op[0] & 2, t.value];
                  switch (op[0]) {
                    case 0:
                    case 1:
                      t = op;
                      break;
                    case 4:
                      _.label++;
                      return { value: op[1], done: false };
                    case 5:
                      _.label++;
                      y = op[1];
                      op = [0];
                      continue;
                    case 7:
                      op = _.ops.pop();
                      _.trys.pop();
                      continue;
                    default:
                      if (
                        !((t = _.trys),
                        (t = t.length > 0 && t[t.length - 1])) &&
                        (op[0] === 6 || op[0] === 2)
                      ) {
                        _ = 0;
                        continue;
                      }
                      if (
                        op[0] === 3 &&
                        (!t || (op[1] > t[0] && op[1] < t[3]))
                      ) {
                        _.label = op[1];
                        break;
                      }
                      if (op[0] === 6 && _.label < t[1]) {
                        _.label = t[1];
                        t = op;
                        break;
                      }
                      if (t && _.label < t[2]) {
                        _.label = t[2];
                        _.ops.push(op);
                        break;
                      }
                      if (t[2]) _.ops.pop();
                      _.trys.pop();
                      continue;
                  }
                  op = body.call(thisArg, _);
                } catch (e) {
                  op = [6, e];
                  y = 0;
                } finally {
                  f = t = 0;
                }
              if (op[0] & 5) throw op[1];
              return { value: op[0] ? op[1] : void 0, done: true };
            }
          }

          function __exportStar(m, exports) {
            for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
          }

          function __values(o) {
            var s = typeof Symbol === 'function' && Symbol.iterator,
              m = s && o[s],
              i = 0;
            if (m) return m.call(o);
            if (o && typeof o.length === 'number')
              return {
                next: function () {
                  if (o && i >= o.length) o = void 0;
                  return { value: o && o[i++], done: !o };
                },
              };
            throw new TypeError(
              s ? 'Object is not iterable.' : 'Symbol.iterator is not defined.'
            );
          }

          function __read(o, n) {
            var m = typeof Symbol === 'function' && o[Symbol.iterator];
            if (!m) return o;
            var i = m.call(o),
              r,
              ar = [],
              e;
            try {
              while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
            } catch (error) {
              e = { error: error };
            } finally {
              try {
                if (r && !r.done && (m = i['return'])) m.call(i);
              } finally {
                if (e) throw e.error;
              }
            }
            return ar;
          }

          function __spread() {
            for (var ar = [], i = 0; i < arguments.length; i++)
              ar = ar.concat(__read(arguments[i]));
            return ar;
          }

          function __spreadArrays() {
            for (var s = 0, i = 0, il = arguments.length; i < il; i++)
              s += arguments[i].length;
            for (var r = Array(s), k = 0, i = 0; i < il; i++)
              for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
            return r;
          }

          function __await(v) {
            return this instanceof __await
              ? ((this.v = v), this)
              : new __await(v);
          }

          function __asyncGenerator(thisArg, _arguments, generator) {
            if (!Symbol.asyncIterator)
              throw new TypeError('Symbol.asyncIterator is not defined.');
            var g = generator.apply(thisArg, _arguments || []),
              i,
              q = [];
            return (
              (i = {}),
              verb('next'),
              verb('throw'),
              verb('return'),
              (i[Symbol.asyncIterator] = function () {
                return this;
              }),
              i
            );
            function verb(n) {
              if (g[n])
                i[n] = function (v) {
                  return new gigya.Promise(function (a, b) {
                    q.push([n, v, a, b]) > 1 || resume(n, v);
                  });
                };
            }
            function resume(n, v) {
              try {
                step(g[n](v));
              } catch (e) {
                settle(q[0][3], e);
              }
            }
            function step(r) {
              r.value instanceof __await
                ? gigya.Promise.resolve(r.value.v).then(fulfill, reject)
                : settle(q[0][2], r);
            }
            function fulfill(value) {
              resume('next', value);
            }
            function reject(value) {
              resume('throw', value);
            }
            function settle(f, v) {
              if ((f(v), q.shift(), q.length)) resume(q[0][0], q[0][1]);
            }
          }

          function __asyncDelegator(o) {
            var i, p;
            return (
              (i = {}),
              verb('next'),
              verb('throw', function (e) {
                throw e;
              }),
              verb('return'),
              (i[Symbol.iterator] = function () {
                return this;
              }),
              i
            );
            function verb(n, f) {
              i[n] = o[n]
                ? function (v) {
                    return (p = !p)
                      ? { value: __await(o[n](v)), done: n === 'return' }
                      : f
                      ? f(v)
                      : v;
                  }
                : f;
            }
          }

          function __asyncValues(o) {
            if (!Symbol.asyncIterator)
              throw new TypeError('Symbol.asyncIterator is not defined.');
            var m = o[Symbol.asyncIterator],
              i;
            return m
              ? m.call(o)
              : ((o =
                  typeof __values === 'function'
                    ? __values(o)
                    : o[Symbol.iterator]()),
                (i = {}),
                verb('next'),
                verb('throw'),
                verb('return'),
                (i[Symbol.asyncIterator] = function () {
                  return this;
                }),
                i);
            function verb(n) {
              i[n] =
                o[n] &&
                function (v) {
                  return new gigya.Promise(function (resolve, reject) {
                    (v = o[n](v)), settle(resolve, reject, v.done, v.value);
                  });
                };
            }
            function settle(resolve, reject, d, v) {
              gigya.Promise.resolve(v).then(function (v) {
                resolve({ value: v, done: d });
              }, reject);
            }
          }

          function __makeTemplateObject(cooked, raw) {
            if (Object.defineProperty) {
              Object.defineProperty(cooked, 'raw', { value: raw });
            } else {
              cooked.raw = raw;
            }
            return cooked;
          }

          function __importStar(mod) {
            if (mod && mod.__esModule) return mod;
            var result = {};
            if (mod != null)
              for (var k in mod)
                if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
            result.default = mod;
            return result;
          }

          function __importDefault(mod) {
            return mod && mod.__esModule ? mod : { default: mod };
          }

          function __classPrivateFieldGet(receiver, privateMap) {
            if (!privateMap.has(receiver)) {
              throw new TypeError(
                'attempted to get private field on non-instance'
              );
            }
            return privateMap.get(receiver);
          }

          function __classPrivateFieldSet(receiver, privateMap, value) {
            if (!privateMap.has(receiver)) {
              throw new TypeError(
                'attempted to set private field on non-instance'
              );
            }
            privateMap.set(receiver, value);
            return value;
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ '../node_modules/webpack/buildin/global.js':
      /*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        var g;

        // This works in non-strict mode
        g = (function () {
          return this;
        })();

        try {
          // This works if eval is allowed (see CSP)
          g = g || new Function('return this')();
        } catch (e) {
          // This works if the window reference is available
          if (typeof window === 'object') g = window;
        }

        // g can still be undefined, but nothing to do about it...
        // We return undefined, instead of nothing here, so it's
        // easier to handle this case. if(!global) { ...}

        module.exports = g;

        /***/
      },

    /***/ '../node_modules/webpack/buildin/module.js':
      /*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/module.js ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        module.exports = function (module) {
          if (!module.webpackPolyfill) {
            module.deprecate = function () {};
            module.paths = [];
            // module.parent = undefined by default
            if (!module.children) module.children = [];
            Object.defineProperty(module, 'loaded', {
              enumerable: true,
              get: function () {
                return module.l;
              },
            });
            Object.defineProperty(module, 'id', {
              enumerable: true,
              get: function () {
                return module.i;
              },
            });
            module.webpackPolyfill = 1;
          }
          return module;
        };

        /***/
      },

    /***/ './src/accounts/constants.ts':
      /*!***********************************!*\
  !*** ./src/accounts/constants.ts ***!
  \***********************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var EditableTfaProvidersTypes;
        (function (EditableTfaProvidersTypes) {
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaPhone'] = 0)
          ] = 'gigyaPhone';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaTotp'] = 1)
          ] = 'gigyaTotp';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['gigyaPush'] = 2)
          ] = 'gigyaPush';
          EditableTfaProvidersTypes[
            (EditableTfaProvidersTypes['livelink'] = 3)
          ] = 'livelink';
        })(
          (EditableTfaProvidersTypes =
            exports.EditableTfaProvidersTypes ||
            (exports.EditableTfaProvidersTypes = {}))
        );
        exports.gigyaAssertionExpiration = 60 * 5 * 1000;
        exports.sensitiveParamsOverride = 'login_token';
        exports.GIGYA_PARAM_PREFIX = 'gig_';
        exports.GIGYA_INTERNAL_PARAM_PREFIX = exports.GIGYA_PARAM_PREFIX + 'i_';
        exports.GIGYA_INTERNAL_PARAMS = exports.GIGYA_PARAM_PREFIX + 'actions';

        /***/
      },

    /***/ './src/core/ApiService/app/RequestProvider.ts':
      /*!****************************************************!*\
  !*** ./src/core/ApiService/app/RequestProvider.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var RequestProvider = /** @class */ (function () {
          function RequestProvider(_xhrRequest, timeout, _win) {
            if (_xhrRequest === void 0) {
              _xhrRequest = window.gigya.XhrRequest;
            }
            if (timeout === void 0) {
              timeout = 15000;
            }
            if (_win === void 0) {
              _win = window;
            }
            this._xhrRequest = _xhrRequest;
            this.timeout = timeout;
            this._win = _win;
          }
          RequestProvider.prototype.send = function (
            baseDomain,
            methodName,
            params,
            settings,
            headers
          ) {
            if (headers === void 0) {
              headers = {};
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _this = this;
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  new gigya.Promise(function (resolve, reject) {
                    return tslib_1.__awaiter(
                      _this,
                      void 0,
                      void 0,
                      function () {
                        var request, timeoutId, _a, err_1;
                        return tslib_1.__generator(this, function (_b) {
                          switch (_b.label) {
                            case 0:
                              request = new this._xhrRequest(
                                baseDomain,
                                methodName,
                                params,
                                settings,
                                headers
                              );
                              timeoutId = this._win.setTimeout(function () {
                                reject('API request timeout');
                              }, this.timeout);
                              _b.label = 1;
                            case 1:
                              _b.trys.push([1, 3, 4, 5]);
                              _a = resolve;
                              return [4 /*yield*/, request.send()];
                            case 2:
                              _a.apply(void 0, [_b.sent()]);
                              return [3 /*break*/, 5];
                            case 3:
                              err_1 = _b.sent();
                              window.gigya.logger.report('XHR request failed', {
                                methodName: methodName,
                                params: params,
                                settings: settings,
                                err: err_1,
                              });
                              reject('Request for ' + methodName + ' failed');
                              return [3 /*break*/, 5];
                            case 4:
                              this._win.clearTimeout(timeoutId);
                              return [7 /*endfinally*/];
                            case 5:
                              return [2 /*return*/];
                          }
                        });
                      }
                    );
                  }),
                ];
              });
            });
          };
          return RequestProvider;
        })();
        exports.RequestProvider = RequestProvider;

        /***/
      },

    /***/ './src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/centralizedSSO.ts':
      /*!******************************************************************************!*\
  !*** ./src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/centralizedSSO.ts ***!
  \******************************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var TokenStore_1 = __webpack_require__(
          /*! ../TokenStore */ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts'
        );
        var sessionHelpers_1 = __webpack_require__(
          /*! ./sessionHelpers */ './src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/sessionHelpers.ts'
        );
        var HTTP_1 = __webpack_require__(
          /*! ../../../Gigya.Js/app/Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
        );
        var queue_1 = __webpack_require__(
          /*! ../../../Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var constants_1 = __webpack_require__(
          /*! ../../../../accounts/constants */ './src/accounts/constants.ts'
        );
        var UrlParamsHelper_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/UrlParamsHelper */ './src/core/Gigya.Js/app/Utils/UrlParamsHelper.ts'
        );
        function ssoLogin(params) {
          if (params === void 0) {
            params = {};
          }
          if (!verifySiteConfiguration()) {
            return;
          }
          if (!window.gigya.utils.toggles.isOn('keepSessionOnSSOLogin')) {
            TokenStore_1.remove();
          }
          window.gigya.accounts.sso.login(params);
        }
        exports.ssoLogin = ssoLogin;
        function continueSso(params) {
          if (params === void 0) {
            params = {};
          }
          var _a, _b, _c, _d, _e;
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var log,
              endFlow,
              ssoToken,
              scope,
              APIKey,
              login_token,
              _f,
              serverParams,
              serverParams;
            return tslib_1.__generator(this, function (_g) {
              switch (_g.label) {
                case 0:
                  queue_1.hold('ssoContinue', 'API');
                  log = window.gigya.logger.group('sso.continue');
                  endFlow = function (warningMessage) {
                    warningMessage && window.gigya.logger.warn(warningMessage);
                    queue_1.release('ssoContinue', 'API');
                    return log.end();
                  };
                  if (!verifySiteConfiguration()) {
                    return [2 /*return*/, endFlow()];
                  }
                  ssoToken = window.gigya.getUrlParam('ssoToken');
                  scope = window.gigya.getUrlParam('scope');
                  if (!ssoToken) {
                    return [
                      2 /*return*/,
                      endFlow('ssoToken must be present in the url'),
                    ];
                  }
                  APIKey =
                    ((_b =
                      (_a = window.gigya.thisScript) === null || _a === void 0
                        ? void 0
                        : _a.globalConf) === null || _b === void 0
                      ? void 0
                      : _b.APIKey) ||
                    ((_c = window.gigya.thisScript) === null || _c === void 0
                      ? void 0
                      : _c.APIKey);
                  _f = TokenStore_1.get(APIKey);
                  if (_f) return [3 /*break*/, 2];
                  return [4 /*yield*/, sessionHelpers_1.syncGroupToken(APIKey)];
                case 1:
                  _f = _g.sent();
                  _g.label = 2;
                case 2:
                  login_token = _f;
                  if (!login_token) {
                    return [
                      2 /*return*/,
                      endFlow(
                        "can't continue with SSO login, missing local session"
                      ),
                    ];
                  }
                  params['sdk'] =
                    'js_' +
                    (((_d = window.gigya.build) === null || _d === void 0
                      ? void 0
                      : _d.version) || '');
                  params['sdkBuild'] =
                    ((_e = window.gigya.build) === null || _e === void 0
                      ? void 0
                      : _e.number) || 0;
                  log.end();
                  if (scope === 'device_sso') {
                    serverParams = tslib_1.__assign(
                      { context: ssoToken, login_token: login_token },
                      params
                    );
                    window.gigya.logger.info(
                      'redirect to oidc continue with params: ',
                      serverParams
                    );
                    window.gigya.fidm.oidc.op.redirectToContinue(
                      tslib_1.__assign(
                        { opKey: window.gigya.partnerSettings.ssoKey },
                        serverParams
                      )
                    );
                  } else {
                    serverParams = {
                      ssoToken: ssoToken,
                      login_token: login_token,
                      APIKey: APIKey,
                    };
                    window.gigya.logger.info(
                      'redirect to sso.continue with params: ',
                      serverParams
                    );
                    HTTP_1.redirect(
                      'https://' +
                        window.gigya._.getApiDomain() +
                        '/accounts.sso.continue',
                      [serverParams, params],
                      'POST'
                    );
                  }
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.continueSso = continueSso;
        function getSsoContext(params) {
          var _a;
          params === null || params === void 0
            ? void 0
            : params.callback(
                ((_a = window.gigya._.sso) === null || _a === void 0
                  ? void 0
                  : _a.context) || {}
              );
        }
        exports.getSsoContext = getSsoContext;
        function setSsoContext(context) {
          try {
            var urlParams = getUrlContextParams();
            var rpContext = (
              context === null || context === void 0
                ? void 0
                : context.rpContext
            )
              ? JSON.parse(context.rpContext)
              : {};
            window.gigya._.sso.context = tslib_1.__assign(
              tslib_1.__assign({}, urlParams),
              rpContext
            );
          } catch (e) {
            window.gigya.logger.report('failed to set sso context');
          }
        }
        exports.setSsoContext = setSsoContext;
        function verifySiteConfiguration() {
          var _a, _b;
          if (!window.gigya.partnerSettings.ssoKey) {
            window.gigya.logger.warn('Not in SSO Group');
            return false;
          }
          if (
            !((_b =
              (_a = window.gigya.thisScript) === null || _a === void 0
                ? void 0
                : _a.globalConf) === null || _b === void 0
              ? void 0
              : _b['storageDomainOverride'])
          ) {
            window.gigya.logger.warn(
              'Central login page must configure storageDomainOverride in webSDK Configuration'
            );
            return false;
          }
          return true;
        }
        function getUrlContextParams() {
          return new UrlParamsHelper_1.default()
            .getGigParamsFromURL()
            .removeUnacceptableParams(
              new RegExp(
                constants_1.GIGYA_INTERNAL_PARAM_PREFIX +
                  '|' +
                  constants_1.GIGYA_INTERNAL_PARAMS +
                  '|gig_ssoToken'
              )
            )
            .removePrefix()
            .toObject();
        }

        /***/
      },

    /***/ './src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/sessionHelpers.ts':
      /*!******************************************************************************!*\
  !*** ./src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/sessionHelpers.ts ***!
  \******************************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var TokenStore_1 = __webpack_require__(
          /*! ../TokenStore */ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../../../Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var SessionService_1 = __webpack_require__(
          /*! ../../../Gigya.Js/app/Services/SessionService */ './src/core/Gigya.Js/app/Services/SessionService.ts'
        );
        var SsoService_1 = __webpack_require__(
          /*! ../SsoService */ './src/core/Gigya.Js.Adapters.Web/app/SsoService.ts'
        );
        var promise_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/promise */ './src/core/Gigya.Js/app/Utils/promise.ts'
        );
        function hasSession() {
          var _a, _b, _c, _d;
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var log, apiKey, gltToken, response, isSessionVerified, oURLParams;
            return tslib_1.__generator(this, function (_e) {
              switch (_e.label) {
                case 0:
                  log = window.gigya.logger.group('hasSession');
                  apiKey =
                    ((_b =
                      (_a = window.gigya.thisScript) === null || _a === void 0
                        ? void 0
                        : _a.globalConf) === null || _b === void 0
                      ? void 0
                      : _b['APIKey']) ||
                    ((_c = window.gigya.thisScript) === null || _c === void 0
                      ? void 0
                      : _c.APIKey);
                  window.gigya.logger.info(
                    'checking session exist for apiKey: ' + apiKey
                  );
                  if (
                    ((_d = window.gigya.thisScript) === null || _d === void 0
                      ? void 0
                      : _d.APIKey) !== apiKey
                  ) {
                    window.gigya.logger.info(
                      'effective apiKey for checking session and the apiKey that the script was loaded with are different'
                    );
                  }
                  gltToken = TokenStore_1.get();
                  if (!(!gltToken && window.gigya.partnerSettings.ssoKey))
                    return [3 /*break*/, 2];
                  window.gigya.logger.info(
                    'SSO group, sync login token from group'
                  );
                  return [4 /*yield*/, syncGroupToken(apiKey)];
                case 1:
                  gltToken = _e.sent();
                  _e.label = 2;
                case 2:
                  if (!gltToken) return [3 /*break*/, 6];
                  if (!SessionService_1.sessionData.isSessionVerified(gltToken))
                    return [3 /*break*/, 3];
                  window.gigya.logger.info(
                    'login token exist and session is already verified, session is valid'
                  );
                  log.end();
                  return [2 /*return*/, true];
                case 3:
                  window.gigya.logger.info(
                    'login token exist and session is not verified, verifying session...'
                  );
                  return [
                    4 /*yield*/,
                    promise_1.promisify(window.gigya.accounts.verifyLogin),
                  ];
                case 4:
                  response = _e.sent();
                  isSessionVerified =
                    (response === null || response === void 0
                      ? void 0
                      : response.errorCode) == GSErrors_1.GSErrors.OK;
                  SessionService_1.sessionData.setIsSessionVerified(
                    gltToken,
                    isSessionVerified
                  );
                  window.gigya.logger.info(
                    isSessionVerified
                      ? 'session verified'
                      : 'session is not verified'
                  );
                  log.end();
                  return [2 /*return*/, isSessionVerified];
                case 5:
                  return [3 /*break*/, 7];
                case 6:
                  oURLParams = window.gigya.utils.URL.getParamsFromURL(
                    document.location.href
                  );
                  if (oURLParams['errorCode'] && oURLParams['regToken']) {
                    window.gigya.logger.info(
                      'user is returned from redirect, wait for login completion'
                    );
                    log.end();
                    return [
                      2 /*return*/,
                      new gigya.Promise(function (resolve) {
                        window.gigya.accounts.addEventHandlers({
                          onLogin: function () {
                            return resolve(true);
                          },
                        });
                      }),
                    ];
                  }
                  window.gigya.logger.info("login token doesn't exist");
                  log.end();
                  return [2 /*return*/, false];
                case 7:
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.hasSession = hasSession;
        function syncGroupToken(localApiKey) {
          if (localApiKey === void 0) {
            localApiKey = window.gigya.thisScript.APIKey;
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var service, token;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  window.gigya.logger.info('sync login token from group');
                  return [4 /*yield*/, SsoService_1.SsoService.getInstance()];
                case 1:
                  service = _a.sent();
                  return [
                    4 /*yield*/,
                    service === null || service === void 0
                      ? void 0
                      : service.getToken(),
                  ];
                case 2:
                  token = _a.sent();
                  return [
                    4 /*yield*/,
                    TokenStore_1.setFromSsoResponse(token, localApiKey),
                  ];
                case 3:
                  _a.sent();
                  return [2 /*return*/, TokenStore_1.get(localApiKey)];
              }
            });
          });
        }
        exports.syncGroupToken = syncGroupToken;

        /***/
      },

    /***/ './src/core/Gigya.Js.Adapters.Web/app/SsoService.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js.Adapters.Web/app/SsoService.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var sso_1 = __webpack_require__(
          /*! src/fidm/Gigya.JS.SSO/app/sso */ './src/fidm/Gigya.JS.SSO/app/sso.ts'
        );
        var domains_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
        );
        var utils_1 = __webpack_require__(
          /*! ../../ServiceProxy/utils */ './src/core/ServiceProxy/utils.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../../Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var ServiceProxy_1 = __webpack_require__(
          /*! ../../ServiceProxy/ServiceProxy */ './src/core/ServiceProxy/ServiceProxy.ts'
        );
        // ### Single Sign On across multiple domains ###
        var callbackCounter = 0;
        exports._requestTimeout = 3000;
        var SsoService = /** @class */ (function () {
          function SsoService() {}
          SsoService.getInstance = function (ssoKey) {
            if (ssoKey === void 0) {
              ssoKey = window.gigya.partnerSettings.ssoKey;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var qs, url, ssoAdapter, error_1;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    if (!!this._instance) return [3 /*break*/, 7];
                    if (!!ssoKey) return [3 /*break*/, 1];
                    return [2 /*return*/, null];
                  case 1:
                    if (!FlagService_1.FlagService.loadSsoFrameOnlyOnce)
                      return [3 /*break*/, 6];
                    qs = window.gigya.utils.keyValue.serialize({
                      APIKey: ssoKey,
                      version: window.gigya.build.version,
                      build: window.gigya.build.number || -1,
                      sourceKey: window.gigya.thisScript.APIKey,
                      oneFrame: true,
                      origin:
                        window.gigya.localInfo.protocol +
                        '://' +
                        document.location.hostname,
                      ssoSegment: window.gigya.partnerSettings.ssoSegment || '',
                    });
                    url =
                      'https://' +
                      domains_1.getStorageDomain() +
                      '/gs/sso.htm?' +
                      qs;
                    _a.label = 2;
                  case 2:
                    _a.trys.push([2, 4, , 5]);
                    ssoAdapter = new ServiceProxy_1.ServiceProxy(url);
                    return [4 /*yield*/, ssoAdapter.init('SSO')];
                  case 3:
                    _a.sent();
                    this._instance = ssoAdapter.wrapWith(sso_1.Sso);
                    return [3 /*break*/, 5];
                  case 4:
                    error_1 = _a.sent();
                    window.gigya.logger.error('error initialize sso frame', {
                      scope: 'SsoService.init',
                      error: error_1,
                    });
                    this._instance = new SsoService();
                    return [3 /*break*/, 5];
                  case 5:
                    return [3 /*break*/, 7];
                  case 6:
                    this._instance = new SsoService();
                    _a.label = 7;
                  case 7:
                    return [2 /*return*/, this._instance];
                }
              });
            });
          };
          SsoService.prototype.checkTokenRenew = function (loginToken) {
            return new gigya.Promise(function (resolve) {
              checkTokenRenew({ loginToken: loginToken, callback: resolve });
            });
          };
          SsoService.prototype.getToken = function () {
            return new gigya.Promise(function (resolve) {
              getGroupToken({ callback: resolve });
            });
          };
          SsoService.prototype.getTokenExpiration = function () {
            return new gigya.Promise(function (resolve) {
              getLoginTokenExp({
                callback: resolve,
              });
            });
          };
          SsoService.prototype.logout = function () {
            return new gigya.Promise(function (resolve) {
              logout({
                callback: resolve,
              });
            });
          };
          SsoService.prototype.removeToken = function () {
            return new gigya.Promise(function (resolve) {
              removeGroupToken({ callback: resolve });
            });
          };
          SsoService.prototype.setGroupContext = function (groupContext) {
            return new gigya.Promise(function (resolve) {
              setGroupContextCookie({
                groupContext: groupContext,
                callback: resolve,
              });
            });
          };
          SsoService.prototype.setToken = function (lt, expiration, gltexp) {
            return new gigya.Promise(function (resolve) {
              setGroupToken({
                lt: lt,
                expiration: expiration,
                gltexp: gltexp,
                callback: resolve,
              });
            });
          };
          SsoService.prototype.setTokenExpiration = function (
            loginTokenExp,
            useCache
          ) {
            if (useCache === void 0) {
              useCache = true;
            }
            return new gigya.Promise(function (resolve) {
              setLoginTokenExp(
                {
                  loginTokenExp: loginTokenExp,
                  callback: resolve,
                },
                useCache
              );
            });
          };
          SsoService.prototype.syncCanaryIndication = function (
            isCanary,
            canaryVersion
          ) {
            return new gigya.Promise(function (resolve) {
              syncCanaryIndication({
                isCanary: isCanary,
                canaryVersion: canaryVersion,
                callback: resolve,
              });
            });
          };
          SsoService.prototype.getGroupApiDomain = function () {
            return new gigya.Promise(function (resolve) {
              getGroupApiDomain({ callback: resolve });
            });
          };
          SsoService.prototype.setGroupApiDomain = function (domain) {
            return new gigya.Promise(function (resolve) {
              setGroupApiDomain({ callback: resolve, domain: domain });
            });
          };
          return SsoService;
        })();
        exports.SsoService = SsoService;
        function _request(mode, p) {
          if (!window.gigya.partnerSettings.ssoKey) {
            if (p && p.callback) {
              p.callback({});
            }
            return;
          }
          var params;
          if (!p) {
            params = {};
          } else {
            // Ensure the params passed are not modified by reference.
            params = window.gigya.utils.object.clone(p);
          }
          var ifr;
          var requestTimeoutId;
          var callback = function (response) {
            window.gigya.logger.debug('cleaning sso iframe');
            // cleanup iframe
            ifr.parentNode.removeChild(ifr);
            clearTimeout(requestTimeoutId);
            // Typecast response.
            if (response) {
              if (
                response.errorCode &&
                typeof response.errorCode === 'string'
              ) {
                response.errorCode = Number(response.errorCode);
              }
              if (
                response.expires_in &&
                typeof response.expires_in === 'string'
              ) {
                response.expires_in = Number(response.expires_in);
              }
            }
            if (p && p.callback) {
              p.callback(response);
            }
          };
          params.m = mode;
          params.d =
            window.gigya.localInfo.protocol +
            '://' +
            document.location.hostname;
          if (document.location.port) {
            params.d += ':' + document.location.port;
          }
          // Chrome caches the fragment when loaded for the first time. workaround:
          params.callbackID =
            'gig_sso_cb' + new Date().getTime() + '_' + callbackCounter++;
          params.sAPIKey = window.gigya.thisScript.APIKey;
          params[window.gigya.logger.configKey] = JSON.stringify(
            window.gigya.logger.getConfig()
          );
          var fragment = window.gigya.utils.keyValue.serialize(params);
          var iframeLoader = function (retries) {
            if (retries === void 0) {
              retries = 0;
            }
            window.gigya.utils.xd.addMessageListener(
              params.callbackID,
              {},
              false,
              callback,
              window.gigya._.MessagingMethod.PostMessage
            );
            ifr = _getIframe(params.callbackID);
            var fnOnLoad = function () {
              requestTimeoutId = setTimeout(function () {
                // total failure
                if (retries <= 0) {
                  window.gigya.logger.error('SSO Communication Timeout', {
                    IE11PrivateMode:
                      window.gigya.localInfo.isIE11 && !window.indexedDB,
                    mode: mode,
                  });
                  return;
                }
                // reset
                window.gigya.utils.xd.removeMessageListener(params.callbackID);
                window.gigya.utils.DOM.removeElement(ifr);
                // retry
                iframeLoader(retries - 1);
              }, exports._requestTimeout);
              var qs = window.gigya.utils.keyValue.serialize({
                APIKey: window.gigya.partnerSettings.ssoKey,
                ssoSegment: window.gigya.partnerSettings.ssoSegment || '',
                version: window.gigya.build.version,
                build: window.gigya.build.number || -1,
              });
              // should always load from gigya's domain except when overriden for #50261.
              ifr.src =
                'https://' +
                domains_1.getStorageDomain() +
                '/gs/sso.htm?' +
                qs +
                '#' +
                fragment;
              window.gigya.utils.DOM.removeEventListener(ifr, 'load', fnOnLoad);
            };
            window.gigya.utils.DOM.addEventListener(ifr, 'load', fnOnLoad);
            window.gigya.logger.debug('opening sso iframe', params);
            if (document.body) {
              window.gigya.utils.DOM.appendToBody(ifr);
            } else {
              window.gigya.utils.functions.invokeOnPageLoad(function () {
                return window.gigya.utils.DOM.appendToBody(ifr);
              });
            }
          };
          iframeLoader(3);
        }
        exports._request = _request;
        function _getIframe(requestId) {
          var ifr;
          if (FlagService_1.FlagService.hideSSOFrame) {
            ifr = utils_1.createIframe('SSO Frame');
          } else {
            ifr = document.createElement('iframe');
            // Absolute position with -1000px causes scrolling slowdowns on mobile devices.
            if (
              window.gigya.localInfo.isIOS ||
              window.gigya.localInfo.isIOSChrome ||
              window.gigya.localInfo.isAndroid
            ) {
              ifr.style.width = '0px';
              ifr.style.height = '0px';
              ifr.style.display = 'none';
            } else {
              ifr.style.width = '30px';
              ifr.style.height = '10px';
              ifr.style.position = 'absolute';
              ifr.style.top = '-1000px';
              ifr.style.left = '-1000px';
            }
          }
          ifr.id = 'gig_sso_' + requestId;
          window.gigya.utils.functions.addSrcToIFrameIfNeeded(ifr);
          return ifr;
        }
        function getGroupToken(params) {
          window.gigya.logger.info('trying to get sso group login token');
          _request('getToken', {
            callback: function (response) {
              exports._storedLoginTokenExp = response.gltexp;
              if (params && params.callback) {
                params.callback(response);
              }
            },
          });
        }
        exports.getGroupToken = getGroupToken;
        function setGroupToken(params) {
          // Add current gltexp cookie to the parameters automatically.
          if (!params.gltexp) {
            params.gltexp = window.gigya.utils.cookie.get(
              'gltexp_' + window.gigya.thisScript.APIKey
            );
          }
          _request('setToken', params);
        }
        exports.setGroupToken = setGroupToken;
        function logout(params) {
          _request('logout', params);
        }
        exports.logout = logout;
        function removeGroupToken(params) {
          _request('removeToken', params);
        }
        exports.removeGroupToken = removeGroupToken;
        function setLoginTokenExp(params, useCache) {
          if (useCache === void 0) {
            useCache = true;
          }
          // Don't store the login token again if we've already stored it.
          if (
            useCache &&
            exports._storedLoginTokenExp &&
            params.loginTokenExp === exports._storedLoginTokenExp
          ) {
            if (params.callback) {
              params.callback({ gltexp: exports._storedLoginTokenExp });
            }
            return;
          }
          exports._storedLoginTokenExp = params.loginTokenExp;
          _request('setLoginTokenExp', params);
        }
        exports.setLoginTokenExp = setLoginTokenExp;
        function getLoginTokenExp(params) {
          _request('getLoginTokenExp', params);
        }
        exports.getLoginTokenExp = getLoginTokenExp;
        function checkTokenRenew(params) {
          window.gigya.logger.info('verifying login token with sso group');
          _request('checkTokenRenew', params);
        }
        exports.checkTokenRenew = checkTokenRenew;
        function syncCanaryIndication(params) {
          _request('syncCanaryIndication', params);
        }
        exports.syncCanaryIndication = syncCanaryIndication;
        function setGroupContextCookie(params) {
          _request('setGroupContext', params);
        }
        exports.setGroupContextCookie = setGroupContextCookie;
        function setGroupApiDomain(params) {
          _request('setGroupApiDomain', params);
        }
        exports.setGroupApiDomain = setGroupApiDomain;
        function getGroupApiDomain(params) {
          _request('getGroupApiDomain', params);
        }
        exports.getGroupApiDomain = getGroupApiDomain;

        /***/
      },

    /***/ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var SsoService_1 = __webpack_require__(
          /*! src/core/Gigya.Js.Adapters.Web/app/SsoService */ './src/core/Gigya.Js.Adapters.Web/app/SsoService.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var SessionService_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Services/SessionService */ './src/core/Gigya.Js/app/Services/SessionService.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        // Load and save tokens based on API keys
        var _curSessionExpiration;
        var _bearerToken = null;
        var _triedGACs = {};
        exports.activeNamespaces = {};
        function isValidGltExp(gltexp) {
          if (gltexp === void 0) {
            gltexp = getGltexpCookie();
          }
          return !gltexp || window.gigya.utils.gltexp.isValid(gltexp);
        }
        exports.isValidGltExp = isValidGltExp;
        function getGltexpCookie(APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          return window.gigya.utils.cookie.get(getGltCookieKey(APIKey));
        }
        exports.getGltexpCookie = getGltexpCookie;
        function setGltexp(gltexp, APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          if (gltexp && !isGigyaCookieDomain()) {
            window.gigya.utils.cookie.remove(getGltCookieKey(APIKey));
            if (FlagService_1.FlagService.setCookieSameSiteLaxSession) {
              window.gigya.utils.cookie.set(
                getGltCookieKey(APIKey),
                gltexp,
                null,
                null,
                null,
                'Lax'
              );
            } else {
              window.gigya.utils.cookie.set(getGltCookieKey(APIKey), gltexp);
            }
          }
        }
        exports.setGltexp = setGltexp;
        function getGltCookieKey(APIKey) {
          return 'gltexp_' + APIKey;
        }
        function _getTokenCookieName(APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          if (APIKey) {
            return 'glt_' + APIKey;
          } else {
            return '_gig_lt';
          }
        }
        function get(APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          var lt = window.gigya.utils.cookie.get(_getTokenCookieName(APIKey));
          if (lt) {
            return lt.split('|')[0];
          } else {
            return null;
          }
        }
        exports.get = get;
        function set(APIKey, login_token, expires_in, sessionExpiration) {
          window.gigya.utils.localStorage.removeItem('gigyaSettings');
          window.gigya.logger.info('setting a new login token');
          if (!APIKey) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          if (APIKey) {
            if (FlagService_1.FlagService.setCookieSameSiteLaxSession) {
              window.gigya.utils.cookie.set(
                'glt_' + APIKey,
                login_token,
                expires_in,
                null,
                null,
                'Lax'
              );
            } else {
              window.gigya.utils.cookie.set(
                'glt_' + APIKey,
                login_token,
                expires_in
              );
            }
            window.gigya.utils.cookie.remove('gac_' + APIKey);
          } else {
            if (FlagService_1.FlagService.setCookieSameSiteLaxSession) {
              window.gigya.utils.cookie.set(
                '_gig_lt',
                login_token,
                expires_in,
                null,
                null,
                'Lax'
              );
            } else {
              window.gigya.utils.cookie.set('_gig_lt', login_token, expires_in);
            }
          }
          _curSessionExpiration = sessionExpiration;
        }
        exports.set = set;
        function getCurrentSessionExpiration() {
          return _curSessionExpiration;
        }
        exports.getCurrentSessionExpiration = getCurrentSessionExpiration;
        function getGACCookie() {
          return (
            window.gigya.thisScript.APIKey &&
            window.gigya.utils.cookie.get(
              'gac_' + window.gigya.thisScript.APIKey
            )
          );
        }
        exports.getGACCookie = getGACCookie;
        function setFromAuthCode(authCode) {
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  setFromGAC({}, resolve, authCode);
                }),
              ];
            });
          });
        }
        exports.setFromAuthCode = setFromAuthCode;
        function setFromGAC(params, callback, gac) {
          if (gac === void 0) {
            gac = getGACCookie();
          }
          if (window.gigya.thisScript.APIKey) {
            if (gac && !params['neverTryGAC']) {
              // Sometimes gac is set with surrounding double-quotes (like in java). Strip quotes.
              if (gac.charAt(0) === '"' && gac.charAt(gac.length - 1) === '"') {
                gac = gac.substring(1, gac.length - 1);
              }
              if (_triedGACs[gac]) {
                callback(); // Already tried, don't try again.
                return;
              }
              _triedGACs[gac] = true;
              window.gigya.socialize.updateRefUID();
              window.gigya.socialize.notifyLogin(
                {
                  ignoreApiQueue: true,
                  neverTryGAC: true,
                  authCode: gac,
                  APIKey: window.gigya.thisScript.APIKey,
                  client_id: window.gigya.thisScript.APIKey,
                },
                {
                  // Intentionally we're not raising onLogin event, as no login was made, just established (verified in bug 43419).
                  callback: function () {
                    window.gigya.utils.cookie.remove(
                      'gac_' + window.gigya.thisScript.APIKey
                    );
                    callback();
                    // neverTryGAC is used to avoid trying setFromGac forever if the cookie wasn't removed (when a wrong baseDomain is used)
                    window.gigya.socialize.refreshUI({
                      neverTryGAC: true,
                    });
                  },
                }
              );
            } else {
              callback();
            }
          } else {
            callback();
          }
        }
        exports.setFromGAC = setFromGAC;
        function setFromSsoResponse(res, APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  return tslib_1.__awaiter(_this, void 0, void 0, function () {
                    var _a, expires_in, groupContext, gltexpCookieName;
                    return tslib_1.__generator(this, function (_b) {
                      switch (_b.label) {
                        case 0:
                          if (!res) return [2 /*return*/];
                          _a = res.errorCode;
                          switch (_a) {
                            case GSErrors_1.GSErrors.UNAUTHORIZED_USER:
                              return [3 /*break*/, 1];
                            case GSErrors_1.GSErrors.INVALID_TOKEN:
                              return [3 /*break*/, 2];
                            case GSErrors_1.GSErrors.TOKEN_HAS_RENEWED:
                              return [3 /*break*/, 3];
                            case GSErrors_1.GSErrors.OK:
                              return [3 /*break*/, 3];
                            case GSErrors_1.GSErrors.NETWORK_ERROR:
                              return [3 /*break*/, 5];
                          }
                          return [3 /*break*/, 6];
                        case 1:
                          window.gigya.logger.info('no group session found');
                          remove(APIKey);
                          return [3 /*break*/, 7];
                        case 2:
                          window.gigya.logger.info(
                            'existing group session was revoked'
                          );
                          remove(APIKey);
                          window.gigya.events.global.dispatchWhenHandlerAdded({
                            eventName: 'accounts.logout',
                          });
                          window.gigya.events.global.dispatchWhenHandlerAdded({
                            eventName: 'logout',
                          });
                          return [3 /*break*/, 7];
                        case 3:
                          if (!res.login_token) return [2 /*return*/];
                          window.gigya.logger.info('new session from group');
                          expires_in = void 0;
                          groupContext = void 0;
                          if (res.groupContext) {
                            groupContext = JSON.parse(res.groupContext);
                          }
                          if (!isGigyaCookieDomain()) {
                            // It should never expire if a gltexp is present.
                            expires_in = !res.gltexp
                              ? res.expires_in
                              : window.gigya.utils.cookie.getInfiniteExpirationTimeInSeconds();
                            // Set login token cookie
                            set(APIKey, res.login_token, expires_in);
                            gltexpCookieName = 'gltexp_' + APIKey;
                            if (
                              res.gltexp &&
                              !window.gigya.utils.cookie.get(gltexpCookieName)
                            ) {
                              window.gigya.utils.cookie.set(
                                gltexpCookieName,
                                res.gltexp
                              );
                            }
                          }
                          return [
                            4 /*yield*/,
                            dispatchLoginEvent({
                              expires_in: expires_in,
                              groupContext: groupContext,
                            }),
                          ];
                        case 4:
                          _b.sent();
                          return [3 /*break*/, 7];
                        case 5:
                          window.gigya.logger.error(
                            'gigya: error loading sso frame',
                            { res: res }
                          );
                          window.gigya.events.global.dispatchWhenHandlersAdded(
                            ['accounts.error', 'socialize.error'],
                            res
                          );
                          return [3 /*break*/, 7];
                        case 6:
                          window.gigya.logger.error(
                            'sso: unsupported response'
                          );
                          throw 'gigya: unsupported response from sso';
                        case 7:
                          resolve();
                          return [2 /*return*/];
                      }
                    });
                  });
                }),
              ];
            });
          });
        }
        exports.setFromSsoResponse = setFromSsoResponse;
        function dispatchLoginEvent(eventParams) {
          if (eventParams === void 0) {
            eventParams = {};
          }
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  window.gigya.utils.queue.hold('verifyLogin', 'API');
                  window.gigya.accounts.verifyLogin({
                    ignoreApiQueue: true,
                    suppressLoginEvent: true,
                    include:
                      window.gigya.utils.stringUtils.mergeCommaSeparatedValues(
                        'profile,data',
                        window.gigya.thisScript.globalConf['include']
                      ),
                    extraProfileFields: 'samlData',
                    callback: function (accountInfoRes) {
                      window.gigya.utils.queue.release('verifyLogin', 'API'); // release the api queue
                      SessionService_1.sessionData.setIsSessionVerified(
                        get(),
                        accountInfoRes.errorCode == GSErrors_1.GSErrors.OK
                      );
                      // use whatever field you need from accountInfoRes now before accountInfoRes will be overridden (such as 'source')
                      var source = accountInfoRes.source;
                      window.gigya.events.global.dispatchWhenHandlerAdded(
                        { eventName: 'socialize.login' },
                        null,
                        function (eventObj, callback) {
                          if (!eventObj) {
                            eventObj = {};
                          }
                          eventObj = window.gigya.utils.object.merge([
                            eventObj,
                            eventParams,
                          ]);
                          if (
                            accountInfoRes.errorCode == GSErrors_1.GSErrors.OK
                          ) {
                            window.gigya.socialize.getUserInfo({
                              signIDs: true,
                              extraFields: 'samlData',
                              callback: function (userInfoRes) {
                                if (
                                  userInfoRes.errorCode ==
                                  GSErrors_1.GSErrors.OK
                                ) {
                                  eventObj = window.gigya._.addUserInfoToEvent(
                                    userInfoRes,
                                    { eventName: 'login' },
                                    true
                                  );
                                  // normalizing event fields for backwards compatibility
                                  eventObj['source'] = source;
                                  eventObj['newUser'] = false;
                                  eventObj['provider'] = 'site';
                                  eventObj['loginMode'] = 'standard';
                                  if (eventObj['user']) {
                                    eventObj['user'].errorCode =
                                      userInfoRes.errorCode;
                                    eventObj['user'].callId =
                                      userInfoRes.callId;
                                  }
                                  accountInfoRes.id_token &&
                                    (eventObj['id_token'] =
                                      accountInfoRes.id_token);
                                } else {
                                  eventObj['cancel'] = true;
                                }
                                callback(eventObj);
                              },
                            });
                          } else {
                            eventObj['cancel'] = true;
                            callback(eventObj);
                          }
                        }
                      );
                      window.gigya.events.global.dispatchWhenHandlerAdded(
                        { eventName: 'accounts.login' },
                        null,
                        function (eventObj, callback) {
                          return tslib_1.__awaiter(
                            _this,
                            void 0,
                            void 0,
                            function () {
                              return tslib_1.__generator(this, function (_a) {
                                switch (_a.label) {
                                  case 0:
                                    if (!eventObj) {
                                      eventObj = {};
                                    }
                                    eventObj = window.gigya.utils.object.merge([
                                      eventObj,
                                      eventParams,
                                    ]);
                                    if (
                                      !(
                                        accountInfoRes.errorCode ==
                                        GSErrors_1.GSErrors.OK
                                      )
                                    )
                                      return [3 /*break*/, 3];
                                    eventObj['eventName'] = 'accounts.login';
                                    if (!!accountInfoRes.UID)
                                      return [3 /*break*/, 2];
                                    return [
                                      4 /*yield*/,
                                      new gigya.Promise(function (r) {
                                        return window.gigya.accounts.getAccountInfo(
                                          {
                                            callback: r,
                                            include:
                                              window.gigya.utils.stringUtils.mergeCommaSeparatedValues(
                                                'profile,data',
                                                window.gigya.thisScript
                                                  .globalConf['include']
                                              ),
                                          }
                                        );
                                      }),
                                    ];
                                  case 1:
                                    accountInfoRes = _a.sent();
                                    _a.label = 2;
                                  case 2:
                                    window.gigya.utils.object.extractProperties(
                                      accountInfoRes,
                                      eventObj,
                                      'signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|dataCenter|id_token|groups'
                                    );
                                    return [3 /*break*/, 4];
                                  case 3:
                                    eventObj['cancel'] = true;
                                    _a.label = 4;
                                  case 4:
                                    callback(eventObj);
                                    return [2 /*return*/];
                                }
                              });
                            }
                          );
                        }
                      );
                      resolve();
                    },
                  });
                }),
              ];
            });
          });
        }
        exports.dispatchLoginEvent = dispatchLoginEvent;
        function remove(APIKey) {
          if (APIKey === void 0) {
            APIKey = window.gigya.thisScript.APIKey;
          }
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var service;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  if (get(APIKey)) {
                    window.gigya.logger.info('removing login token');
                  }
                  window.gigya.utils.cookie.remove('glt_' + APIKey);
                  window.gigya.utils.cookie.remove('_gig_lt');
                  window.gigya.utils.cookie.remove('gltexp_' + APIKey);
                  if (!window.gigya.partnerSettings.ssoKey)
                    return [3 /*break*/, 2];
                  window.gigya.logger.info('removing group login token');
                  return [4 /*yield*/, SsoService_1.SsoService.getInstance()];
                case 1:
                  service = _a.sent();
                  return [2 /*return*/, service.removeToken()];
                case 2:
                  return [2 /*return*/, gigya.Promise.resolve()];
              }
            });
          });
        }
        exports.remove = remove;
        function getTokenParam(APIKey, paramName) {
          var lt = window.gigya.utils.cookie.get(_getTokenCookieName(APIKey));
          if (lt) {
            var ltSegs = lt.split('|');
            if (ltSegs.length > 1) {
              return window.gigya.utils.keyValue.deserialize(ltSegs[1])[
                paramName
              ];
            } else {
              return null;
            }
          }
        }
        exports.getTokenParam = getTokenParam;
        function isGigyaCookieDomain() {
          var cookieDomain = window.gigya.utils.cookie.getDefaultDomain();
          return window.gigya.utils.stringUtils.endsWith(
            cookieDomain,
            window.gigya.defaultApiDomain
          );
        }
        function setBearerToken(bearerToken) {
          window.gigya.logger.info('setting a new Bearer token');
          _bearerToken = 'Bearer ' + bearerToken;
        }
        exports.setBearerToken = setBearerToken;
        function getBearerToken() {
          return _bearerToken;
        }
        exports.getBearerToken = getBearerToken;
        function removeBearerToken() {
          window.gigya.logger.info('Bearer token removed');
          _bearerToken = null;
        }
        exports.removeBearerToken = removeBearerToken;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/ApisList.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ApisList.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var ServerApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/ServerApi */ './src/core/Gigya.Js/app/API/ServerApi.ts'
        );
        var UiApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/UiApi */ './src/core/Gigya.Js/app/API/UiApi.ts'
        );
        var functions_1 = __webpack_require__(
          /*! ../Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var IApiAdapter_1 = __webpack_require__(
          /*! ../../interfaces/IApiAdapter */ './src/core/Gigya.Js/interfaces/IApiAdapter.ts'
        );
        var RestApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/RestApi */ './src/core/Gigya.Js/app/API/RestApi.ts'
        );
        var consts_1 = __webpack_require__(
          /*! ./consts */ './src/core/Gigya.Js/app/API/consts.ts'
        );
        var loginClearSessionCondition = function (params) {
          return (
            params['loginMode'] !== 'link' && params['loginMode'] !== 'reAuth'
          );
        };
        // in case we're hitting passkey endpoint with session and aToken can lead to server error, clear session before.
        var passkeyClearSessionConditions = function (params) {
          return !!params['aToken'];
        };
        var noAuthPreProcessor = function (params, callback) {
          params['noAuth'] = true; // so login token won't be attached to request
          callback();
        };
        var globalAccountRegistrationPreProcessor = function (
          params,
          callback
        ) {
          if (window.gigya.globalAccount.dataCenter)
            // hint for "accounts.initRegistration" to be forwarded to the correct dc
            params['dataCenter'] = window.gigya.globalAccount.dataCenter;
          callback();
        };
        var globalAccountProgressionPreProcessor = function (params, callback) {
          var regToken = window.gigya.getUrlParam('regToken');
          if (regToken) params['regToken'] = regToken;
          callback();
        };
        var deleteRegTokenWhenHasSession = function (params, callback) {
          window.gigya._.apiAdapter.isSessionValid({}, function (isValid) {
            if (isValid) {
              params === null || params === void 0
                ? true
                : delete params['regToken'];
            }
          });
          callback();
        };
        exports.logoutBehaviour = {
          logoutBeforeServerResponse: true,
          alwaysSendLogoutToServer: false,
        };
        var logoutPreProcessor = function (params, callback) {
          if (window.gigya.partnerSettings.ssoKey) params.signIDs = true;
          callback();
        };
        var logoutRequireSession = function () {
          return !exports.logoutBehaviour.alwaysSendLogoutToServer;
        };
        exports.arApiList = [
          new ServerApi_1.ServerApi(
            'socialize.login',
            consts_1.defaultOauthSchema,
            false,
            {
              oauth: true,
              preprocessor: globalAccountRegistrationPreProcessor,
            },
            {
              clearSessionCondition: loginClearSessionCondition,
            }
          ),
          new ServerApi_1.ServerApi(
            'socialize.addConnection',
            consts_1.defaultOauthSchema,
            false,
            {
              oauth: true,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.requestPermissions',
            consts_1.defaultOauthSchema,
            true,
            {
              oauth: true,
              defaultParams: { forcePermissions: true },
            },
            {}
          ),
          /*new ServerApi('socialize.postBookmark',
            defaultOauthSchema,
            false, {
                oauth: true
            }),*/
          new ServerApi_1.ServerApi(
            'accounts.socialLogin',
            consts_1.defaultOauthSchema,
            false,
            {
              oauth: true,
              preprocessor: globalAccountRegistrationPreProcessor,
            },
            {
              clearSessionCondition: loginClearSessionCondition,
            }
          ),
          new UiApi_1.UiApi(
            'showDebugUI',
            'socialize.plugins.debug',
            {},
            {},
            '',
            {
              allowPopup: true,
            }
          ),
          UiApi_1.UiApi.createApi(
            'showMyPhotoUI',
            'accounts',
            'profilePhoto.MyPhotoPlugin',
            'accounts.plugins.profilePhoto'
          ),
          // Uses BasePlugin
          UiApi_1.UiApi.createApi(
            'runJsUnitTests',
            '_',
            'JsUtRunner.Jasmine.JasmineUtRunnerPlugin',
            '_.plugins.jsUtRunner'
          ),
          UiApi_1.UiApi.createApi(
            'loadBasePlugin',
            '_',
            'Mock.MockPlugin',
            '_.plugins.mock'
          ),
          new UiApi_1.UiApi(
            'showLoginUI_v1',
            'socialize.plugins.login',
            { width: 120, height: 110 },
            {
              width: 280,
              height: 220,
            },
            '',
            { allowPopup: true }
          ),
          UiApi_1.UiApi.createApi(
            'showLoginUI_v2',
            'socialize',
            'login_v2.LoginPlugin',
            'socialize.plugins.login_v2'
          ),
          UiApi_1.UiApi.versionSelector('showLoginUI', 'socialize', '1', [
            {
              versionName: '1',
              method: window.gigya.socialize.showLoginUI_v1,
            },
            {
              versionName: '2',
              method: window.gigya.socialize.showLoginUI_v2,
            },
          ]),
          new UiApi_1.UiApi(
            'showAddConnectionsUI_v1',
            'socialize.plugins.login',
            { width: 110, height: 65 },
            {
              width: 250,
              height: 200,
            },
            '',
            { allowPopup: true }
          ),
          UiApi_1.UiApi.createApi(
            'showAddConnectionsUI_v2',
            'socialize',
            'login_v2.LoginPlugin',
            'socialize.plugins.login_v2'
          ),
          UiApi_1.UiApi.versionSelector(
            'showAddConnectionsUI',
            'socialize',
            '1',
            [
              {
                versionName: '1',
                method: window.gigya.socialize.showAddConnectionsUI_v1,
              },
              {
                versionName: '2',
                method: window.gigya.socialize.showAddConnectionsUI_v2,
              },
            ]
          ),
          UiApi_1.UiApi.createApi(
            'showEditConnectionsUI',
            'socialize',
            'editConnections.EditConnectionPlugin',
            'socialize.plugins.edit'
          ),
          new UiApi_1.UiApi(
            'showSimpleShareUI',
            'socialize.plugins.simpleShare',
            { width: 280, height: 175 },
            {},
            'userAction',
            {
              allowPopup: true,
              dontLoadPluginsCore: true,
              waitForAPIQueue: true,
            }
          ),
          new UiApi_1.UiApi(
            'showShareMobileUI',
            'socialize.plugins.shareMobile',
            {},
            {},
            'userAction',
            { allowPopup: true }
          ),
          new UiApi_1.UiApi('showTfaUI', 'accounts.plugins.tfa', {
            width: 325,
          }),
          UiApi_1.UiApi.createApi(
            'initHostedPage',
            'accounts',
            'Pages.PagesPlugin',
            'accounts.plugins.pages',
            undefined
          ),
          UiApi_1.UiApi.createApi(
            'showScreenSet',
            'accounts',
            'ScreenSet.ScreenSetPlugin',
            'accounts.plugins.screenSet',
            undefined,
            ['hideScreenSet', 'switchScreen']
          ),
          new ServerApi_1.ServerApi(
            'socialize.getAvailableProviders',
            'enabledProviders|disabledProviders|requiredCapabilities',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.notifyLogin',
            'siteUID|UIDTimestamp|UIDSig|UIDNonce|provider|authToken|tokenSecret|regSource|tokenExpiration|sessionHandle|sessionHandleExpiration|userInfo|providerSessions|sessionExpiration|authCode|includeAllIdentitiesincludeiRank|group|settings|extraFields|signIDs|newUser|actionAttributes|profileAttributes|bp_channel_url|lang|signKeys',
            false,
            {},
            { clearSession: true }
          ),
          new ServerApi_1.ServerApi(
            'socialize.convertAction',
            'userAction|[providerCapability=actions]UserAction|provider',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.deleteAccount',
            undefined,
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.delUserSettings',
            'group|settings',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.getContacts',
            'enabledProviders|disabledProviders',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.getRawData',
            'provider|UID|fields|dataFormat|path',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.getSessionInfo',
            'provider|paddingMode|encrypt|signIDs|encryptAll',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.getUserInfo',
            'enabledProviders|disabledProviders|signIDs|includeiRank|includeAllIdentities|extraFields|group|settings|includeOpenidUID|include',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.checkin',
            'enabledProviders|disabledProviders|placeID|comment|latitude|longitude|actionAttributes|profileAttributes',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.logout',
            'signIDs|samlContext|sustainLogoutURLs',
            true,
            { preprocessor: logoutPreProcessor, disableCache: true },
            { requiresSession: logoutRequireSession }
          ),
          new ServerApi_1.ServerApi(
            'socialize.notifyRegistration',
            'siteUID|UIDTimestamp|UIDSig',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.removeConnection',
            'provider|lastIdentityHandling|removeLoginID',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.setUID',
            'siteUID|UIDTimestamp|UIDSig',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.unlinkAccounts',
            undefined,
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.facebookGraphOperation',
            'graphPath|graphParams|authRequired|method|authType',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'socialize.notifySSOLogin',
            'bp_channel_url',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'gcs.getUserData',
            'type|fields',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'gcs.setUserData',
            'data|type|updateBehavior',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'gcs.search',
            'expTime|querySig|query',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'gcs.getSchema',
            'schemaType',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.registerOrganization',
            'organization|requester',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.getOrganizationSchema',
            '',
            false,
            { preprocessor: noAuthPreProcessor },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.login',
            'loginID|password|sessionExpiration|targetEnv|regToken|include|actionAttributes|profileAttributes|includeUserInfo|includeDynamicSchema|bp_channel_url|captchaToken|blackBoxToken|captchaType|captchaText|loginMode|signKeys|lang|riskContext|aToken',
            false,
            {
              riskAssessment: true,
            },
            {
              clearSessionCondition: loginClearSessionCondition,
              forcePost: true,
            }
          ),
          new ServerApi_1.ServerApi(
            'accounts.linkAccounts',
            'loginID|password|sessionExpiration|targetEnv|include|regToken|includeUserInfo|bp_channel_url|signKeys',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.notifySocialLogin',
            'loginMode|providerSessions|sessionExpiration',
            true,
            {},
            { forcePost: true },
            'providerSessions'
          ),
          new ServerApi_1.ServerApi(
            'accounts.initRegistration',
            'sdk|isLite|dataCenter',
            false,
            {
              preprocessor: globalAccountRegistrationPreProcessor,
            },
            { clearSession: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.initProgression',
            'sdk|regToken',
            false,
            {
              preprocessor: globalAccountProgressionPreProcessor,
            },
            { clearSession: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.register',
            'username|email|password|UID|regToken|siteUID|secretQuestion|secretAnswer|regSource|profile|preferences|displayedPreferences|data|captchaText|captchaType|captchaToken|blackBoxToken|lang|hashedPassword|pwHashAlgorithm|skipVerification|finalizeRegistration|targetEnv|sessionExpiration|include|actionAttributes|profileAttributes|includeUserInfo|bp_channel_url|signKeys|subscriptions|communications',
            false,
            {
              riskAssessment: true,
            },
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.finalizeRegistration',
            'regToken|targetEnv|include|includeUserInfo|bp_channel_url|allowAccountsLinking|signKeys|subscriptions',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.captchaImage',
            'regToken',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.importProfilePhoto',
            'regToken|URL|publish',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.setProfilePhoto',
            'regToken|publish|photoBytes',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.resetPassword',
            'lang|loginID|passwordResetToken|secretAnswer|securityFields|newPassword|email|captchaType|captchaToken|blackBoxToken',
            false,
            {
              riskAssessment: true,
            },
            {
              forcePost: true,
            }
          ),
          new ServerApi_1.ServerApi('accounts.removeProfilePhoto', 'regToken'),
          new ServerApi_1.ServerApi(
            'accounts.isAvailableLoginID',
            'loginID',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.address.suggestions.get',
            'address|country|apiKey|suggestionreply|longitude|latitude',
            undefined,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.resendVerificationCode',
            'regToken|email',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getCaptcha',
            '',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getPolicies',
            'sections',
            undefined,
            {
              preprocessor: noAuthPreProcessor,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getSchema',
            'sections|schemaType',
            false,
            {
              preprocessor: noAuthPreProcessor,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getSiteConsentDetails',
            '',
            false,
            {
              preprocessor: noAuthPreProcessor,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getLegalStatements',
            'consentId|lang',
            false,
            {
              preprocessor: noAuthPreProcessor,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.verifyLogin',
            'include|extraProfileFields|targetEnv',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getAccountInfo',
            'include|extraProfileFields|regToken|lang|includeCommunications',
            true,
            {},
            {},
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.setAccountInfo',
            'profile|preferences|displayedPreferences|data|regToken|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange|conflictHandling|tfaStatus|rba|subscriptions|communications|preferences|lang|captchaToken|blackBoxToken|captchaType',
            true,
            { riskAssessment: true },
            { forcePost: true },
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.logout',
            'signIDs|samlContext|sustainLogoutURLs',
            true,
            { preprocessor: logoutPreProcessor, disableCache: true },
            { requiresSession: logoutRequireSession }
          ),
          new ServerApi_1.ServerApi(
            'accounts.search',
            'expTime|querySig|query',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getScreenSets',
            'screenSetIDs|include|lang|screenSetVersion',
            false,
            {
              preprocessor: noAuthPreProcessor,
            },
            {
              useHttpStatusCodes: true,
            }
          ),
          new ServerApi_1.ServerApi(
            'accounts.sso.login',
            'redirectURL|state|authFlow|context|useChildContext',
            false,
            {
              oauth: true,
            },
            {
              oauthMode: IApiAdapter_1.OAuthMode.Sso,
            }
          ),
          new ServerApi_1.ServerApi(
            'accounts.getConflictingAccount',
            'regToken|loginID',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.resetSitePreferences',
            '',
            true,
            {
              postprocessor: function (reqParams, res) {
                if (
                  (res === null || res === void 0 ? void 0 : res.errorCode) ===
                  GSErrors_1.GSErrors.OK
                )
                  window.gigya.accounts.logout();
              },
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.getJWT',
            'fields|expiration|audience',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.getProviders',
            'regToken',
            true,
            {},
            {},
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.initTFA',
            'provider|mode|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.finalizeTFA',
            'gigyaAssertion|providerAssertion|tempDevice|regToken',
            true,
            {},
            {},
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.deactivateProvider',
            'provider',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.unregisterDevice',
            'allDevices',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.backupcodes.get',
            'gigyaAssertion',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.backupcodes.create',
            'gigyaAssertion',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.backupcodes.verify',
            'gigyaAssertion|code|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.phone.getRegisteredPhoneNumbers',
            'gigyaAssertion',
            false,
            {
              preprocessor: noAuthPreProcessor, // only gigyaAssertion is needed
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.phone.removePhone',
            'gigyaAssertion|phoneId',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.phone.sendVerificationCode',
            'gigyaAssertion|lang|phoneID|phone|method|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.phone.completeVerification',
            'gigyaAssertion|phvToken|code|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.email.getEmails',
            'gigyaAssertion',
            false,
            {
              preprocessor: noAuthPreProcessor, // only gigyaAssertion is needed
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.email.sendVerificationCode',
            'emailID|gigyaAssertion|lang|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.email.completeVerification',
            'gigyaAssertion|phvToken|code|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.totp.register',
            'gigyaAssertion',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.totp.verify',
            'gigyaAssertion|sctToken|code|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.push.isVerified',
            'gigyaAssertion|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.tfa.push.sendVerification',
            'gigyaAssertion|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.delegatedAdminLogin',
            'orgId|lang',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.getOrganizationInfo',
            'orgId|bpid',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.setOrganizationContext',
            'bpid',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.getOrganizationContext',
            '',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.b2b.auth.getAssets',
            'appId|bpid|orgId|includePolicies|environments',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.getSchema',
            'model',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.registerGroup',
            'model|groupId|groupData',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.setGroupInfo',
            'model|groupId|groupData',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.getGroupInfo',
            'model|groupId',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.deleteGroup',
            'model|groupId',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.setGroupMemberInfo',
            'model|groupId|uid|relationshipData|permissions',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.getGroupMemberInfo',
            'model|groupId|uid|include',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.removeMember',
            'model|groupId|uid',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.getAllMemberGroups',
            'uid|flatNestedFields',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.searchGroupMembers',
            'model|groupId|limit|start',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.createInvitation',
            'model|groupId|isOneTime',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.invitationConfirm',
            'invitationId',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.groups.finalizeInvitation',
            'token',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.otp.sendCode',
            'regToken|phoneNumber|email|lang|captchaToken|captchaType|blackBoxToken|dataCenter|phvToken',
            false,
            {
              riskAssessment: true,
              preprocessor: globalAccountRegistrationPreProcessor,
            },
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.otp.login',
            'vToken|code|targetEnv|includeUserInfo|include|regSource|sessionExpiration',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.otp.update',
            'vToken|code|regToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.otp.authenticate',
            'vToken|code',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.getMethods',
            'identifier|aToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.push.sendVerification',
            'identifier',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.push.isVerified',
            'vToken',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.magiclink.email.send',
            'email|context|lang',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.magiclink.email.login',
            'vToken|code|targetEnv|includeUserInfo|include|regSource|sessionExpiration',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.otp.email.sendCode',
            'email|lang',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.otp.email.login',
            'code|vToken|targetEnv|includeUserInfo|include|regSource|sessionExpiration',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.identifier.createToken',
            'identifier|identifierType',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'accounts.identity.authorize',
            'authorization_details|grant_type',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.initRegisterCredentials',
            'regToken|aToken',
            true,
            {
              preprocessor: deleteRegTokenWhenHasSession,
            },
            {
              clearSessionCondition: passkeyClearSessionConditions,
            },
            'regToken|aToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.registerCredentials',
            'token|attestation|deviceName|regToken',
            false,
            {
              preprocessor: deleteRegTokenWhenHasSession,
            },
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.getAssertionOptions',
            '',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.verifyAssertion',
            'token|authenticatorAssertion',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.getCredentials',
            'regToken',
            true,
            {
              preprocessor: deleteRegTokenWhenHasSession,
            },
            {},
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.fido.removeCredential',
            'credentialId|regToken',
            true,
            {
              preprocessor: deleteRegTokenWhenHasSession,
            },
            {},
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.session.verify',
            '',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'oauth.register',
            'lang|regSource|cid|context|sessionExpiration',
            false,
            {},
            {
              forcePost: true,
              useBearerToken: true,
            }
          ),
          new ServerApi_1.ServerApi(
            'oauth.connect',
            'regToken',
            true,
            {
              preprocessor: deleteRegTokenWhenHasSession,
            },
            {
              forcePost: true,
              useBearerToken: true,
            },
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'oauth.authorize',
            'response_type|authMode',
            false,
            {},
            {
              forcePost: true,
              useBearerToken: true,
            }
          ),
          new ServerApi_1.ServerApi(
            'oauth.token',
            'grant_type|code|targetEnv|sessionExpiration',
            false,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'auth.token.authenticationContext',
            'regToken',
            true,
            {},
            { forcePost: true },
            'regToken'
          ),
          new ServerApi_1.ServerApi(
            'accounts.auth.login',
            'accessToken|sessionExpiration|targetEnv|include|includeUserInfo|loginMode|lang',
            false,
            {},
            {
              clearSessionCondition: loginClearSessionCondition,
              forcePost: true,
            }
          ),
          new ServerApi_1.ServerApi(
            'ds.store',
            'type|data|oid|updateBehavior',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'ds.get',
            'type|data|oid|fields',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'ds.search',
            'expTime|querySig|query',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi('ds.getSchema', '', undefined, {}, {}),
          new ServerApi_1.ServerApi(
            'ds.delete',
            'type|oid|fields',
            undefined,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'ids.getAccountInfo',
            'include|extraProfileFields',
            true,
            {},
            {}
          ),
          new ServerApi_1.ServerApi(
            'ids.setAccountInfo',
            'profile|preferences|data|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange|lang',
            false,
            {},
            { forcePost: true }
          ),
          new ServerApi_1.ServerApi(
            'ids.search',
            'expTime|querySig|query',
            undefined,
            {},
            {}
          ),
          new RestApi_1.RestApi(
            'fidm.oidc.op.deviceContinue',
            'oidc/op/v1.0/{APIKey}/device_continue',
            {
              schema: 'user_code',
              requireSession: true,
              method: 'POST',
            }
          ),
        ];
        functions_1.createAlias(
          'gigya.services.socialize',
          window.gigya.socialize
        );
        functions_1.createAlias('gigya.services.gcs', window.gigya.gcs);
        functions_1.createAlias(
          'gigya.services.accounts',
          window.gigya.accounts
        );
        functions_1.createAlias(
          'gigya.socialize.connect',
          window.gigya.socialize.addConnection
        );
        functions_1.createAlias(
          'gigya.socialize.disconnect',
          window.gigya.socialize.removeConnection
        );
        functions_1.createAlias(
          'gigya.socialize.linkAccounts',
          window.gigya.socialize.setUID
        );
        functions_1.createAlias(
          'gigya.socialize.showConnectUI',
          window.gigya.socialize.showAddConnectionsUI
        );
        functions_1.createAlias(
          'gigya.showDebugUI',
          window.gigya.socialize.showDebugUI
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/BaseApi.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/BaseApi.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        if (!window.gigya.socialize) {
          window.gigya.socialize = {};
        }
        if (!window.gigya.gcs) {
          window.gigya.gcs = {};
        }
        if (!window.gigya.gm) {
          window.gigya.gm = {};
        }
        if (!window.gigya.comments) {
          window.gigya.comments = {};
        }
        if (!window.gigya.accounts) {
          window.gigya.accounts = {};
        }
        if (!window.gigya.gscounters) {
          window.gigya.gscounters = {};
        }
        var apis = {};
        function getApi(name) {
          return apis[name];
        }
        exports.getApi = getApi;
        var BaseApi = /** @class */ (function () {
          function BaseApi(methodName, settings) {
            this.methodName = methodName;
            this.settings = settings;
            this.addAlias();
            apis[methodName] = this;
          }
          BaseApi.prototype.preprocessRequest = function (params, callback) {
            if (this.settings.preprocessor) {
              this.settings.preprocessor(params, callback);
            } else {
              callback();
            }
          };
          BaseApi.prototype.addAlias = function () {
            var _this = this;
            functionsUtils.createAlias('gigya.' + this.methodName, function () {
              var args = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
              }
              var argParams = objectUtils.merge([args]);
              var fnRun = function () {
                if (argParams.lang) {
                  argParams._explicitLang = true;
                }
                var params = objectUtils.merge([
                  window.gigya.thisScript.globalConf,
                  argParams,
                ]);
                _this.run(params, argParams);
              };
              if (
                !window.gigya.thisScript ||
                !window.gigya.thisScript.globalConf
              ) {
                queueUtils.queueForExecution('API', fnRun);
              } else {
                fnRun();
              }
            });
          };
          return BaseApi;
        })();
        exports.BaseApi = BaseApi;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/RestApi.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/RestApi.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var ServerApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/ServerApi */ './src/core/Gigya.Js/app/API/ServerApi.ts'
        );
        var RestApi = /** @class */ (function (_super) {
          tslib_1.__extends(RestApi, _super);
          function RestApi(alias, url, _a) {
            var schema = _a.schema,
              requireSession = _a.requireSession,
              method = _a.method,
              _ = _a.restUrl,
              rest = tslib_1.__rest(_a, [
                'schema',
                'requireSession',
                'method',
                'restUrl',
              ]);
            return (
              _super.call(
                this,
                alias,
                schema,
                requireSession,
                tslib_1.__assign({ restUrl: url }, rest),
                {
                  namespace: alias.split('.')[0],
                  forcePost: method !== 'GET',
                }
              ) || this
            );
          }
          return RestApi;
        })(ServerApi_1.ServerApi);
        exports.RestApi = RestApi;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/ServerApi.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ServerApi.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var BaseApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/BaseApi */ './src/core/Gigya.Js/app/API/BaseApi.ts'
        );
        var ServerApiRequest_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/ServerApiRequest */ './src/core/Gigya.Js/app/API/ServerApiRequest.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var ServerApi = /** @class */ (function (_super) {
          tslib_1.__extends(ServerApi, _super);
          function ServerApi(
            apiMethod,
            schema,
            requiresSession,
            settings,
            adapterSettings,
            altSessionParams
          ) {
            if (settings === void 0) {
              settings = {};
            }
            if (adapterSettings === void 0) {
              adapterSettings = {};
            }
            var _this = _super.call(this, apiMethod, settings) || this;
            _this.schema = schema;
            _this.requiresSession = requiresSession;
            _this.settings = settings;
            _this.adapterSettings = adapterSettings;
            _this.altSessionParams = altSessionParams;
            adapterSettings.forceHttps = true;
            if (typeof adapterSettings.requiresSession === 'undefined') {
              adapterSettings.requiresSession = function () {
                return requiresSession;
              };
            }
            return _this;
          }
          ServerApi.prototype.run = function (params, explicitParams) {
            var _this = this;
            var _a;
            if (
              (_a = this.settings.mode) === null || _a === void 0
                ? void 0
                : _a.silent
            ) {
              if (this.settings.mode.warn) {
                window.gigya.logger.warn(
                  'Deprecated Feature: ' + this.methodName
                );
              }
              var callback = params['callback'];
              if (typeof callback === 'function') callback();
              return;
            }
            var fnRun = function () {
              new ServerApiRequest_1.ServerApiRequest(_this, params).start();
            };
            if (params['ignoreApiQueue']) {
              fnRun();
            } else {
              queueUtils.queueForExecution('API', function () {
                fnRun();
              });
            }
          };
          return ServerApi;
        })(BaseApi_1.BaseApi);
        exports.ServerApi = ServerApi;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/ServerApiRequest.ts':
      /*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/ServerApiRequest.ts ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var tslib_1 = __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          );
          var objectUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
          );
          var GSErrors_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
          );
          var globalEvents = __webpack_require__(
            /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
          );
          var LegacyLogger_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
          );
          var facebookExternal = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ './src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts'
          );
          var BaseApi_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/BaseApi */ './src/core/Gigya.Js/app/API/BaseApi.ts'
          );
          var JSONUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var InternalFlows_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
          );
          var validationUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/validation */ './src/core/Gigya.Js/app/Utils/validation.ts'
          );
          var URLUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
          );
          var scriptUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
          );
          var HTTPUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
          );
          var RiskAssessmentHandler_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/RiskAssessment/RiskAssessmentHandler */ './src/core/Gigya.Js/app/RiskAssessment/RiskAssessmentHandler.ts'
          );
          var FlagService_1 = __webpack_require__(
            /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
          );
          var consts_1 = __webpack_require__(
            /*! ./consts */ './src/core/Gigya.Js/app/API/consts.ts'
          );
          // Raw server API
          function getUnauthorizedUserResponse() {
            return objectUtils.clone({
              status: 'FAIL',
              errorMessage: 'Unauthorized user',
              statusMessage: 'Unauthorized user',
              errorCode: GSErrors_1.GSErrors.UNAUTHORIZED_USER,
            });
          }
          function getDefaultOKResponse(originalResponse) {
            return {
              status: 'OK',
              statusMessage: '',
              errorCode: 0,
              statusCode: 0,
              errorMessage: '',
              errorDetails: '',
              statusReason: '',
              originalResponse: originalResponse,
            };
          }
          var _sentFbSessionParams;
          globalEvents.add(
            'onFBCRefreshed',
            function () {
              _sentFbSessionParams = false;
            },
            'component'
          );
          var ProviderType;
          (function (ProviderType) {
            ProviderType[(ProviderType['_unknown'] = 0)] = '_unknown';
            ProviderType[(ProviderType['facebook'] = 1)] = 'facebook';
            ProviderType[(ProviderType['linkedin'] = 2)] = 'linkedin';
            ProviderType[(ProviderType['samlProvider'] = 3)] = 'samlProvider';
            ProviderType[(ProviderType['samlSession'] = 4)] = 'samlSession';
          })(ProviderType || (ProviderType = {}));
          var ServerApiRequest = /** @class */ (function () {
            function ServerApiRequest(api, params, riskAssessmentHandler) {
              if (riskAssessmentHandler === void 0) {
                riskAssessmentHandler = null;
              }
              this.api = api;
              this.params = objectUtils.merge([
                objectUtils.clone(params),
                api.settings.defaultParams,
              ]);
              this.originalParams = objectUtils.clone(params);
              this.callback = params['callback'];
              this.riskAssessmentHandler =
                new RiskAssessmentHandler_1.RiskAssessmentHandlerTimeoutDecorator(
                  riskAssessmentHandler ||
                    new RiskAssessmentHandler_1.RiskAssessmentHandler()
                );
            }
            ServerApiRequest.prototype.start = function () {
              var _this = this;
              window.gigya._.apiAdapter.isSessionValid(
                this.params,
                function (validSession) {
                  return tslib_1.__awaiter(
                    _this,
                    void 0,
                    gigya.Promise,
                    function () {
                      var hasSessionExtended, _a, res;
                      return tslib_1.__generator(this, function (_b) {
                        switch (_b.label) {
                          case 0:
                            if (
                              !(
                                this.api.adapterSettings.requiresSession() &&
                                !validSession &&
                                !this.doesHaveAltSessionParam()
                              )
                            )
                              return [3 /*break*/, 1];
                            window.gigya.logger.debug(
                              this.api.methodName + ': missing required session'
                            );
                            this.afterServerApiResponse(
                              getUnauthorizedUserResponse(),
                              false
                            );
                            return [3 /*break*/, 6];
                          case 1:
                            window.gigya.logger.debug(
                              'server request: ' + this.api.methodName,
                              this.params
                            );
                            if (!this.api.adapterSettings.requiresSession())
                              return [3 /*break*/, 3];
                            return [
                              4 /*yield*/,
                              window.gigya._.apiAdapter.setGltexpFromSSO(
                                this.params['APIKey']
                              ),
                            ];
                          case 2:
                            _a = _b.sent();
                            return [3 /*break*/, 4];
                          case 3:
                            _a = false;
                            _b.label = 4;
                          case 4:
                            hasSessionExtended = _a;
                            return [
                              4 /*yield*/,
                              this.sendRequest(validSession),
                            ];
                          case 5:
                            res = _b.sent();
                            if (
                              hasSessionExtended &&
                              res['errorCode'] !==
                                GSErrors_1.GSErrors.UNAUTHORIZED_USER
                            ) {
                              this.dispatchAccountsLoginEvent(res);
                            }
                            _b.label = 6;
                          case 6:
                            return [2 /*return*/];
                        }
                      });
                    }
                  );
                }
              );
            };
            ServerApiRequest.prototype.sendRequest = function (validSession) {
              var _this = this;
              var requestAdapterSettings = objectUtils.merge([
                this.api.adapterSettings,
                {
                  cacheTimeout: this.params['cacheTimeout'],
                  forceGigyaDomain:
                    !validSession && this.api.adapterSettings.forceGigyaDomain,
                },
              ]);
              return new gigya.Promise(function (resolve) {
                _this.beforeRequest(validSession, function (presetResponse) {
                  if (presetResponse) {
                    _this.afterServerApiResponse(
                      presetResponse,
                      validSession,
                      resolve
                    );
                  } else {
                    globalEvents.dispatch(
                      {
                        eventName: 'beforeRequest',
                        methodName: _this.api.methodName,
                        rawParams: _this.originalParams,
                        params: _this.params,
                      },
                      _this.originalParams
                    );
                    var methodUrl = _this.getMethodUrl();
                    if (_this.api.settings.oauth) {
                      window.gigya._.apiAdapter.sendOauthRequest(
                        methodUrl,
                        _this.params,
                        function (response) {
                          _this.afterServerApiResponse(
                            response,
                            validSession,
                            resolve
                          );
                        },
                        requestAdapterSettings
                      );
                    } else {
                      window.gigya._.apiAdapter.sendRequest(
                        methodUrl,
                        _this.params,
                        function (response) {
                          _this.afterServerApiResponse(
                            response,
                            validSession,
                            resolve
                          );
                        },
                        requestAdapterSettings
                      );
                    }
                  }
                });
              });
            };
            ServerApiRequest.prototype.getMethodUrl = function () {
              if (this.api.settings.restUrl) {
                return this.constructRestUrl();
              }
              return this.api.methodName;
            };
            ServerApiRequest.prototype.constructRestUrl = function () {
              var _a;
              var regex = /({(.*?)})/g;
              var match = regex.exec(this.api.settings.restUrl);
              var url = this.api.settings.restUrl;
              while (match !== null) {
                url = url.replace(
                  match[1],
                  (_a = this.params[match[2]]) !== null && _a !== void 0
                    ? _a
                    : ''
                );
                match = regex.exec(this.api.settings.restUrl);
              }
              return url;
            };
            ServerApiRequest.prototype.beforeRequest = function (
              validSession,
              callback
            ) {
              var _this = this;
              if (consts_1.logoutMethods[this.api.methodName]) {
                // No need to invoke an actual logout call to the server if session is not valid or if it's the ssoLogoutUrl since user is logged out or about to be
                if (
                  (!validSession && !this.params['regToken']) ||
                  (window.gigya.partnerSettings.ssoLogoutUrl &&
                    document.location.href ==
                      window.gigya.partnerSettings.ssoLogoutUrl)
                ) {
                  callback(getDefaultOKResponse(null));
                }
              }
              this.handleDeprecatedParams();
              this.handleCollections();
              this.handleConnectWithoutLoginBehavior(validSession);
              var providerPermissions =
                this.params[this.params['provider'] + 'ExtraPermissions'];
              this.params['extraPermissions'] =
                providerPermissions || this.params['permissions'];
              this.handleRiskAssessment().then(function () {
                _this.api.preprocessRequest(_this.params, function () {
                  _this.setOverridableParams(function () {
                    _this.setNonOverridableParams(validSession, function () {
                      _this.filterParams(_this.params);
                      LegacyLogger_1.logCall(
                        _this.api.methodName,
                        _this.originalParams,
                        _this.originalParams['lastSource']
                      );
                      callback();
                    });
                  });
                });
              });
            };
            ServerApiRequest.prototype.setOverridableParams = function (
              callback
            ) {
              var overridable = {};
              objectUtils.merge([overridable, this.params]);
              callback();
            };
            ServerApiRequest.prototype.doesHaveAltSessionParam = function () {
              if (!this.api.altSessionParams) return;
              var altParams = this.api.altSessionParams.split('|');
              for (var i = 0; i < altParams.length; i++) {
                if (this.params[altParams[i]]) return true;
              }
              return false;
            };
            ServerApiRequest.prototype.setNonOverridableParams = function (
              validSession,
              callback
            ) {
              if (this.params['APIKey'] != null) {
                var loginTokenExp = window.gigya._.apiAdapter
                  .getStorage()
                  .getItem('gltexp_' + this.params['APIKey']);
                if (loginTokenExp != null) {
                  this.params['loginTokenExp'] = loginTokenExp;
                }
              }
              var refUID = window.gigya._.apiAdapter
                .getStorage()
                .getItem('_gigRefUid_' + this.params['APIKey']);
              if (
                refUID &&
                (validSession || consts_1.loginMethods[this.api.methodName])
              )
                this.params['refUID'] = refUID;
              // For FB auto session renewal, we pass FB JS SDK session token so that it'll update the server side FB token
              if (
                window.gigya.providersConfig.facebook &&
                !_sentFbSessionParams
              ) {
                var oFbParams = facebookExternal.getParams();
                for (var fbParam in oFbParams) {
                  this.params[fbParam] = oFbParams[fbParam];
                }
                _sentFbSessionParams = true;
              }
              if (this.api.methodName.indexOf('accounts.') === 0) {
                // we want to include userInfo for socialize.login event
                if (
                  globalEvents._activeNamespaces['socialize'] &&
                  this.params['includeUserInfo'] == null
                ) {
                  this.params['includeUserInfo'] = true;
                }
                // if a pendingRegistration will occur, we'll need the user's data for complete registration screen
                this.params['include'] = this.params['include']
                  ? this.params['include'] + ','
                  : '' + 'profile,data';
              }
              if (this.api.methodName === 'accounts.getSchema') {
                this.params['includeDynamicSchema'] = 'clientOnly';
              }
              this.params['targetEnv'] = 'jssdk';
              callback();
            };
            ServerApiRequest.prototype.handleDeprecatedParams = function () {
              if (this.params['pendingRegistration']) {
                this.params['pending_registration'] =
                  this.params['pendingRegistration'];
              } else if (this.params['newUsersPendingRegistration']) {
                this.params['pending_registration'] =
                  this.params['newUsersPendingRegistration'];
              }
              if (this.params['alwaysForceAuthentication']) {
                this.params['forceAuthentication'] = true;
              }
              if (this.params['timestamp']) {
                this.params['UIDTimestamp'] = this.params['timestamp'];
                delete this.params['timestamp'];
              }
              if (
                this.params['signature'] &&
                this.api.methodName.indexOf('socialize.') === 0
              ) {
                this.params['UIDSig'] = this.params['signature'];
                delete this.params['signature'];
              }
              if (this.params['nonce']) {
                this.params['UIDNonce'] = this.params['nonce'];
                delete this.params['nonce'];
              }
              if (this.params['format'] && !this.params['dataFormat']) {
                this.params['dataFormat'] = this.params['format'];
                delete this.params['format'];
              }
            };
            ServerApiRequest.prototype.handleRiskAssessment = function () {
              var _a;
              return tslib_1.__awaiter(
                this,
                void 0,
                gigya.Promise,
                function () {
                  var params;
                  return tslib_1.__generator(this, function (_b) {
                    switch (_b.label) {
                      case 0:
                        if (
                          !((_a = this.api.settings) === null || _a === void 0
                            ? void 0
                            : _a.riskAssessment)
                        ) {
                          return [2 /*return*/];
                        }
                        return [
                          4 /*yield*/,
                          this.riskAssessmentHandler.getAssessmentParameters(
                            this.params
                          ),
                        ];
                      case 1:
                        params = _b.sent();
                        __webpack_provided_Object_dot_assign(
                          this.params,
                          params
                        );
                        return [2 /*return*/];
                    }
                  });
                }
              );
            };
            ServerApiRequest.prototype.handleCollections = function () {
              if (this.params['recipients']) {
                this.params['recipients'] = this.extractListOfGIGUIDs(
                  this.params['recipients']
                );
              }
              if (this.params['friends']) {
                var friendUIDs = this.extractListOfGIGUIDs(
                  this.params['friends']
                );
                if (this.params['UIDs'].length > 0) {
                  this.params['UIDs'] += ',';
                }
                this.params['UIDs'] += friendUIDs;
              }
            };
            ServerApiRequest.prototype.extractListOfGIGUIDs = function (
              source
            ) {
              var _this = this;
              switch (typeof source) {
                case 'string':
                  return source;
                case 'object':
                  if (typeof source.UID !== 'undefined') {
                    return source.UID;
                  }
                  if (source instanceof window.gigya.socialize.Collection) {
                    var a = [];
                    source.each(function (o, i) {
                      var UID = _this.extractListOfGIGUIDs(o);
                      if (UID != null && UID != '') {
                        a.push(UID);
                      }
                    });
                    return a.join(',');
                  }
              }
            };
            ServerApiRequest.prototype.handleConnectWithoutLoginBehavior =
              function (validSession) {
                if (this.api.methodName === 'socialize.addConnection') {
                  var connectBehavior =
                    this.params['connectWithoutLoginBehavior'];
                  if (typeof connectBehavior === 'string') {
                    connectBehavior = connectBehavior.toLowerCase();
                  }
                  if (connectBehavior === 'loginexistinguser') {
                    this.params['loginIfExists'] = true;
                  }
                  // if the user was logged out we should call socialize.login with temporary_account=true
                  if (!validSession) {
                    this.api = BaseApi_1.getApi('socialize.login');
                    if (connectBehavior !== 'alwayslogin') {
                      this.params['temporary_account'] = true;
                    }
                  }
                }
              };
            ServerApiRequest.prototype.filterParams = function (params) {
              this.params = objectUtils.extractProperties(
                params,
                {},
                this.getFullSchema()
              );
            };
            ServerApiRequest.prototype.getFullSchema = function () {
              if (this.api.schema == null) return '';
              var arSchema = (
                this.api.schema +
                '|' +
                consts_1.defaultApiSchema
              ).split('|');
              if (
                arSchema.indexOf('context') === -1 &&
                typeof this.params['context'] === 'string'
              ) {
                arSchema.push('context');
              }
              for (var i = 0; i < arSchema.length; i++) {
                var fieldName = arSchema[i];
                if (
                  fieldName.toLowerCase().indexOf('[providercapability=') !== -1
                ) {
                  var capability = fieldName
                    .toLowerCase()
                    .split('=')[1]
                    .split(']')[0];
                  var subFieldName = fieldName.split(']')[1];
                  var providers =
                    window.gigya.socialize.getProvidersForRequiredCapabilities(
                      window.gigya.socialize.getProvidersByName('*'),
                      [capability]
                    );
                  var arParams = [];
                  for (
                    var iProvider = 0;
                    iProvider < providers.length;
                    iProvider++
                  ) {
                    arParams.push(providers[iProvider].name + subFieldName);
                  }
                  arSchema[i] = arParams.join('|');
                }
              }
              return arSchema.join('|');
            };
            ServerApiRequest.prototype.preprocessServerResponse = function (
              response
            ) {
              if (
                response['userInfo'] &&
                this.api.methodName.indexOf('accounts.') !== 0
              ) {
                if (typeof response['userInfo'] === 'string') {
                  response['userInfo'] = JSONUtils.parse(
                    response['userInfo'],
                    undefined
                  );
                }
                if (response['userInfo']) {
                  response = objectUtils.merge([
                    response['userInfo'],
                    response,
                  ]);
                  response['errorCode'] = response['userInfo']['errorCode'];
                  delete response['userInfo'];
                }
              }
              if (
                response['accountInfo'] &&
                typeof response['accountInfo'] === 'string'
              ) {
                response['accountInfo'] = JSONUtils.parse(
                  response['accountInfo'],
                  undefined
                );
                if (response['accountInfo']) {
                  response = objectUtils.merge([
                    response['accountInfo'],
                    response,
                  ]);
                  delete response['accountInfo'];
                }
              }
              try {
                if (
                  response['settings'] &&
                  typeof response['settings'] == 'string'
                ) {
                  response['settings'] = JSONUtils.parse(response['settings']);
                }
              } catch (e) {}
              return response;
            };
            ServerApiRequest.prototype.getExpiredSessionResponse = function (
              response
            ) {
              switch (this.api.methodName) {
                case 'socialize.delUserSettings':
                  if (!this.originalParams['disableLocalSettings']) {
                    InternalFlows_1.delGigyaSettings(this.params['group']);
                    response = getDefaultOKResponse(response);
                  }
                  break;
                case 'socialize.getUserInfo':
                  response['status'] = 'OK';
                  response['statusMessage'] = '';
                  response['errorCode'] = 0;
                  response['statusCode'] = 0;
                  response['errorMessage'] = '';
                  response['errorDetails'] = '';
                  response['statusReason'] = '';
                  break;
                case 'accounts.logout':
                case 'socialize.logout':
                  response = getDefaultOKResponse(response);
                  break;
              }
              return response;
            };
            ServerApiRequest.prototype.afterServerApiResponse = function (
              response,
              sentWithValidSession,
              callback
            ) {
              var _this = this;
              if (
                !isNaN(
                  Number(
                    window.gigya.thisScript.globalConf['verifyLoginInterval']
                  )
                ) &&
                this.api.methodName === 'accounts.verifyLogin' &&
                response['errorCode'] !== GSErrors_1.GSErrors.OK
              ) {
                window.gigya._.apiAdapter.clearSession({
                  APIKey: window.gigya.thisScript.APIKey,
                });
              }
              InternalFlows_1.checkCompleteRegistration(
                response,
                this.originalParams,
                this.api.methodName,
                function (completeResponse, suppressEvents, retry) {
                  response = completeResponse;
                  response = _this.preprocessServerResponse(response);
                  if (
                    response['errorCode'] ==
                    GSErrors_1.GSErrors.UNAUTHORIZED_USER
                  ) {
                    response = _this.getExpiredSessionResponse(response);
                  }
                  if (
                    response['errorCode'] == GSErrors_1.GSErrors.OK &&
                    (sentWithValidSession ||
                      consts_1.loginMethods[_this.api.methodName])
                  ) {
                    window.gigya._.apiAdapter
                      .getStorage()
                      .removeItem(
                        '_gigRefUid_' + _this.originalParams['APIKey']
                      );
                  }
                  _this.handleMethodResponse(response, function (newResponse) {
                    response = newResponse;
                    _this.addDefaultResponseProperties(response);
                    InternalFlows_1.handleSpecialFields(response);
                    _this.logoutFromProvidersIfNeeded(
                      response,
                      function (retryFromResponse) {
                        if (retryFromResponse) {
                          _this
                            .sendRequest(sentWithValidSession)
                            .then(callback);
                          return;
                        }
                        if (!suppressEvents) {
                          _this.generateEventsFromResponse(
                            response,
                            sentWithValidSession
                          );
                          _this.generateInterruptionEventFromResponse(response);
                        }
                        if (retry) {
                          window.gigya.logger.info('retrying request');
                          _this
                            .sendRequest(sentWithValidSession)
                            .then(callback);
                          return;
                        }
                        globalEvents.dispatch(
                          {
                            eventName: 'afterResponse',
                            methodName: _this.api.methodName,
                            filteredParams: _this.params,
                            response: response,
                          },
                          _this.originalParams
                        );
                        if (typeof _this.callback === 'function') {
                          LegacyLogger_1.addLog(
                            'Calling callback for ' +
                              _this.api.methodName +
                              ' with this response object',
                            response
                          );
                          try {
                            _this.callback(response);
                          } catch (e) {
                            console.error(e);
                          }
                        }
                        if (_this.api.settings.postprocessor)
                          _this.api.settings.postprocessor(
                            _this.originalParams,
                            response
                          );
                        if (callback) callback(response);
                      }
                    );
                  });
                }
              );
            };
            ServerApiRequest.prototype.addDefaultResponseProperties = function (
              response
            ) {
              delete response['statusCode'];
              delete response['statusReason'];
              response['errorCode'] = response['errorCode'] || 0;
              response['status'] =
                response['status'] ||
                (response['errorCode'] == 0 ? 'OK' : 'FAIL');
              response['errorMessage'] = response['errorMessage'] || '';
              response['statusMessage'] =
                response['statusMessage'] || response['errorMessage'];
              response['requestParams'] = this.originalParams;
              if (response['requestParams']['password'])
                delete response['requestParams']['password']; //we don't want passwords to return as cleartext to the callback
              response['context'] = this.originalParams['context'];
              var operationNamespace = this.api.methodName.split('.')[0];
              response['operation'] =
                operationNamespace == 'socialize'
                  ? this.api.methodName.split('.')[1]
                  : '/' + this.api.methodName; //for backwards compatibility
            };
            ServerApiRequest.prototype.handleMethodResponse = function (
              response,
              callback
            ) {
              if (response['errorCode'] == GSErrors_1.GSErrors.OK) {
                switch (this.api.methodName) {
                  case 'accounts.socialLogin':
                  case 'socialize.login':
                    response['newUser'] =
                      String(response['x_newUser']) == 'true';
                    delete response['x_newUser'];
                  case 'socialize.notifyLogin':
                  case 'socialize.addConnection':
                  case 'accounts.linkAccounts':
                  case 'accounts.finalizeRegistration':
                  case 'accounts.login':
                  case 'oauth.token':
                  case 'accounts.sso.login':
                  case 'accounts.otp.login':
                  case 'accounts.auth.magiclink.email.login':
                  case 'accounts.auth.otp.email.login':
                  case 'accounts.auth.login':
                  case 'accounts.register':
                  case 'socialize.getUserInfo':
                    delete response['login_token'];
                    delete response['expires_in'];
                    delete response['id'];
                    if (response['code']) {
                      response['authCode'] = response['code'];
                      delete response['code'];
                    }
                    if (
                      !response['authCode'] &&
                      !(
                        this.api.methodName == 'socialize.notifyLogin' &&
                        this.params['authCode']
                      )
                    ) {
                      var user = response; // push the response down into the user field
                      if (response['userInfo']) {
                        user = response['userInfo'];
                        delete response['userInfo'];
                      }
                      if (this.api.methodName.indexOf('accounts.') == -1) {
                        response = { user: user };
                        objectUtils.extractProperties(
                          user,
                          response,
                          'status|statusMessage|callId|errorCode|errorMessage|errorDetails|settings|context|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|newUser|signKeysUIDSignature|dataCenter|id_token'
                        );
                        if (response['user'].hasOwnProperty('UIDSig')) {
                          response['signature'] = response['user'].UIDSig;
                        } // support for Deprecated 'signature' property
                        if (user.profile) delete user.profile;
                        if (user.data) delete user.data;
                        delete user.status;
                        delete user.statusMessage;
                        delete user.callId;
                        delete user.errorCode;
                        delete user.errorMessage;
                        delete user.errorDetails;
                        delete user.settings;
                        delete user.context;
                      } else {
                        if (response != user) response['user'] = user;
                      }
                      if (user.age != '' && !isNaN(parseInt(user.age))) {
                        user.age = parseInt(user.age); //for backwards compatibility
                      }
                      if (user.suppressEvents)
                        response['suppressEvents'] = true;
                      if (typeof user.capabilities == 'string') {
                        var capabilitiesString = user.capabilities;
                        if (!capabilitiesString) capabilitiesString = '';
                        if (typeof user.capabilities != 'object') {
                          user.capabilities = {};
                        }
                        capabilitiesString = capabilitiesString.toLowerCase();
                        user.capabilities = {
                          actions: capabilitiesString.indexOf('actions') > -1,
                          friends: capabilitiesString.indexOf('friends') > -1,
                          login: capabilitiesString.indexOf('login') > -1,
                          status: capabilitiesString.indexOf('status') > -1,
                          notifications:
                            capabilitiesString.indexOf('notifications') > -1,
                          contacts: capabilitiesString.indexOf('contacts') > -1,
                          photos: capabilitiesString.indexOf('photos') > -1,
                        };
                      }
                      InternalFlows_1.convertIdentitiesArrayToObject(user);
                      if (typeof user.providers == 'string') {
                        user.providers = user.providers.split(',');
                      }
                      if (this.params['group'] && !response['settings']) {
                        var settings = InternalFlows_1.getGigyaSettings(
                          this.params['group']
                        );
                        response['settings'] = settings;
                      }
                    }
                    break;
                  case 'socialize.getAvailableProviders':
                    var oAvailableProviders = {};
                    for (
                      var i = 0;
                      i < response['availableProviders'].length;
                      i++
                    ) {
                      oAvailableProviders[
                        response['availableProviders'][i].name
                      ] = response['availableProviders'][i];
                    }
                    response['availableProviders'] = oAvailableProviders;
                    break;
                }
              }
              if (
                this.api.methodName === 'socialize.removeConnection' &&
                response['errorCode'] == GSErrors_1.GSErrors.OK
              ) {
                window.gigya.socialize.getUserInfo(this.originalParams, {
                  callback: function (userInfoResponse) {
                    callback(userInfoResponse);
                  },
                });
              } else {
                callback(response);
              }
            };
            ServerApiRequest.prototype.logoutFromProvidersIfNeeded = function (
              response,
              callback
            ) {
              var simpleProviderTimeout = 5000; // 5s
              var samlProviderTimeout = 10000; // 10s
              var errorCode = response['errorCode'];
              if (
                consts_1.logoutMethods[this.api.methodName] &&
                errorCode == GSErrors_1.GSErrors.OK
              ) {
                // logout active session if necesary
                if (response['logoutActiveSession']) {
                  window.gigya._.apiAdapter.clearSession(this.params['APIKey']);
                }
                var arProviders = new Array();
                var providersTimeout = simpleProviderTimeout; // 5s to finish logout from all providers
                var waitAfterProviders = 0; // wait after all providers complete
                // list social providers that needs to be disconected
                var providers;
                if (response['connectedProviders']) {
                  providers = response['connectedProviders'].toLowerCase();
                } else if (response['provider']) {
                  providers = response['provider'].toLowerCase();
                }
                if (
                  providers &&
                  !validationUtils.isExplicitFalse(
                    this.originalParams['forceProvidersLogout']
                  )
                ) {
                  var socialProviders = providers.split(',');
                  for (var i = 0; i < socialProviders.length; ++i) {
                    var provider = socialProviders[i];
                    var providerType = ProviderType[provider];
                    var providerData = null;
                    var removeProviderAfter = simpleProviderTimeout;
                    if (provider.indexOf('saml-') === 0) {
                      providerType = ProviderType.samlProvider;
                      providerData = provider.substring('saml-'.length); // samlIDP
                      removeProviderAfter = false;
                      // for SAML logout increase the timeout to 15s
                      providersTimeout = samlProviderTimeout;
                      waitAfterProviders = simpleProviderTimeout;
                    }
                    arProviders.push({
                      type: providerType,
                      data: providerData,
                      removeAfter: removeProviderAfter,
                    });
                  }
                }
                // list all saml sessions to disconnect
                if (
                  response['samlContext'] &&
                  response['connectedSamlSessions']
                ) {
                  var samlContext = response['samlContext'];
                  var connectedSessions =
                    response['connectedSamlSessions'].split(',');
                  for (var i = 0; i < connectedSessions.length; ++i) {
                    arProviders.push({
                      type: ProviderType.samlSession,
                      data: {
                        samlContext: samlContext,
                        samlSession: connectedSessions[i],
                      },
                      removeAfter: false,
                    });
                    // for SAML logout increase the timeout to 15s
                    providersTimeout = samlProviderTimeout;
                    waitAfterProviders = simpleProviderTimeout;
                  }
                }
                // disconnect all found providers
                if (arProviders.length) {
                  var loggedOutCount = 0;
                  var callbackCalled = false;
                  var onDone = function () {
                    if (!callbackCalled) {
                      callbackCalled = true;
                      callback(false);
                    }
                  };
                  window.setTimeout(onDone, providersTimeout); // 5s timeout
                  var onProviderResourceComplete = function () {
                    loggedOutCount++;
                    if (loggedOutCount === arProviders.length) {
                      window.setTimeout(onDone, waitAfterProviders);
                    }
                  };
                  for (var i = 0; i < arProviders.length; i++) {
                    this.logoutFromProvider(
                      arProviders[i],
                      onProviderResourceComplete
                    );
                  }
                } else {
                  // no providers in the array
                  callback(false);
                }
              } else if (
                response['errorCode'] == GSErrors_1.GSErrors.UNVERIFIED_USER &&
                this.api.methodName !== 'accounts.verifyLogin'
              ) {
                window.gigya.accounts.verifyLogin({
                  ignoreApiQueue: this.originalParams['ignoreApiQueue'],
                  callback: function (verifyResponse) {
                    if (verifyResponse.errorCode == GSErrors_1.GSErrors.OK) {
                      callback(true);
                    } else {
                      callback(false);
                    }
                  },
                });
              } else {
                // not a logout method
                callback(false);
              }
            };
            ServerApiRequest.prototype.logoutFromProvider = function (
              provider,
              callback
            ) {
              var logoutURL = '';
              var useIframe = false;
              var useCacheBuster = true;
              var samlDomain = '' + window.gigya._.getApiDomain('fidm');
              switch (provider.type) {
                case ProviderType.facebook:
                  if (window.gigya.providersConfig.facebook) {
                    window.gigya.socialize.waitForService({
                      service: 'facebook',
                      callback: function () {
                        if (facebookExternal.isLoggedIn && FB.logout) {
                          FB.logout(function () {
                            facebookExternal.refreshSession();
                            // The following code line is because of a Facebook bug which
                            // prevents logging in after you have logged-out.
                            //http://stackoverflow.com/questions/34725123/getloginstatus-returns-status-unknown-when-trying-to-logout-from-facebook-using
                            window.gigya._.apiAdapter
                              .getStorage()
                              .removeItem(
                                'fblo_' +
                                  window.gigya.providersConfig.facebook.appID
                              );
                            callback();
                          });
                        } else {
                          callback();
                        }
                      },
                    });
                    return;
                  }
                  break;
                case ProviderType.samlProvider:
                  logoutURL = URLUtils.addParamsToURL(
                    'https://' +
                      samlDomain +
                      '/saml/v2.0/' +
                      this.params['APIKey'] +
                      '/sp/jsslo',
                    { name: provider.data }
                  );
                  useIframe = true;
                  useCacheBuster = false;
                  break;
                case ProviderType.samlSession:
                  logoutURL = URLUtils.addParamsToURL(
                    'https://' +
                      samlDomain +
                      '/saml/v2.0/' +
                      this.params['APIKey'] +
                      '/idp/slo/continue/',
                    provider.data
                  );
                  useIframe = true;
                  useCacheBuster = false;
                  break;
              }
              if (logoutURL) {
                if (useCacheBuster) logoutURL += new Date().getTime();
                var resourceType = useIframe
                  ? scriptUtils.ResourceTypes.iframe
                  : scriptUtils.ResourceTypes.image;
                var removeAfter;
                //if (this.originalParams['sustainLogoutURLs'] !== undefined)
                //    removeAfter = !this.originalParams['sustainLogoutURLs']
                //else
                removeAfter = provider.removeAfter;
                scriptUtils.triggerResource(
                  logoutURL,
                  callback,
                  resourceType,
                  removeAfter
                );
              } else {
                callback();
              }
            };
            ServerApiRequest.prototype.generateEventsFromResponse = function (
              response,
              sentWithValidSession
            ) {
              var _this = this;
              var _a;
              var oEvent;
              if (response['errorCode'] == 0) {
                switch (this.api.methodName) {
                  case 'accounts.logout':
                  case 'socialize.logout':
                  case 'socialize.unlinkAccounts':
                  case 'socialize.deleteAccount':
                    oEvent = { eventName: 'logout,accounts.logout' };
                    break;
                  case 'socialize.linkAccounts':
                  case 'socialize.setUID':
                    InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    break;
                  case 'socialize.removeConnection':
                    oEvent = {
                      eventName: 'connectionRemoved,disconnect',
                      provider: this.params['provider'] || '',
                    };
                    InternalFlows_1.addUserInfoToEvent(response, oEvent);
                    break;
                  case 'socialize.addConnection':
                    if (!sentWithValidSession && response['user'].isLoggedIn) {
                      oEvent = {
                        eventName: 'login',
                        provider: this.params['provider'],
                      };
                      InternalFlows_1.addUserInfoToEvent(
                        response,
                        oEvent,
                        true
                      );
                    } else {
                      oEvent = {
                        eventName: 'connectionAdded,connect',
                        provider: this.params['provider'],
                      };
                      InternalFlows_1.addUserInfoToEvent(response, oEvent);
                    }
                    break;
                  case 'accounts.linkAccounts':
                  case 'accounts.finalizeRegistration':
                  case 'accounts.login':
                  case 'oauth.token':
                  case 'accounts.otp.login':
                  case 'accounts.auth.magiclink.email.login':
                  case 'accounts.auth.otp.email.login':
                  case 'accounts.auth.login':
                  case 'accounts.register':
                  case 'accounts.socialLogin':
                    if (!this.originalParams['suppressLoginEvent']) {
                      this.dispatchAccountsLoginEvent(response);
                    }
                  case 'socialize.finalizeRegistration':
                  case 'socialize.register':
                  case 'socialize.login':
                    if (!response['user'] && !response['authCode']) break;
                    oEvent = { eventName: 'login' };
                    var provider =
                      (_a = this.params) === null || _a === void 0
                        ? void 0
                        : _a['provider'];
                    if (!provider && response['providerSessions']) {
                      for (var p in response['providerSessions']) {
                        provider = p;
                        break;
                      }
                    }
                    oEvent['provider'] = this.getSocialProviders(
                      provider,
                      response
                    );
                    oEvent['loginMode'] =
                      this.originalParams['loginMode'] || 'standard';
                    oEvent['newUser'] = response['newUser'] || false;
                    if (response['authCode'])
                      oEvent['authCode'] = response['authCode'];
                    InternalFlows_1.addUserInfoToEvent(response, oEvent, true);
                    if (response['user'] && provider) {
                      provider = provider.toLowerCase();
                      this.setSocialCookies(
                        provider,
                        response['user']['firstName']
                      );
                    }
                    break;
                  case 'socialize.notifyLogin':
                    if (!this.params['authCode']) {
                      // authCode means it's GAC
                      if (!oEvent) oEvent = { eventName: 'login' };
                      oEvent['provider'] = 'site';
                      InternalFlows_1.addUserInfoToEvent(
                        response,
                        oEvent,
                        true
                      );
                    } else {
                      oEvent = { eventName: 'login' };
                    }
                    break;
                  case 'gm.notifyAction':
                    globalEvents.dispatch({
                      eventName: 'actionNotified',
                      isInternal: true,
                    });
                    break;
                  case 'accounts.sso.login':
                    window.gigya._.apiAdapter.syncSsoLogin(response['context']);
                    break;
                }
              }
              if (
                consts_1.loginMethods[this.api.methodName] &&
                this.originalParams['redirectURL'] &&
                oEvent &&
                oEvent['user'] &&
                response['errorCode'] == 0
              ) {
                HTTPUtils.redirect(
                  this.originalParams['redirectURL'],
                  [oEvent, oEvent['user']],
                  this.originalParams['redirectMethod']
                );
              }
              // login should be fired but we have no accounts fields. We need to call getAccountInfo for the accounts event.
              if (
                response['errorCode'] == GSErrors_1.GSErrors.OK &&
                oEvent &&
                oEvent['eventName'] === 'login' &&
                !response['profile'] &&
                globalEvents._activeNamespaces['accounts'] &&
                this.api.methodName.indexOf('accounts') === -1
              ) {
                window.gigya.accounts.getAccountInfo(this.originalParams, {
                  include: 'profile,data',
                  includeUserInfo: false,
                  callback: function (accountsResponse) {
                    if (!_this.originalParams['suppressLoginEvent']) {
                      _this.dispatchAccountsLoginEvent(accountsResponse);
                    }
                  },
                });
              }
              if (
                oEvent &&
                (oEvent['eventName'] !== 'login' ||
                  !this.originalParams['suppressLoginEvent'])
              ) {
                oEvent['context'] = this.originalParams['context'];
                globalEvents.dispatch(oEvent, this.originalParams);
              }
            };
            ServerApiRequest.prototype.generateInterruptionEventFromResponse =
              function (response) {
                var oEvent = {};
                switch (response['errorCode']) {
                  case GSErrors_1.GSErrors.ACCOUNT_PENDING_REGISTRATION:
                    oEvent['eventName'] = 'accounts.pendingRegistration';
                    oEvent['regToken'] = response['regToken'];
                    oEvent['loginProvider'] = response['loginProvider'];
                    break;
                  default:
                    return;
                }
                oEvent['sourceRequest'] = this.api.methodName;
                oEvent['errorCode'] = response['errorCode'];
                oEvent['errorMessage'] = response['errorMessage'];
                oEvent['errorDetails'] = response['errorDetails'];
                if (response['userInfo']) {
                  InternalFlows_1.addUserInfoToEvent(response, oEvent);
                }
                if (this.originalParams['context']) {
                  oEvent['context'] = this.originalParams['context'];
                }
                globalEvents.dispatch(oEvent, this.originalParams);
              };
            ServerApiRequest.prototype.setSocialCookies = function (
              provider,
              firstName
            ) {
              if (firstName === void 0) {
                firstName = '';
              }
              if (FlagService_1.FlagService.setCookieSameSiteLaxSocial) {
                window.gigya._.apiAdapter
                  .getStorage()
                  .setItem('_gig_llp', provider, null, null, {
                    sameSite: 'Lax',
                  });
                window.gigya._.apiAdapter
                  .getStorage()
                  .setItem('_gig_llu', firstName, null, null, {
                    sameSite: 'Lax',
                  });
              } else {
                window.gigya._.apiAdapter
                  .getStorage()
                  .setItem('_gig_llp', provider);
                window.gigya._.apiAdapter
                  .getStorage()
                  .setItem('_gig_llu', firstName);
              }
            };
            ServerApiRequest.prototype.dispatchAccountsLoginEvent = function (
              response
            ) {
              var oAccountsEvent = {
                eventName: 'accounts.login',
                remember: validationUtils.isExplicitTrue(
                  this.originalParams['remember']
                ),
                provider: this.getProviderName(response),
                loginMode: this.originalParams['loginMode'] || 'standard',
              };
              objectUtils.extractProperties(
                response,
                oAccountsEvent,
                'newUser|signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|signKeysUIDSignature|dataCenter|id_token|password'
              );
              if (
                FlagService_1.FlagService.dispatchLoginEventWhenHandlerAdded ||
                this.api.methodName === 'accounts.auth.magiclink.email.login'
              ) {
                globalEvents.dispatchWhenHandlerAdded(
                  oAccountsEvent,
                  this.originalParams
                );
              } else {
                globalEvents.dispatch(oAccountsEvent, this.originalParams);
              }
            };
            ServerApiRequest.prototype.getProviderName = function (response) {
              var currentProvider = this.originalParams['provider']
                ? this.originalParams['provider'].toLowerCase()
                : '';
              var loginProvider = response['loginProvider'] || '';
              if (currentProvider !== loginProvider) {
                window.gigya.logger.report('provider mismatch', {
                  currentProvider: currentProvider,
                  loginProvider: loginProvider,
                });
              }
              if (
                FlagService_1.FlagService.setProviderFromResponse &&
                loginProvider
              ) {
                return loginProvider;
              } else {
                return currentProvider;
              }
            };
            ServerApiRequest.prototype.getSocialProviders = function (
              provider,
              response
            ) {
              if (
                FlagService_1.FlagService.setProviderFromResponse &&
                response
              ) {
                return provider || response['socialProviders'] || 'site';
              } else {
                return provider || 'site';
              }
            };
            return ServerApiRequest;
          })();
          exports.ServerApiRequest = ServerApiRequest;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/UiApi.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApi.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var BaseApi_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/BaseApi */ './src/core/Gigya.Js/app/API/BaseApi.ts'
        );
        var VersionSelector_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/VersionSelector */ './src/core/Gigya.Js/app/API/VersionSelector.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var LegacyLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
        );
        var UiApiHelpers_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/API/UiApiHelpers */ './src/core/Gigya.Js/app/API/UiApiHelpers.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        var legacyReports = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyReports */ './src/core/Gigya.Js/app/LegacyReports.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var scriptUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
        );
        var events = __webpack_require__(
          /*! src/core/Gigya.Js/app/Events */ './src/core/Gigya.Js/app/Events.ts'
        );
        var Providers_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Providers */ './src/core/Gigya.Js/app/Providers.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        exports.__pluginsCoreLoaded = false;
        var sourceDataParams = {
          showReactionsBarUI: ['barID'],
          showCommentsUI: ['categoryID', 'streamID'],
        };
        var UiApi = /** @class */ (function (_super) {
          tslib_1.__extends(UiApi, _super);
          function UiApi(
            methodName,
            jsName,
            defaultParams,
            defaultPopupParams,
            requiredParams,
            settings
          ) {
            if (defaultParams === void 0) {
              defaultParams = {};
            }
            if (defaultPopupParams === void 0) {
              defaultPopupParams = {};
            }
            if (requiredParams === void 0) {
              requiredParams = '';
            }
            if (settings === void 0) {
              settings = {};
            }
            var _this =
              _super.call(
                this,
                UiApi.getApiName(jsName, methodName, settings),
                settings
              ) || this;
            _this.methodName = methodName;
            _this.jsName = jsName;
            _this.settings = settings;
            settings.defaultParams = defaultParams || {};
            settings.defaultPopupParams = defaultPopupParams || {};
            settings.requiredParams = requiredParams || '';
            return _this;
          }
          UiApi.getApiName = function (jsName, methodName, settings) {
            if (settings === void 0) {
              settings = {};
            }
            return settings.apiName || jsName.split('.')[0] + '.' + methodName;
          };
          UiApi.versionSelector = function (
            methodName,
            namespace,
            defaultVersion,
            versions,
            versionField
          ) {
            if (versionField === void 0) {
              versionField = 'version';
            }
            var selector = new VersionSelector_1.VersionSelector(
              methodName,
              versions,
              defaultVersion
            );
            functionsUtils.createAlias(
              'gigya.' + namespace + '.' + methodName,
              function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                var config = args[0];
                var params = args[1];
                if (!params) {
                  params = config;
                  config = null;
                }
                if (!params) {
                  params = {};
                  args.push(params);
                }
                var callConfig = objectUtils.merge([{}, config, params]);
                selector.callVersion(
                  '' + callConfig[versionField],
                  params,
                  args
                );
              }
            );
            return selector;
          };
          // For new plugins using BasePlugin
          UiApi.createApi = function (
            methodName,
            namespace,
            className,
            jsName,
            settings,
            instanceMethods
          ) {
            if (settings === void 0) {
              settings = {};
            }
            settings.useBasePlugin = true;
            var api = new UiApi(methodName, jsName, null, null, null, settings);
            api.namespace = namespace;
            api.className = className;
            api.instanceMethods = instanceMethods || [];
            api.addInstanceMethodsAliases();
            return api;
          };
          UiApi.prototype.addInstanceMethodsAliases = function () {
            // Add the instance methods aliases
            for (var i = 0; i < this.instanceMethods.length; i++) {
              this.createInstanceMethodAlias(this.instanceMethods[i]);
            }
          };
          UiApi.prototype.createInstanceMethodAlias = function (methodName) {
            var _this = this;
            functionsUtils.createAlias(
              'gigya.' + this.namespace + '.' + methodName,
              function (params) {
                /// Note that this method should only be called after the plugin js was loaded.
                if (!_this.injectionInfo) {
                  LegacyLogger_1.addLog('invalid injection info', _this, false);
                  return;
                }
                var publicMethod = _this.getPublicMethod(methodName);
                var instance = UiApiHelpers_1.getPluginInstance(
                  params,
                  _this.injectionInfo
                );
                if (!instance) {
                  LegacyLogger_1.addLog("couldn't find instance", _this, false);
                  /// for future implementation.
                  //if (params.onError)
                  //    params.onError();
                } else {
                  // prepare arguments from params object.
                  var args = [];
                  arrayUtils.forEach(publicMethod.argNames, function (argName) {
                    if (argName && params[argName] !== undefined)
                      args.push(params[argName]);
                  });
                  instance[publicMethod.instanceMethod].apply(instance, args);
                }
              }
            );
          };
          UiApi.prototype.getPublicMethod = function (methodName) {
            var publicMethod;
            if (this.injectionInfo.publicMethods) {
              publicMethod = this.injectionInfo.publicMethods[methodName];
            }
            if (!publicMethod) {
              throw new Error(
                'public method ' +
                  methodName +
                  ' is not configured for ' +
                  this.injectionInfo.name
              );
            }
            return publicMethod;
          };
          // Override
          UiApi.prototype.preprocessRequest = function (params, callback) {
            var _this = this;
            _super.prototype.preprocessRequest.call(this, params, function () {
              if (!params['source']) _this.setSourceData(params);
              if (callback) callback();
            });
          };
          UiApi.prototype.run = function (params, explicitParams) {
            var _this = this;
            if (this.settings.silentMode) {
              window.gigya.logger.warn(
                'Deprecated Feature: ' + this.methodName
              );
              var callback = params['callback'];
              if (typeof callback === 'function') callback();
              return;
            }
            if (!this.settings.waitForAPIQueue || params['ignoreApiQueue']) {
              this.startUI(params, explicitParams);
            } else {
              queueUtils.queueForExecution('API', function () {
                _this.startUI(params, explicitParams);
              });
            }
          };
          UiApi.prototype.startUI = function (params, explicitParams) {
            var _this = this;
            params = objectUtils.clone(params);
            this.prepareParameters(params);
            this.preprocessRequest(params, function () {
              // Legacy
              if (!_this.settings.useBasePlugin) {
                window.gigya.logger.info('loading legacy plugin');
                _this.legacyStartUI(params, explicitParams);
                // BasePlugin
              } else {
                window.gigya.logger.info('loading modern plugin');
                _this.loadPluginJS(
                  params,
                  explicitParams,
                  function (loadedFromServer) {
                    queueUtils.queueForExecution('UI', function () {
                      if (loadedFromServer && _this.className) {
                        _this.pluginType = _this.getPluginType();
                        _this.injectionInfo =
                          _this.pluginType.injectionInfo(_this);
                      }
                      var fnStart = function () {
                        _this.startPlugin(params, explicitParams);
                      };
                      if (params['waitForDebug'] == false) {
                        fnStart();
                      } else {
                        queueUtils.queueForExecution('debug', fnStart);
                      }
                    });
                  }
                );
              }
            });
          };
          UiApi.prototype.startPlugin = function (params, explicitParams) {
            var _this = this;
            globalEvents.dispatch(
              {
                eventName: 'beforePluginRequest',
                methodName: this.methodName,
                params: params,
                explicitParams: explicitParams,
              },
              params
            );
            var methodName = params['originalMethodName'] || this.methodName;
            LegacyLogger_1.logCall(methodName, params);
            legacyReports.reportLoad(methodName, params);
            // BasePlugin
            if (this.pluginType) {
              if (params) {
                var previous = UiApiHelpers_1.getPluginInstance(
                  params,
                  this.injectionInfo
                );
                if (
                  previous &&
                  previous.dispose &&
                  !params['_allowMultipleInstances'] &&
                  !params['newModal']
                ) {
                  previous.dispose();
                }
              }
              var instance = new this.pluginType(
                params,
                explicitParams,
                this.injectionInfo
              );
              /// TODO: condition this to a global attribute.
              UiApiHelpers_1.setPluginInstance(
                params,
                this.injectionInfo,
                instance
              );
              instance.onDisposedEvent().add(function () {
                return UiApiHelpers_1.removePluginInstance(
                  params,
                  _this.injectionInfo
                );
              });
              window.gigya.logger.info(
                'starting plugin ' + this.injectionInfo.name + ' with params',
                instance.params
              );
              instance.start();
              if (instance.containerID) {
                var container = document.getElementById(instance.containerID);
                if (container) {
                  container['gigyaPluginInstance'] = instance;
                }
              }
              if (params['getInstance']) {
                params['getInstance'](instance);
              }
              // Legacy
            } else {
              functionsUtils.callFunction(
                'gigya.' + this.jsName + '.' + this.methodName,
                [params, params, params]
              );
            }
          };
          UiApi.prototype.loadPluginJS = function (
            params,
            explicitParams,
            callback
          ) {
            if (this.wasPluginJSLoaded(params)) {
              window.gigya.logger.info('plugin was already loaded');
              if (callback) callback(false);
            } else {
              var pluginBase_1 = false;
              var cdnPrefix = cdn_1.getCdnResource('/js/');
              var jsServiceName = 'gigya.services.' + this.jsName;
              var langAndVersion =
                (params['lang'] ? 'lang=' + params['lang'] : '') +
                ('&version=' + window.gigya.build.version);
              var pluginUrl =
                cdnPrefix + jsServiceName + '.min.js' + ('?' + langAndVersion);
              var pluginWithBaseUrl =
                cdnPrefix +
                'gigya.services.plugins.base.min.js?services=' +
                jsServiceName +
                ('&' + langAndVersion);
              var loadUrl = void 0;
              if (!exports.__pluginsCoreLoaded) {
                window.gigya.logger.debug('locking queue to fetch basePlugin');
                loadUrl = pluginWithBaseUrl;
                exports.__pluginsCoreLoaded = true;
                pluginBase_1 = true;
                queueUtils.hold('pluginsJS', 'UI');
              } else {
                loadUrl = pluginUrl;
              }
              window.gigya.logger.info('loading ' + jsServiceName);
              globalEvents.dispatch(
                {
                  eventName: 'beforePluginLoad',
                  methodName: this.methodName,
                  explicitParams: explicitParams,
                  params: params,
                },
                params
              );
              scriptUtils.load(
                loadUrl,
                null,
                function () {
                  if (pluginBase_1) queueUtils.release('pluginsJS', 'UI');
                  if (callback) callback(true);
                },
                true,
                undefined,
                [pluginUrl, pluginWithBaseUrl]
              );
            }
          };
          UiApi.prototype.wasPluginJSLoaded = function (params) {
            var funcName = 'gigya.' + this.jsName + '.' + this.methodName;
            var fullJSName = 'gigya.services.' + this.jsName + '.js';
            try {
              var func = this.getPluginType();
              var langObj = window.gigya['i18n'][fullJSName][params['lang']];
            } catch (ex) {
              return false;
            }
            return (
              typeof func !== 'undefined' && typeof langObj !== 'undefined'
            );
          };
          UiApi.prototype.getPluginType = function () {
            var pathAccessor = objectUtils.expressionHelper(window.gigya);
            var paths = [
              '_.plugins.' + this.className,
              this.jsName + '.' + this.methodName,
            ];
            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {
              var path = paths_1[_i];
              var type = pathAccessor.getField(path);
              if (type) return type;
            }
            return undefined;
          };
          UiApi.prototype.setSourceData = function (params) {
            if (this.methodName == 'socialize.showSimpleShareUI') {
              params['source'] = 'socialize.showShareUI';
            } else {
              params['source'] =
                params['originalMethodName'] || this.methodName;
            }
            if (!params['sourceData'] && sourceDataParams[this.methodName]) {
              var sourceData = {};
              var addedSourceData;
              for (
                var i = 0;
                i < sourceDataParams[this.methodName].length;
                i++
              ) {
                var paramName = sourceDataParams[this.methodName][i];
                if (params[paramName] != null) {
                  addedSourceData = true;
                  sourceData[paramName] = params[paramName];
                }
              }
              if (addedSourceData) params['sourceData'] = sourceData;
            }
            if (!params['pluginsStack']) params['pluginsStack'] = [];
            params['pluginsStack'].push({ source: this.methodName }); //for debugging
            params['lastSource'] = this.methodName;
          };
          UiApi.prototype.validateRequiredParams = function (params) {
            var arRequiredParams = this.settings.requiredParams.split('|');
            for (var i = 0; i < arRequiredParams.length; i++) {
              var requiredParam = arRequiredParams[i];
              if (
                requiredParam != '' &&
                (params[requiredParam] == null || params[requiredParam] == '')
              ) {
                events.dispatchInvalidParamError(params, requiredParam);
                return false;
              }
            }
            return true;
          };
          UiApi.prototype.setDefaultParams = function (params) {
            var isPopup = !params['containerID'] || params['isPopup'];
            for (var paramName in this.settings.defaultParams) {
              if (params[paramName] == null) {
                if (isPopup && this.settings.defaultPopupParams[paramName]) {
                  params[paramName] =
                    this.settings.defaultPopupParams[paramName];
                } else {
                  params[paramName] = this.settings.defaultParams[paramName];
                }
              }
            }
            if (isPopup) {
              for (var paramName in this.settings.defaultPopupParams) {
                if (!params[paramName])
                  params[paramName] = this.settings.defaultParams[paramName];
              }
            }
          };
          UiApi.prototype.prepareParameters = function (params) {
            for (var key in params) {
              // Replace provider aliases with provider names
              if (
                key.toLowerCase().indexOf('provider') != -1 &&
                typeof params[key] == 'string'
              ) {
                params[key] = Providers_1.replaceProviderAliases(params[key]);
              }
            }
            // Set english as default language
            if (!params['lang']) {
              params['lang'] = window.gigya.thisScript.lang.langCode;
            }
            if (!params['source']) {
              this.setSourceData(params);
            } else {
              params['isPopup'] = false; //to avoid params.isPopup being passed from UI widgets
            }
          };
          // For plugins that do not support BasePlugin
          UiApi.prototype.legacyStartUI = function (params, explicitParams) {
            var _this = this;
            var containerID = params['containerID'];
            if (this.settings.ignoreContainerId) {
              params['containerID'] = '';
              containerID = '';
            } else if (
              (params['containerID'] == null && !this.settings.allowPopup) ||
              (params['containerID'] &&
                !document.getElementById(params['containerID']))
            ) {
              events.dispatchInvalidParamError(params, 'containerID');
              return;
            }
            var isPopup =
              this.settings.allowPopup && (!containerID || params['isPopup']);
            if (isPopup && this.settings.useNewModal)
              params['useNewModal'] = true;
            this.setDefaultParams(params);
            if (!this.settings.allowPopup && !isPopup) {
              DOMUtils.clearByID(containerID);
            }
            if (!this.validateRequiredParams(params)) {
              return;
            }
            this.loadPluginJS(params, explicitParams, function () {
              var fnStart = function () {
                _this.prepareContainer(params, isPopup, function () {
                  _this.startPlugin(params, explicitParams);
                });
              };
              queueUtils.queueForExecution('UI', function () {
                if (params['waitForDebug'] == false) {
                  fnStart();
                } else {
                  queueUtils.queueForExecution('debug', fnStart);
                }
              });
            });
          };
          UiApi.prototype.prepareContainer = function (
            params,
            isPopup,
            callback
          ) {
            var _this = this;
            if (!document.body) {
              window.setTimeout(function () {
                _this.prepareContainer(params, isPopup, callback);
              }, 200);
            } else {
              var containerID = params['containerID'];
              var container;
              if (isPopup) {
                containerID = DOMUtils.getCenteredDivID(this.methodName);
                if (params['newModal']) containerID += new Date().getTime();
                params['containerID'] = containerID;
                params['isPopup'] = true;
                if (!document.getElementById(containerID)) {
                  container = DOMUtils.createTopLevelDiv(containerID);
                  container.style.position = 'absolute';
                }
              }
              container = container || document.getElementById(containerID);
              if (!container) {
                events.dispatchInvalidParamError(params, 'containerID');
                callback();
                return;
              }
              //  var jsUrl = this.getPluginJsUrl(params);
              var Reqs = container['Reqs']
                ? container['Reqs']
                : (container['Reqs'] = []);
              var rid = Reqs.length + '@' + 0 + '@' + containerID;
              params['rid'] = rid;
              var req = (Reqs[Reqs.length] = {
                rid: rid,
                container: container,
                method: this.methodName,
                context: params['context'],
                c: params,
                p: params,
                i: params,
                operation: this.methodName,
                isHTML: true,
              });
              if (container && container.style) {
                container.style.display = '';
                container.style.visibility = '';
                var ifrel = document.getElementById('gigya_ifr_' + containerID);
                if (ifrel) {
                  ifrel.style.display = '';
                  ifrel.style.visibility = '';
                }
                var fncFixPosition = function () {
                  if (ifrel != null) {
                    // if is new modal, measure the new modal dialog size and sen it to the mask options.
                    DOMUtils.setSize(
                      ifrel,
                      params['width'],
                      params['height'],
                      isPopup
                    );
                    /*if (gigya.localInfo.isIE) {*/ ifrel.style.visibility =
                      'visible'; /*}*/
                  }
                  DOMUtils.setSize(
                    container,
                    params['width'],
                    params['height'],
                    isPopup
                  );
                };
                fncFixPosition();
              }
              var localMethodName = this.methodName.split('.').pop();
              if (container.setAttribute) {
                container.setAttribute(
                  'gigid',
                  (params['source'] && params['source'] != localMethodName
                    ? params['source'] + '_'
                    : '') + localMethodName
                );
              }
              callback();
            }
          };
          return UiApi;
        })(BaseApi_1.BaseApi);
        exports.UiApi = UiApi;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/UiApiHelpers.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApiHelpers.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.instances = {};
        function getInstanceId(params, injectionInfo) {
          if (params['instanceID']) return params['instanceID'];
          else if (params['isPopup'])
            return 'gigya-modal-plugin-container-' + injectionInfo.methodName;
          else if (params['containerID']) return params['containerID'];
          else return injectionInfo.name;
        }
        function getPluginInstance(params, injectionInfo) {
          var pluginID = getInstanceId(params, injectionInfo);
          return exports.instances[pluginID];
        }
        exports.getPluginInstance = getPluginInstance;
        function setPluginInstance(params, injectionInfo, instance, override) {
          if (override === void 0) {
            override = false;
          }
          var pluginID = getInstanceId(params, injectionInfo);
          if (!override) {
            var originID = pluginID;
            for (var numSuffix = 2; exports.instances[pluginID]; numSuffix++) {
              pluginID = originID + numSuffix.toString();
            }
          }
          params['instanceID'] = pluginID;
          exports.instances[pluginID] = instance;
        }
        exports.setPluginInstance = setPluginInstance;
        function removePluginInstance(params, injectionInfo) {
          delete exports.instances[getInstanceId(params, injectionInfo)];
          delete params['instanceID'];
        }
        exports.removePluginInstance = removePluginInstance;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/UiApiRegistry.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/UiApiRegistry.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        function registerPlugin(pluginInit) {
          queueUtils.queueForExecution('UI', pluginInit);
        }
        exports.registerPlugin = registerPlugin;
        function attachPlugin(
          pluginClass,
          namespace,
          pluginName,
          publicMethodName
        ) {
          if (!namespace) namespace = 'socialize';
          if (!window.gigya[namespace]) window.gigya[namespace] = {};
          if (!window.gigya[namespace].plugins)
            window.gigya[namespace].plugins = {};
          if (!window.gigya[namespace].plugins[pluginName])
            window.gigya[namespace].plugins[pluginName] = { instances: [] };
          var ns = window.gigya[namespace].plugins[pluginName];
          if (!ns[publicMethodName]) {
            ns[publicMethodName] = function (params) {
              var refString =
                'gigya.' +
                namespace +
                '.plugins.' +
                pluginName +
                '.instances[' +
                ns.instances.length +
                ']';
              var plugin = new pluginClass(params, refString);
              ns.instances.push(plugin);
            };
          }
          if (pluginClass.StaticApi) {
            for (var name in pluginClass.StaticApi) {
              var funcName = pluginClass.StaticApi[name];
              var func = pluginClass[funcName];
              functionsUtils.createAlias(
                'gigya.' + namespace + '.plugins.' + pluginName + '.' + name,
                func
              );
            }
          }
        }
        exports.attachPlugin = attachPlugin;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/VersionSelector.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/API/VersionSelector.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var VersionSelector = /** @class */ (function () {
          function VersionSelector(methodName, _versions, defaultVersionName) {
            this.methodName = methodName;
            this._versions = _versions;
            if (!this._versions || this._versions.length < 1)
              throw new Error(
                this.methodName + ': required at least one valid version'
              );
            if (!defaultVersionName) {
              this._defaultVersionIndex = 0;
            } else {
              this._defaultVersionIndex =
                this.findVersionIndexOrDefault(defaultVersionName);
              if (this._defaultVersionIndex == -1)
                throw new Error(
                  this.methodName +
                    ': default version is not defined as a version'
                );
            }
          }
          VersionSelector.prototype.callVersion = function (
            versionName,
            params,
            args
          ) {
            if (params === void 0) {
              params = {};
            }
            if (args === void 0) {
              args = [params];
            }
            var wantedVersionIndex =
              this.findVersionIndexOrDefault(versionName);
            if (wantedVersionIndex == -1)
              throw Error("gigya plugin version doesn't exist");
            var supportedVersion =
              this.findSupportedVersion(wantedVersionIndex);
            if (!supportedVersion)
              throw new Error(
                versionName +
                  ': could not find supported version for this browser'
              );
            else {
              this.invokeVersionMethod(supportedVersion, params, args);
            }
          };
          VersionSelector.prototype.findSupportedVersion = function (
            startIndex
          ) {
            var versionsNum = this._versions.length;
            for (var i = 0; i < versionsNum; ++i) {
              // go cyclicly through versions from start index
              var version =
                this._versions[(startIndex - i + versionsNum) % versionsNum];
              if (
                !version.isSupported ||
                version.isSupported({ directCall: i == 0 })
              ) {
                return version;
              }
            }
            return undefined;
          };
          VersionSelector.prototype.findVersionIndexOrDefault = function (
            versionName
          ) {
            var result = -1;
            if (versionName) {
              result = arrayUtils.firstIndex(
                this._versions,
                function (version) {
                  return version.versionName == versionName;
                }
              );
            }
            // If version name isn't given or doesn't exist
            if (result == -1) {
              result =
                this._defaultVersionIndex !== undefined
                  ? this._defaultVersionIndex
                  : -1;
            }
            return result;
          };
          VersionSelector.prototype.invokeVersionMethod = function (
            version,
            params,
            args
          ) {
            if (params === void 0) {
              params = {};
            }
            if (args === void 0) {
              args = [params];
            }
            var versionMethod;
            switch (typeof version.method) {
              case 'function':
                versionMethod = version.method;
                break;
              case 'string':
                versionMethod = eval(version.method);
                params['selectedMethodName'] = version.method; // debug legacy
                break;
              default:
                throw Error(
                  this.methodName +
                    ' ' +
                    version.versionName +
                    ': unsupported gigya-version method'
                );
            }
            // Copy additional params.
            for (var field in version.additionalParams)
              params[field] = version.additionalParams[field];
            // Legacy.
            params['originalMethodName'] = this.methodName;
            // Go
            versionMethod.apply(this, args);
          };
          return VersionSelector;
        })();
        exports.VersionSelector = VersionSelector;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/API/consts.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/API/consts.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.defaultApiSchema =
          'ctag|APIKey|cid|oauth_token|source|sourceData|usePost|refUID|fb_UID|fb_at|fb_exp|environment|noAuth|httpStatusCodes';
        exports.defaultOauthSchema =
          'ctag|temporary_account|authFlow|connectWithoutLogin|provider|redirectMethod|redirect_uri|pendingRegistration|lang|regSource|extraPermissions|sessionExpiration|forceAuthentication|includeiRank|includeAllIdentities|extraFields|enabledProviders|disabledProviders|signIDs|openIDUsername|openIDURL|openIDProviderLogo|openIDProviderName|finalizeRegistration|include|actionAttributes|profileAttributes|googlePlayAppID|bp_channel_url|loginIfExists|includeUserInfo|redirectURL|authCodeOnly|enablePopupLocation|invite|regToken|loginMode|apiDomain|conflictHandling|forcePermissions|signKeys|dataCenter|forceAuthentication';
        exports.postBookmarkSchema =
          'provider|URL|url|title|description|target|cid|APIKey|shortURLs|source|sourceData|providerKey|thumbnailURL|tags|userAction|[providerCapability=actions]UserAction|actionAttributes|facebookDialogType';
        exports.loginMethods = {
          'socialize.login': 1,
          'socialize.addConnection': 1,
          'socialize.notifyLogin': 1,
          'socialize.linkAccounts': 1,
          'accounts.login': 1,
          'accounts.otp.login': 1,
          'accounts.auth.magiclink.email.login': 1,
          'accounts.auth.otp.email.login': 1,
          'accounts.auth.login': 1,
          'accounts.socialLogin': 1,
          'accounts.linkAccounts': 1,
          'accounts.register': 1,
          'accounts.finalizeRegistration': 1,
          'accounts.notifySocialLogin': 1,
        };
        exports.logoutMethods = {
          'socialize.logout': 1,
          'accounts.logout': 1,
          'socialize.deleteAccount': 1,
          'socialize.unlinkAccounts': 1,
        };

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Authentication/AuthApis.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Authentication/AuthApis.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var SiteData_1 = __webpack_require__(
          /*! ../Services/SiteData */ './src/core/Gigya.Js/app/Services/SiteData.ts'
        );
        function getPreferredLoginMethod(identifier) {
          return SiteData_1.siteData.getPreferredLoginMethod(identifier);
        }
        exports.getPreferredLoginMethod = getPreferredLoginMethod;
        function setPreferredLoginMethod(method, identifier) {
          SiteData_1.siteData.setPreferredLoginMethod(method, identifier);
        }
        exports.setPreferredLoginMethod = setPreferredLoginMethod;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/BaseObject/BaseObject.ts':
      /*!********************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/BaseObject.ts ***!
  \********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var events = __webpack_require__(
          /*! src/core/Gigya.Js/app/Events */ './src/core/Gigya.Js/app/Events.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var EventWrapper_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/BaseObject/EventWrapper */ './src/core/Gigya.Js/app/BaseObject/EventWrapper.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var BaseObject = /** @class */ (function () {
          /// Methods
          function BaseObject(params, explicitParams, validateParams) {
            if (validateParams === void 0) {
              validateParams = true;
            }
            this.params = params;
            this.explicitParams = explicitParams;
            /// Providers
            this._logger = window.gigya.logger;
            this._eventDispatcher = function (args, widget) {
              return events.dispatchForWidget(args, widget);
            };
            this._errorDispatcher = window.gigya.events;
            this._globalEventsManager = window.gigya.events.global;
            this._isDisposed = false;
            /// Members
            this._eventWrappers = {};
            this._globalEventHandlers = {};
            this._id = ++BaseObject.instanceCounter;
            // Clone params to avoid modifying originals.
            this.params = params ? objectUtils.clone(params) : {};
            this.explicitParams = explicitParams
              ? objectUtils.clone(explicitParams)
              : {};
            // Validate required params.
            if (validateParams) {
              this.validateParams();
            }
            // Copy properties to object itself.
            for (var name in params) {
              if (BaseObject[name]) {
                BaseObject[name] = params[name];
              }
            }
          }
          /// Events
          BaseObject.prototype.onErrorEvent = function () {
            return this.getEvent('onError');
          };
          BaseObject.prototype.onDisposedEvent = function () {
            return this.getEvent('onDisposed');
          };
          BaseObject.prototype.dispatchGlobalEvent = function (eventObj) {
            globalEvents.dispatch(eventObj);
          };
          BaseObject.prototype.getType = function () {
            return (
              this.constructor['name'] || this.getFunctionName(this.constructor)
            );
          };
          BaseObject.prototype.getFunctionName = function (fun) {
            var ret = fun.toString();
            ret = ret.substr('function '.length);
            ret = ret.substr(0, ret.indexOf('('));
            return ret;
          };
          /// Abstract methods
          BaseObject.prototype.getConfig = function () {
            this.error(
              BaseObject.NOT_IMPLEMENTED_ERROR,
              GSErrors_1.GSErrors.NOT_SUPPORTED
            );
            return {};
          };
          /// Virtual methods
          BaseObject.prototype.toString = function () {
            return this.getType() + ' ' + this.id();
          };
          BaseObject.prototype.id = function () {
            return this._id;
          };
          BaseObject.prototype.warn = function (msg, e) {
            var warnMsg = this.id() + ' ' + this.getType() + ' - ' + msg;
            this._logger.info(warnMsg, e); // add message to gigya debug log
          };
          BaseObject.prototype.error = function (msg, errorCode, e) {
            if (errorCode === void 0) {
              errorCode = GSErrors_1.GSErrors.CLIENT_LOG;
            }
            var errorInfo = {
              errorMessage: msg,
              errorCode: errorCode,
              errorDetails: this.id(),
              info: e,
            };
            this.warn(msg, errorInfo);
            this.dispatchEvent('error', errorInfo);
          };
          BaseObject.prototype.validateParams = function (reqParams) {
            if (!reqParams) reqParams = this.getConfig().requiredParams || [];
            // Complete params with default.
            if (this.getConfig().defaultParams) {
              this.params = objectUtils.merge([
                this.getConfig().defaultParams,
                this.params,
              ]);
            }
            var missingParams = [];
            // Check existence of required params
            if (reqParams.length > 0) {
              for (var i in reqParams) {
                if (reqParams.hasOwnProperty(i)) {
                  var param = reqParams[i];
                  if (!this.params[param]) missingParams.push(param);
                }
              }
            }
            if (missingParams.length > 0) {
              this.dispatchInvalidParamError(missingParams[0]);
              return false;
            } else return true;
          };
          /// Events methods
          BaseObject.prototype.dispatchEvent = function (eventName, args) {
            if (args === void 0) {
              args = {};
            }
            args.eventName = eventName;
            //args.sender = this; // TODO memory leak due to sender containing refrences to dom
            return this._eventDispatcher(args, this.params);
          };
          BaseObject.prototype.dispatchErrorFromResponse = function (response) {
            return events.dispatchErrorFromResponse(this.params, response);
          };
          BaseObject.prototype.dispatchInvalidParamError = function (
            paramName
          ) {
            events.dispatchInvalidParamError(this.params, paramName);
          };
          BaseObject.prototype.getEvent = function (eventName) {
            if (!this._eventWrappers[eventName]) {
              if (!this.params[eventName]) {
                this.params[eventName] = [];
              } else if (!(this.params[eventName] instanceof Array)) {
                this.params[eventName] = [this.params[eventName]];
              }
              this._eventWrappers[eventName] = new EventWrapper_1.EventWrapper(
                this.params[eventName]
              );
            }
            return this._eventWrappers[eventName];
          };
          BaseObject.prototype.addGlobalEventHandlers = function (handlers) {
            for (var name in handlers) {
              if (handlers.hasOwnProperty(name))
                this.addGlobalEventHandler(name, handlers[name]);
            }
          };
          BaseObject.prototype.addGlobalEventHandler = function (
            name,
            handler,
            context,
            namespace
          ) {
            if (context === void 0) {
              context = null;
            }
            if (namespace === void 0) {
              namespace = 'socialize';
            }
            if (!this._globalEventHandlers[name])
              this._globalEventHandlers[name] = [];
            var registeredHandler = globalEvents.add(
              name,
              handler,
              'component',
              context,
              namespace,
              this.params
            );
            this._globalEventHandlers[name].push(registeredHandler);
          };
          BaseObject.prototype.removeGlobalEventHandlers = function (handlers) {
            for (var name in handlers) {
              if (handlers.hasOwnProperty(name))
                this.removeGlobalEventHandler(name, handlers[name]);
            }
          };
          /// Except 'name', all arguments are for base plugin support... really needed?
          BaseObject.prototype.removeGlobalEventHandler = function (
            name,
            handler,
            context,
            namespace
          ) {
            if (context === void 0) {
              context = null;
            }
            if (namespace === void 0) {
              namespace = 'socialize';
            }
            var arr = this._globalEventHandlers[name];
            if (arr) {
              var handlerInfoIndex = arrayUtils.firstIndex(arr, function (i) {
                return i.handler == handler;
              });
              if (handlerInfoIndex > -1) {
                var handlerInfo = arr[handlerInfoIndex];
                globalEvents.remove(handlerInfo.fullEventName, handlerInfo);
                arr.splice(handlerInfoIndex, 1);
              }
            }
          };
          BaseObject.prototype.prepareCallback = function (callback) {
            var instance = this;
            return function () {
              var args = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
              }
              if (!instance._isDisposed) return callback.apply(this, args);
            };
          };
          /// IDisposable implementation
          BaseObject.prototype.dispose = function () {
            for (var name in this._globalEventHandlers) {
              if (this._globalEventHandlers.hasOwnProperty(name)) {
                for (var i in this._globalEventHandlers[name]) {
                  var eventHandlerInfo = this._globalEventHandlers[name][i];
                  globalEvents.remove(
                    eventHandlerInfo.fullEventName,
                    eventHandlerInfo
                  );
                }
              }
            }
            this._globalEventHandlers = {};
            this._eventWrappers = {};
            this.params = {};
            this._isDisposed = true;
            // this.dispatchEvent("onDisposed"); // TODO fix memory leak from it
          };
          /// Static
          BaseObject.instanceCounter = 0;
          BaseObject.NOT_IMPLEMENTED_ERROR = 'Abstract method not implemented';
          return BaseObject;
        })();
        exports.BaseObject = BaseObject;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/BaseObject/EventWrapper.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/EventWrapper.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var EventWrapper = /** @class */ (function () {
          function EventWrapper(_handlers) {
            if (_handlers === void 0) {
              _handlers = [];
            }
            this._handlers = _handlers;
          }
          EventWrapper.prototype.add = function (handler) {
            this._handlers.push(handler);
          };
          EventWrapper.prototype.remove = function (handler) {
            var index = this._handlers.indexOf(handler);
            if (index > -1) {
              this._handlers.splice(index, 1);
            }
          };
          return EventWrapper;
        })();
        exports.EventWrapper = EventWrapper;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts':
      /*!***************************************************************!*\
  !*** ./src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts ***!
  \***************************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var DeviceTypes;
        (function (DeviceTypes) {
          DeviceTypes[(DeviceTypes['_undefined'] = 0)] = '_undefined';
          DeviceTypes[(DeviceTypes['desktop'] = 1)] = 'desktop';
          DeviceTypes[(DeviceTypes['mobile'] = 2)] = 'mobile';
          DeviceTypes[(DeviceTypes['auto'] = 3)] = 'auto';
        })((DeviceTypes = exports.DeviceTypes || (exports.DeviceTypes = {})));

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Bootstrap.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Bootstrap.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var tslib_1 = __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          );
          var queueUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
          );
          var events = __webpack_require__(
            /*! src/core/Gigya.Js/app/Events */ './src/core/Gigya.Js/app/Events.ts'
          );
          var functionsUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var scriptUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
          );
          var cdn_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
          );
          var gigyaScriptEl_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts'
          );
          var URLUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
          );
          var JSONUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var objectUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
          );
          var facebookExternal = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ './src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts'
          );
          var googlePlusExternal = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ './src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts'
          );
          var InternalFlows_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
          );
          var LocalInfo_1 = __webpack_require__(
            /*! ./LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
          );
          var apiBootstrap_1 = __webpack_require__(
            /*! ./apiBootstrap */ './src/core/Gigya.Js/app/apiBootstrap.ts'
          );
          var centralizedSSO_1 = __webpack_require__(
            /*! src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/centralizedSSO */ './src/core/Gigya.Js.Adapters.Web/app/ExternalMethods/centralizedSSO.ts'
          );
          var FlagService_1 = __webpack_require__(
            /*! ./Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
          );
          exports.parseScriptRetries = 0;
          function init() {
            var _this = this;
            window.gigya.logger.group('websdk root');
            window.gigya.logger.info(
              'partner settings:',
              window.gigya.partnerSettings
            );
            window.gigya.logger.info('local info:', LocalInfo_1.localInfo);
            var bootstrapLog = window.gigya.logger.group('bootstrap websdk');
            queueUtils.hold('bootstrap', 'API');
            // detecting unsupported browsers
            if (
              (LocalInfo_1.localInfo.isIE6 ||
                LocalInfo_1.localInfo.isIE7 ||
                LocalInfo_1.localInfo.isIE8 ||
                LocalInfo_1.localInfo.isIE9 ||
                LocalInfo_1.localInfo.isIE10) &&
              typeof console != 'undefined' &&
              typeof console.log != 'undefined'
            )
              console.log(
                "Gigya: It looks like you're using an old version of Internet Explorer. This browser is not supported. Please upgrade to a newer version of IE."
              );
            // gigya.gigya.logger.warn with force param?
            parseScriptElement(function (isContextReplaced) {
              return tslib_1.__awaiter(_this, void 0, void 0, function () {
                var sdkConfig, customEventMap, reportData;
                var _a, _b, _c, _d;
                return tslib_1.__generator(this, function (_e) {
                  switch (_e.label) {
                    case 0:
                      return [4 /*yield*/, apiBootstrap_1.getSdkConfig()];
                    case 1:
                      sdkConfig = _e.sent();
                      window.gigya._.config = {
                        flags: sdkConfig.flags,
                        plugins: sdkConfig.plugins,
                        api: sdkConfig.api,
                        hostedPagesDomain: sdkConfig.hostedPagesDomain,
                        toggles: {
                          linkAccountV2:
                            (_a = sdkConfig.toggles) === null || _a === void 0
                              ? void 0
                              : _a.linkAccountV2,
                          httpStatusCodes:
                            (_b = sdkConfig.toggles) === null || _b === void 0
                              ? void 0
                              : _b.httpStatusCodes,
                        },
                        consent: {
                          hasLicense:
                            (_c = sdkConfig.hasConsentLicense) !== null &&
                            _c !== void 0
                              ? _c
                              : false,
                        },
                      };
                      if (isContextReplaced) {
                        replaceContext(sdkConfig);
                      }
                      customEventMap =
                        window.gigya.thisScript.globalConf['customEventMap'];
                      if (customEventMap) {
                        window.gigya.logger.info('adding custom event map'); //, customEventMap);
                        events.addMap(customEventMap);
                      }
                      window.gigya.logger.group('init api adapter');
                      initApiAdapter(function () {
                        window.gigya.logger.groupEnd('init api adapter');
                        window.gigya.isReady = true; // indicate bootstrap process has finish - gigya is ready
                        // Trigger onGigyaServiceReady bound to window scope.
                        if (typeof onGigyaServiceReady === 'function') {
                          window.gigya.logger.info(
                            'invoke local onGigyaServiceReady event'
                          );
                          try {
                            onGigyaServiceReady('socialize');
                          } catch (e) {
                            window.gigya.logger.warn(
                              'gigya: error while invoking onGigyaServiceReady',
                              e
                            );
                          }
                        }
                        // Trigger onGigyaServiceReady bound to global configuration.
                        // This is commonly used when clients want to execute code from within the server-side global conf.
                        if (
                          typeof window.gigya.thisScript.globalConf[
                            'onGigyaServiceReady'
                          ] === 'function'
                        ) {
                          window.gigya.logger.info(
                            "invoke globalconf's onGigyaServiceReady event"
                          );
                          try {
                            window.gigya.thisScript.globalConf[
                              'onGigyaServiceReady'
                            ]('socialize');
                          } catch (e) {
                            window.gigya.logger.warn(
                              'gigya: error while invoking onGigyaServiceReady injected from server',
                              e
                            );
                          }
                        }
                        checkReturnFromRedirect(function () {
                          queueUtils.release('bootstrap', 'API');
                          if (!LocalInfo_1.localInfo.isNativeMobileApp) {
                            injectExternalSdks();
                            autoLogin();
                            functionsUtils.invokeOnPageLoad(function () {
                              return window.setTimeout(
                                window.gigya.socialize.trackReferrals,
                                1000
                              );
                            });
                          }
                          bootstrapLog.end();
                        });
                      });
                      warnOnUnsupportedBrowser();
                      loadOmniture();
                      loadABTesting();
                      reportData = {
                        sref:
                          (_d = document.referrer) === null || _d === void 0
                            ? void 0
                            : _d.substr(0, 1000),
                      };
                      if (
                        window.gigya.thisScript.globalConf['actionCounterPath']
                      )
                        reportData['actionCounterPath'] =
                          window.gigya.thisScript.globalConf[
                            'actionCounterPath'
                          ];
                      return [2 /*return*/];
                  }
                });
              });
            });
          }
          exports.init = init;
          function warnOnUnsupportedBrowser() {
            /*if (localInfo.isAndroidBrowser) {
                gigya._.showMessageUI({
                    captionText: 'Unsupported Browser',
                    message: 'The android browser contains a security vulnerability and is not supported, Switch to google chrom or firefox to get the full version of the site.'
                });
            }*/
          }
          exports.warnOnUnsupportedBrowser = warnOnUnsupportedBrowser;
          function loadABTesting() {
            if (window.gigya.abTesting) {
              for (var abTestServiceKey in window.gigya.abTesting) {
                if (abTestServiceKey === 'optimizely') {
                  var abTestItem = window.gigya.abTesting[abTestServiceKey];
                  if (
                    abTestItem.serviceParams &&
                    abTestItem.serviceParams.hasOwnProperty('apiKey')
                  ) {
                    // check for the path
                    var curPath = window.location.pathname;
                    var isDisabled = false;
                    // Checking if the path is disabled.
                    if (abTestItem.disabledPaths) {
                      for (
                        var i = 0;
                        i < abTestItem.disabledPaths.length;
                        i++
                      ) {
                        if (abTestItem.disabledPaths[i].indexOf(curPath) > -1) {
                          isDisabled = true;
                          break;
                        }
                      }
                    }
                    // check if we have a match on the path to load the service.
                    if (!isDisabled) {
                      for (var i = 0; i < abTestItem.enabledPaths.length; i++) {
                        if (curPath.indexOf(abTestItem.enabledPaths[i]) > -1) {
                          scriptUtils.load(
                            '//cdn.optimizely.com/js/' +
                              abTestItem.serviceParams['apiKey'] +
                              '.js'
                          );
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          exports.loadABTesting = loadABTesting;
          function startDebugIfNeeded(callback) {
            if (
              !LocalInfo_1.localInfo.isNativeMobileApp &&
              window.gigya._.apiAdapter.getStorage().getItem('gig_debug') == '1'
            ) {
              window.gigya.socialize.showDebugUI({
                ignoreApiQueue: true,
                waitForDebug: false,
                onLoad: callback,
              });
            } else {
              callback();
            }
          }
          exports.startDebugIfNeeded = startDebugIfNeeded;
          function loadOmniture() {
            functionsUtils.invokeOnPageLoad(function () {
              if (typeof window['gigya_omniture_conf'] != 'undefined')
                scriptUtils.load(
                  cdn_1.getCdnResource('/js/GenesisExchange_Gigya.min.js')
                );
            });
          }
          exports.loadOmniture = loadOmniture;
          var defaultLang = 'en-US';
          function parseLang(lang) {
            if (lang === void 0) {
              lang = defaultLang;
            }
            var originalLang = lang.replace('en-US', 'en');
            lang = lang.replace('_', '-').toLowerCase();
            var segments = lang.split('-');
            var langCode = segments[0];
            var countryCode;
            if (segments.length > 1) {
              countryCode = segments[1];
            } else {
              countryCode = langCode;
            }
            countryCode = countryCode.toUpperCase();
            var shortLang;
            switch (lang) {
              case 'es-mx':
                shortLang = lang;
                countryCode = 'ES'; // FB doesn't support es-mx but we do
                break;
              case 'pt-br':
              case 'zh-cn':
              case 'zh-hk':
              case 'zh-tw':
              case 'te-st':
              case 'fr-inf':
              case 'de-inf':
              case 'es-inf':
              case 'nl-inf':
              case 'lt-lt':
              case 'lv-lv':
              case 'et-ee':
                shortLang = lang;
                break;
              default:
                shortLang = langCode;
            }
            return {
              full: langCode + '-' + countryCode,
              langCode: shortLang,
              countryCode: countryCode,
              originalLang: originalLang,
            };
          }
          exports.parseLang = parseLang;
          function parseScriptElement(callback) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var scriptElement,
                URLParams,
                siteGroupGlobalConf,
                siteGlobalConf,
                scriptConf,
                __gigyaConf,
                isContextReplaced,
                ctx;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    scriptElement = gigyaScriptEl_1.getGigyaScriptElement();
                    if (!(scriptElement && !window['__gig_hidescript']))
                      return [3 /*break*/, 3];
                    window.gigya.logger.info('parsing gigya script');
                    URLParams =
                      URLUtils.getParamsFromURL(scriptElement.src, true) || {};
                    siteGroupGlobalConf =
                      JSONUtils.deserialize(
                        window.gigya.partnerSettings.siteGroupGlobalConf
                      ) || {};
                    siteGlobalConf =
                      JSONUtils.deserialize(
                        window.gigya.partnerSettings.globalConf,
                        {},
                        { siteGroupGlobalConf: siteGroupGlobalConf }
                      ) || {};
                    scriptConf =
                      JSONUtils.deserialize(scriptElement.innerHTML) || {};
                    __gigyaConf = window['__gigyaConf'] || {};
                    window.gigya.thisScript = {
                      scriptElement: scriptElement,
                      protocol:
                        scriptElement.src.indexOf('https:') === 0
                          ? 'https'
                          : 'http',
                      baseDomain: scriptElement.src.split('/')[2],
                      APIKey: URLParams['apikey'],
                      lang: parseLang(
                        URLParams['lang'] ||
                          __gigyaConf['lang'] ||
                          scriptConf['lang'] ||
                          siteGlobalConf['lang'] ||
                          siteGroupGlobalConf['lang']
                      ),
                      globalConf: objectUtils.merge(
                        [
                          window.gigya.partnerSettings.plugins || {},
                          siteGroupGlobalConf,
                          siteGlobalConf,
                          scriptConf,
                          __gigyaConf,
                        ],
                        false
                      ),
                      URLParams: URLParams,
                    };
                    window.gigya.thisScript.globalConf['lang'] =
                      window.gigya.thisScript.lang.langCode;
                    // Warn if API key wasn't passed in URL params.
                    // IE9 support - check for console.warn.
                    if (
                      !window.gigya.thisScript.APIKey &&
                      typeof console === 'object' &&
                      console.warn
                    ) {
                      console.warn(
                        '**** WARNING - Loading socialize.js without an APIKey parameter is unsupported and may result in an unexpected behavior.  ****'
                      );
                    } else {
                      window.gigya.thisScript.globalConf['APIKey'] =
                        window.gigya.thisScript.APIKey;
                    }
                    isContextReplaced = false;
                    if (!shouldReplaceContext()) return [3 /*break*/, 2];
                    return [4 /*yield*/, getContext()];
                  case 1:
                    ctx = _a.sent();
                    if (ctx === null || ctx === void 0 ? void 0 : ctx.apiKey) {
                      window.gigya.logger.warn(
                        'APIKey changed. using APIKey: ' + ctx.apiKey
                      );
                      window.gigya.apiKey =
                        window.gigya.thisScript.APIKey =
                        window.gigya.thisScript.globalConf['APIKey'] =
                          ctx.apiKey;
                      isContextReplaced = true;
                    }
                    centralizedSSO_1.setSsoContext(ctx);
                    _a.label = 2;
                  case 2:
                    callback(isContextReplaced);
                    return [3 /*break*/, 4];
                  case 3:
                    if (exports.parseScriptRetries < 10) {
                      // In some rare cases, IE fails to find the script element. Retry script parsing every 200ms.
                      // No script element will cause us to not know what the apikey is and retrieve the login token.
                      exports.parseScriptRetries++;
                      window.setTimeout(function () {
                        parseScriptElement(callback);
                      }, 200);
                    } else {
                      window.gigya.thisScript = {
                        scriptElement: null,
                        protocol: LocalInfo_1.localInfo.protocol,
                        baseDomain: 'https://cdns.gigya.com',
                        APIKey: '',
                        lang: parseLang(''),
                        globalConf: {},
                        URLParams: {},
                      };
                      callback(false);
                    }
                    _a.label = 4;
                  case 4:
                    return [2 /*return*/];
                }
              });
            });
          }
          exports.parseScriptElement = parseScriptElement;
          function initApiAdapter(callback) {
            var adapterSettings = window['__gigAPIAdapterSettings'];
            var adapterName = getAdapterType(adapterSettings);
            LocalInfo_1.localInfo.isNativeMobileApp = adapterName === 'mobile';
            window.gigya.logger.info('selecting api adapter: ' + adapterName);
            window.gigya._.apiAdapter =
              window.gigya._.apiAdapters[adapterName].newApiAdapter(
                adapterSettings
              );
            functionsUtils.createAlias(
              'gigya.auth.loginToken.getTokenParam',
              window.gigya._.apiAdapter.getTokenParam
            );
            startDebugIfNeeded(function () {
              window.gigya._.apiAdapter.init(callback, 3);
            });
          }
          exports.initApiAdapter = initApiAdapter;
          function autoLogin() {
            if (window.gigya.thisScript.globalConf['autoLogin']) {
              window.gigya.logger.info('triggering auto-login');
              facebookExternal.autoLogin();
              googlePlusExternal.autoLogin();
            }
          }
          exports.autoLogin = autoLogin;
          function checkReturnFromRedirect(callback) {
            // Check if coming back from authflow redirect with pending error
            var oURLParams = window.gigya.utils.URL.getParamsFromURL(
              document.location.href
            );
            if (oURLParams['mode'] && oURLParams['mode'] === 'error') {
              window.gigya.events.global.dispatchWhenHandlersAdded(
                ['accounts.error', 'socialize.error'],
                oURLParams
              );
              callback();
            } else if (oURLParams['errorCode'] && oURLParams['regToken']) {
              window.gigya.logger.info(
                'returned from redirect with regToken (errorCode: ' +
                  oURLParams['errorCode'] +
                  ')'
              );
              InternalFlows_1.checkCompleteRegistration(
                oURLParams,
                window.gigya.thisScript.globalConf,
                '',
                function () {
                  return callback();
                }
              );
            } else {
              callback();
            }
          }
          exports.checkReturnFromRedirect = checkReturnFromRedirect;
          function injectExternalSdks() {
            queueUtils.queueForExecution('API', function () {
              functionsUtils.invokeOnPageLoad(function () {
                if (window.gigya.providersConfig.facebook) {
                  window.gigya.logger.info('loading facebook sdk');
                  facebookExternal.load(false);
                }
                if (window.gigya.providersConfig.googlePlus) {
                  window.gigya.logger.info('loading google plus sdk');
                  googlePlusExternal.load();
                }
              });
            });
          }
          exports.injectExternalSdks = injectExternalSdks;
          function getAdapterType(adapterSettings) {
            if (adapterSettings === void 0) {
              adapterSettings = window['__gigAPIAdapterSettings'];
            }
            var adapterName;
            if (
              adapterSettings &&
              adapterSettings.getAPIKey() === window.gigya.thisScript.APIKey
            ) {
              adapterName = adapterSettings.getAdapterName();
            }
            return adapterName || 'web';
          }
          function shouldReplaceContext() {
            var urlParams = window.gigya.utils.URL.getParamsFromURL(
              document.location.href
            );
            return urlParams['gig_ssoToken'];
          }
          function replaceContext(sdkConfig) {
            __webpack_provided_Object_dot_assign(
              window.gigya.thisScript.globalConf,
              sdkConfig.plugins
            );
            if (FlagService_1.FlagService.overrideAllChildContext) {
              __webpack_provided_Object_dot_assign(
                window.gigya.partnerSettings.plugins,
                sdkConfig.plugins
              );
              __webpack_provided_Object_dot_assign(
                window.gigya.partnerSettings,
                sdkConfig.captcha
              );
              window.gigya.partnerSettings.baseDomains =
                sdkConfig.api.baseDomains.join(',');
            }
          }
          function getContext() {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var urlParams, ssoToken;
              return tslib_1.__generator(this, function (_a) {
                urlParams = window.gigya.utils.URL.getParamsFromURL(
                  document.location.href
                );
                ssoToken = urlParams['gig_ssoToken'];
                if (urlParams['scope'] === 'device_sso') {
                  return [
                    2 /*return*/,
                    window.gigya.fidm.oidc.op.getContext({
                      opKey: window.gigya.partnerSettings.ssoKey,
                      sso_token: ssoToken,
                    }),
                  ];
                } else {
                  return [2 /*return*/, apiBootstrap_1.getSsoContext(ssoToken)];
                }
                return [2 /*return*/];
              });
            });
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ClientAPI/CustomApis.ts':
      /*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/CustomApis.ts ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        var validationUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/validation */ './src/core/Gigya.Js/app/Utils/validation.ts'
        );
        var facebookExternal = __webpack_require__(
          /*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ './src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts'
        );
        var googlePlusExternal = __webpack_require__(
          /*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ './src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts'
        );
        var Opengraph = __webpack_require__(
          /*! src/core/Gigya.Js/app/ExternalIntegrations/Opengraph */ './src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts'
        );
        var winUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/win */ './src/core/Gigya.Js/app/Utils/win.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var stringUtilsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
        );
        var keyValueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
        );
        var legacyReports = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyReports */ './src/core/Gigya.Js/app/LegacyReports.ts'
        );
        var LegacyLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
        );
        var InternalFlows_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
        );
        var scriptUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var HTTPUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        var TokenStore_1 = __webpack_require__(
          /*! ../../../Gigya.Js.Adapters.Web/app/TokenStore */ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts'
        );
        var AuthApis_1 = __webpack_require__(
          /*! ../Authentication/AuthApis */ './src/core/Gigya.Js/app/Authentication/AuthApis.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var consts_1 = __webpack_require__(
          /*! ../API/consts */ './src/core/Gigya.Js/app/API/consts.ts'
        );
        var PasskeyApis_1 = __webpack_require__(
          /*! ../Passkey/PasskeyApis */ './src/core/Gigya.Js/app/Passkey/PasskeyApis.ts'
        );
        // client side only APIs
        exports.bookmarkSize = {
          facebook: { w: 640, h: 370 },
          twitter: { w: 880, h: 530 + 55 },
          messenger: { w: 710, h: 850 + 55 },
          linkedin: { w: 560, h: 500 },
          yahoobookmarks: { w: 840, h: 920 + 55 },
          digg: { w: 1010, h: 990 + 55 },
          googlebookmarks: { w: 710, h: 850 + 55 },
          mixi: { w: 640, h: 470 },
          googleplus: { w: 496, h: 420 },
        };
        function socializeAddEventHandlers() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          var namespace = params['namespace']
            ? params['namespace']
            : 'socialize';
          for (var eventName in params) {
            if (eventName.indexOf('on') == 0)
              globalEvents.add(
                eventName,
                params[eventName],
                params['listenerType'],
                params['context'],
                namespace,
                params
              );
          }
          if (typeof params['callback'] == 'function') {
            params['callback']({
              status: 'OK',
              statusMessage: '',
              errorCode: 0,
              errorMessage: '',
              operation: 'addEventHandlers',
              context: params['context'],
            });
          }
        }
        exports.socializeAddEventHandlers = socializeAddEventHandlers;
        function accountsAddEventHandlers() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          socializeAddEventHandlers(
            objectUtils.merge([rest, { namespace: 'accounts' }])
          );
        }
        exports.accountsAddEventHandlers = accountsAddEventHandlers;
        function isLoggedIn() {
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            arguments,
          ]);
          window.gigya.socialize.getUserInfo(params, {
            callback: function (userInfoResponse) {
              var user = userInfoResponse['user'];
              var response = {
                loggedIn: user
                  ? validationUtils.isExplicitTrue(user['isLoggedIn'])
                  : false,
              };
              objectUtils.extractProperties(
                userInfoResponse,
                response,
                'status|statusMessage|callId|errorCode|errorMessage|errorDetails|context'
              );
              if (params['callback']) params['callback'](response);
            },
          });
        }
        exports.isLoggedIn = isLoggedIn;
        function waitForService() {
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            arguments,
          ]);
          var service = params['service'];
          if (!service) return;
          service = service.toLowerCase();
          var callback = params['callback'];
          if (service == 'fbconnect' || service == 'facebook') {
            if (!facebookExternal.isLoaded()) {
              window.gigya.socialize.addEventHandlers(
                { listenerType: 'component' },
                {
                  onFacebookLoaded: callback,
                  context: params['context'],
                }
              );
            } else {
              callback({ context: params['context'] });
            }
          }
          if (service == 'googleplus') {
            if (!googlePlusExternal.isLoaded()) {
              window.gigya.socialize.addEventHandlers(
                { listenerType: 'component' },
                {
                  onGooglePlusLoaded: callback,
                  context: params['context'],
                }
              );
            } else {
              callback({ context: params['context'] });
            }
          }
        }
        exports.waitForService = waitForService;
        function postBookmark() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var params,
              requestParams,
              metas,
              i,
              gmidTicket,
              defaultSize,
              windowOptions,
              tokenStore,
              finalURL,
              userAction,
              qs,
              urlTemplate,
              sourceData,
              qs,
              urlTemplate,
              windowName;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  params = objectUtils.merge([
                    window.gigya.thisScript.globalConf,
                    rest,
                  ]);
                  if (!params['APIKey']) {
                    params['APIKey'] = window.gigya.thisScript.APIKey;
                  }
                  requestParams = {};
                  objectUtils.extractProperties(
                    [params],
                    requestParams,
                    consts_1.postBookmarkSchema
                  );
                  // Accept URL or url as parameter, but standardize to "url" as documented.
                  if (!requestParams['url'] && requestParams['URL']) {
                    requestParams['url'] = requestParams['URL'];
                    delete requestParams['URL'];
                  }
                  // Pass JS SDK version as param.
                  requestParams['sdk'] = 'js_' + window.gigya.build.version;
                  // Default url to og:url if not passed as param and userAction passed.
                  if (
                    !requestParams['url'] &&
                    requestParams['userAction'] &&
                    !requestParams['userAction']['linkBack']
                  ) {
                    metas = document.getElementsByTagName('meta');
                    for (i = 0; i < metas.length; i++) {
                      if (
                        metas[i].getAttribute('property') === 'og:url' &&
                        metas[i].getAttribute('content')
                      ) {
                        requestParams['url'] = metas[i].getAttribute('content');
                        break;
                      }
                    }
                  }
                  // Default url to current page if userAction passed.
                  if (
                    !requestParams['url'] &&
                    requestParams['userAction'] &&
                    !requestParams['userAction']['linkBack']
                  ) {
                    requestParams['url'] = document.location.href;
                  }
                  // Provider name always lowercase.
                  requestParams['provider'] = requestParams['provider']
                    ? (requestParams['provider'] + '').toLowerCase()
                    : '';
                  // Default providerKey to fb:app_id meta tag.
                  if (requestParams['provider'] === 'facebook') {
                    requestParams['providerKey'] =
                      Opengraph.getMetaTag('fb:app_id');
                  }
                  return [
                    4 /*yield*/,
                    window.gigya._.apiAdapter.getGmidTicket(),
                  ];
                case 1:
                  gmidTicket = _a.sent();
                  // gmidTicket is needed if 3rd party cookies are blocked.
                  if (gmidTicket) {
                    requestParams['gmidTicket'] = gmidTicket;
                  }
                  defaultSize =
                    window.gigya._.bookmarkSize[requestParams['provider']] ||
                    {};
                  windowOptions = {
                    width: params['popupWidth'] || defaultSize.w,
                    height: params['popupHeight'] || defaultSize.h,
                    top: params['popupPositionY'],
                    left: params['popupPositionX'],
                    menubar: 0,
                    resizable: 1,
                    scrollbars: 1,
                  };
                  // Allow location/toolbar to be toggled on.
                  if (params['enablePopupLocation']) {
                    windowOptions.location = 1;
                    windowOptions.toolbar = 1;
                  } else {
                    windowOptions.toolbar = 0;
                  }
                  tokenStore = window.gigya._.apiAdapters['web']
                    ? window.gigya._.apiAdapters['web'].tokenStore
                    : undefined;
                  if (tokenStore) {
                    requestParams['login_token'] =
                      window.gigya._.apiAdapters.web.tokenStore.get();
                  }
                  if (
                    requestParams['provider'] === 'twitter' &&
                    LocalInfo_1.localInfo.isIOS
                  ) {
                    userAction = requestParams['userAction'] || {};
                    qs = {
                      url: userAction['linkBack'] || requestParams['url'],
                      text: userAction['title'] || requestParams['title'],
                    };
                    urlTemplate = 'https://twitter.com/intent/tweet?{0}';
                    finalURL = stringUtilsUtils.format(
                      urlTemplate,
                      keyValueUtils.serialize(qs)
                    );
                    sourceData = params['sourceData']
                      ? objectUtils.clone(params['sourceData'])
                      : {};
                    sourceData.provider = requestParams['provider'];
                    sourceData.url = qs.url;
                    legacyReports.report(
                      'share',
                      params['APIKey'],
                      params['cid'],
                      params['source'],
                      sourceData,
                      { tags: params['tags'] }
                    );
                  } else {
                    qs = keyValueUtils.serialize(requestParams);
                    urlTemplate =
                      'https://' +
                      window.gigya._.getApiDomain('socialize') +
                      '/gs/bookmark.aspx?{0}';
                    finalURL = stringUtilsUtils.format(urlTemplate, qs);
                  }
                  // Dispatch and log event.
                  LegacyLogger_1.logCall('postBookmark', requestParams);
                  globalEvents.dispatch({
                    eventName: 'beforeRequest',
                    methodName: 'socialize.postBookmark',
                    rawParams: params,
                    params: requestParams,
                  });
                  windowName =
                    requestParams['provider'] === 'whatsapp'
                      ? '_self'
                      : 'gs_bookmark_' + requestParams['provider'];
                  // Open window.
                  winUtils.open(finalURL, windowName, windowOptions);
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.postBookmark = postBookmark;
        function refreshUI() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          var originalCallback = params['callback'];
          window.gigya.socialize.getUserInfo(params, {
            callback: function (res) {
              var oEvent = {
                eventName: 'login',
                isInternal: true,
              };
              if (params['provider']) oEvent['provider'] = params['provider'];
              InternalFlows_1.addUserInfoToEvent(res, oEvent, true);
              if (params['context']) oEvent['context'] = params['context'];
              globalEvents.dispatch(oEvent);
              if (typeof originalCallback == 'function') originalCallback(res);
            },
          });
        }
        exports.refreshUI = refreshUI;
        function trackReferrals() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var oReferrers = {
            //domain:provider
            'digg.com': 'digg',
            'stumbleupon.com': 'stumbleupon',
            'technorati.com': 'technorati',
            't.co': 'twitter',
            'plus.url.google.com': 'googlePlus',
            'facebook.com': 'facebook',
            'linkedin.com': 'linkedIn',
            'pinterest.com': 'pinterest',
            'mixi.jp': 'mixi',
            'b.hatena.ne.jp': 'hatena',
            'line.me': 'line',
          };
          var reportedReferrals;
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          var linkBackEvent = {
            eventName: 'linkback',
            CID: params['cid'],
          };
          var URLParams = {};
          var fargmentParams = {};
          if (document.location.href.indexOf('#') != -1) {
            fargmentParams = keyValueUtils.deserialize(
              document.location.href.split('#')[1]
            );
          }
          if (document.location.href.indexOf('?') != -1) {
            URLParams = keyValueUtils.deserialize(
              document.location.href.split('?')[1].split('#')[0]
            );
          }
          window.gigya.socialize.updateRefUID(
            params['APIKey'],
            fargmentParams,
            URLParams
          );
          var gus = fargmentParams['_gus'] != null || URLParams['_gus'] != null; // _gus means it's reported by soc.li (Gigya Url Shortner) so we don't need to report it again
          if (gus) {
            linkBackEvent.CID = fargmentParams['_gucid'] || URLParams['_gucid'];
            linkBackEvent.shortCode =
              fargmentParams['_gsc'] || URLParams['_gsc'];
            linkBackEvent.provider =
              fargmentParams['_gup'] || URLParams['_gup'];
          }
          if (!reportedReferrals) {
            var source;
            var reportParams = {
              url: document.location.href,
              ref: document.referrer,
            };
            if (URLParams['fb_ref']) {
              // from sharebarUI facebook-like and facebook-send buttons
              var fbParams = keyValueUtils.deserialize(
                URLParams['fb_ref'],
                ':'
              );
              reportParams['uuid'] = fbParams['uu'];
              reportParams['sn'] = fbParams['p'];
              source = fbParams['s'];
            } else if (
              document.referrer &&
              document.referrer.indexOf('://') != -1
            ) {
              var referringDomain = document.referrer
                .split('://')[1]
                .split('/')[0];
              if (referringDomain.indexOf('www.') == 0) {
                referringDomain = referringDomain.split('www.')[1];
              }
              if (oReferrers[referringDomain]) {
                linkBackEvent.provider = reportParams['sn'] =
                  oReferrers[referringDomain];
              }
            }
            // AddressBarShares (with hash parameters)
            if (
              !reportParams['sn'] &&
              (!document.referrer ||
                (document.referrer.indexOf('http://soc.li') == -1 &&
                  document.referrer.indexOf('https://shr.gs') == -1))
            ) {
              var arHashSegs = document.location.href.split('#guid=');
              if (arHashSegs.length > 1) {
                var hashUUID = arHashSegs[1].split('#')[0].split('&')[0];
                if (
                  hashUUID !=
                  window.gigya._.apiAdapter.getTokenParam(
                    params['APIKey'],
                    'UUID'
                  )
                ) {
                  reportParams['sn'] = 'AddressBarShares';
                  reportParams['uuid'] = hashUUID;
                  if (hashUUID == '_') delete reportParams['uuid'];
                  document.location.replace('#');
                  legacyReports.trackAddressBarShares();
                  reportParams.url = document.location.href.split('#')[0];
                }
              }
            }
            // _gigRefUid_<APIKey> cookie is used to report the referring uuid when the next request of a logged in user will go out (for gm points)
            if (reportParams['uuid']) {
              setGigRefUidCookie(params['APIKey'], reportParams['uuid']);
            }
            if (reportParams['sn'] && !gus)
              legacyReports.report(
                'linkback',
                params['APIKey'],
                params['cid'],
                source,
                null,
                reportParams
              );
            if (reportParams['sn'] || gus)
              globalEvents.dispatch(objectUtils.removeUndefined(linkBackEvent));
            reportedReferrals = true;
          }
          if (typeof params['callback'] == 'function')
            params['callback']({
              status: 'OK',
              statusMessage: '',
              operation: 'trackReferrals',
              context: params['context'],
              errorMessage: '',
              errorCode: 0,
            });
        }
        exports.trackReferrals = trackReferrals;
        function updateRefUID(apiKey, fragmentParams, URLParams) {
          if (!apiKey) apiKey = window.gigya.thisScript.globalConf['APIKey'];
          if (!fragmentParams) {
            fragmentParams = {};
            if (document.location.href.indexOf('#') != -1) {
              fragmentParams = keyValueUtils.deserialize(
                document.location.href.split('#')[1]
              );
            }
          }
          if (!URLParams) {
            URLParams = {};
            if (document.location.href.indexOf('?') != -1) {
              URLParams = keyValueUtils.deserialize(
                document.location.href.split('?')[1].split('#')[0]
              );
            }
          }
          if (fragmentParams['guid'] && fragmentParams['guid'] != '_') {
            setGigRefUidCookie(apiKey, fragmentParams['guid']);
          }
          var refUuid = fragmentParams['_giguuid'] || URLParams['_giguuid'];
          if (refUuid) {
            setGigRefUidCookie(apiKey, refUuid);
          }
        }
        exports.updateRefUID = updateRefUID;
        function setGigRefUidCookie(apiKey, value) {
          if (FlagService_1.FlagService.setCookieSameSiteLaxLowPriority) {
            cookie_1.default.set(
              this.getGigRefUidCookieKey(apiKey),
              value,
              null,
              null,
              null,
              'Lax'
            );
          } else {
            cookie_1.default.set(this.getGigRefUidCookieKey(apiKey), value);
          }
        }
        exports.setGigRefUidCookie = setGigRefUidCookie;
        function hideUI() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          if (typeof params['callback'] == 'function') {
            var oResponse = {
              status: 'OK',
              statusMessage: '',
              operation: 'hideUI',
              context: params['context'],
              errorMessage: '',
              errorCode: 0,
            };
            params['callback'](oResponse);
          }
        }
        exports.hideUI = hideUI;
        function submitUserForm() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var oUserData = {};
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          var form = document.getElementById(params['form']);
          if (!form) {
            var arForms = document.getElementsByName(params['form']);
            if (arForms && arForms.length > 0) params['form'] = arForms[0];
          }
          for (var i = 0; i < form['elements'].length; i++) {
            var el = form['elements'][i];
            if (el.name) {
              var arNameSegments = el.name.split('.');
              var oCurrentSegment = oUserData;
              for (
                var iSegment = 0;
                iSegment < arNameSegments.length - 1;
                iSegment++
              ) {
                var sSegment = arNameSegments[iSegment];
                if (!oCurrentSegment[sSegment]) oCurrentSegment[sSegment] = {};
                oCurrentSegment = oCurrentSegment[sSegment];
              }
              oCurrentSegment[arNameSegments[arNameSegments.length - 1]] =
                el.value;
            }
          }
          params['data'] = oUserData;
          window.gigya.gcs.setUserData(params);
        }
        exports.submitUserForm = submitUserForm;
        function getProviderShareCounts() {
          var rest = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            rest[_i] = arguments[_i];
          }
          var params = objectUtils.merge([
            window.gigya.thisScript.globalConf,
            rest,
          ]);
          scriptUtils.load(
            cdn_1.getCdnResource(
              '/js/gigya.services.socialize.plugins.shareCounts.min.js'
            ),
            null,
            function () {
              window.gigya.socialize.plugins.shareCounts.getProviderShareCounts(
                params
              );
            },
            true
          );
        }
        exports.getProviderShareCounts = getProviderShareCounts;
        function openDelegateAdminHandler(params) {
          if (!params) {
            params = {};
          }
          var myWindow = window.open('', '_blank');
          params['callback'] = function (res) {
            if (res.errorCode !== GSErrors_1.GSErrors.OK) {
              myWindow.close();
              if (typeof params.onError === 'function') {
                params.onError(res);
              }
            } else if (!res.targetUrl || !res.id_token) {
              myWindow.close();
              window.gigya.logger.error(
                'accounts.b2b.delegatedAdminLogin - missing required params',
                { targetURL: res.targetUrl, id_token: res.id_token }
              );
            } else {
              HTTPUtils.redirect(
                res.targetUrl,
                [{ id_token: res.id_token }],
                res['method'] ? res['method'] : 'POST',
                undefined,
                myWindow.document
              );
            }
          };
          window.gigya.accounts.b2b.delegatedAdminLogin(params);
        }
        exports.openDelegateAdminHandler = openDelegateAdminHandler;
        function getGigRefUidCookieKey(apiKey) {
          return '_gigRefUid_' + apiKey;
        }
        window.gigya.socialize.updateRefUID = updateRefUID;
        window.gigya.socialize.hideUI = hideUI;
        window.gigya.gcs.submitUserForm = submitUserForm;
        window.gigya.socialize.getProviderShareCounts = getProviderShareCounts;
        window.gigya.socialize.addEventHandlers = socializeAddEventHandlers;
        window.gigya.accounts.addEventHandlers = accountsAddEventHandlers;
        window.gigya.socialize.isLoggedIn = isLoggedIn;
        window.gigya.socialize.waitForService = waitForService;
        window.gigya.socialize.postBookmark = postBookmark;
        window.gigya.socialize.refreshUI = refreshUI;
        window.gigya.socialize.trackReferrals = trackReferrals;
        functionsUtils.createAlias(
          'gigya.accounts.b2b.openDelegatedAdminLogin',
          openDelegateAdminHandler
        );
        functionsUtils.createAlias(
          'gigya.accounts.setSSOToken',
          window.gigya.setSSOToken
        );
        functionsUtils.createAlias('gigya.getLoginToken', TokenStore_1.get);
        functionsUtils.createAlias(
          'gigya.accounts.auth.fido.register',
          PasskeyApis_1.registerPasskey
        );
        functionsUtils.createAlias(
          'gigya.accounts.auth.fido.login',
          PasskeyApis_1.passkeyLogin
        );
        functionsUtils.createAlias(
          'gigya.accounts.auth.getPreferredLoginMethod',
          AuthApis_1.getPreferredLoginMethod
        );
        functionsUtils.createAlias(
          'gigya.accounts.auth.setPreferredLoginMethod',
          AuthApis_1.setPreferredLoginMethod
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts':
      /*!********************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts ***!
  \********************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ClientAPI/OidcApi.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/OidcApi.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var Uri_1 = __webpack_require__(
          /*! ../Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var HTTP_1 = __webpack_require__(
          /*! ../Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
        );
        var OidcOpApi = /** @class */ (function () {
          function OidcOpApi() {}
          OidcOpApi.prototype.getContext = function (_a) {
            var opKey = _a.opKey,
              params = tslib_1.__rest(_a, ['opKey']);
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_b) {
                return [
                  2 /*return*/,
                  Uri_1.Uri.parse(OidcOpApi.baseUrl(opKey) + '/sso/getContext')
                    .addToSearch(params)
                    .fetch(),
                ];
              });
            });
          };
          OidcOpApi.prototype.redirectToContinue = function (_a) {
            var opKey = _a.opKey,
              params = tslib_1.__rest(_a, ['opKey']);
            HTTP_1.redirect(
              OidcOpApi.baseUrl(opKey) + '/authorize/continue',
              [params],
              'GET'
            );
          };
          OidcOpApi.baseUrl = function (opKey) {
            var _a;
            var apiDomainFactory =
              (_a = window.gigya._.getApiDomain) !== null && _a !== void 0
                ? _a
                : window.gigya._.apiDomainFactory();
            return (
              'https://' + apiDomainFactory('fidm') + '/oidc/op/v1.0/' + opKey
            );
          };
          return OidcOpApi;
        })();
        exports.op = new OidcOpApi();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ClientAPI/SamlApi.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/ClientAPI/SamlApi.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var HTTP_1 = __webpack_require__(
          /*! ../Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
        );
        var utils_1 = __webpack_require__(
          /*! ../../../../fidm/Gigya.Js.SamlProxy/app/utils */ './src/fidm/Gigya.Js.SamlProxy/app/utils.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        function getProxyUrl() {
          var url =
            window.gigya.samlConfig && window.gigya.samlConfig.proxyPageURL;
          if (!url) {
            window.gigya.logger.warn('missing proxy page url');
          }
          return url;
        }
        function initSSO(params, proxy) {
          if (proxy === void 0) {
            proxy = true;
          }
          var loginTokenExp = utils_1.getLoginTokenExpiration(
            window.gigya.apiKey
          );
          if (!proxy) {
            var loginToken = window.gigya.getLoginToken();
            return redirectToSamlEndPoint(
              'idp/sso/init',
              tslib_1.__assign(
                { loginToken: loginToken, loginTokenExp: loginTokenExp },
                params
              )
            );
          }
          var proxyPage = getProxyUrl();
          window.location.href = URLUtils.addParamsToURL(
            proxyPage,
            objectUtils.merge([
              {
                mode: 'initSSO',
              },
              tslib_1.__assign({ loginTokenExp: loginTokenExp }, params),
            ])
          );
        }
        exports.initSSO = initSSO;
        function continueSSO(params, proxy) {
          if (params === void 0) {
            params = {};
          }
          if (proxy === void 0) {
            proxy = true;
          }
          var args = URLUtils.getParamsFromURL(location.href);
          var samlContext = args['samlContext'];
          var loginTokenExp = utils_1.getLoginTokenExpiration(
            window.gigya.apiKey
          );
          if (!proxy) {
            var loginToken = window.gigya.getLoginToken();
            return redirectToSamlEndPoint(
              'idp/sso/continue',
              tslib_1.__assign(
                {
                  loginToken: loginToken,
                  samlContext: samlContext,
                  loginTokenExp: loginTokenExp,
                },
                params
              )
            );
          }
          var proxyPage = getProxyUrl();
          window.location.href = URLUtils.addParamsToURL(proxyPage, {
            mode: 'afterLogin',
            samlContext: samlContext,
            loginTokenExp: loginTokenExp,
          });
        }
        exports.continueSSO = continueSSO;
        function cancelSSO(params, proxy) {
          if (proxy === void 0) {
            proxy = true;
          }
          var args = URLUtils.getParamsFromURL(location.href);
          var samlContext = args['samlContext'];
          if (!proxy) {
            return redirectToSamlEndPoint(
              'idp/sso/cancel',
              tslib_1.__assign(
                tslib_1.__assign({ samlContext: samlContext }, params),
                {
                  cancelCode: encodeURIComponent(params.cancelCode),
                  statusCode: encodeURIComponent(params.statusCode),
                }
              )
            );
          }
          var proxyPage = getProxyUrl();
          window.location.href = URLUtils.addParamsToURL(proxyPage, {
            mode: 'cancel',
            samlContext: samlContext,
            cancelCode:
              params === null || params === void 0 ? void 0 : params.cancelCode,
            statusCode:
              params === null || params === void 0 ? void 0 : params.statusCode,
          });
        }
        exports.cancelSSO = cancelSSO;
        function logoutSSO(params, proxy) {
          if (proxy === void 0) {
            proxy = true;
          }
          var args = URLUtils.getParamsFromURL(location.href);
          var samlContext = args['samlContext'];
          var onLogoutResponse = function (res) {
            if (res.errorCode === GSErrors_1.GSErrors.OK && !proxy) {
              return redirectToSamlEndPoint(
                'idp/slo/finalize',
                tslib_1.__assign({ samlContext: samlContext }, params)
              );
            }
            var proxyPage = getProxyUrl();
            window.location.href = URLUtils.addParamsToURL(proxyPage, {
              mode: 'logout',
              samlContext: samlContext,
            });
          };
          window.gigya.socialize.logout({
            callback: onLogoutResponse,
            samlContext: samlContext,
          });
        }
        exports.logoutSSO = logoutSSO;
        function redirectToSamlEndPoint(endPoint, params) {
          if (params === void 0) {
            params = {};
          }
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var domain, url, gmidTicket;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  domain = window.gigya._.getApiDomain('fidm');
                  url =
                    'https://' +
                    domain +
                    '/saml/v2.0/' +
                    window.gigya.apiKey +
                    '/' +
                    endPoint;
                  return [
                    4 /*yield*/,
                    window.gigya._.apiAdapter.getGmidTicket(),
                  ];
                case 1:
                  gmidTicket = _a.sent();
                  if (gmidTicket) params.gmidTicket = gmidTicket;
                  HTTP_1.redirect(url, [params]);
                  return [2 /*return*/];
              }
            });
          });
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/DefaultEventsMap.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/DefaultEventsMap.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        // Global and widget events handling
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.defaultEventMaps = window.gigya.defaultEventMaps || [];

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Events.ts':
      /*!*****************************************!*\
  !*** ./src/core/Gigya.Js/app/Events.ts ***!
  \*****************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var LegacyLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
        );
        var InternalFlows_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var templatesUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/templates */ './src/core/Gigya.Js/app/Utils/templates.ts'
        );
        function getEventHandlerName(eventName) {
          if (eventName.substring(0, 2) === 'on') {
            return eventName;
          } else {
            return (
              'on' +
              eventName.substring(0, 1).toUpperCase() +
              eventName.substring(1)
            );
          }
        }
        function addMap(map) {
          window.gigya.defaultEventMaps.splice(0, 0, map);
        }
        exports.addMap = addMap;
        function dispatchErrorFromResponse(
          widgetParams,
          response,
          additionalProperties
        ) {
          if (!response) {
            response = {};
          }
          var r = response;
          if (r.response) {
            r = r.response;
          }
          var eventObj = {
            eventName: 'error',
            status: r.status ? r.status : 'FAIL',
            statusMessage: r.statusMessage
              ? r.statusMessage
              : 'General Server Error',
            errorMessage: r.errorMessage
              ? r.errorMessage
              : 'General Server Error',
            errorDetails: r.errorDetails ? r.errorDetails : '',
            errorCode: r.errorCode ? r.errorCode : 500001,
            response: response,
          };
          objectUtils.add(eventObj, additionalProperties);
          return dispatchForWidget(eventObj, widgetParams);
        }
        exports.dispatchErrorFromResponse = dispatchErrorFromResponse;
        function dispatchInvalidParamError(widgetParams, paramName) {
          var evt = { eventName: 'error' };
          if (
            typeof widgetParams[paramName] == 'undefined' ||
            widgetParams[paramName] == null
          ) {
            evt.errorCode = GSErrors_1.GSErrors.MISSING_REQUIRED_PARAMETER;
            evt.errorMessage = 'Missing_required_parameter (' + paramName + ')';
          } else {
            evt.errorCode = GSErrors_1.GSErrors.INVALID_PARAMETER_VALUE;
            evt.errorMessage = 'Invalid_parameter_value (' + paramName + ')';
          }
          evt.status = evt.errorCode;
          evt.statusMessage = evt.errorMessage;
          dispatchForWidget(evt, widgetParams);
        }
        exports.dispatchInvalidParamError = dispatchInvalidParamError;
        function dispatchForWidget(e, widgetParams) {
          if (!e || !e.eventName) return;
          var eventName = e.eventName;
          LegacyLogger_1.addLog(
            'Dispatching widget event "' +
              eventName +
              '" for ' +
              widgetParams.lastSource +
              ' with this event object',
            e
          );
          //gigya.socialize._AdjustResponseStatus(eventObj);
          InternalFlows_1.handleSpecialFields(e);
          var arEvents = eventName.split(',');
          var result;
          for (var i = 0; i < arEvents.length; i++) {
            var eventName_1 = arEvents[i];
            var eventHandlerName = getEventHandlerName(eventName_1);
            if (widgetParams) {
              if (widgetParams.context) {
                e.context = widgetParams.context;
              }
              if (widgetParams.source) {
                e.source = widgetParams.source;
              }
              if (widgetParams.sourceData) {
                e.sourceData = widgetParams.sourceData;
              }
              if (widgetParams.containerID) {
                e.sourceContainerID = widgetParams.containerID;
              }
              if (widgetParams.instanceID) {
                e.instanceID = widgetParams.instanceID;
              }
            }
            if (widgetParams[eventHandlerName]) {
              result = dispatchEventObject(widgetParams[eventHandlerName], e);
            }
            if (typeof result === 'undefined') {
              result = true;
            }
            if (
              eventName_1.indexOf('login') == -1 &&
              eventName_1.indexOf('logout') == -1 &&
              eventName_1 != 'connectionRemoved' &&
              eventName_1 != 'connectionAdded'
            ) {
              _dispatchFromMaps(e);
              var GenesisExchange_Gigya = window['GenesisExchange_Gigya'];
              var gigya_omniture_conf = window['gigya_omniture_conf'];
              var myOmnitureIntegrationFunc =
                window['myOmnitureIntegrationFunc'];
              if (
                typeof GenesisExchange_Gigya != 'undefined' &&
                typeof gigya_omniture_conf != 'undefined'
              ) {
                var ge = new GenesisExchange_Gigya(gigya_omniture_conf);
                ge.processAction(e);
                if (typeof myOmnitureIntegrationFunc != 'undefined') {
                  myOmnitureIntegrationFunc(gigya_omniture_conf, e);
                }
              }
            }
          }
          return result;
        }
        exports.dispatchForWidget = dispatchForWidget;
        function dispatchEventObject(handlers, e) {
          var result;
          try {
            if (typeof handlers == 'function') {
              result = handlers(e);
            } else if (!(handlers instanceof Array)) {
              LegacyLogger_1.addLog(
                'Not a function or function array registered to event',
                handlers
              );
            } else {
              arrayUtils.forEach(handlers, function (handler) {
                if (typeof handler == 'function') {
                  handler(e);
                } else {
                  LegacyLogger_1.addLog(
                    'Not a function registered to event: ' + handler,
                    handler
                  );
                }
              });
              /// TODO: not collecting results.. should it?
            }
          } catch (ex) {
            LegacyLogger_1.addLog(
              'Error invoking function registered to event',
              handlers
            );
          }
          return result;
        }
        exports.dispatchEventObject = dispatchEventObject;
        function _dispatchFromMaps(evt, isGlobal) {
          if (isGlobal === void 0) {
            isGlobal = false;
          }
          var arDispatch = [];
          var stop = false;
          for (var i = 0; i < window.gigya.defaultEventMaps.length; i++) {
            var map = window.gigya.defaultEventMaps[i].eventMap;
            var defaultMethod = window.gigya.defaultEventMaps[i].defaultMethod;
            for (var u = 0; u < map.length; u++) {
              var oField = map[u];
              var processedArgs = [];
              if (!oField.args) oField.args = [];
              for (var iArg = 0; iArg < oField.args.length; iArg++) {
                if (oField.args[iArg] == '$event') {
                  processedArgs.push(evt);
                } else {
                  processedArgs.push(
                    templatesUtils.fill(oField.args[iArg], evt)
                  );
                }
              }
              var sEvents = ',' + oField.events.toLowerCase() + ',';
              if (
                sEvents.indexOf(',*,') != -1 ||
                ((sEvents.indexOf(
                  ',' + 'on' + evt.eventName.toLowerCase() + ','
                ) != -1 ||
                  sEvents.indexOf(',' + evt.eventName.toLowerCase() + ',') !=
                    -1) &&
                  ((!evt.source && !oField.sources) ||
                    !oField.sources ||
                    oField.sources.indexOf(evt.source) != -1))
              ) {
                arDispatch.push(oField);
                var method = oField.method ? oField.method : defaultMethod;
                try {
                  method.apply(this, processedArgs);
                } catch (e) {
                  LegacyLogger_1.addLog(
                    "Error invoking function registered to events map's method",
                    method
                  );
                }
                if (oField.override) {
                  stop = true;
                }
              }
            }
            if (stop) break;
          }
        }
        exports._dispatchFromMaps = _dispatchFromMaps;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts':
      /*!****************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts ***!
  \****************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var scriptUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var _waitingForService = [];
        exports.isLoggedIn = false;
        exports.isConnected = false;
        function isLoaded() {
          return exports.initializedTime != null;
        }
        exports.isLoaded = isLoaded;
        function load(noAppID) {
          if (exports.initializedTime) return;
          exports.initializedTime = null;
          window.setInterval(function () {
            refreshSession();
          }, 45 * 60 * 1000);
          window['fbAsyncInit'] = function () {
            var oInit = objectUtils.clone(
              window.gigya.thisScript.globalConf['facebookInitParams']
            );
            if (!oInit) oInit = {};
            if (window.gigya.providersConfig.facebook) {
              oInit.appId = window.gigya.providersConfig.facebook.appID;
              oInit.version = window.gigya.providersConfig.facebook.version;
            } else {
              oInit.version = 'v1.0'; // only v1.0 allows init without an appId
            }
            oInit.status = false; // It's better to get login status manually so that we could dispatch the facebookLoaded event only after we have the FB session params.
            oInit.cookie = true;
            oInit.xfbml = true;
            oInit.oauth = true;
            FB.init(oInit);
            if (noAppID != true) {
              FB.getLoginStatus(function (response) {
                exports.initializedTime = new Date();
                exports.isConnected = response.status == 'connected';
                exports.isLoggedIn = response.status != 'unknown';
                globalEvents.dispatch({
                  eventName: 'facebookLoaded',
                  isLoggedIn: exports.isLoggedIn,
                  isConnected: exports.isConnected,
                });
                window.gigya.socialize.addEventHandlers(
                  { listenerType: 'component' },
                  {
                    listenerDescription:
                      'listener for updating Facebook Connect session',
                    onLogin: function () {
                      refreshSession();
                    },
                    onConnect: function () {
                      refreshSession();
                    },
                    onLogout: function () {
                      refreshSession();
                    },
                  }
                );
              }, true);
            } else {
              exports.initializedTime = new Date();
              globalEvents.dispatch({
                eventName: 'facebookLoaded',
                isLoggedIn: exports.isLoggedIn,
                isConnected: exports.isConnected,
              });
            }
          };
          var divFbRoot = document.createElement('div');
          divFbRoot.id = 'fb-root';
          DOMUtils.appendToBody(divFbRoot);
          scriptUtils.load(
            LocalInfo_1.localInfo.protocol +
              '://connect.facebook.net/' +
              window.gigya.thisScript.lang.full.replace('-', '_') +
              '/sdk.js',
            null,
            function () {
              if (document.documentElement.style.display == 'none') {
                // facebook bug (when theres a fb_xd_fragment in the page URL) - Facebook will not load in this scenario.
                document.documentElement.style.display = '';
              }
            },
            true
          );
        }
        exports.load = load;
        function refreshSession() {
          if (typeof FB == 'undefined') return;
          var fncCallback = function (response) {
            exports.initializedTime = new Date();
            exports.isConnected = response.status == 'connected';
            exports.isLoggedIn = response.status != 'unknown';
            globalEvents.dispatch({ eventName: 'FBCRefreshed' });
          };
          if (
            window.gigya.providersConfig.facebook &&
            window.gigya.providersConfig.facebook.appID &&
            FB &&
            FB.getLoginStatus
          ) {
            FB.getLoginStatus(fncCallback, true);
          }
        }
        exports.refreshSession = refreshSession;
        function retryPending() {
          var callbacks = _waitingForService;
          for (var i = 0; i < callbacks.length; i++) {
            callbacks[i]();
          }
          _waitingForService = [];
        }
        exports.retryPending = retryPending;
        function runWhenLoaded(callback) {
          _waitingForService.push(callback);
        }
        exports.runWhenLoaded = runWhenLoaded;
        function getParams() {
          var oTarget = {};
          if (typeof FB != 'undefined' && FB.getAuthResponse) {
            try {
              //FB poor oauth implementation fails sometimes
              var authResponse = FB.getAuthResponse();
              if (authResponse) {
                if (authResponse.userID != null)
                  oTarget['fb_UID'] = authResponse.userID;
                if (authResponse.accessToken != null)
                  oTarget['fb_at'] = authResponse.accessToken;
                if (authResponse.expiresIn != null)
                  oTarget['fb_exp'] = authResponse.expiresIn;
              }
            } catch (ex) {}
          }
          return oTarget;
        }
        exports.getParams = getParams;
        function autoLogin() {
          window.gigya.socialize.waitForService({
            service: 'facebook',
            callback: function () {
              window.gigya._.apiAdapter.isSessionValid(
                window.gigya.thisScript.globalConf,
                function (isValid) {
                  var fbSession = getParams();
                  if (
                    !isValid &&
                    fbSession &&
                    fbSession['fb_at'] &&
                    !window.gigya._.autoLoginInProgress
                  ) {
                    window.gigya._.autoLoginInProgress = true;
                    window.gigya.socialize.notifyLogin({
                      regSource: 'autoLogin',
                      providerSessions: {
                        facebook: {
                          authToken: fbSession['fb_at'],
                          tokenExpiresIn: fbSession['fb_exp'],
                        },
                      },
                    });
                  }
                }
              );
            },
          });
        }
        exports.autoLogin = autoLogin;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts':
      /*!******************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts ***!
  \******************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        function isLoaded() {
          return exports.initializedTime != null;
        }
        exports.isLoaded = isLoaded;
        function load() {
          var _this = this;
          if (exports.initializedTime) return;
          if (!window.gigya.providersConfig.googlePlus) return;
          exports.initializedTime = null;
          var po = document.createElement('script');
          po.type = 'text/javascript';
          po.async = true;
          window['__gigya_handleClientLoad'] = function () {
            return _this.handleClientLoad();
          };
          po.src =
            'https://apis.google.com/js/client.js?onload=__gigya_handleClientLoad';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(po, s);
        }
        exports.load = load;
        function handleClientLoad() {
          try {
            delete window['__gigya_handleClientLoad'];
          } catch (e) {
            window['__gigya_handleClientLoad'] = undefined;
          }
          exports.initializedTime = new Date();
          globalEvents.dispatch({
            eventName: 'googlePlusLoaded',
          });
        }
        exports.handleClientLoad = handleClientLoad;
        function refreshSession() {
          if (typeof gapi == 'undefined') return;
        }
        exports.refreshSession = refreshSession;
        function autoLogin() {
          window.gigya.socialize.waitForService({
            service: 'googlePlus',
            callback: function () {
              window.gigya._.apiAdapter.isSessionValid(
                window.gigya.thisScript.globalConf,
                function (isValid) {
                  if (!isValid) {
                    gapi.auth.authorize(
                      {
                        client_id:
                          window.gigya.providersConfig.googlePlus.clientId,
                        scope: window.gigya.providersConfig.googlePlus.scopes,
                        immediate: true,
                        response_type: 'token',
                      },
                      function (authResult) {
                        if (
                          authResult &&
                          authResult.access_token &&
                          !window.gigya._.autoLoginInProgress
                        ) {
                          window.gigya._.autoLoginInProgress = true;
                          window.gigya.socialize.notifyLogin({
                            regSource: 'autoLogin',
                            providerSessions: {
                              googlePlus: {
                                authToken: authResult.access_token,
                              },
                            },
                          });
                        }
                      }
                    );
                  }
                }
              );
            },
          });
        }
        exports.autoLogin = autoLogin;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts':
      /*!*****************************************************************!*\
  !*** ./src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts ***!
  \*****************************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        // Opengraph utils
        Object.defineProperty(exports, '__esModule', { value: true });
        function getMetaTag(ogTagName) {
          var metas = document.getElementsByTagName('meta');
          for (var i = 0; i < metas.length; i++) {
            if (
              metas[i].getAttribute('property') == ogTagName &&
              metas[i].getAttribute('content')
            ) {
              return metas[i].getAttribute('content');
            }
          }
        }
        exports.getMetaTag = getMetaTag;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/Flow.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/Flow.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var interfaces_1 = __webpack_require__(
          /*! ./interfaces */ './src/core/Gigya.Js/app/Flow/interfaces.ts'
        );
        var queue_1 = __webpack_require__(
          /*! ../Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var InitActivity_1 = __webpack_require__(
          /*! ./activities/InitActivity */ './src/core/Gigya.Js/app/Flow/activities/InitActivity.ts'
        );
        var ActivityLibrary_1 = __webpack_require__(
          /*! ./activities/ActivityLibrary */ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts'
        );
        var ScreenSetActivity_1 = __webpack_require__(
          /*! ./activities/ScreenSetActivity */ './src/core/Gigya.Js/app/Flow/activities/ScreenSetActivity.ts'
        );
        var EventActivity_1 = __webpack_require__(
          /*! ./activities/EventActivity */ './src/core/Gigya.Js/app/Flow/activities/EventActivity.ts'
        );
        var Flow = /** @class */ (function () {
          function Flow(identityFlowId, flowParams, onComplete) {
            this.identityFlowId = identityFlowId;
            this.flowParams = flowParams;
            this.onComplete = onComplete;
            this.eventMap = new Map();
          }
          Flow.prototype.on = function (eventName, eventHandler) {
            this.eventMap.set(eventName, eventHandler);
            return this;
          };
          Flow.prototype.error = function (eventHandler) {
            this.errorHandler = eventHandler;
            return this;
          };
          Flow.prototype.execute = function () {
            var _this = this;
            if (ActivityLibrary_1.ActivityLibrary.isEmpty()) {
              ActivityLibrary_1.ActivityLibrary.registerActivity(
                interfaces_1.ActivityType.ScreenSet,
                ScreenSetActivity_1.ScreenSetActivity
              );
              ActivityLibrary_1.ActivityLibrary.registerActivity(
                interfaces_1.ActivityType.Event,
                EventActivity_1.EventActivity
              );
            }
            queue_1.queueForExecution('API', function () {
              new InitActivity_1.InitActivity(_this, null).run();
            });
          };
          Flow.prototype.finish = function () {
            this.onComplete && this.onComplete();
          };
          return Flow;
        })();
        exports.Flow = Flow;
        function flow(flowId, params, onComplete) {
          return new Flow(flowId, params, onComplete);
        }
        exports.flow = flow;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts':
      /*!******************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts ***!
  \******************************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var ActivityLibrary = /** @class */ (function () {
          function ActivityLibrary() {}
          ActivityLibrary.isEmpty = function () {
            return Object.keys(this.activityMap).length === 0;
          };
          ActivityLibrary.registerActivity = function (type, activity) {
            this.activityMap.set(type, activity);
          };
          ActivityLibrary.getActivity = function (flow, params) {
            if (
              this.activityMap.has(
                params === null || params === void 0
                  ? void 0
                  : params.activityType
              )
            ) {
              var Activity = this.activityMap.get(params.activityType);
              return new Activity(flow, params);
            }
            return null;
          };
          ActivityLibrary.activityMap = new Map();
          return ActivityLibrary;
        })();
        exports.ActivityLibrary = ActivityLibrary;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/activities/BaseActivity.ts':
      /*!***************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/activities/BaseActivity.ts ***!
  \***************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var tokenStore = __webpack_require__(
          /*! ../../../../Gigya.Js.Adapters.Web/app/TokenStore */ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts'
        );
        var RequestProvider_1 = __webpack_require__(
          /*! src/core/ApiService/app/RequestProvider */ './src/core/ApiService/app/RequestProvider.ts'
        );
        var ActivityLibrary_1 = __webpack_require__(
          /*! ./ActivityLibrary */ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var BaseActivity = /** @class */ (function () {
          function BaseActivity(flow, params, _requestProvider) {
            if (_requestProvider === void 0) {
              _requestProvider = new RequestProvider_1.RequestProvider();
            }
            this.flow = flow;
            this.params = params;
            this._requestProvider = _requestProvider;
          }
          BaseActivity.prototype.next = function (url) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var result, activity;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [4 /*yield*/, this.fetch(url)];
                  case 1:
                    result = _a.sent();
                    if (!result) {
                      // When response is null it means no activity to run next, so flow considered as done
                      this.flow.finish();
                    } else if (result.errorCode === GSErrors_1.GSErrors.OK) {
                      activity = ActivityLibrary_1.ActivityLibrary.getActivity(
                        this.flow,
                        result
                      );
                      activity ? activity.run() : this.flow.finish();
                    } else {
                      this.flow.errorHandler(result);
                    }
                    return [2 /*return*/];
                }
              });
            });
          };
          BaseActivity.prototype.getRequestParams = function () {
            var apiKey = window.gigya.thisScript.APIKey;
            var loginToken = tokenStore.get(apiKey);
            var params = {};
            params['APIKey'] = apiKey;
            if (loginToken) {
              var loginTokenExp = tokenStore.getGltexpCookie(apiKey);
              if (loginTokenExp !== null) {
                params['loginTokenExp'] = loginTokenExp;
              }
              params['login_token'] = loginToken;
            }
            params['authMode'] = 'cookie';
            return params;
          };
          BaseActivity.prototype.fetch = function (url) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var baseDomain, e_1;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    baseDomain =
                      'https://' + window.gigya._.getApiDomain('accounts');
                    _a.label = 1;
                  case 1:
                    _a.trys.push([1, 3, , 4]);
                    return [
                      4 /*yield*/,
                      this._requestProvider.send(
                        baseDomain,
                        'workflow' + url,
                        this.getRequestParams(),
                        {},
                        {}
                      ),
                    ];
                  case 2:
                    return [2 /*return*/, _a.sent()];
                  case 3:
                    e_1 = _a.sent();
                    window.gigya.logger.report('Flow request fail', {
                      url: url,
                      e: e_1,
                    });
                    return [2 /*return*/, null];
                  case 4:
                    return [2 /*return*/];
                }
              });
            });
          };
          return BaseActivity;
        })();
        exports.BaseActivity = BaseActivity;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/activities/EventActivity.ts':
      /*!****************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/activities/EventActivity.ts ***!
  \****************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var BaseActivity_1 = __webpack_require__(
          /*! ./BaseActivity */ './src/core/Gigya.Js/app/Flow/activities/BaseActivity.ts'
        );
        var interfaces_1 = __webpack_require__(
          /*! ../interfaces */ './src/core/Gigya.Js/app/Flow/interfaces.ts'
        );
        var ActivityLibrary_1 = __webpack_require__(
          /*! ./ActivityLibrary */ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts'
        );
        var EventActivity = /** @class */ (function (_super) {
          tslib_1.__extends(EventActivity, _super);
          function EventActivity() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          EventActivity.prototype.run = function () {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var handler, e_1;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    handler = this.flow.eventMap.get(this.params.eventName);
                    if (!handler) return [3 /*break*/, 4];
                    _a.label = 1;
                  case 1:
                    _a.trys.push([1, 3, , 4]);
                    return [
                      4 /*yield*/,
                      handler({
                        eventName: this.params.eventName,
                        workflowDefinitionId: this.flow.identityFlowId,
                      }),
                    ];
                  case 2:
                    _a.sent();
                    this.params.afterEventUrl &&
                      this.next(this.params.afterEventUrl);
                    return [3 /*break*/, 4];
                  case 3:
                    e_1 = _a.sent();
                    this.flow.errorHandler(e_1);
                    return [3 /*break*/, 4];
                  case 4:
                    return [2 /*return*/];
                }
              });
            });
          };
          return EventActivity;
        })(BaseActivity_1.BaseActivity);
        exports.EventActivity = EventActivity;
        ActivityLibrary_1.ActivityLibrary.registerActivity(
          interfaces_1.ActivityType.Event,
          EventActivity
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/activities/InitActivity.ts':
      /*!***************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/activities/InitActivity.ts ***!
  \***************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var BaseActivity_1 = __webpack_require__(
          /*! ./BaseActivity */ './src/core/Gigya.Js/app/Flow/activities/BaseActivity.ts'
        );
        var InitActivity = /** @class */ (function (_super) {
          tslib_1.__extends(InitActivity, _super);
          function InitActivity() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          InitActivity.prototype.run = function () {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      this.next(
                        '/runtime/v1/workflowDefinitions/' +
                          this.flow.identityFlowId +
                          '/dispatch'
                      ),
                    ];
                  case 1:
                    _a.sent();
                    return [2 /*return*/];
                }
              });
            });
          };
          return InitActivity;
        })(BaseActivity_1.BaseActivity);
        exports.InitActivity = InitActivity;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/activities/ScreenSetActivity.ts':
      /*!********************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/activities/ScreenSetActivity.ts ***!
  \********************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var BaseActivity_1 = __webpack_require__(
          /*! ./BaseActivity */ './src/core/Gigya.Js/app/Flow/activities/BaseActivity.ts'
        );
        var interfaces_1 = __webpack_require__(
          /*! ../interfaces */ './src/core/Gigya.Js/app/Flow/interfaces.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var ActivityLibrary_1 = __webpack_require__(
          /*! ./ActivityLibrary */ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts'
        );
        var ScreenSetActivity = /** @class */ (function (_super) {
          tslib_1.__extends(ScreenSetActivity, _super);
          function ScreenSetActivity() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          ScreenSetActivity.prototype.run = function () {
            var _a;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _this = this;
              return tslib_1.__generator(this, function (_b) {
                if (!this.params.screenSet || !this.params.startScreen) {
                  return [2 /*return*/];
                }
                window.gigya.accounts.showScreenSet(
                  tslib_1.__assign(
                    tslib_1.__assign(
                      {},
                      (_a = this.flow.flowParams) === null || _a === void 0
                        ? void 0
                        : _a.screenSetParams
                    ),
                    {
                      screenSet: this.params.screenSet,
                      startScreen: this.params.startScreen,
                      onAfterSubmit: function (event) {
                        var _a;
                        if (
                          ((_a = event.response) === null || _a === void 0
                            ? void 0
                            : _a.errorCode) === GSErrors_1.GSErrors.OK
                        ) {
                          _this.params.onSubmitUrl &&
                            _this.next(_this.params.onSubmitUrl);
                        } else {
                          _this.flow.errorHandler(event.response);
                        }
                      },
                    }
                  )
                );
                return [2 /*return*/];
              });
            });
          };
          return ScreenSetActivity;
        })(BaseActivity_1.BaseActivity);
        exports.ScreenSetActivity = ScreenSetActivity;
        ActivityLibrary_1.ActivityLibrary.registerActivity(
          interfaces_1.ActivityType.ScreenSet,
          ScreenSetActivity
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Flow/interfaces.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Flow/interfaces.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var ActivityType;
        (function (ActivityType) {
          ActivityType['Event'] = 'Event';
          ActivityType['ScreenSet'] = 'ScreenSet';
        })(
          (ActivityType = exports.ActivityType || (exports.ActivityType = {}))
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/GSErrors.ts':
      /*!*******************************************!*\
  !*** ./src/core/Gigya.Js/app/GSErrors.ts ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var GSErrors;
        (function (GSErrors) {
          GSErrors[(GSErrors['OK'] = 0)] = 'OK';
          GSErrors[(GSErrors['Data_Pending'] = 100001)] = 'Data_Pending';
          GSErrors[(GSErrors['NETWORK_ERROR'] = 500026)] = 'NETWORK_ERROR';
          GSErrors[(GSErrors['DATA_PENDING'] = 100001)] = 'DATA_PENDING';
          GSErrors[(GSErrors['OPERATION_CANCELED'] = 200001)] =
            'OPERATION_CANCELED';
          GSErrors[(GSErrors['PERMISSION_GRANTED'] = 200002)] =
            'PERMISSION_GRANTED';
          GSErrors[(GSErrors['PERMISSION_NOT_GRANTED'] = 200003)] =
            'PERMISSION_NOT_GRANTED';
          GSErrors[(GSErrors['REDIRECT'] = 200004)] = 'REDIRECT';
          GSErrors[(GSErrors['NEW_USER'] = 200005)] = 'NEW_USER';
          GSErrors[(GSErrors['OPERATION_DONE'] = 200006)] = 'OPERATION_DONE';
          GSErrors[(GSErrors['UPDATE_USER'] = 200007)] = 'UPDATE_USER';
          GSErrors[(GSErrors['OK_WITH_ERRORS'] = 200008)] = 'OK_WITH_ERRORS';
          GSErrors[(GSErrors['ACCOUNTS_LINKED'] = 200009)] = 'ACCOUNTS_LINKED';
          GSErrors[
            (GSErrors['OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS'] = 200010)
          ] = 'OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['ACCOUNT_PENDING_REGISTRATION'] = 206001)] =
            'ACCOUNT_PENDING_REGISTRATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_VERIFICATION'] = 206002)] =
            'ACCOUNT_PENDING_VERIFICATION';
          GSErrors[(GSErrors['ACCOUNT_MISSING_LOGINID'] = 206003)] =
            'ACCOUNT_MISSING_LOGINID';
          GSErrors[(GSErrors['IDENTITY_ALREADY_ASSIGNED'] = 206004)] =
            'IDENTITY_ALREADY_ASSIGNED';
          GSErrors[(GSErrors['AFTER_EMAIL_VERIFICATION'] = 206005)] =
            'AFTER_EMAIL_VERIFICATION';
          GSErrors[(GSErrors['PENDING_CODE_VERIFICATION'] = 206006)] =
            'PENDING_CODE_VERIFICATION';
          GSErrors[(GSErrors['CLIENT_LOG'] = 300001)] = 'CLIENT_LOG';
          GSErrors[(GSErrors['INVALID_DATA_CENTER'] = 301001)] =
            'INVALID_DATA_CENTER';
          GSErrors[(GSErrors['INVALID_REQUEST_FORMAT'] = 400001)] =
            'INVALID_REQUEST_FORMAT';
          GSErrors[(GSErrors['MISSING_REQUIRED_PARAMETER'] = 400002)] =
            'MISSING_REQUIRED_PARAMETER';
          GSErrors[(GSErrors['UNIQUE_IDENTIFIER_EXISTS'] = 400003)] =
            'UNIQUE_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['INVALID_PARAMETER_FORMAT'] = 400004)] =
            'INVALID_PARAMETER_FORMAT';
          GSErrors[(GSErrors['INVALID_PARAMETER_VALUE'] = 400006)] =
            'INVALID_PARAMETER_VALUE';
          GSErrors[(GSErrors['DUPLICATE_VALUE'] = 400007)] = 'DUPLICATE_VALUE';
          GSErrors[(GSErrors['INVALID_AUTHENTICATION_HEADER'] = 400008)] =
            'INVALID_AUTHENTICATION_HEADER';
          GSErrors[(GSErrors['VALIDATION_ERROR'] = 400009)] =
            'VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_REDIRECT_URI'] = 400011)] =
            'INVALID_REDIRECT_URI';
          GSErrors[(GSErrors['INVALID_RESPONSE_TYPE'] = 400012)] =
            'INVALID_RESPONSE_TYPE';
          GSErrors[(GSErrors['UNSUPPORTED_GRANT_TYPE'] = 400013)] =
            'UNSUPPORTED_GRANT_TYPE';
          GSErrors[(GSErrors['INVALID_GRANT'] = 400014)] = 'INVALID_GRANT';
          GSErrors[(GSErrors['CODE_EXPIRED'] = 400015)] = 'CODE_EXPIRED';
          GSErrors[(GSErrors['SCHEMA_VALIDATION_FAILED'] = 400020)] =
            'SCHEMA_VALIDATION_FAILED';
          GSErrors[(GSErrors['CAPTCHA_VERIFICATION_FAILED'] = 400021)] =
            'CAPTCHA_VERIFICATION_FAILED';
          GSErrors[(GSErrors['UNIQUE_INDEX_VALIDATION_ERROR'] = 400022)] =
            'UNIQUE_INDEX_VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_TYPE_VALIDATION_ERROR'] = 400023)] =
            'INVALID_TYPE_VALIDATION_ERROR';
          GSErrors[(GSErrors['DYNAMIC_FIELDS_VALIDATION_ERROR'] = 400024)] =
            'DYNAMIC_FIELDS_VALIDATION_ERROR';
          GSErrors[(GSErrors['WRITE_ACCESS_VALIDATION_ERROR'] = 400025)] =
            'WRITE_ACCESS_VALIDATION_ERROR';
          GSErrors[(GSErrors['INVALID_FORMAT_VALIDATION_ERROR'] = 400026)] =
            'INVALID_FORMAT_VALIDATION_ERROR';
          GSErrors[(GSErrors['REQUIRED_VALUE_VALIDATION_ERROR'] = 400027)] =
            'REQUIRED_VALUE_VALIDATION_ERROR';
          GSErrors[(GSErrors['EMAIL_NOT_VERIFIED'] = 400028)] =
            'EMAIL_NOT_VERIFIED';
          GSErrors[(GSErrors['SCHEMA_CONFLICT_ERROR'] = 400029)] =
            'SCHEMA_CONFLICT_ERROR';
          GSErrors[(GSErrors['OPERATION_NOT_ALLOWED'] = 400030)] =
            'OPERATION_NOT_ALLOWED';
          GSErrors[(GSErrors['SECURITY_VERIFICATION_FAILED'] = 400050)] =
            'SECURITY_VERIFICATION_FAILED';
          GSErrors[(GSErrors['INVALID_APIKEY_PARAMETER'] = 400093)] =
            'INVALID_APIKEY_PARAMETER';
          GSErrors[(GSErrors['NOT_SUPPORTED'] = 400096)] = 'NOT_SUPPORTED';
          GSErrors[(GSErrors['UNSUPPORTED_USER_AGENT'] = 400097)] =
            'UNSUPPORTED_USER_AGENT';
          GSErrors[(GSErrors['NO_PROVIDERS'] = 400100)] = 'NO_PROVIDERS';
          GSErrors[(GSErrors['POPUP_BLOCKED'] = 400101)] = 'POPUP_BLOCKED';
          GSErrors[(GSErrors['INVALID_EVENT_HANDLER'] = 400102)] =
            'INVALID_EVENT_HANDLER';
          GSErrors[(GSErrors['INVALID_CONTAINERID'] = 400103)] =
            'INVALID_CONTAINERID';
          GSErrors[(GSErrors['NOT_CONNECTED'] = 400106)] = 'NOT_CONNECTED';
          GSErrors[(GSErrors['INVALID_SITE_DOMAIN'] = 400120)] =
            'INVALID_SITE_DOMAIN';
          GSErrors[(GSErrors['PROVIDER_CONFIGURATION_ERROR'] = 400122)] =
            'PROVIDER_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['LIMIT_REACHED'] = 400124)] = 'LIMIT_REACHED';
          GSErrors[(GSErrors['FREQUENCY_LIMIT_REACHED'] = 400125)] =
            'FREQUENCY_LIMIT_REACHED';
          GSErrors[(GSErrors['INVALID_ACTION'] = 400126)] = 'INVALID_ACTION';
          GSErrors[(GSErrors['INSUFFICIENT_POINTS_TO_REDEEM'] = 400127)] =
            'INSUFFICIENT_POINTS_TO_REDEEM';
          GSErrors[(GSErrors['SIGNATURE_TIMESTAMP_EXPIRED'] = 400128)] =
            'SIGNATURE_TIMESTAMP_EXPIRED';
          GSErrors[(GSErrors['Error_During_Extensions_Operation'] = 400302)] =
            'Error_During_Extensions_Operation';
          GSErrors[(GSErrors['Extension_Point_Custom_Error'] = 400303)] =
            'Extension_Point_Custom_Error';
          GSErrors[(GSErrors['INVALID_POLICY_CONFIGURATION'] = 401000)] =
            'INVALID_POLICY_CONFIGURATION';
          GSErrors[(GSErrors['SUSPECTED_SPAM'] = 401010)] = 'SUSPECTED_SPAM';
          GSErrors[(GSErrors['LOGIN_FAILED_CAPTCHA_REQUIRED'] = 401020)] =
            'LOGIN_FAILED_CAPTCHA_REQUIRED';
          GSErrors[(GSErrors['REQUEST_FAILED_CAPTCHA_REQUIRED'] = 401023)] =
            'REQUEST_FAILED_CAPTCHA_REQUIRED';
          GSErrors[(GSErrors['LOGIN_FAILED_WRONG_CAPTCHA'] = 401021)] =
            'LOGIN_FAILED_WRONG_CAPTCHA';
          GSErrors[(GSErrors['OLD_PASSWORD_USED'] = 401030)] =
            'OLD_PASSWORD_USED';
          GSErrors[(GSErrors['FORBIDDEN'] = 403000)] = 'FORBIDDEN';
          GSErrors[(GSErrors['INVALID_SESSION_TOKEN'] = 403001)] =
            'INVALID_SESSION_TOKEN';
          GSErrors[(GSErrors['REQUEST_HAS_EXPIRED'] = 403002)] =
            'REQUEST_HAS_EXPIRED';
          GSErrors[(GSErrors['INVALID_REQUEST_SIGNATURE'] = 403003)] =
            'INVALID_REQUEST_SIGNATURE';
          GSErrors[(GSErrors['DUPLICATE_NONCE'] = 403004)] = 'DUPLICATE_NONCE';
          GSErrors[(GSErrors['UNAUTHORIZED_USER'] = 403005)] =
            'UNAUTHORIZED_USER';
          GSErrors[(GSErrors['SENSITIVE_DATA_SENT_OVER_HTTP'] = 403006)] =
            'SENSITIVE_DATA_SENT_OVER_HTTP';
          GSErrors[(GSErrors['PERMISSION_DENIED'] = 403007)] =
            'PERMISSION_DENIED';
          GSErrors[(GSErrors['INVALID_OPENID_URL'] = 403008)] =
            'INVALID_OPENID_URL';
          GSErrors[(GSErrors['PROVIDER_SESSION_EXPIRED'] = 403009)] =
            'PROVIDER_SESSION_EXPIRED';
          GSErrors[(GSErrors['INVALID_SECRET'] = 403010)] = 'INVALID_SECRET';
          GSErrors[(GSErrors['SESSION_HAS_EXPIRED'] = 403011)] =
            'SESSION_HAS_EXPIRED';
          GSErrors[(GSErrors['NO_VALID_SESSION'] = 403012)] =
            'NO_VALID_SESSION';
          GSErrors[(GSErrors['UNVERIFIED_USER'] = 403013)] = 'UNVERIFIED_USER';
          GSErrors[(GSErrors['MISSING_REQUEST_REFERRER'] = 403015)] =
            'MISSING_REQUEST_REFERRER';
          GSErrors[(GSErrors['UNEXPECTED_PROVIDER_USER'] = 403017)] =
            'UNEXPECTED_PROVIDER_USER';
          GSErrors[(GSErrors['PERMISSION_NOT_REQUESTED'] = 403022)] =
            'PERMISSION_NOT_REQUESTED';
          GSErrors[(GSErrors['NO_USER_PERMISSION'] = 403023)] =
            'NO_USER_PERMISSION';
          GSErrors[(GSErrors['PROVIDER_LIMIT_REACHED'] = 403024)] =
            'PROVIDER_LIMIT_REACHED';
          GSErrors[(GSErrors['INVALID_TOKEN'] = 403025)] = 'INVALID_TOKEN';
          GSErrors[(GSErrors['UNAUTHORIZED_ACCESS_ERROR'] = 403026)] =
            'UNAUTHORIZED_ACCESS_ERROR';
          GSErrors[(GSErrors['DIFFERENT_USER_FOR_REAUTH'] = 403027)] =
            'DIFFERENT_USER_FOR_REAUTH';
          GSErrors[(GSErrors['SESSION_EXPIRED_RETRY'] = 403030)] =
            'SESSION_EXPIRED_RETRY';
          GSErrors[(GSErrors['APPROVED_BY_MODERATOR'] = 403031)] =
            'APPROVED_BY_MODERATOR';
          GSErrors[(GSErrors['TOKEN_HAS_RENEWED'] = 403032)] =
            'TOKEN_HAS_RENEWED';
          GSErrors[(GSErrors['NO_USER_COOKIE'] = 403035)] = 'NO_USER_COOKIE';
          GSErrors[(GSErrors['UNAUTHORIZED_PARTNER'] = 403036)] =
            'UNAUTHORIZED_PARTNER';
          GSErrors[(GSErrors['POST_DENIED'] = 403037)] = 'POST_DENIED';
          GSErrors[(GSErrors['NO_LOGIN_TICKET'] = 403040)] = 'NO_LOGIN_TICKET';
          GSErrors[(GSErrors['ACCOUNT_DISABLED'] = 403041)] =
            'ACCOUNT_DISABLED';
          GSErrors[(GSErrors['INVALID_LOGINID'] = 403042)] = 'INVALID_LOGINID';
          GSErrors[(GSErrors['LOGIN_IDENTIFIER_EXISTS'] = 403043)] =
            'LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['UNDERAGE_USER'] = 403044)] = 'UNDERAGE_USER';
          GSErrors[(GSErrors['INVALID_SITE_CONFIGURATION_ERROR'] = 403045)] =
            'INVALID_SITE_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['LOGINID_DOES_NOT_EXIST'] = 403047)] =
            'LOGINID_DOES_NOT_EXIST';
          GSErrors[(GSErrors['API_RATE_LIMIT_EXCEEDED'] = 403048)] =
            'API_RATE_LIMIT_EXCEEDED';
          GSErrors[(GSErrors['PENDING_PASSWORD_CHANGE'] = 403100)] =
            'PENDING_PASSWORD_CHANGE';
          GSErrors[(GSErrors['ACCOUNT_PENDING_TFA_VERIFICATION'] = 403101)] =
            'ACCOUNT_PENDING_TFA_VERIFICATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_TFA_REGISTRATION'] = 403102)] =
            'ACCOUNT_PENDING_TFA_REGISTRATION';
          GSErrors[(GSErrors['ACCOUNT_PENDING_RECENT_LOGIN'] = 403110)] =
            'ACCOUNT_PENDING_RECENT_LOGIN';
          GSErrors[(GSErrors['ACCOUNT_TEMPORARILY_LOCKED_OUT'] = 403120)] =
            'ACCOUNT_TEMPORARILY_LOCKED_OUT';
          GSErrors[(GSErrors['REDUNDANT_OPERATION'] = 403200)] =
            'REDUNDANT_OPERATION';
          GSErrors[(GSErrors['INVALID_APPLICATION_ID'] = 403201)] =
            'INVALID_APPLICATION_ID';
          GSErrors[(GSErrors['NOT_FOUND'] = 404000)] = 'NOT_FOUND';
          GSErrors[(GSErrors['FRIEND_NOT_FOUND'] = 404001)] =
            'FRIEND_NOT_FOUND';
          GSErrors[(GSErrors['CATEGORY_NOT_FOUND'] = 404002)] =
            'CATEGORY_NOT_FOUND';
          GSErrors[(GSErrors['UID_NOT_FOUND'] = 404003)] = 'UID_NOT_FOUND';
          GSErrors[(GSErrors['RESOURCE_NOT_FOUND'] = 404004)] =
            'RESOURCE_NOT_FOUND';
          GSErrors[(GSErrors['INVALID_API_METHOD'] = 405001)] =
            'INVALID_API_METHOD';
          GSErrors[(GSErrors['IDENTITY_EXISTS'] = 409001)] = 'IDENTITY_EXISTS';
          GSErrors[(GSErrors['GONE'] = 410000)] = 'GONE';
          GSErrors[(GSErrors['REQUEST_ENTITY_TOO_LARGE'] = 413001)] =
            'REQUEST_ENTITY_TOO_LARGE';
          GSErrors[(GSErrors['COMMENT_TEXT_TOO_LARGE'] = 413002)] =
            'COMMENT_TEXT_TOO_LARGE';
          GSErrors[(GSErrors['OBJECT_TOO_LARGE'] = 413003)] =
            'OBJECT_TOO_LARGE';
          GSErrors[(GSErrors['PROFILE_PHOTO_TOO_LARGE'] = 413004)] =
            'PROFILE_PHOTO_TOO_LARGE';
          GSErrors[(GSErrors['REQUEST_URI_TOO_LONG'] = 414000)] =
            'REQUEST_URI_TOO_LONG';
          GSErrors[(GSErrors['MISSING_USER_PHOTO'] = 409010)] =
            'MISSING_USER_PHOTO';
          GSErrors[(GSErrors['COUNTER_NOT_REGISTERED'] = 409011)] =
            'COUNTER_NOT_REGISTERED';
          GSErrors[(GSErrors['INVALID_GMID_TICKET'] = 409012)] =
            'INVALID_GMID_TICKET';
          GSErrors[(GSErrors['SAML_MAPPED_ATTRIBUTE_NOT_FOUND'] = 409013)] =
            'SAML_MAPPED_ATTRIBUTE_NOT_FOUND';
          GSErrors[(GSErrors['SAML_CERTIFICATE_NOT_FOUND'] = 409014)] =
            'SAML_CERTIFICATE_NOT_FOUND';
          GSErrors[(GSErrors['SAML_MESSAGE_NOT_FOUND'] = 409015)] =
            'SAML_MESSAGE_NOT_FOUND';
          GSErrors[(GSErrors['GENERAL_SERVER_ERROR'] = 500001)] =
            'GENERAL_SERVER_ERROR';
          GSErrors[(GSErrors['SERVER_LOGIN_ERROR'] = 500002)] =
            'SERVER_LOGIN_ERROR';
          GSErrors[
            (GSErrors['DEFAULT_APPLICATION_CONFIGURATION_ERROR'] = 500003)
          ] = 'DEFAULT_APPLICATION_CONFIGURATION_ERROR';
          GSErrors[(GSErrors['SESSION_MIGRATION_ERROR'] = 500014)] =
            'SESSION_MIGRATION_ERROR';
          GSErrors[(GSErrors['PROVIDER_ERROR'] = 500023)] = 'PROVIDER_ERROR';
          GSErrors[(GSErrors['DATABASE_ERROR'] = 500028)] = 'DATABASE_ERROR';
          GSErrors[(GSErrors['USERNAME_REQUIRED'] = 500029)] =
            'USERNAME_REQUIRED';
          GSErrors[(GSErrors['NO_PROVIDER_APPLICATION'] = 500031)] =
            'NO_PROVIDER_APPLICATION';
          GSErrors[(GSErrors['LOAD_FAILED'] = 500032)] = 'LOAD_FAILED';
          GSErrors[(GSErrors['INVALID_ENVIRONMENT_CONFIG'] = 500033)] =
            'INVALID_ENVIRONMENT_CONFIG';
          GSErrors[(GSErrors['ERROR_DURING_BACKEND_OPERATION'] = 500034)] =
            'ERROR_DURING_BACKEND_OPERATION';
          GSErrors[(GSErrors['TIMEOUT'] = 504001)] = 'TIMEOUT';
          GSErrors[(GSErrors['CLIENTTIMEOUT'] = 504002)] = 'CLIENTTIMEOUT';
          GSErrors[(GSErrors['INVALID_URL'] = 404004)] = 'INVALID_URL';
          GSErrors[(GSErrors['MEDIA_ITEMS_NOT_SUPPORTED'] = 401001)] =
            'MEDIA_ITEMS_NOT_SUPPORTED';
          GSErrors[(GSErrors['MISSING_ERROR_CODE'] = 599999)] =
            'MISSING_ERROR_CODE';
          GSErrors[
            (GSErrors[
              'THIS_AUTHENTICATION_METHOD_IS_CURRENTLY_DISABLED'
            ] = 403300)
          ] = 'THIS_AUTHENTICATION_METHOD_IS_CURRENTLY_DISABLED';
          GSErrors[(GSErrors['FORCE_LINK_LOGIN_IDENTIFIER_EXISTS'] = 409003)] =
            'FORCE_LINK_LOGIN_IDENTIFIER_EXISTS';
          GSErrors[(GSErrors['PASSKEY_AUTHENTICATOR_REGISTERED'] = 400130)] =
            'PASSKEY_AUTHENTICATOR_REGISTERED';
          GSErrors[(GSErrors['PASSKEY_ABORTED'] = 400131)] = 'PASSKEY_ABORTED';
          GSErrors[(GSErrors['PASSKEY_ERROR'] = 500131)] = 'PASSKEY_ERROR';
        })((GSErrors = exports.GSErrors || (exports.GSErrors = {})));
        var GSErrorDetails;
        (function (GSErrorDetails) {
          GSErrorDetails[(GSErrorDetails['None'] = 0)] = 'None';
          GSErrorDetails[(GSErrorDetails['Same_password'] = 100001)] =
            'Same_password';
          GSErrorDetails[(GSErrorDetails['Invalid_password'] = 100002)] =
            'Invalid_password';
          GSErrorDetails[
            (GSErrorDetails['Invalid_counters_query_with_cursor'] = 100003)
          ] = 'Invalid_counters_query_with_cursor';
        })(
          (GSErrorDetails =
            exports.GSErrorDetails || (exports.GSErrorDetails = {}))
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/GigyaGlobals.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/GigyaGlobals.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var ES6Promise = __webpack_require__(
            /*! es6-promise */ '../node_modules/es6-promise/dist/es6-promise.js'
          );
          __webpack_provided_Object_dot_assign(window.gigya, {
            Promise: ES6Promise,
          });

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/GlobalEvents.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/GlobalEvents.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var LegacyLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var InternalFlows_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
        );
        var events = __webpack_require__(
          /*! src/core/Gigya.Js/app/Events */ './src/core/Gigya.Js/app/Events.ts'
        );
        function getEventHandlerName(eventName) {
          if (eventName.substring(0, 2) === 'on') {
            return eventName;
          } else {
            return (
              'on' +
              eventName.substring(0, 1).toUpperCase() +
              eventName.substring(1)
            );
          }
        }
        var _eventHandlers = {};
        var _pendingEvents = {};
        exports._activeNamespaces = {};
        function add(
          eventName,
          eventHandler,
          type,
          context,
          namespace,
          params
        ) {
          if (type === void 0) {
            type = 'other';
          }
          if (namespace === void 0) {
            namespace = 'socialize';
          }
          var fullEventName = namespace + '_' + getEventHandlerName(eventName);
          if (!_eventHandlers[fullEventName]) {
            _eventHandlers[fullEventName] = [];
          }
          var registeredHandler = {
            handler: eventHandler,
            type: type,
            context: context,
            params: params,
            fullEventName: fullEventName,
          };
          _eventHandlers[fullEventName].push(registeredHandler);
          if (!this._activeNamespaces[namespace] && window.gigya._.apiAdapter) {
            window.gigya._.apiAdapter.registerForNamespaceEvents(namespace);
          }
          this._activeNamespaces[namespace] = 1;
          var pendingEvents = _pendingEvents[fullEventName];
          if (pendingEvents && type == 'other') {
            _pendingEvents[fullEventName] = [];
            for (var i = 0; i < pendingEvents.length; i++) {
              var e = pendingEvents[i];
              dispatchRegisteredHandlers(e.eventObj, e.params, e.preProcess);
            }
          }
          return registeredHandler;
        }
        exports.add = add;
        function remove(fullEventName, registeredHandler) {
          if (_eventHandlers[fullEventName]) {
            arrayUtils.removeByValue(
              _eventHandlers[fullEventName],
              registeredHandler
            );
          }
        }
        exports.remove = remove;
        function dispatch(eventObj, params) {
          var dispatched = 0;
          var isInternal = eventObj.isInternal; //internal event should be dispatched to widgets/components only.
          var eventNameArr = eventObj['eventName'].split(',');
          LegacyLogger_1.addLog(
            'Dispatching global event "' +
              eventObj['eventName'] +
              '" with this event object',
            eventObj
          );
          for (var i = 0; i < eventNameArr.length; i++) {
            var eventNameSegs = eventNameArr[i].split('.');
            var namespace =
              eventNameSegs.length > 1 ? eventNameSegs.shift() : 'socialize';
            var eventName = eventNameSegs[0];
            var eventHandlerName = getEventHandlerName(eventName);
            var fullEventName = namespace + '_' + eventHandlerName;
            var eventHandlers =
              objectUtils.clone(_eventHandlers[fullEventName]) || [];
            var baseEventObj = objectUtils.clone(eventObj);
            baseEventObj['isGlobal'] = true;
            baseEventObj.eventName = eventName;
            baseEventObj.fullEventName = eventNameArr[i];
            if (params) {
              if (params.source) baseEventObj.source = params.source;
              if (params.sourceData)
                baseEventObj.sourceData = params.sourceData;
              if (params.context) baseEventObj.context = params.context;
            }
            var ListenerTypes = ['component'];
            if (!isInternal) ListenerTypes.push('other');
            for (
              var iListenerType = 0;
              iListenerType < ListenerTypes.length;
              iListenerType++
            ) {
              var listenerType = ListenerTypes[iListenerType];
              for (
                var iHandler = 0;
                iHandler < eventHandlers.length;
                iHandler++
              ) {
                var oHandler = eventHandlers[iHandler]; //{type: 'other', handler:function, context: object}
                if (oHandler.type == listenerType) {
                  var eventObjCopy = objectUtils.clone(baseEventObj);
                  if (!eventObjCopy['context'] && oHandler.context) {
                    eventObjCopy['context'] = oHandler['context'];
                  }
                  if (!eventObjCopy['context']) {
                    delete eventObjCopy['context'];
                  }
                  //context is now taken from the call that dispatched the event
                  if (listenerType !== 'component') {
                    dispatched++;
                    InternalFlows_1.handleSpecialFields(eventObjCopy); // Make sure returned fields such as friends are returned as collections.
                  }
                  // Feature #34522
                  if (oHandler.params && oHandler.params['signKey']) {
                    eventObjCopy['UIDSignature'] =
                      eventObj['signKeysUIDSignature'][
                        oHandler.params['signKey']
                      ];
                    delete eventObjCopy['signKeysUIDSignature'];
                  }
                  try {
                    oHandler.handler(eventObjCopy);
                  } catch (ex) {
                    LegacyLogger_1.addLog(
                      'Error while trying to invoke "' +
                        eventObj['eventName'] +
                        '" global event handler',
                      ex
                    );
                  }
                }
              }
            }
            if (!isInternal) {
              events._dispatchFromMaps(baseEventObj, true);
            }
            var GenesisExchange_Gigya = window['GenesisExchange_Gigya'];
            var gigya_omniture_conf = window['gigya_omniture_conf'];
            var myOmnitureIntegrationFunc = window['myOmnitureIntegrationFunc'];
            if (
              !isInternal &&
              typeof GenesisExchange_Gigya != 'undefined' &&
              typeof gigya_omniture_conf != 'undefined' &&
              namespace == 'socialize'
            ) {
              var ge = new GenesisExchange_Gigya(gigya_omniture_conf);
              ge.processAction(baseEventObj);
              if (typeof myOmnitureIntegrationFunc != 'undefined') {
                myOmnitureIntegrationFunc(gigya_omniture_conf, baseEventObj);
              }
            }
          }
          return dispatched;
        }
        exports.dispatch = dispatch;
        function dispatchWhenHandlerAdded(eventObj, params, preProcess) {
          if (params === void 0) {
            params = {};
          }
          var eventNameSegs = eventObj['eventName'].split('.');
          var namespace =
            eventNameSegs.length > 1 ? eventNameSegs.shift() : 'socialize';
          var eventName = eventNameSegs[0];
          dispatchRegisteredHandlers(
            eventObj,
            params,
            preProcess,
            function (dispatched) {
              // If no handlers were dispatched, we need to wait for the handler to be added
              if (dispatched == 0) {
                var eventHandlerName =
                  'on' +
                  eventName.substring(0, 1).toUpperCase() +
                  eventName.substring(1);
                var fullEventName = namespace + '_' + eventHandlerName;
                if (!_pendingEvents[fullEventName])
                  _pendingEvents[fullEventName] = [];
                _pendingEvents[fullEventName].push({
                  eventObj: eventObj,
                  params: params,
                  preProcess: preProcess,
                });
              }
            }
          );
        }
        exports.dispatchWhenHandlerAdded = dispatchWhenHandlerAdded;
        function dispatchWhenHandlersAdded(
          eventNames,
          eventObj,
          params,
          preProcess
        ) {
          if (params === void 0) {
            params = {};
          }
          for (
            var _i = 0, eventNames_1 = eventNames;
            _i < eventNames_1.length;
            _i++
          ) {
            var eventName = eventNames_1[_i];
            dispatchWhenHandlerAdded(
              tslib_1.__assign({ eventName: eventName }, eventObj),
              params,
              preProcess
            );
          }
        }
        exports.dispatchWhenHandlersAdded = dispatchWhenHandlersAdded;
        function dispatchRegisteredHandlers(
          eventObj,
          params,
          preProcess,
          callback
        ) {
          var fnDispatch = function (e) {
            var dispatched = 0;
            if (!e['cancel']) {
              dispatched = dispatch(e, params);
            }
            if (callback) {
              callback(dispatched);
            }
          };
          if (preProcess) {
            preProcess(eventObj, fnDispatch);
          } else {
            fnDispatch(eventObj);
          }
        }
        function getEventsForOperation(operation) {
          var activeLoginEvents = [];
          if (operation.toLowerCase().indexOf('login') != -1) {
            if (this._activeNamespaces.socialize)
              activeLoginEvents.push('socialize.login');
            if (this._activeNamespaces.accounts)
              activeLoginEvents.push('accounts.login');
          } else if (operation.toLowerCase().indexOf('addconnection') != -1) {
            if (this._activeNamespaces.socialize)
              activeLoginEvents.push('socialize.connectionAdded');
          }
          return activeLoginEvents.join(',');
        }
        exports.getEventsForOperation = getEventsForOperation;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Interfaces.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Interfaces.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });

        /***/
      },

    /***/ './src/core/Gigya.Js/app/InternalFlows.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/InternalFlows.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var tokenStore = __webpack_require__(
          /*! src/core/Gigya.Js.Adapters.Web/app/TokenStore */ './src/core/Gigya.Js.Adapters.Web/app/TokenStore.ts'
        );
        var localStorageUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var MessagingMethod;
        (function (MessagingMethod) {
          MessagingMethod[(MessagingMethod['LocalStorageListener'] = 0)] =
            'LocalStorageListener';
          MessagingMethod[(MessagingMethod['PostMessage'] = 1)] = 'PostMessage';
          MessagingMethod[(MessagingMethod['Flash'] = 2)] = 'Flash';
        })(
          (MessagingMethod =
            exports.MessagingMethod || (exports.MessagingMethod = {}))
        );
        function checkCompleteRegistration(res, params, methodName, callback) {
          var screenSet;
          var retry;
          var pending = false;
          var providerSessionInfo;
          if (
            res['errorCode'] == GSErrors_1.GSErrors.AFTER_EMAIL_VERIFICATION
          ) {
            // Handle autoLogin from registration link
            window.gigya.logger.info(
              'finalizing registration after email verification'
            );
            pending = true;
            window.gigya.accounts.finalizeRegistration({
              regToken: res['regToken'],
              ignoreApiQueue: true,
              callback: callback,
            });
          } else if (
            !params['ignoreInterruptions'] &&
            !params['dontHandleScreenSet'] &&
            (((res['regToken'] || params['regToken']) && // has regToken
              (res['errorCode'] ==
                GSErrors_1.GSErrors.OK_WITH_ERROR_LOGIN_IDENTIFIER_EXISTS || // socialLogin/setAccountInfo saved with loginID exist error
                res['errorCode'] ==
                  GSErrors_1.GSErrors.FORCE_LINK_LOGIN_IDENTIFIER_EXISTS || //forceLinking loginId exists
                res['errorCode'] ==
                  GSErrors_1.GSErrors.LOGIN_IDENTIFIER_EXISTS)) || // loginID exists
              res['errorCode'] ==
                GSErrors_1.GSErrors.ACCOUNT_PENDING_REGISTRATION || // pending registration
              res['errorCode'] ==
                GSErrors_1.GSErrors.ACCOUNT_PENDING_VERIFICATION || // pending email verification
              res['errorCode'] == GSErrors_1.GSErrors.ACCOUNT_MISSING_LOGINID || // pending LoginID
              res['errorCode'] ==
                GSErrors_1.GSErrors.ACCOUNT_PENDING_TFA_VERIFICATION || // pending TFA verification
              res['errorCode'] ==
                GSErrors_1.GSErrors.ACCOUNT_PENDING_TFA_REGISTRATION || // pending TFA registration
              res['errorCode'] ==
                GSErrors_1.GSErrors.ACCOUNT_PENDING_RECENT_LOGIN || // pending recent login
              res['errorCode'] == GSErrors_1.GSErrors.PENDING_PASSWORD_CHANGE || // pending password change
              res['errorCode'] == GSErrors_1.GSErrors.PENDING_CODE_VERIFICATION) // pending code verification
          ) {
            if (
              res['errorCode'] ==
              GSErrors_1.GSErrors.FORCE_LINK_LOGIN_IDENTIFIER_EXISTS
            ) {
              providerSessionInfo = {
                access_token: res['access_token'],
                provider: res['provider'],
                provider_uid: res['provider_uid'],
                idToken: res['id_token'],
                code: res['code'],
                lastName: res['lastName'],
                firstName: res['firstName'],
              };
            }
            var newModal;
            if (
              res['errorCode'] ==
              GSErrors_1.GSErrors.ACCOUNT_PENDING_RECENT_LOGIN
            ) {
              retry = true;
              newModal = true;
            }
            if (
              params['defaultMobileRegScreenSet'] &&
              LocalInfo_1.localInfo.isMobile
            ) {
              screenSet = params['defaultMobileRegScreenSet'];
            } else if (params['defaultRegScreenSet']) {
              screenSet = params['defaultRegScreenSet'];
            }
          }
          if (screenSet) {
            window.gigya.logger.info(
              "showing screenset '" +
                screenSet +
                "' for errorCode " +
                res['errorCode']
            );
            window.gigya.logger.group(screenSet);
            window.gigya.accounts.showScreenSet({
              ignoreApiQueue: true,
              newModal: newModal,
              screenSet: screenSet,
              initialMethod: methodName,
              initialResponse: res,
              suppressLoginEvent: params['suppressLoginEvent'],
              providerSessionInfo: providerSessionInfo,
              onError: function (e) {
                callback(res);
              },
              onHide: function (e) {
                window.gigya.logger.groupEnd(screenSet);
                if (e.reason === 'finished' && e.user) {
                  var successResponse = {
                    errorCode: 0,
                    userInfo: e.user,
                    source: e.source,
                  };
                  callback(successResponse, true, retry);
                } else {
                  callback(res);
                }
              },
            });
          } else if (!pending) {
            callback(res);
          }
        }
        exports.checkCompleteRegistration = checkCompleteRegistration;
        function checkGroupInvitation(params) {
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var confirmation, screenSet;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  if (!params.invitationId) {
                    window.gigya.events.global.dispatchWhenHandlersAdded(
                      ['accounts.error', 'socialize.error'],
                      {
                        status: 'MISSING_REQUIRED_PARAMETER',
                        statusMessage:
                          'Missing required parameter: invitationId',
                        errorCode:
                          GSErrors_1.GSErrors.MISSING_REQUIRED_PARAMETER,
                        errorMessage:
                          'Missing required parameter: invitationId',
                      }
                    );
                  }
                  return [
                    4 /*yield*/,
                    confirmGroupInvitation(params.invitationId),
                  ];
                case 1:
                  confirmation = _a.sent();
                  if (!!confirmation.token) return [3 /*break*/, 2];
                  window.gigya.events.global.dispatchWhenHandlersAdded(
                    ['accounts.error', 'socialize.error'],
                    confirmation
                  );
                  return [3 /*break*/, 5];
                case 2:
                  if (!(tokenStore.get() === null)) return [3 /*break*/, 3];
                  window.gigya.accounts.addEventHandlers({
                    onLogin: function () {
                      return tslib_1.__awaiter(
                        this,
                        void 0,
                        void 0,
                        function () {
                          return tslib_1.__generator(this, function (_a) {
                            switch (_a.label) {
                              case 0:
                                return [
                                  4 /*yield*/,
                                  finalizeGroupInvitation(confirmation.token),
                                ];
                              case 1:
                                _a.sent();
                                return [2 /*return*/];
                            }
                          });
                        }
                      );
                    },
                  });
                  screenSet = LocalInfo_1.localInfo.isMobile
                    ? window.gigya.thisScript.globalConf
                        .defaultMobileRegScreenSet
                    : window.gigya.thisScript.globalConf.defaultRegScreenSet;
                  window.gigya.accounts.showScreenSet({
                    ignoreApiQueue: true,
                    screenSet: screenSet,
                  });
                  return [3 /*break*/, 5];
                case 3:
                  return [
                    4 /*yield*/,
                    finalizeGroupInvitation(confirmation.token),
                  ];
                case 4:
                  _a.sent();
                  _a.label = 5;
                case 5:
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.checkGroupInvitation = checkGroupInvitation;
        function confirmGroupInvitation(invitationId) {
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  window.gigya.accounts.groups.invitationConfirm({
                    ignoreApiQueue: true,
                    invitationId: invitationId,
                    callback: resolve,
                  });
                }),
              ];
            });
          });
        }
        function finalizeGroupInvitation(token) {
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  window.gigya.accounts.groups.finalizeInvitation({
                    ignoreApiQueue: true,
                    token: token,
                    callback: function (result) {
                      if (result.errorCode !== GSErrors_1.GSErrors.OK) {
                        window.gigya.events.global.dispatchWhenHandlersAdded(
                          ['accounts.error', 'socialize.error'],
                          result
                        );
                      } else {
                        window.gigya.events.global.dispatchWhenHandlersAdded(
                          [
                            'accounts.finalizeGroupInvitation',
                            'socialize.finalizeGroupInvitation',
                          ],
                          result
                        );
                      }
                      resolve();
                    },
                  });
                }),
              ];
            });
          });
        }
        function getGigyaSettings(group) {
          var gigyaSettings = localStorageUtils.getObject('gigyaSettings');
          return JSONUtils.serialize(gigyaSettings[group]);
        }
        exports.getGigyaSettings = getGigyaSettings;
        function setGigyaSettings(group, settings) {
          var _a;
          var gigyaSettings = localStorageUtils.getObject(
            'gigyaSettings',
            ((_a = {}), (_a[group] = {}), _a)
          );
          for (var p in settings) {
            gigyaSettings[group][p] = settings[p];
          }
          localStorageUtils.setItem(
            'gigyaSettings',
            JSONUtils.serialize(gigyaSettings)
          );
        }
        exports.setGigyaSettings = setGigyaSettings;
        function delGigyaSettings(group) {
          if (!group) {
            localStorageUtils.removeItem('gigyaSettings');
          } else {
            var gigyaSettings = localStorageUtils.getObject('gigyaSettings');
            if (gigyaSettings) {
              delete gigyaSettings[group];
              localStorageUtils.setItem(
                'gigyaSettings',
                JSONUtils.serialize(gigyaSettings)
              );
            }
          }
        }
        exports.delGigyaSettings = delGigyaSettings;
        function handleSpecialFields(o) {
          var collection = window.gigya.socialize.Collection;
          var toTyped = function (arr, ctor) {
            var oarr = [];
            var i = 0;
            var el = arr[i];
            while (el) {
              oarr.push(new ctor(el));
              if (oarr[i].identities) {
                convertIdentitiesArrayToObject(oarr[i]);
              }
              el = arr[++i];
            }
            return oarr;
          };
          if (o.photos) o.photos = new collection(o.photos, 'photoID');
          if (o.albums) o.albums = new collection(o.albums, 'albumID');
          if (o.contacts)
            o.contacts = new collection(
              toTyped(o.contacts, window.gigya.socialize.Contact),
              'email'
            );
          if (o.friend)
            o.friend = new collection(
              toTyped(o.friend, window.gigya.socialize.Friend),
              'UID'
            );
          if (o.user) o.user = new window.gigya.socialize.User(o.user);
          if (o.friends && o.friends instanceof Array) {
            var arUIDs = [];
            for (var i = 0; i < o.friends.length; i++) {
              arUIDs.push(o.friends[i].UID);
            }
            o.UIDs = arUIDs.join(',');
            o.friends = new collection(
              toTyped(o.friends, window.gigya.socialize.Friend),
              'UID'
            );
          }
        }
        exports.handleSpecialFields = handleSpecialFields;
        function convertIdentitiesArrayToObject(o) {
          if (o.identities == null) {
            o.identities = {};
            return;
          }
          if (o.identities.constructor != Array) {
            return;
          }
          var identitiesArray = o.identities;
          o.identities = {};
          for (var i = 0; i < identitiesArray.length; i++) {
            o.identities[identitiesArray[i].provider] =
              new window.gigya.socialize.Identity(identitiesArray[i]);
          }
        }
        exports.convertIdentitiesArrayToObject = convertIdentitiesArrayToObject;
        function addUserInfoToEvent(
          response,
          targetObject,
          addLoginProperties,
          useBasePhotoURL
        ) {
          var oUser = response['user'] || response['userInfo'];
          if (targetObject == null) targetObject = {};
          if (oUser != null) {
            targetObject['user'] = objectUtils.clone(oUser);
            if (response['isLoggedIn'] != null)
              targetObject['user']['isLoggedIn'] = response['isLoggedIn'];
            if (response['isSiteUID'] != null)
              targetObject['user']['isSiteUID'] = response['isSiteUID'];
            if (response['iRank'] != null)
              targetObject['user']['iRank'] = response['iRank'];
          }
          if (addLoginProperties) {
            objectUtils.extractProperties(
              response,
              targetObject,
              'signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|signKeysUIDSignature|dataCenter|id_token|groups'
            );
            if (targetObject['user'] != null) {
              targetObject['UID'] = oUser.UID;
              targetObject['isSiteUID'] = oUser.isSiteUID;
              // isSiteUID is temporary for https://gigya.my.salesforce.com/5004000000T3qcZ
            }
          }
          return targetObject;
        }
        exports.addUserInfoToEvent = addUserInfoToEvent;
        function sendEmailNative(params) {
          var userAction = params['userAction'] || {};
          var subject = userAction['title'] || '';
          var body = userAction['linkBack'] || '';
          document.location.href =
            'mailto:?to=&subject=' +
            URLUtils.URLEncode(subject) +
            '&body=' +
            URLUtils.URLEncode(body);
          window.gigya.socialize.sendEmail(params, { dontSendEmail: true }); // To report that send without sending it
        }
        exports.sendEmailNative = sendEmailNative;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/LegacyLogger.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/LegacyLogger.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var scriptUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ./Utils/cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        exports.CONSOLE_LOG_LEVELS = ['debug', 'info', 'log', 'warn', 'error'];
        exports.selectedConsoleLogLevels = [];
        exports._log = [];
        function enable() {
          cookie_1.default.set('_gig_dbgConsole_log', '1', null);
        }
        exports.enable = enable;
        function disable() {
          cookie_1.default.set('_gig_dbgConsole_log', '0', null);
        }
        exports.disable = disable;
        function _isEnabled() {
          var isManuallyEnabled =
            !window.gigya.localInfo.isNativeMobileApp &&
            cookie_1.default.get('_gig_dbgConsole_log');
          if (
            typeof isManuallyEnabled !== 'undefined' &&
            isManuallyEnabled != null
          ) {
            return isManuallyEnabled === '1';
          }
          return exports.selectedConsoleLogLevels.length > 0;
        }
        exports._isEnabled = _isEnabled;
        function addLog(title, obj, writeToConsole) {
          if (writeToConsole === void 0) {
            writeToConsole = false;
          }
          if (_isEnabled() || writeToConsole) {
            var sLog = title;
            obj = objectUtils.clone(obj, true, false, 4, null, true);
            if (obj != null)
              sLog +=
                ':' +
                (typeof obj == 'object' ? '\n' : '') +
                JSONUtils.serialize(obj, true, true);
            if (writeToConsole && typeof console == 'object' && console.log)
              console.log(sLog);
            if (_isEnabled()) {
              exports._log.push(sLog);
              if (document.getElementById('gigya_log') != null && show) show();
              var logType;
              if (arrayUtils.indexOf(exports.CONSOLE_LOG_LEVELS, title) != -1)
                logType = title;
              else logType = 'log';
              window.gigya._.apiAdapter.onJSLog(logType, sLog);
            }
          }
        }
        exports.addLog = addLog;
        function logCall(name, params, lastSource) {
          if (!lastSource) lastSource = params.lastSource;
          addLog(
            'Calling ' +
              name +
              (lastSource && lastSource != name ? ' for ' + lastSource : '') +
              (params.source && lastSource != params.source
                ? ' initiated from ' + params.source
                : '') +
              ' with these params',
            params
          );
        }
        exports.logCall = logCall;
        function debug() {
          scriptUtils.load(
            cdn_1.getCdnResource(
              '/js/gigya.services.socialize.plugins.log.min.js'
            ),
            null,
            function () {
              showConfig();
            },
            true
          );
        }
        exports.debug = debug;
        function showLog() {
          scriptUtils.load(
            cdn_1.getCdnResource(
              '/js/gigya.services.socialize.plugins.log.min.js'
            ),
            null,
            function () {
              show();
            },
            true
          );
        }
        exports.showLog = showLog;
        function show() {}
        exports.show = show;
        function showConfig() {}
        exports.showConfig = showConfig;
        functionsUtils.createAlias('gigya.debug', debug);

        /***/
      },

    /***/ './src/core/Gigya.Js/app/LegacyReports.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/LegacyReports.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        function trackAddressBarShares() {
          if (window.gigya.thisScript.globalConf['trackAddressBarShares']) {
            var uuid = window.gigya._.apiAdapter.getTokenParam(
              window.gigya.thisScript.APIKey,
              'UUID'
            );
            var arFragment = document.location.href.split('#');
            if (
              arFragment.length == 1 ||
              arFragment[1] == '' ||
              arFragment[1] == 'guid=_'
            ) {
              document.location.replace('#guid=' + (uuid ? uuid : '_'));
            }
          }
        }
        exports.trackAddressBarShares = trackAddressBarShares;
        function report(
          event,
          APIKey,
          cid,
          source,
          sourceData,
          params,
          ignoreQueue
        ) {
          if (params === void 0) {
            params = {};
          }
          if (ignoreQueue === void 0) {
            ignoreQueue = false;
          }
          var report = objectUtils.removeUndefined({
            name: event,
            time: new Date().getTime().toString(),
            source: source,
            sourceData: sourceData,
            reportData: params,
            cid: cid,
          });
          if (!ignoreQueue) {
            if (!exports.queue) exports.queue = [];
            exports.queue.push(report);
          } else {
            var array = [report];
            window.gigya.gscounters.sendReport({
              reports: array,
              noAuth: !isAuthDataRequired(array),
            });
          }
        }
        exports.report = report;
        function init() {
          setInterval(sendReports, 5000);
        }
        exports.init = init;
        function sendReports() {
          while (exports.queue && exports.queue.length > 0) {
            var batch = objectUtils.clone(
              exports.queue.splice(0, 5),
              true,
              true
            );
            window.gigya.gscounters.sendReport({
              reports: batch,
              noAuth: !isAuthDataRequired(batch),
            });
          }
        }
        function isAuthDataRequired(reports) {
          for (var i = 0; i < reports.length; i++) {
            var report = reports[i];
            if (
              (report.name !== 'loadc' && report.name !== 'load') ||
              (report.name === 'loadc' &&
                report.reportData &&
                report.reportData['actionCounterPath'])
            ) {
              return true;
            }
          }
          return false;
        }
        function reportLoad(methodName, params) {
          if (!params._reportedLoad) {
            params._reportedLoad = true;
            var event = 'load';
            if (
              methodName ==
              'gigya.socialize.plugins.reactions.showReactionsBarUI'
            )
              return; //reactionsBarUI reports load with getReactionsCount
            if (
              methodName ==
              'gigya.socialize.plugins.simpleshare.showSimpleShareUI'
            ) {
              event = 'loadSimple';
            }
            report(
              event,
              params.APIKey,
              params.cid,
              params.source,
              params.sourceData
            );
          }
        }
        exports.reportLoad = reportLoad;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/LocalInfo.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/LocalInfo.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        // Local environment info (browser, capabilities, hosting domain)
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var userAgent = navigator.userAgent.toLowerCase();
        exports.localInfo = {
          baseDomain: '',
          isBrowserSupportsFilesAPI: (function () {
            return (
              typeof FileReader === 'function' || typeof FileReader === 'object'
            );
          })(),
          initTime: new Date(),
          version: 0,
          pageDomain: document.location.hostname,
          protocol: document.location.protocol == 'http:' ? 'http' : 'https',
          userAgent: userAgent,
          isWin: userAgent.indexOf('win') != -1,
          isIE:
            userAgent.indexOf('msie') != -1 ||
            (userAgent.indexOf('mozilla') != -1 &&
              userAgent.indexOf('trident') != -1),
          isIE6: userAgent.indexOf('msie 6.') != -1,
          isIE7: userAgent.indexOf('msie 7.') != -1,
          isIE8: userAgent.indexOf('msie 8.') != -1,
          isIE9: userAgent.indexOf('msie 9.') != -1,
          isIE10: userAgent.indexOf('msie 10.') != -1,
          isIE11:
            userAgent.indexOf('mozilla') != -1 &&
            userAgent.indexOf('trident/7.0') != -1,
          isEdgeLegacy: userAgent.indexOf('edge') != -1,
          isEdge: RegExp(/edg(?!e)/).test(userAgent),
          isIOS:
            userAgent.indexOf('iphone') != -1 ||
            userAgent.indexOf('ipad') != -1 ||
            userAgent.indexOf('ipod') != -1,
          isSafari534: userAgent.indexOf('safari/534') != -1,
          isWeChat: userAgent.indexOf('micromessenger') != -1,
          iosVersion: (function () {
            if (
              userAgent.indexOf('applewebkit') != -1 &&
              userAgent.indexOf('version/') != -1
            ) {
              return parseInt(userAgent.split('version/')[1].split(' ')[0]);
            } else return 0;
          })(),
          isAndroid: userAgent.indexOf('android') != -1,
          isAndroidBrowser: (function (userAgent) {
            if (userAgent.indexOf('mozilla/5.0') === -1) return false;
            if (userAgent.indexOf('android 4') === -1) return false;
            if (userAgent.indexOf('applewebkit') === -1) return false;
            if (userAgent.indexOf('windows phone') !== -1) return false;
            // Special user agents found so far that violate the existance of chrome rule
            // Bug 38367 Android Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-us; SAMSUNG GT-I9500 Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Version/1.0 Chrome/18.0.1025.308 Mobile Safari/535.19
            // Bug 40209 Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; SAMSUNG SGT-I747 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.93 Mobile Safari/537.36
            // Windows Phone Browser: Mozilla/5.0 (Mobile; Windows Phone 8.1; Android 4.0; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 920) like iPhone OS 7_0_3 Mac OS X AppleWebKit/537 (KHTML, like Gecko) Mobile Safari/537
            // Chrome Browser: Mozilla/5.0 (Linux; Android 4.2.2; en-gb; SAMSUNG GT-I9500 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/1.5 Chrome/28.0.1500.94 Mobile Safari/537.36
            var chromeInfo = /chrome\/(\d+)/.exec(userAgent);
            if (!chromeInfo) return true;
            var chromeVersion = parseInt(chromeInfo[1]);
            return chromeVersion < 20;
          })(userAgent),
          currentBrowser: '',
          androidVersion: (function () {
            if (userAgent.indexOf('android') != -1) {
              return parseFloat(
                userAgent.slice(userAgent.indexOf('android') + 8)
              );
            } else return 0;
          })(),
          isChrome:
            userAgent.indexOf('chrome') != -1 && userAgent.indexOf('edg') == -1,
          isGoogleBot: userAgent.indexOf('googlebot') != -1,
          isFF: userAgent.indexOf('firefox') != -1,
          isOpera: userAgent.indexOf('opera') != -1,
          isSafari:
            navigator.appVersion &&
            navigator.appVersion.toLowerCase().indexOf('safari') != -1 &&
            navigator.appVersion.toLowerCase().indexOf('chrome') == -1 &&
            userAgent.indexOf('android') == -1,
          isIOSWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(
            navigator.userAgent
          ),
          isIOSChrome: userAgent.indexOf('crios') != -1,
          isMAC:
            navigator.appVersion &&
            navigator.appVersion.toLowerCase().indexOf('mac') != -1,
          isWindowsPhone: userAgent.indexOf('windows phone') != -1,
          isFacebookBrowser:
            userAgent.indexOf('fban') != -1 || userAgent.indexOf('fbav') != -1,
          supportsPostMessage:
            window.postMessage != null &&
            (userAgent.indexOf('msie') == -1 ||
              userAgent.indexOf('iemobile') != -1),
          supportsLocalStorage: false,
          supportsSessionStorage: false,
          supportsFlash: (function () {
            // http://stackoverflow.com/questions/998245/how-can-i-detect-if-flash-is-installed-and-if-not-display-a-hidden-div-that-inf
            var supportsFlash = false;
            try {
              if (
                navigator.mimeTypes &&
                navigator.mimeTypes['application/x-shockwave-flash'] !=
                  undefined &&
                navigator.mimeTypes['application/x-shockwave-flash']
                  .enabledPlugin
              ) {
                supportsFlash = true;
              } else {
                var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
                if (fo) {
                  supportsFlash = true;
                }
              }
            } catch (e) {}
            return supportsFlash;
          })(),
          quirksMode:
            document.compatMode == 'BackCompat' &&
            userAgent.indexOf('msie') != -1,
          backCompat: document.compatMode == 'BackCompat',
          // TODO: Add isTablet function for devices non-Mobile
          isMobile: (function () {
            var mobileClients = [
              'iphone',
              'ipod',
              'android',
              'midp',
              '240x320',
              'blackberry',
              'netfront',
              'nokia',
              'panasonic',
              'portalmmm',
              'sharp',
              'sie-',
              'sonyericsson',
              'symbian',
              'windows ce',
              'benq',
              'mda',
              'mot-',
              'opera mini',
              'philips',
              'pocket pc',
              'sagem',
              'samsung',
              'htc',
            ];
            for (var i in mobileClients) {
              if (userAgent.indexOf(mobileClients[i]) != -1) {
                return true;
              }
            }
            return false;
          })(),
          isMobileApp: (function () {
            if (!document.getElementsByTagName)
              // for old IE
              return false;
            var metaTags = document.getElementsByTagName('meta');
            for (var i = 0; i < metaTags.length; i++) {
              if (metaTags[i].getAttribute('name') == 'viewport') {
                var content = metaTags[i].getAttribute('content');
                if (content && content.indexOf('width=device-width') !== -1)
                  return true;
              }
            }
            return false;
          })(),
          isNativeMobileApp: false,
          isTouch: (function () {
            if ('ontouchstart' in window)
              // works on most browsers
              return true;
            if ('onmsgesturechange' in window) {
              // works on ie10
              // Try to determine if IE is open in metro mode. Metro doesn't allow activeX, that's the best test available as of IE11.
              try {
                new ActiveXObject('htmlfile');
                return false;
              } catch (e) {
                return true;
              }
            }
            return false;
          })(),
          isOnLine: function () {
            return navigator.onLine;
          },
          messagingMethod: 1,
        };
        var isStorageEnabled = function (storageName) {
          try {
            var storage = window[storageName];
            if (!storage) {
              return false;
            }
            var testName = '_gig_localStorage_test';
            var testValue = 'just checking for localStorage';
            storage.setItem(testName, testValue);
            var result = storage.getItem(testName) === testValue;
            storage.removeItem(testName);
            return result;
          } catch (ex) {
            // Reasons:
            // - Inside 3rd party API proxy iFrame.
            // - Safari in incognito mode will error with "quota exceeded".
            // - Chrome with 3rd party cookies disabled will throw an error if you access the window.localStorage object in ANY way.
            return false;
          }
        };
        exports.localInfo.supportsLocalStorage =
          isStorageEnabled('localStorage');
        exports.localInfo.supportsSessionStorage =
          isStorageEnabled('sessionStorage');
        exports.localInfo.isMAC =
          exports.localInfo.isMAC && !exports.localInfo.isIOS;
        var os = exports.localInfo.isWin
          ? 'windows'
          : exports.localInfo.isWindowsPhone
          ? 'winphone'
          : exports.localInfo.isIOS
          ? 'ios-v' + exports.localInfo.iosVersion
          : exports.localInfo.isMAC
          ? 'mac'
          : exports.localInfo.isAndroid
          ? 'android'
          : '';
        if (os) os += ' ';
        var browser = exports.localInfo.isChrome
          ? 'chrome'
          : exports.localInfo.isFF
          ? 'firefox'
          : exports.localInfo.isSafari
          ? 'safari'
          : exports.localInfo.isEdge
          ? 'edge'
          : exports.localInfo.isEdgeLegacy
          ? 'edge legacy'
          : exports.localInfo.isIE11
          ? 'ie11'
          : exports.localInfo.isIE10
          ? 'ie10'
          : exports.localInfo.isIE9
          ? 'ie9'
          : exports.localInfo.isIE8
          ? 'ie8'
          : '';
        exports.localInfo.currentBrowser = os + browser;
        var ClientFeature = /** @class */ (function () {
          function ClientFeature(navigator, screen) {
            if (navigator === void 0) {
              navigator = window.gigya._.WindowProvider.navigator();
            }
            if (screen === void 0) {
              screen = window.gigya._.WindowProvider.screen();
            }
            this.navigator = navigator;
            this.screen = screen;
            this.collectData();
          }
          ClientFeature.prototype.collectData = function () {
            var _a, _b, _c, _d, _e, _f, _g;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var permissionStatus,
                state,
                batteryInfo,
                _h,
                charging,
                chargingTime,
                dischargingTime,
                level;
              return tslib_1.__generator(this, function (_j) {
                switch (_j.label) {
                  case 0:
                    this.userAgent =
                      (_a = this.navigator) === null || _a === void 0
                        ? void 0
                        : _a.userAgent;
                    this.plugins = Array.from(
                      ((_b = this.navigator) === null || _b === void 0
                        ? void 0
                        : _b.plugins) || []
                    ).map(function (_a) {
                      var name = _a.name,
                        filename = _a.filename,
                        length = _a.length;
                      return { name: name, filename: filename, length: length };
                    });
                    this.localTime = new Date().toLocaleTimeString();
                    this.timezoneOffset = new Date().getTimezoneOffset();
                    return [
                      4 /*yield*/,
                      (_d =
                        (_c = this.navigator) === null || _c === void 0
                          ? void 0
                          : _c.permissions) === null || _d === void 0
                        ? void 0
                        : _d.query({ name: 'notifications' }),
                    ];
                  case 1:
                    permissionStatus = _j.sent();
                    if (permissionStatus) {
                      state = permissionStatus.state;
                      this.permissionStatus = { state: state };
                    }
                    this.webdriver =
                      (_e = this.navigator) === null || _e === void 0
                        ? void 0
                        : _e.webdriver;
                    _h = this.navigator.getBattery;
                    if (!_h) return [3 /*break*/, 3];
                    return [4 /*yield*/, this.navigator.getBattery()];
                  case 2:
                    _h = _j.sent();
                    _j.label = 3;
                  case 3:
                    batteryInfo = _h;
                    if (batteryInfo) {
                      (charging = batteryInfo.charging),
                        (chargingTime = batteryInfo.chargingTime),
                        (dischargingTime = batteryInfo.dischargingTime),
                        (level = batteryInfo.level);
                      this.batteryInfo = {
                        charging: charging,
                        chargingTime: chargingTime,
                        dischargingTime: dischargingTime,
                        level: level,
                      };
                    }
                    this.features = [
                      ((_f = this.navigator) === null || _f === void 0
                        ? void 0
                        : _f.maxTouchPoints) ||
                        ((_g = this.navigator) === null || _g === void 0
                          ? void 0
                          : _g.msMaxTouchPoints),
                      this.screen.width +
                        '|' +
                        this.screen.height +
                        '|' +
                        this.screen.colorDepth,
                      this.navigator.javaEnabled(),
                      'sendBeacon' in this.navigator,
                    ];
                    return [2 /*return*/];
                }
              });
            });
          };
          return ClientFeature;
        })();
        exports.ClientFeature = ClientFeature;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/baseLogger.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/baseLogger.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a;
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var interfaces_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/interfaces */ './src/core/Gigya.Js/app/Logger/interfaces.ts'
        );
        var stringParams_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
        );
        exports.gigErrorReport = 'gigErrorReport';
        var defaultLoggerConfig = {
          logLevel: interfaces_1.LogLevel.disabled,
          clientMuteLevel: interfaces_1.ClientMuteLevel.none,
          logTheme: interfaces_1.LogTheme.dark,
        };
        var themes =
          ((_a = {}),
          (_a[interfaces_1.LogTheme.none] = ['']),
          (_a[interfaces_1.LogTheme.dark] = [
            '38f689',
            '009FD4',
            'b381b3',
            '71b6ef',
            '64c162',
            '977bd8',
            'd168a4',
            '4c71d2',
            '84b466',
            '7d638a',
            '799fb7',
            '8fdf98',
            'dc7767',
            '0a70f5',
            '38b159',
            'af721b',
            'bfaf6f',
          ]),
          (_a[interfaces_1.LogTheme.light] = [
            '40806A',
            '003636',
            '9B59B6',
            'DB0A5B',
            '7928A1',
            '522032',
            '0000E0',
            '00202A',
            '000036',
            '005555',
            '1D781D',
            '4F5A65',
            '765AB0',
            '000000',
            '3C1362',
            '000060',
            '591D77',
          ]),
          _a);
        var selfLogsCss = 'color: #b0b0b0b0;';
        var noCss = '';
        var severityThreshold = interfaces_1.LogLevel.warn;
        var defaultGroupBehavior = interfaces_1.GroupBehavior.collapsed;
        var noopLoggerFn = function (message) {
          var optionalParams = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            optionalParams[_i - 1] = arguments[_i];
          }
        };
        var BaseLogger = /** @class */ (function () {
          function BaseLogger(_global) {
            this._global = _global;
            this._groupsStack = [];
            this._currColorIdx = 0;
            this.configKey = 'gig_loggerConfig';
            this._console = this._global.console;
            if (this.isEnabled) {
              this.overrideClientLogs();
            }
          }
          BaseLogger.prototype.getConfig = function () {
            if (!this._config) {
              this._config =
                this.readLoggerConfigFromHash() || // inner frames reads config from hash
                this.readLoggerConfigFromCookie() || // top frames reads config from cookie
                defaultLoggerConfig;
            }
            return this._config;
          };
          Object.defineProperty(BaseLogger.prototype, 'isEnabled', {
            get: function () {
              return this.getConfig().logLevel > interfaces_1.LogLevel.disabled;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'logLevel', {
            get: function () {
              return this.getConfig().logLevel;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'palette', {
            get: function () {
              return themes[this.getConfig().logTheme];
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.getNextColor = function () {
            if (this.getConfig().logTheme === interfaces_1.LogTheme.none) {
              return '';
            }
            if (this._currColorIdx >= this.palette.length) {
              this._currColorIdx = 0;
            }
            return '#' + this.palette[this._currColorIdx++];
          };
          Object.defineProperty(BaseLogger.prototype, 'currentGroup', {
            get: function () {
              return this._groupsStack[this._groupsStack.length - 1];
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.readLoggerConfigFromHash = function () {
            var res = null;
            var loggerConfigStr = stringParams_1.getReqParamValue(
              location.hash,
              this.configKey
            );
            if (loggerConfigStr) {
              try {
                res = JSON.parse(decodeURIComponent(loggerConfigStr));
              } catch (e) {
                console.error(
                  '[Gigya]: exception while trying to parse logger config from hash',
                  e
                );
              }
            }
            return res;
          };
          BaseLogger.prototype.readLoggerConfigFromCookie = function () {
            try {
              var res = null;
              var cookie = stringParams_1.getParamValue(
                document.cookie,
                this.configKey,
                ';'
              );
              if (cookie) {
                try {
                  res = JSON.parse(cookie);
                } catch (e) {
                  console.error(
                    '[Gigya]: exception while trying to parse logger config from cookie',
                    e
                  );
                }
              }
              return res;
            } catch (e) {
              // iOS 10 webview throws in some scenarios
              return undefined;
            }
          };
          BaseLogger.prototype.setLoggerConfigCookie = function (loggerConfig) {
            document.cookie =
              this.configKey + '=' + JSON.stringify(loggerConfig);
          };
          BaseLogger.prototype.overrideClientLogs = function () {
            var _this = this;
            var Proxy = this._global['Proxy'];
            if (!Proxy) {
              return;
            }
            switch (this.getConfig().clientMuteLevel) {
              // do nothing
              case interfaces_1.ClientMuteLevel.none:
                break;
              // replace native console with a dummy
              case interfaces_1.ClientMuteLevel.all:
                this._global.console = new Proxy(this._global.console, {
                  get: function () {
                    return noopLoggerFn;
                  },
                });
                break;
              // override the group api and output a prefixed client log
              case interfaces_1.ClientMuteLevel.normal:
              default:
                this._global.console = new Proxy(this._global.console, {
                  get: function (target, property) {
                    return ['group', 'groupCollapsed', 'groupEnd'].indexOf(
                      property
                    ) !== -1
                      ? function () {
                          var _a;
                          var args = [];
                          for (var _i = 0; _i < arguments.length; _i++) {
                            args[_i] = arguments[_i];
                          }
                          return (_a = _this._console).log.apply(
                            _a,
                            tslib_1.__spreadArrays(
                              ['client has called console.' + property],
                              args
                            )
                          );
                        }
                      : target[property];
                  },
                });
                break;
            }
          };
          BaseLogger.prototype.getFormattedLogArgs = function (text, logGroup) {
            if (text === void 0) {
              text = '';
            }
            if (logGroup === void 0) {
              logGroup = this.currentGroup;
            }
            return {
              text: logGroup ? '%c\u2588' + text : '%c' + text,
              css: logGroup ? 'color: ' + logGroup.color + ';' : '',
            };
          };
          BaseLogger.prototype.restoreHangingGroups = function (hangingGroups) {
            // restore groups stack after a parent group has ended
            while (hangingGroups.length) {
              // restore the groups stack
              var group = hangingGroups.shift();
              this._groupsStack.push(group);
              // indicate group has been restored
              var logArgs = this.getFormattedLogArgs(
                ' %c[RESTORED - ' + group.groupTitle + ']'
              );
              this._console.groupCollapsed(
                logArgs.text,
                logArgs.css,
                selfLogsCss
              );
            }
          };
          BaseLogger.prototype.endGroup = function (group) {
            var logArgs = this.getFormattedLogArgs(
              ' [END - ' + group.groupTitle + ']',
              group
            );
            this._console.log(logArgs.text, logArgs.css);
            this._console.groupEnd();
          };
          BaseLogger.prototype.log = function (severity) {
            // log if one of the following
            // [1] logging is enabled and the log's severity is greater or equal to the configured logLevel
            // [2] severity is greater than the threshold but the configured logLevel is not greater than the threshold
            if (
              (this.isEnabled && severity >= this.logLevel) || // log
              (severity >= severityThreshold &&
                this.logLevel < severityThreshold)
            ) {
              // normalize log level
              var originalLogLevel = interfaces_1.LogLevel[severity];
              var normalizedLogLevel =
                severity === interfaces_1.LogLevel.debug
                  ? interfaces_1.LogLevel[interfaces_1.LogLevel.info] // using console.info for debug level
                  : originalLogLevel;
              // get formatted args and return the bound log function
              var logArgs = this.getFormattedLogArgs(
                ' %c[' + originalLogLevel + ']'
              );
              return this._console[normalizedLogLevel].bind(
                this._console,
                logArgs.text,
                logArgs.css,
                severity <= interfaces_1.LogLevel.info ? selfLogsCss : noCss
              );
            }
            return noopLoggerFn;
          };
          BaseLogger.prototype.getJsonFromError = function (err) {
            return {
              name: err.name,
              message: err.message,
              stack: err.stack,
            };
          };
          BaseLogger.prototype.errorParser = function (details) {
            var _this = this;
            var formatter = function (k, v) {
              return v instanceof Error ? _this.getJsonFromError(v) : v;
            };
            return JSON.parse(JSON.stringify(details, formatter));
          };
          Object.defineProperty(BaseLogger.prototype, 'debug', {
            get: function () {
              return this.log(interfaces_1.LogLevel.debug);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'info', {
            get: function () {
              return this.log(interfaces_1.LogLevel.info);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'warn', {
            get: function () {
              return this.log(interfaces_1.LogLevel.warn);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(BaseLogger.prototype, 'error', {
            get: function () {
              var _this = this;
              return function (message, details) {
                if (details && typeof details === 'object') {
                  details = _this.errorParser(details);
                }
                _this
                  .log(interfaces_1.LogLevel.error)
                  .apply(_this, [message].concat([details]));
                _this.report(message, details);
              };
            },
            enumerable: true,
            configurable: true,
          });
          BaseLogger.prototype.group = function (groupTitle, collapsed) {
            var _this = this;
            if (collapsed === void 0) {
              collapsed =
                defaultGroupBehavior === interfaces_1.GroupBehavior.collapsed;
            }
            if (this.isEnabled) {
              var color = this.getNextColor();
              var groupLog = function () {
                var _a, _b;
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                return collapsed
                  ? (_a = _this._console).groupCollapsed.apply(_a, args)
                  : (_b = _this._console).group.apply(_b, args);
              };
              this._groupsStack.push({ groupTitle: groupTitle, color: color });
              var logArgs = this.getFormattedLogArgs(
                ' [START - ' + groupTitle + ']'
              );
              groupLog(logArgs.text, logArgs.css);
            }
            return {
              end: function () {
                return _this.groupEnd(groupTitle);
              },
              endWhen: function (done) {
                if (typeof done == 'function') {
                  done = done();
                }
                if (done && done.then) {
                  done.then(function () {
                    return _this.groupEnd(groupTitle);
                  });
                } else {
                  // sync
                  _this.groupEnd(groupTitle);
                }
              },
            };
          };
          BaseLogger.prototype.groupEnd = function (groupTitle) {
            if (this.isEnabled) {
              var hangingGroups = [];
              var currGroup = this._groupsStack.pop(); // get the current active group
              // while the current group is not the same as the one that we want to end and we have other groups in the stack
              while (
                currGroup.groupTitle !== groupTitle &&
                this._groupsStack.length
              ) {
                hangingGroups.unshift(currGroup); // [1] push it the current group into the temp 'hanging groups' stack
                currGroup = this._groupsStack.pop(); // [2] get the next group in stack
                this._console.groupEnd(); // [3] groupEnd for each group that is not the current group
              }
              // end the group
              this.endGroup(currGroup);
              // resume child groups
              if (hangingGroups.length) {
                this.restoreHangingGroups(hangingGroups);
              }
            }
          };
          BaseLogger.prototype.enable = function (
            logLevel,
            clientMuteLevel,
            logTheme
          ) {
            if (logLevel === void 0) {
              logLevel = interfaces_1.LogLevel.info;
            }
            if (clientMuteLevel === void 0) {
              clientMuteLevel = interfaces_1.ClientMuteLevel.normal;
            }
            if (logTheme === void 0) {
              logTheme = interfaces_1.LogTheme.dark;
            }
            this.setLoggerConfigCookie({
              logLevel: logLevel,
              clientMuteLevel: clientMuteLevel,
              logTheme: logTheme,
            });
          };
          BaseLogger.prototype.disable = function () {
            this.setLoggerConfigCookie({
              logLevel: interfaces_1.LogLevel.disabled,
              clientMuteLevel: defaultLoggerConfig.clientMuteLevel,
              logTheme: defaultLoggerConfig.logTheme,
            });
          };
          return BaseLogger;
        })();
        exports.BaseLogger = BaseLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/iFrameLogger.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/iFrameLogger.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var baseLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/baseLogger */ './src/core/Gigya.Js/app/Logger/baseLogger.ts'
        );
        var stringParams_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
        );
        var IFrameLogger = /** @class */ (function (_super) {
          tslib_1.__extends(IFrameLogger, _super);
          function IFrameLogger(_global) {
            if (_global === void 0) {
              _global = window;
            }
            var _this = _super.call(this, _global) || this;
            _this._global = _global;
            return _this;
          }
          IFrameLogger.prototype.report = function (
            message,
            details,
            includeStack
          ) {
            if (includeStack === void 0) {
              includeStack = true;
            }
            // send the report from the top frame
            try {
              // calculate the top frame origin
              var a = document.createElement('a');
              var domain =
                stringParams_1.getReqParamValue(location.hash, 'origin') ||
                stringParams_1.getReqParamValue(location.hash, 'd');
              if (!domain) return;
              a.href = domain;
              var targetOrigin =
                a.protocol + '//' + a.hostname + (a.port ? ':' + a.port : '');
              // post message
              this._global.top.postMessage(
                JSON.stringify({
                  type: baseLogger_1.gigErrorReport,
                  message: message,
                  details: details,
                  includeStack: includeStack,
                }),
                targetOrigin
              );
            } catch (e) {
              console.error(e);
            }
          };
          return IFrameLogger;
        })(baseLogger_1.BaseLogger);
        exports.IFrameLogger = IFrameLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/interfaces.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/interfaces.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LogLevel;
        (function (LogLevel) {
          LogLevel[(LogLevel['disabled'] = 0)] = 'disabled';
          LogLevel[(LogLevel['debug'] = 1)] = 'debug';
          LogLevel[(LogLevel['info'] = 2)] = 'info';
          LogLevel[(LogLevel['warn'] = 3)] = 'warn';
          LogLevel[(LogLevel['error'] = 4)] = 'error';
        })((LogLevel = exports.LogLevel || (exports.LogLevel = {})));
        var ClientMuteLevel;
        (function (ClientMuteLevel) {
          ClientMuteLevel[(ClientMuteLevel['none'] = 0)] = 'none';
          ClientMuteLevel[(ClientMuteLevel['normal'] = 1)] = 'normal';
          ClientMuteLevel[(ClientMuteLevel['all'] = 2)] = 'all';
        })(
          (ClientMuteLevel =
            exports.ClientMuteLevel || (exports.ClientMuteLevel = {}))
        );
        var LogTheme;
        (function (LogTheme) {
          LogTheme[(LogTheme['none'] = 0)] = 'none';
          LogTheme[(LogTheme['dark'] = 1)] = 'dark';
          LogTheme[(LogTheme['light'] = 2)] = 'light';
        })((LogTheme = exports.LogTheme || (exports.LogTheme = {})));
        var GroupBehavior;
        (function (GroupBehavior) {
          GroupBehavior[(GroupBehavior['expanded'] = 0)] = 'expanded';
          GroupBehavior[(GroupBehavior['collapsed'] = 1)] = 'collapsed';
        })(
          (GroupBehavior =
            exports.GroupBehavior || (exports.GroupBehavior = {}))
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/loggerJsonp.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/loggerJsonp.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function loggerJsonp(endpoint, params) {
          var script = document.createElement('script');
          script.src = endpoint + '?' + params;
          script.type = 'text/javascript';
          script.onload = function () {
            document.getElementsByTagName('head')[0].removeChild(script);
          };
          document.getElementsByTagName('head')[0].appendChild(script);
        }
        exports.loggerJsonp = loggerJsonp;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/main.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/main.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var parentLogger_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/parentLogger */ './src/core/Gigya.Js/app/Logger/parentLogger.ts'
          );
          var iFrameLogger_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/iFrameLogger */ './src/core/Gigya.Js/app/Logger/iFrameLogger.ts'
          );
          if (!window.gigya.logger) {
            __webpack_provided_Object_dot_assign(window.gigya, {
              logger:
                window === window.top
                  ? new parentLogger_1.ParentLogger()
                  : new iFrameLogger_1.IFrameLogger(),
            });
          }

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Logger/parentLogger.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Logger/parentLogger.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var baseLogger_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/baseLogger */ './src/core/Gigya.Js/app/Logger/baseLogger.ts'
        );
        var loggerJsonp_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Logger/loggerJsonp */ './src/core/Gigya.Js/app/Logger/loggerJsonp.ts'
        );
        var gigyaScriptEl_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts'
        );
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ../Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var ParentLogger = /** @class */ (function (_super) {
          tslib_1.__extends(ParentLogger, _super);
          function ParentLogger(
            _global,
            _errorReportConfig,
            _canaryConfig,
            _random,
            _jsonp
          ) {
            if (_global === void 0) {
              _global = window;
            }
            if (_errorReportConfig === void 0) {
              _errorReportConfig = window.gigya.errorReport;
            }
            if (_canaryConfig === void 0) {
              _canaryConfig = window.gigya.canary;
            }
            if (_random === void 0) {
              _random = function () {
                return Math.random() * 100;
              };
            }
            if (_jsonp === void 0) {
              _jsonp = loggerJsonp_1.loggerJsonp;
            }
            var _this = _super.call(this, _global) || this;
            _this._global = _global;
            _this._errorReportConfig = _errorReportConfig;
            _this._canaryConfig = _canaryConfig;
            _this._random = _random;
            _this._jsonp = _jsonp;
            var errorReportEnabled =
              _this._errorReportConfig && _this._errorReportConfig.enabled;
            var runningAsCanary =
              _this._canaryConfig && _this._canaryConfig.isActive;
            var enrolledToReportErrors = _this.enrollErrorReporting();
            if (
              errorReportEnabled &&
              (runningAsCanary || enrolledToReportErrors)
            ) {
              _this._isErrorReporter = true;
              _this.setupMessageListener();
              _this._guid = _this.generateGUID();
            }
            return _this;
          }
          ParentLogger.prototype.enrollErrorReporting = function () {
            return (
              (this._errorReportConfig &&
                this._errorReportConfig.probability) >= this._random()
            );
          };
          ParentLogger.prototype.setupMessageListener = function () {
            var _this = this;
            var errorReportMessageListener = function (event) {
              var dc = window.gigya.dataCenter;
              var gigyaDomain = window.gigya.defaultApiDomain.replace(
                /\./g,
                '.'
              ); // replace all '.' with '\.'
              var allowedOriginRegex = new RegExp(
                'cdns?.' + dc + '.' + gigyaDomain + '$'
              );
              if (!event.origin.match(allowedOriginRegex)) {
                return;
              }
              try {
                var data = JSON.parse(event.data);
                if (data.type === baseLogger_1.gigErrorReport) {
                  _this.report(data.message, data.details, data.includeStack);
                }
              } catch (e) {} // unexpected event.data
            };
            this._global.addEventListener(
              'message',
              errorReportMessageListener,
              false
            );
          };
          ParentLogger.prototype.getApiKey = function () {
            var apiKey =
              window.gigya['thisScript'] && window.gigya['thisScript'].APIKey;
            if (!apiKey) {
              var scriptElement = gigyaScriptEl_1.getGigyaScriptElement();
              var URLParams =
                URLUtils.getParamsFromURL(
                  scriptElement && scriptElement.src,
                  true
                ) || {};
              apiKey = URLParams['apikey'];
            }
            return apiKey;
          };
          ParentLogger.prototype.createReportParams = function (
            message,
            details,
            includeStack
          ) {
            if (details === void 0) {
              details = {};
            }
            if (includeStack === void 0) {
              includeStack = false;
            }
            var params = {
              message: message,
              apiKey: this.getApiKey(),
              stack: includeStack ? new Error().stack : '',
              page: LocalInfo_1.localInfo && LocalInfo_1.localInfo.pageDomain,
              browser:
                LocalInfo_1.localInfo && LocalInfo_1.localInfo.currentBrowser,
              buildVersion: window.gigya.build.version,
              buildNumber: window.gigya.build.number,
              format: 'json',
              sdk: 'web',
            };
            if (typeof details == 'string') {
              details = { message: details };
            }
            details['guid'] = this._guid;
            params['details'] = JSON.stringify(details);
            return params;
          };
          ParentLogger.prototype.report = function (
            message,
            details,
            includeStack,
            forceReport
          ) {
            if (includeStack === void 0) {
              includeStack = false;
            }
            if (forceReport === void 0) {
              forceReport = false;
            }
            if (!(forceReport || this._isErrorReporter)) {
              // don't continue if we don't need to report
              return;
            }
            try {
              var reportParams = this.createReportParams(
                message,
                details,
                includeStack
              );
              var sdkErrorReportEndpoint =
                location.protocol + '//' + this.apiDomain + '/sdk.errorReport';
              Uri_1.Uri.parse(sdkErrorReportEndpoint)
                .addToSearch(reportParams)
                .fetch(0);
            } catch (e) {}
          };
          ParentLogger.prototype.generateGUID = function () {
            try {
              // https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
              return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
                /[xy]/g,
                function (c) {
                  var r = (Math.random() * 16) | 0,
                    v = c == 'x' ? r : (r & 0x3) | 0x8;
                  return v.toString(16);
                }
              );
            } catch (e) {
              return '';
            }
          };
          Object.defineProperty(ParentLogger.prototype, 'apiDomain', {
            get: function () {
              var _a, _b;
              if (
                ((_a = window.gigya.partnerSettings) === null || _a === void 0
                  ? void 0
                  : _a.customAPIDomainPrefix) &&
                (LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.baseDomain.endsWith(
                      window.gigya._.config.hostedPagesDomain
                    ))
              ) {
                return LocalInfo_1.localInfo.baseDomain;
              }
              if (
                ((_b = window.gigya.partnerSettings) === null || _b === void 0
                  ? void 0
                  : _b.customAPIDomainPrefix) &&
                LocalInfo_1.localInfo.baseDomain &&
                LocalInfo_1.localInfo.baseDomain !==
                  window.gigya.defaultApiDomain
              ) {
                return (
                  window.gigya.partnerSettings.customAPIDomainPrefix +
                  '.' +
                  LocalInfo_1.localInfo.baseDomain
                );
              } else {
                return (
                  'accounts.' +
                  window.gigya.dataCenter +
                  '.' +
                  window.gigya.defaultApiDomain
                );
              }
            },
            enumerable: true,
            configurable: true,
          });
          return ParentLogger;
        })(baseLogger_1.BaseLogger);
        exports.ParentLogger = ParentLogger;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Oauth/OauthService.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Oauth/OauthService.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var promise_1 = __webpack_require__(
          /*! ../Utils/promise */ './src/core/Gigya.Js/app/Utils/promise.ts'
        );
        exports.DefaultGrantType = 'authorization_code';
        exports.Oauth_Response_Type = 'code';
        var OauthService = /** @class */ (function () {
          function OauthService() {}
          OauthService.prototype.register = function (params) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var idToken, rest, res;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    (idToken = params.idToken),
                      (rest = tslib_1.__rest(params, ['idToken']));
                    window.gigya._.apiAdapters.web.tokenStore.setBearerToken(
                      idToken
                    );
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.oauth.register,
                        tslib_1.__assign({}, rest)
                      ),
                    ];
                  case 1:
                    res = _a.sent();
                    window.gigya._.apiAdapters.web.tokenStore.removeBearerToken();
                    return [2 /*return*/, res];
                }
              });
            });
          };
          OauthService.prototype.connect = function (_a) {
            var idToken = _a.idToken,
              regToken = _a.regToken,
              ignoreApiQueue = _a.ignoreApiQueue;
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var res;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    window.gigya._.apiAdapters.web.tokenStore.setBearerToken(
                      idToken
                    );
                    return [
                      4 /*yield*/,
                      promise_1.promisify(window.gigya.oauth.connect, {
                        regToken: regToken,
                        ignoreApiQueue: ignoreApiQueue,
                      }),
                    ];
                  case 1:
                    res = _b.sent();
                    window.gigya._.apiAdapters.web.tokenStore.removeBearerToken();
                    return [2 /*return*/, res];
                }
              });
            });
          };
          OauthService.prototype.authorize = function (params) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var res;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    window.gigya._.apiAdapters.web.tokenStore.setBearerToken(
                      params.idToken
                    );
                    return [
                      4 /*yield*/,
                      promise_1.promisify(window.gigya.oauth.authorize, {
                        response_type: exports.Oauth_Response_Type,
                      }),
                    ];
                  case 1:
                    res = _a.sent();
                    window.gigya._.apiAdapters.web.tokenStore.removeBearerToken();
                    return [2 /*return*/, res];
                }
              });
            });
          };
          OauthService.prototype.token = function (_a) {
            var grantType = _a.grantType,
              sessionExpiration = _a.sessionExpiration,
              code = _a.code,
              dontHandleScreenSet = _a.dontHandleScreenSet;
            return promise_1.promisify(window.gigya.oauth.token, {
              code: code,
              grant_type: grantType || exports.DefaultGrantType,
              sessionExpiration: sessionExpiration || '0',
              dontHandleScreenSet: dontHandleScreenSet || false,
            });
          };
          return OauthService;
        })();
        exports.OauthService = OauthService;
        exports.default = new OauthService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Passkey/CredentialService.ts':
      /*!************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Passkey/CredentialService.ts ***!
  \************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var utils_1 = __webpack_require__(
          /*! ./utils */ './src/core/Gigya.Js/app/Passkey/utils.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        exports.errorMap = {
          ConstraintError: {
            errorCode: GSErrors_1.GSErrors.NOT_SUPPORTED,
            errorDetails:
              'Discoverable credentials were required but no available authenticator supported',
          },
          InvalidStateError: {
            errorCode: GSErrors_1.GSErrors.PASSKEY_AUTHENTICATOR_REGISTERED,
            errorDetails: 'The authenticator was previously registered',
          },
          NotAllowedError: {
            errorCode: GSErrors_1.GSErrors.OPERATION_CANCELED,
            errorDetails:
              'User clicked cancel, or the registration ceremony timed out',
          },
          NotSupportedError: {
            errorCode: GSErrors_1.GSErrors.NOT_SUPPORTED,
            errorDetails:
              'No available authenticator supported any of the specified pubKeyCredParams algorithms',
          },
          SecurityError: {
            errorCode: GSErrors_1.GSErrors.INVALID_SITE_CONFIGURATION_ERROR,
            errorDetails:
              'Hostname is an invalid domain / The RP ID is invalid for this domain',
          },
          TypeError: {
            errorCode: GSErrors_1.GSErrors.INVALID_SITE_CONFIGURATION_ERROR,
            errorDetails: 'User ID was not between 1 and 64 characters',
          },
          AbortError: {
            errorCode: GSErrors_1.GSErrors.PASSKEY_ABORTED,
            errorDetails: 'Authentication ceremony was sent an abort signal',
          },
          UnknownError: {
            errorCode: GSErrors_1.GSErrors.PASSKEY_ERROR,
            errorDetails:
              'The authenticator was unable to process the specified options, or could not create a new credential',
          },
          CredentialError: {
            errorCode: GSErrors_1.GSErrors.PASSKEY_ERROR,
            errorDetails: 'Unable to create/get credential',
          },
        };
        var CredentialService = /** @class */ (function () {
          function CredentialService() {
            this.abortService = new PasskeyAbortService();
          }
          Object.defineProperty(CredentialService.prototype, 'credentials', {
            get: function () {
              return window.gigya._.WindowProvider.navigator().credentials;
            },
            enumerable: true,
            configurable: true,
          });
          CredentialService.prototype.isConditionalMediationAvailable =
            function (pubKeyCred) {
              if (pubKeyCred === void 0) {
                pubKeyCred = PublicKeyCredential;
              }
              return tslib_1.__awaiter(this, void 0, void 0, function () {
                return tslib_1.__generator(this, function (_a) {
                  switch (_a.label) {
                    case 0:
                      if (
                        !(
                          typeof pubKeyCred.isConditionalMediationAvailable ===
                          'function'
                        )
                      )
                        return [3 /*break*/, 2];
                      return [
                        4 /*yield*/,
                        pubKeyCred === null || pubKeyCred === void 0
                          ? void 0
                          : pubKeyCred.isConditionalMediationAvailable(),
                      ];
                    case 1:
                      return [2 /*return*/, _a.sent()];
                    case 2:
                      return [2 /*return*/, false];
                  }
                });
              });
            };
          CredentialService.prototype.isSupported = function () {
            var _a, _b;
            return !(
              typeof this.credentials !== 'object' ||
              typeof ((_a = this.credentials) === null || _a === void 0
                ? void 0
                : _a.create) !== 'function' ||
              typeof ((_b = this.credentials) === null || _b === void 0
                ? void 0
                : _b.get) !== 'function'
            );
          };
          CredentialService.prototype.get = function (options, mediation) {
            if (mediation === void 0) {
              mediation = undefined;
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var publicKey,
                signal,
                _a,
                credential,
                error_1,
                id,
                rawId,
                response,
                type;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    publicKey = this.createPKCredentialRequest(options);
                    signal = this.abortService.createNewAbortSignal();
                    _a = mediation === 'conditional';
                    if (!_a) return [3 /*break*/, 2];
                    return [
                      4 /*yield*/,
                      this.isConditionalMediationAvailable(),
                    ];
                  case 1:
                    _a = !_b.sent();
                    _b.label = 2;
                  case 2:
                    if (_a) {
                      mediation = undefined;
                    }
                    _b.label = 3;
                  case 3:
                    _b.trys.push([3, 5, , 6]);
                    return [
                      4 /*yield*/,
                      this.credentials.get({
                        mediation: mediation,
                        publicKey: publicKey,
                        signal: signal,
                      }),
                    ];
                  case 4:
                    credential = _b.sent();
                    return [3 /*break*/, 6];
                  case 5:
                    error_1 = _b.sent();
                    throw (
                      exports.errorMap[
                        error_1 === null || error_1 === void 0
                          ? void 0
                          : error_1.name
                      ] || exports.errorMap.UnknownError
                    );
                  case 6:
                    if (!credential) {
                      throw exports.errorMap.CredentialError;
                    }
                    (id = credential.id),
                      (rawId = credential.rawId),
                      (response = credential.response),
                      (type = credential.type);
                    return [
                      2 /*return*/,
                      {
                        id: id,
                        type: type,
                        rawId: utils_1.bufferToBase64URLString(rawId),
                        extensions: credential.getClientExtensionResults(),
                        response: {
                          authenticatorData: utils_1.bufferToBase64URLString(
                            response.authenticatorData
                          ),
                          clientDataJSON: utils_1.bufferToBase64URLString(
                            response.clientDataJSON
                          ),
                          signature: utils_1.bufferToBase64URLString(
                            response.signature
                          ),
                          userHandle: null,
                        },
                      },
                    ];
                }
              });
            });
          };
          CredentialService.prototype.create = function (options) {
            var _a;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var publicKey,
                signal,
                credential,
                error_2,
                id,
                rawId,
                response,
                type,
                transport;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    publicKey = this.createPKCredentialCreate(options);
                    signal = this.abortService.createNewAbortSignal();
                    _b.label = 1;
                  case 1:
                    _b.trys.push([1, 3, , 4]);
                    return [
                      4 /*yield*/,
                      this.credentials.create({
                        signal: signal,
                        publicKey: publicKey,
                      }),
                    ];
                  case 2:
                    credential = _b.sent();
                    return [3 /*break*/, 4];
                  case 3:
                    error_2 = _b.sent();
                    throw (
                      exports.errorMap[
                        error_2 === null || error_2 === void 0
                          ? void 0
                          : error_2.name
                      ] || exports.errorMap.UnknownError
                    );
                  case 4:
                    if (!credential) {
                      throw exports.errorMap.CredentialError;
                    }
                    (id = credential.id),
                      (rawId = credential.rawId),
                      (response = credential.response),
                      (type = credential.type);
                    transport = undefined;
                    if (typeof response.getTransports === 'function') {
                      transport = response.getTransports();
                    }
                    return [
                      2 /*return*/,
                      {
                        id: id,
                        type: type,
                        rawId: utils_1.bufferToBase64URLString(rawId),
                        response: {
                          attestationObject: utils_1.bufferToBase64URLString(
                            response.attestationObject
                          ),
                          clientDataJSON: utils_1.bufferToBase64URLString(
                            response.clientDataJSON
                          ),
                          transport: transport,
                        },
                        clientExtensionResults:
                          credential.getClientExtensionResults(),
                        authenticatorSelection: tslib_1.__assign(
                          tslib_1.__assign({}, options.authenticatorSelection),
                          {
                            authenticatorAttachment:
                              ((_a = options.authenticatorSelection) === null ||
                              _a === void 0
                                ? void 0
                                : _a.authenticatorAttachment) || undefined,
                          }
                        ),
                        attestation: options.attestation || 'direct',
                      },
                    ];
                }
              });
            });
          };
          CredentialService.prototype.abortCurrentCeremony = function () {
            this.abortService.abort();
          };
          CredentialService.prototype.createPKCredentialRequest = function (
            options
          ) {
            var _a;
            var allowCredentials;
            if (
              ((_a = options.allowCredentials) === null || _a === void 0
                ? void 0
                : _a.length) > 0
            ) {
              allowCredentials = options.allowCredentials.map(function (c) {
                return tslib_1.__assign(tslib_1.__assign({}, c), {
                  id: utils_1.base64URLStringToBuffer(c.id),
                });
              });
            }
            return tslib_1.__assign(tslib_1.__assign({}, options), {
              challenge: utils_1.base64URLStringToBuffer(options.challenge),
              allowCredentials: allowCredentials,
            });
          };
          CredentialService.prototype.createPKCredentialCreate = function (
            options
          ) {
            var _a;
            return tslib_1.__assign(tslib_1.__assign({}, options), {
              challenge: utils_1.base64URLStringToBuffer(options.challenge),
              user: tslib_1.__assign(tslib_1.__assign({}, options.user), {
                id: utils_1.utf8StringToBuffer(options.user.id),
              }),
              excludeCredentials:
                (_a = options.excludeCredentials) === null || _a === void 0
                  ? void 0
                  : _a.map(function (c) {
                      return tslib_1.__assign(tslib_1.__assign({}, c), {
                        id: utils_1.base64URLStringToBuffer(c.id),
                      });
                    }),
            });
          };
          return CredentialService;
        })();
        exports.CredentialService = CredentialService;
        var PasskeyAbortService = /** @class */ (function () {
          function PasskeyAbortService() {}
          PasskeyAbortService.prototype.createNewAbortSignal = function () {
            if (this.controller) {
              this.controller.abort();
            }
            var newController = new AbortController();
            this.controller = newController;
            return newController.signal;
          };
          PasskeyAbortService.prototype.abort = function () {
            var _a;
            (_a = this.controller) === null || _a === void 0
              ? void 0
              : _a.abort();
            this.controller = null;
          };
          return PasskeyAbortService;
        })();
        exports.default = new CredentialService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Passkey/PasskeyApis.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Passkey/PasskeyApis.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var PasskeyService_1 = __webpack_require__(
          /*! ./PasskeyService */ './src/core/Gigya.Js/app/Passkey/PasskeyService.ts'
        );
        var invokeCallback = function (params, res) {
          if (
            typeof (params === null || params === void 0
              ? void 0
              : params.callback) === 'function'
          ) {
            params.callback(res);
          }
          return res;
        };
        function registerPasskey(params) {
          if (params === void 0) {
            params = {};
          }
          return PasskeyService_1.default
            .registerPasskey(params, true)
            .then(function (res) {
              return invokeCallback(params, res);
            })
            .catch(function (e) {
              throw invokeCallback(params, e);
            });
        }
        exports.registerPasskey = registerPasskey;
        function passkeyLogin(params) {
          if (params === void 0) {
            params = {};
          }
          return PasskeyService_1.default
            .authenticate(params)
            .then(function (res) {
              return invokeCallback(params, res);
            })
            .catch(function (e) {
              throw invokeCallback(params, e);
            });
        }
        exports.passkeyLogin = passkeyLogin;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Passkey/PasskeyService.ts':
      /*!*********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Passkey/PasskeyService.ts ***!
  \*********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var OauthService_1 = __webpack_require__(
          /*! ../Oauth/OauthService */ './src/core/Gigya.Js/app/Oauth/OauthService.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! ../GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var promise_1 = __webpack_require__(
          /*! ../Utils/promise */ './src/core/Gigya.Js/app/Utils/promise.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        var CredentialService_1 = __webpack_require__(
          /*! ./CredentialService */ './src/core/Gigya.Js/app/Passkey/CredentialService.ts'
        );
        var PasskeyService = /** @class */ (function () {
          function PasskeyService() {
            this.eventHandlers = new Map();
          }
          PasskeyService.prototype.on = function (event, handler) {
            if (!this.eventHandlers.get(event)) {
              this.eventHandlers.set(event, []);
            }
            this.eventHandlers.get(event).push(handler);
          };
          PasskeyService.prototype.remove = function (event, handler) {
            var _a;
            this.eventHandlers.set(
              event,
              (_a = this.eventHandlers.get(event)) === null || _a === void 0
                ? void 0
                : _a.filter(function (fn) {
                    return fn !== handler;
                  })
            );
          };
          PasskeyService.prototype.isSupported = function () {
            return CredentialService_1.default.isSupported();
          };
          PasskeyService.prototype.isConditionalMediationAvailable =
            function () {
              return tslib_1.__awaiter(this, void 0, void 0, function () {
                return tslib_1.__generator(this, function (_a) {
                  switch (_a.label) {
                    case 0:
                      return [
                        4 /*yield*/,
                        CredentialService_1.default.isConditionalMediationAvailable(),
                      ];
                    case 1:
                      return [2 /*return*/, _a.sent()];
                  }
                });
              });
            };
          PasskeyService.prototype.authenticate = function (params) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _this = this;
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  this.runOneAtATime(function () {
                    return _this.internalAuthenticate(params);
                  }, (params === null || params === void 0
                    ? void 0
                    : params.abortCurrentCeremony) || false),
                ];
              });
            });
          };
          PasskeyService.prototype.registerPasskey = function (
            params,
            abortCurrentCeremony
          ) {
            if (params === void 0) {
              params = {};
            }
            if (abortCurrentCeremony === void 0) {
              abortCurrentCeremony = false;
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _this = this;
              return tslib_1.__generator(this, function (_a) {
                if (params.aToken) {
                  return [
                    2 /*return*/,
                    this.runOneAtATime(function () {
                      return _this.internalRegister(params);
                    }, abortCurrentCeremony),
                  ];
                }
                return [
                  2 /*return*/,
                  this.runOneAtATime(function () {
                    return _this.internalConnect(params);
                  }, abortCurrentCeremony),
                ];
              });
            });
          };
          PasskeyService.prototype.removePasskey = function (
            credentialId,
            regToken
          ) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.removeCredential,
                        {
                          credentialId: credentialId,
                          regToken: regToken,
                          ignoreApiQueue: true,
                        }
                      ),
                    ];
                  case 1:
                    response = _a.sent();
                    if (response.errorCode === GSErrors_1.GSErrors.OK) {
                      this.dispatchEvent('passkeyRemoved', {
                        credentialId: credentialId,
                        response: response,
                      });
                    }
                    return [2 /*return*/, response];
                }
              });
            });
          };
          PasskeyService.prototype.getPasskeys = function (regToken) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.getCredentials,
                        {
                          regToken: regToken,
                          ignoreApiQueue: true,
                        }
                      ),
                    ];
                  case 1:
                    return [2 /*return*/, _a.sent()];
                }
              });
            });
          };
          PasskeyService.prototype.waitForService = function () {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _a;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _b.trys.push([0, 2, , 3]);
                    return [4 /*yield*/, this.currentRun];
                  case 1:
                    return [2 /*return*/, _b.sent()];
                  case 2:
                    _a = _b.sent();
                    return [3 /*break*/, 3];
                  case 3:
                    return [2 /*return*/];
                }
              });
            });
          };
          PasskeyService.prototype.abortCurrentCeremony = function () {
            CredentialService_1.default.abortCurrentCeremony();
          };
          PasskeyService.prototype.dispatchEvent = function (event, data) {
            for (
              var _i = 0, _a = this.eventHandlers.get(event) || [];
              _i < _a.length;
              _i++
            ) {
              var fn = _a[_i];
              fn(data);
            }
            globalEvents.dispatch(
              tslib_1.__assign({ eventName: 'passkey.' + event }, data)
            );
          };
          PasskeyService.prototype.runOneAtATime = function (
            func,
            abortCurrentCeremony
          ) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    if (!this.isSupported()) {
                      throw CredentialService_1.errorMap.NotSupportedError;
                    }
                    if (abortCurrentCeremony) {
                      CredentialService_1.default.abortCurrentCeremony();
                    }
                    return [4 /*yield*/, this.waitForService()];
                  case 1:
                    _a.sent();
                    this.currentRun = func();
                    return [2 /*return*/, this.currentRun];
                }
              });
            });
          };
          PasskeyService.prototype.internalRegister = function (params) {
            if (params === void 0) {
              params = {};
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var createCredRes,
                lang,
                sessionExpiration,
                context,
                regSource,
                cid,
                source,
                regResponse,
                response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      this.createAndRegisterCredential(params),
                    ];
                  case 1:
                    createCredRes = _a.sent();
                    (lang = params.lang),
                      (sessionExpiration = params.sessionExpiration),
                      (context = params.context),
                      (regSource = params.regSource),
                      (cid = params.cid),
                      (source = params.source);
                    return [
                      4 /*yield*/,
                      OauthService_1.default.register({
                        idToken: createCredRes.idToken,
                        ignoreApiQueue: true,
                        ignoreInterruptions: true,
                        provider: 'site',
                        source: source,
                        lang: lang,
                        sessionExpiration: sessionExpiration,
                        context: context,
                        regSource: regSource,
                        cid: cid,
                      }),
                    ];
                  case 2:
                    regResponse = _a.sent();
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.finalizeRegistration,
                        {
                          regToken: regResponse.regToken,
                          ignoreInterruptions: true,
                          ignoreApiQueue: true,
                          provider: 'site',
                          source: source,
                          context: context,
                        }
                      ),
                    ];
                  case 3:
                    response = _a.sent();
                    if (response.errorCode === GSErrors_1.GSErrors.OK) {
                      this.dispatchEvent('passkeyAdded', {
                        response: createCredRes,
                      });
                    }
                    return [
                      2 /*return*/,
                      tslib_1.__assign(tslib_1.__assign({}, response), {
                        regToken: regResponse.regToken,
                      }),
                    ];
                }
              });
            });
          };
          PasskeyService.prototype.internalConnect = function (params) {
            if (params === void 0) {
              params = {};
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var createCredRes, response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      this.createAndRegisterCredential(params),
                    ];
                  case 1:
                    createCredRes = _a.sent();
                    return [
                      4 /*yield*/,
                      OauthService_1.default.connect({
                        idToken: createCredRes.idToken,
                        regToken: params.regToken,
                        ignoreApiQueue: true,
                      }),
                    ];
                  case 2:
                    response = _a.sent();
                    if (response.errorCode === GSErrors_1.GSErrors.OK) {
                      this.dispatchEvent('passkeyAdded', {
                        response: createCredRes,
                      });
                    }
                    return [2 /*return*/, response];
                }
              });
            });
          };
          PasskeyService.prototype.internalAuthenticate = function (params) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _a,
                token,
                options,
                authenticatorAssertion,
                verifyAssertionResponse,
                authorizeResponse;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    return [4 /*yield*/, PasskeyService.getAssertionOptions()];
                  case 1:
                    (_a = _b.sent()), (token = _a[0]), (options = _a[1]);
                    return [
                      4 /*yield*/,
                      CredentialService_1.default.get(
                        options,
                        params === null || params === void 0
                          ? void 0
                          : params.mediation
                      ),
                    ];
                  case 2:
                    authenticatorAssertion = _b.sent();
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.verifyAssertion,
                        {
                          authenticatorAssertion: authenticatorAssertion,
                          token: token,
                          ignoreApiQueue: true,
                        }
                      ),
                    ];
                  case 3:
                    verifyAssertionResponse = _b.sent();
                    if (
                      verifyAssertionResponse.errorCode !==
                        GSErrors_1.GSErrors.OK ||
                      !verifyAssertionResponse.idToken
                    ) {
                      throw verifyAssertionResponse;
                    }
                    return [
                      4 /*yield*/,
                      OauthService_1.default.authorize({
                        idToken: verifyAssertionResponse.idToken,
                        ignoreApiQueue: true,
                      }),
                    ];
                  case 4:
                    authorizeResponse = _b.sent();
                    if (
                      authorizeResponse.errorCode !== GSErrors_1.GSErrors.OK ||
                      !authorizeResponse.code
                    ) {
                      throw authorizeResponse;
                    }
                    return [
                      4 /*yield*/,
                      OauthService_1.default.token({
                        code: authorizeResponse.code,
                        dontHandleScreenSet:
                          (params === null || params === void 0
                            ? void 0
                            : params.dontHandleScreenSet) || true,
                        sessionExpiration:
                          params === null || params === void 0
                            ? void 0
                            : params.sessionExpiration,
                        ignoreApiQueue: true,
                      }),
                    ];
                  case 5:
                    return [2 /*return*/, _b.sent()];
                }
              });
            });
          };
          PasskeyService.prototype.createAndRegisterCredential = function (
            params
          ) {
            if (params === void 0) {
              params = {};
            }
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var _a,
                token,
                options,
                attestation,
                regToken,
                deviceName,
                ignoreInterruptions,
                registerCredentialsResponse;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      PasskeyService.getRegistrationOptions(params),
                    ];
                  case 1:
                    (_a = _b.sent()), (token = _a[0]), (options = _a[1]);
                    return [
                      4 /*yield*/,
                      CredentialService_1.default.create(options),
                    ];
                  case 2:
                    attestation = _b.sent();
                    (regToken = params.regToken),
                      (deviceName = params.deviceName),
                      (ignoreInterruptions = params.ignoreInterruptions);
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.registerCredentials,
                        {
                          token: token,
                          attestation: attestation,
                          deviceName: deviceName,
                          regToken: regToken,
                          ignoreApiQueue: true,
                        }
                      ),
                    ];
                  case 3:
                    registerCredentialsResponse = _b.sent();
                    if (
                      registerCredentialsResponse.errorCode !==
                        GSErrors_1.GSErrors.OK ||
                      !registerCredentialsResponse.idToken
                    ) {
                      throw registerCredentialsResponse;
                    }
                    return [2 /*return*/, registerCredentialsResponse];
                }
              });
            });
          };
          PasskeyService.getAssertionOptions = function () {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var requestOptions, options;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.getAssertionOptions,
                        {
                          ignoreApiQueue: true,
                        }
                      ),
                    ];
                  case 1:
                    requestOptions = _a.sent();
                    if (
                      requestOptions.errorCode !== GSErrors_1.GSErrors.OK ||
                      !requestOptions.options ||
                      !requestOptions.token
                    ) {
                      throw requestOptions;
                    }
                    options = JSON.parse(requestOptions.options);
                    return [2 /*return*/, [requestOptions.token, options]];
                }
              });
            });
          };
          PasskeyService.getRegistrationOptions = function (params) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var requestOptions, options;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      promise_1.promisify(
                        window.gigya.accounts.auth.fido.initRegisterCredentials,
                        tslib_1.__assign(tslib_1.__assign({}, params), {
                          ignoreApiQueue: true,
                        })
                      ),
                    ];
                  case 1:
                    requestOptions = _a.sent();
                    if (
                      requestOptions.errorCode !== GSErrors_1.GSErrors.OK ||
                      !requestOptions.options ||
                      !requestOptions.token
                    ) {
                      throw requestOptions;
                    }
                    options = JSON.parse(requestOptions.options);
                    return [2 /*return*/, [requestOptions.token, options]];
                }
              });
            });
          };
          return PasskeyService;
        })();
        exports.PasskeyService = PasskeyService;
        exports.default = new PasskeyService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Passkey/utils.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Passkey/utils.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function utf8StringToBuffer(value) {
          return new TextEncoder().encode(value);
        }
        exports.utf8StringToBuffer = utf8StringToBuffer;
        function bufferToUTF8String(value) {
          return new TextDecoder('utf-8').decode(value);
        }
        exports.bufferToUTF8String = bufferToUTF8String;
        function bufferToBase64URLString(buffer) {
          var bytes = new Uint8Array(buffer);
          var str = '';
          for (var i = 0; i < bytes.length; i++) {
            str += String.fromCharCode(bytes[i]);
          }
          var base64String = btoa(str);
          return base64String
            .replace(/\+/g, '-')
            .replace(/\//g, '_')
            .replace(/=/g, '');
        }
        exports.bufferToBase64URLString = bufferToBase64URLString;
        function base64URLStringToBuffer(base64URLString) {
          // Convert from Base64URL to Base64
          var base64 = base64URLString.replace(/-/g, '+').replace(/_/g, '/');
          /**
           * Pad with '=' until it's a multiple of four
           * (4 - (85 % 4 = 1) = 3) % 4 = 3 padding
           * (4 - (86 % 4 = 2) = 2) % 4 = 2 padding
           * (4 - (87 % 4 = 3) = 1) % 4 = 1 padding
           * (4 - (88 % 4 = 0) = 4) % 4 = 0 padding
           */
          var padLength = (4 - (base64.length % 4)) % 4;
          var padded = base64.padEnd(base64.length + padLength, '=');
          // Convert to a binary string
          var binary = atob(padded);
          // Convert binary string to buffer
          var buffer = new ArrayBuffer(binary.length);
          var bytes = new Uint8Array(buffer);
          for (var i = 0; i < binary.length; i++) {
            bytes[i] = binary.charCodeAt(i);
          }
          return buffer;
        }
        exports.base64URLStringToBuffer = base64URLStringToBuffer;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Prototypes.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Prototypes.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        // Custom public prototypes (Friends, UserAction, etc)
        var defaultObjects = {};
        var defaultObjectsDef = {
          //name|defaultValue. if default not specified use empty string
          User: 'personwithuid+isLoggedIn|false,isConnected|false,isSiteUser|false,identities|{},providers|[],timestamp,UIDSig,UIDSignature,signatureTimestamp,loginProvider,loginProviderUID,capabilities|{}',
          Friend:
            'personwithuid+timestamp,friendshipSig,friendshipSignature,signatureTimestamp,timestamp,isSiteUser|false,identities|{}',
          Identity:
            'person+isExpiredSession|false,allowsLogin|false,providerUID,provider,isLoginIdentity|false,missingPermissions',
          Contact: 'provider,firstName,lastName,nickname,email,photoURL',
          person:
            'nickname,photoURL,thumbnailURL,birthDay|0,birthMonth|0,birthYear|0,gender,email,proxiedEmail,country,state,city,zip,firstName,lastName,profileURL,age|0',
          personwithuid: 'person+UID,isSiteUID|false',
          UserAction:
            'actorUID,actorNickname,actionName,date|new Date(),targets|[],images|[],actionData1,actionData2,iconURL,title,linkBack,userMessage,description,actionLinks|[],mediaItems|[],subtitle',
        };
        var createDefaultObject = function (type) {
          var o = {};
          var objectDef = defaultObjectsDef[type];
          if (objectDef.indexOf('+') != -1) {
            o = createDefaultObject(objectDef.split('+')[0]);
            objectDef = objectDef.split('+')[1];
          }
          var arFields = objectDef.split(',');
          for (var i = 0; i < arFields.length; i++) {
            var defaultValue = '';
            var arField = arFields[i].split('|');
            if (arField.length > 1) {
              try {
                defaultValue = JSONUtils.deserialize(arField[1], '');
              } catch (ex) {}
            }
            o[arField[0]] = defaultValue || '';
          }
          return o;
        };
        var _createConstructor = function (name) {
          return function (o) {
            var defaultObject = defaultObjects[name];
            for (var p in defaultObject) {
              this[p] = objectUtils.clone(defaultObject[p]);
            }
            if (typeof o == 'object') {
              for (var p in o) {
                if (typeof o[p] != 'function') {
                  this[p] = objectUtils.clone(o[p]);
                }
              }
            }
          };
        };
        for (var def in defaultObjectsDef) {
          defaultObjects[def] = createDefaultObject(def);
          window.gigya.socialize[def] = _createConstructor(def);
        }
        window.gigya.socialize.Collection = function (arr, k) {
          this.arr = arr;
          this._key = k ? k : '';
        };
        window.gigya.socialize.Collection.prototype = {
          asArray: function () {
            return this.arr;
          },
          each: function (f) {
            var i = 0;
            var el = this.arr[i];
            while (el) {
              f(el, i);
              i++;
              el = this.arr[i];
            }
          },
          getById: function (id) {
            if (typeof this._hash == 'undefined') {
              this._buildHash();
            }
            return (this._hash ? this._hash : this.arr)[id];
          },
          getSize: function () {
            return this.arr.length;
          },
          _buildHash: function () {
            var h = (this._hash = {});
            var k = this._key;
            this.each(function (o, i) {
              h[typeof o[k] == 'function' ? o[k]() : o[k]] = o;
            });
          },
        };
        window.gigya.socialize.UserAction.prototype = {
          clone: function () {
            return new window.gigya.socialize.UserAction(
              window.gigya.utils.object.clone(this, true, true)
            );
          },
          getTemplate: function () {
            return this.titleTemplate;
          },
          setTemplate: function (a) {
            this.titleTemplate = a;
          },
          getActor: function (a) {
            return { UID: this.actorUID, nickname: this.actorNickname };
          },
          setActionName: function (a) {
            this.actionName = a;
            return this;
          },
          getActionName: function (a) {
            return this.actionName;
          },
          getTemplateFields: function () {
            var fieldsArray = [];
            for (var fn in this.templateFields) {
              fieldsArray.push(this.templateFields[fn]);
            }
            return new window.gigya.socialize.Collection(
              fieldsArray,
              'fieldName'
            );
          },
          setTemplateField: function (n, t, h) {
            this.templateFields[n] = { fieldName: n, text: t, href: h };
            return this;
          },
          getTemplateField: function (n) {
            return this.templateFields[n] ? this.templateFields[n] : null;
          },
          addTarget: function (t) {
            if (typeof t == 'object') {
              this.targets.push({
                UID: t.UID,
                nickname: t.nickname ? t.nickname : '',
              });
              return this;
            } else if (typeof t == 'string') {
              this.targets.push({ UID: t, nickname: '' });
              return this;
            }
          },
          addActionLink: function (title, href) {
            this.actionLinks.push({ text: title, href: href ? href : '' });
            return this;
          },
          addMediaItem: function (obj) {
            this.mediaItems.push(obj);
            return this;
          },
          setTitle: function (text) {
            if (text) this.title = text;
            return this;
          },
          setLinkBack: function (href) {
            if (href && href.toString) href = href.toString();
            if (href) this.linkBack = href;
            return this;
          },
          setUserMessage: function (text) {
            this.userMessage = text ? text : '';
            return this;
          },
          setDescription: function (text) {
            this.description = text ? text : '';
            return this;
          },
          addImage: function (s, h) {
            this.addMediaItem({ type: 'image', src: s, href: h });
          },
          getImages: function () {
            return new window.gigya.socialize.Collection(this.images, '');
          },
          getTargets: function () {
            return new window.gigya.socialize.Collection(this.targets, 'UID');
          },
          setIconURL: function (url) {
            this.iconURL = url;
            return this;
          },
          getIconURL: function () {
            return this.iconURL;
          },
          getDate: function () {
            return this.date;
          },
          setActionData1: function (ad) {
            this.actionData1 = ad;
            return this;
          },
          getActionData1: function (ad) {
            return this.actionData1;
          },
          setActionData2: function (ad) {
            this.actionData2 = ad;
            return this;
          },
          getActionData2: function (ad) {
            return this.actionData2;
          },
          setSubtitle: function (s) {
            this.subtitle = s;
            return this;
          },
          getSubtitle: function () {
            return this.subtitle;
          },
        };

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Providers.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Providers.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        // Providers enum
        exports._aliases = {};
        var Provider = /** @class */ (function () {
          function Provider(
            ID,
            displayName,
            width,
            height,
            defaultCapabilities,
            explicitOnly,
            aliases
          ) {
            this.ID = ID;
            this.displayName = displayName;
            this.width = width;
            this.height = height;
            this.explicitOnly = explicitOnly;
            this.aliases = aliases;
            this.arDefaultCapabilities = defaultCapabilities.split(',');
            this.name = displayName
              .toLowerCase()
              .split(' ')
              .join('')
              .split('!')
              .join('')
              .split('.')
              .join('')
              .split('+')
              .join('plus');
            if (aliases) {
              // Creating the aliases map
              if (!exports._aliases) {
                exports._aliases = {};
              }
              // Mapping the aliases: Alias -> Real name (in order to make the search for aliases more effective)
              var arAliases = aliases.split('|');
              for (var i = 0; i < arAliases.length; i++) {
                exports._aliases[arAliases[i]] = this.name;
              }
            }
            switch (this.name) {
              case 'messenger':
                // Rebranding - issue #22411.
                this.displayName = 'Microsoft';
                break;
              case 'googleplus':
                this.displayName = 'Google';
                break;
              case 'customopenid':
                // Custom Open ID is a different network on the server but should behave the same in most of our plugins.
                this.displayName = 'OpenID';
                break;
              case 'paypaloauth':
                this.displayName = 'PayPal';
                break;
              default:
              // No override.
            }
          }
          Provider.prototype.toString = function () {
            return this.name;
          };
          return Provider;
        })();
        exports.Provider = Provider;
        exports.arProviders = [
          new Provider(
            64,
            'Facebook',
            650,
            400,
            'login,friends,places,status,actions,photos'
          ),
          new Provider(
            9012,
            'Twitter',
            800,
            440,
            'login,friends,notifications,actions,status,places,checkins'
          ),
          new Provider(
            72,
            'Google+',
            560,
            600,
            'login,contacts',
            false,
            'google|googleplus'
          ),
          new Provider(
            9042,
            'LinkedIn',
            865,
            450,
            'login,friends,status,actions,notifications,contacts'
          ),
          new Provider(9058, 'Amazon', 785, 510, 'login'),
          new Provider(
            9803,
            'Yahoo',
            500,
            567,
            'login,friends,contacts,notifications'
          ),
          new Provider(
            1047,
            'Messenger',
            380,
            540,
            'login, friends',
            false,
            'messenger|microsoft'
          ),
          new Provider(9222, 'Odnoklassniki', 888, 425, 'login'),
          new Provider(
            9007,
            'FourSquare',
            1000,
            650,
            'login,friends,places,checkins'
          ),
          new Provider(
            8191,
            'Renren',
            450,
            350,
            'login,friends,status,actions'
          ),
          new Provider(8203, 'QQ', 570, 460, 'login,actions'),
          new Provider(9821, 'Sina', 640, 380, 'login,status,actions'),
          new Provider(
            4228,
            'Mixi',
            1000,
            720,
            'login,friends,actions,photos',
            true
          ),
          new Provider(9830, 'Yahoo! JAPAN', 980, 700, 'login', true),
          new Provider(8205, 'Spiceworks', 640, 380, 'login', true),
          new Provider(
            9041,
            'VKontakte',
            610,
            510,
            'login,friends,photos,status,actions'
          ),
          new Provider(4096, 'WordPress', 700, 540, 'login'),
          new Provider(256, 'Blogger', 760, 400, 'login'),
          new Provider(4218, 'Netlog', 730, 590, 'login', true),
          new Provider(5002, 'Livedoor', 970, 700, 'login', true),
          new Provider(5004, 'Fox News', 730, 590, 'login', true),
          new Provider(1051, 'PayPal', 400, 550, 'login', true),
          new Provider(9219, 'Xing', 785, 510, 'login,friends', true),
          new Provider(
            8206,
            'WeChat',
            730,
            590,
            'login',
            false,
            'wechat|weixin'
          ),
          new Provider(4121, 'Custom OpenID', 730, 590, 'login', true),
          new Provider(4122, 'Custom SAML', 730, 590, 'login', true),
          new Provider(10001, 'OpenID Connect', 730, 590, 'login', true),
          new Provider(6002, 'Site', 730, 590, '', true),
          new Provider(1052, 'PayPalOAuth', 730, 590, 'login', true),
          new Provider(8207, 'Line', 730, 590, 'login'),
          new Provider(20001, 'Kakao', 500, 600, 'login', true),
          new Provider(20002, 'Naver', 780, 555, 'login', true),
          new Provider(20003, 'DocCheck', 874, 844, 'login', true),
          new Provider(20004, 'Apple', 874, 844, 'login', true),
        ];
        function getProviderByName(provider, providersEnum) {
          if (providersEnum === void 0) {
            providersEnum = exports.arProviders;
          }
          for (var i = 0; i < providersEnum.length; i++) {
            if (
              providersEnum[i].name.toLowerCase() === provider.toLowerCase()
            ) {
              return providersEnum[i];
            }
          }
        }
        exports.getProviderByName = getProviderByName;
        function replaceProviderAliases(providers) {
          if (providers == null) {
            return;
          }
          var arrProviders = providers.split(',');
          for (var i = 0; i < arrProviders.length; i++) {
            var currProvider = arrProviders[i].replace(/^\s+|\s+$/g, '');
            if (exports._aliases[currProvider]) {
              arrProviders[i] = exports._aliases[currProvider];
            }
          }
          return arrProviders.join(',');
        }
        exports.replaceProviderAliases = replaceProviderAliases;
        function getProviderById(providerID, providersEnum) {
          if (providersEnum === void 0) {
            providersEnum = exports.arProviders;
          }
          for (var i = 0; i < providersEnum.length; i++) {
            if (providersEnum[i].ID === providerID) {
              return providersEnum[i];
            }
          }
        }
        exports.getProviderById = getProviderById;
        function hideProvidersByName(
          providers,
          providersToHide,
          providersEnum
        ) {
          if (providersToHide === void 0) {
            providersToHide = '';
          }
          if (providersEnum === void 0) {
            providersEnum = exports.arProviders;
          }
          providersToHide = providersToHide.toLowerCase();
          var arProvidersToHide = providersToHide
            .split(' ')
            .join('')
            .split('.')
            .join('')
            .toLowerCase()
            .split(',');
          arProvidersToHide = replaceWildcard(arProvidersToHide, providersEnum);
          for (var i = 0; i < arProvidersToHide.length; i++) {
            for (var u = 0; u < providers.length; u++) {
              var provider = providers[u];
              var sProvider = provider.name || provider.toString();
              if (sProvider) {
                sProvider = sProvider.toLowerCase();
              }
              if (sProvider === arProvidersToHide[i]) {
                providers.splice(u, 1);
              }
            }
          }
          return providers;
        }
        exports.hideProvidersByName = hideProvidersByName;
        function getProvidersForRequiredCapabilities(providers, capabilities) {
          if (capabilities == null) {
            capabilities = [];
          }
          var arProvidersResult = [];
          for (var i = 0; i < providers.length; i++) {
            var provider = providers[i];
            var validNet = true;
            for (var u = 0; u < capabilities.length; u++) {
              var found = false;
              for (var a = 0; a < provider.arDefaultCapabilities.length; a++) {
                if (
                  provider.arDefaultCapabilities[a].toLowerCase() ==
                  capabilities[u].toLowerCase()
                ) {
                  found = true;
                  break;
                }
              }
              if (!found) {
                validNet = false;
                break;
              }
            }
            if (validNet) {
              arProvidersResult.push(provider);
            }
          }
          return arProvidersResult;
        }
        exports.getProvidersForRequiredCapabilities =
          getProvidersForRequiredCapabilities;
        function getAllProviders() {
          return exports.arProviders.concat();
        }
        exports.getAllProviders = getAllProviders;
        function getProvidersByName(providers, providersEnum) {
          if (providersEnum === void 0) {
            providersEnum = exports.arProviders;
          }
          // Casting providers to string to overcome bug #10392.
          providers = ('' + providers)
            .split(' ')
            .join('')
            .split('.')
            .join('')
            .toLowerCase();
          providers = replaceProviderAliases(providers);
          var arAllProviders = ('' + providers).split(',');
          arAllProviders = replaceWildcard(arAllProviders, providersEnum);
          var arProvidersResult = [];
          for (var i = 0; i < arAllProviders.length; i++) {
            var providerObject = getProviderByName(
              arAllProviders[i],
              providersEnum
            );
            if (
              providerObject != null &&
              arrayUtils.indexOf(arProvidersResult, providerObject) == -1
            ) {
              arProvidersResult.push(providerObject);
            }
          }
          return arProvidersResult;
        }
        exports.getProvidersByName = getProvidersByName;
        function replaceWildcard(providersToReplace, providersEnum) {
          if (!providersEnum) {
            providersEnum = exports.arProviders;
          }
          var arProvidersNew = [];
          for (var i = 0; i < providersToReplace.length; i++) {
            if (providersToReplace[i] == '*') {
              for (
                var iProvider = 0;
                iProvider < providersEnum.length;
                iProvider++
              ) {
                var found = false;
                for (var u = 0; u < providersToReplace.length; u++) {
                  if (
                    providersToReplace[u].toLowerCase() ===
                    providersEnum[iProvider].name.toLowerCase()
                  ) {
                    found = true;
                  }
                }
                if (!found && !providersEnum[iProvider].explicitOnly) {
                  arProvidersNew.push(providersEnum[iProvider].name);
                }
              }
            } else {
              arProvidersNew.push(providersToReplace[i]);
            }
          }
          return arProvidersNew;
        }
        exports.replaceWildcard = replaceWildcard;
        functionsUtils.createAlias(
          'gigya.socialize.getAllProviders',
          getAllProviders
        );
        functionsUtils.createAlias(
          'gigya.socialize.replaceProviderAliases',
          replaceProviderAliases
        );
        functionsUtils.createAlias(
          'gigya.socialize.getProvidersByName',
          getProvidersByName
        );
        functionsUtils.createAlias(
          'gigya.socialize._getProviderByName',
          getProviderByName
        );
        functionsUtils.createAlias(
          'gigya.socialize.hideProvidersByName',
          hideProvidersByName
        );
        functionsUtils.createAlias(
          'gigya.socialize._getProviderByID',
          getProviderById
        );
        functionsUtils.createAlias(
          'gigya.socialize.getProvidersForRequiredCapabilities',
          getProvidersForRequiredCapabilities
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Reports/Reports.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Reports/Reports.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! ../Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var Screen_Set_Reports_1 = __webpack_require__(
          /*! ./Screen-Set-Reports */ './src/core/Gigya.Js/app/Reports/Screen-Set-Reports.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ../Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var _remove = __webpack_require__(
          /*! lodash.remove */ '../node_modules/lodash.remove/index.js'
        );
        exports.ALLOWED_REPORT_VALUE = 'a-zA-Z0-9-_/';
        exports.NOT_ALLOWED_REPORT_CHARS_REGEX = new RegExp(
          '[^' + exports.ALLOWED_REPORT_VALUE + ']',
          'g'
        );
        exports.queue = [];
        var reportIntervalTime = 5000;
        var reportsInterval;
        exports.reports = [
          {
            id: Screen_Set_Reports_1.defaultScreenSetReportID,
            config: Screen_Set_Reports_1.defaultScreenSetReportConfig,
          },
        ];
        function registerReports() {
          exports.reports.forEach(function (report) {
            var _a;
            (_a = window.gigya.defaultEventMaps) === null || _a === void 0
              ? void 0
              : _a.push(report.config);
          });
        }
        exports.registerReports = registerReports;
        function removeReports() {
          exports.reports.forEach(function (report) {
            _remove(window.gigya.defaultEventMaps, function (eventMap) {
              return (
                (eventMap === null || eventMap === void 0
                  ? void 0
                  : eventMap.id) ===
                (report === null || report === void 0 ? void 0 : report.id)
              );
            });
          });
        }
        exports.removeReports = removeReports;
        function replaceNotAllowedReportChars(source, replaceValue) {
          if (!source) {
            return '';
          }
          return source.replace(
            exports.NOT_ALLOWED_REPORT_CHARS_REGEX,
            replaceValue
          );
        }
        exports.replaceNotAllowedReportChars = replaceNotAllowedReportChars;
        function sendReport() {
          if (FlagService_1.FlagService.stopSendingReports) {
            removeReports();
            return clearInterval(reportsInterval);
          }
          while (exports.queue && exports.queue.length > 0) {
            var events = objectUtils.clone(
              exports.queue === null || exports.queue === void 0
                ? void 0
                : exports.queue.splice(0, 5),
              true,
              true
            );
            try {
              var apiDomainFactory = window.gigya._.apiDomainFactory();
              var sdkReportEndpoint =
                'https://' +
                apiDomainFactory('reports') +
                '/reports.reportGenericEvents';
              Uri_1.Uri.parse(sdkReportEndpoint)
                .addToSearch({ apiKey: window.gigya.thisScript.APIKey })
                .addToSearch({ events: JSON.stringify(events) })
                .fetch(0);
            } catch (e) {
              // TODO: maybe clear interval and stop reporting?
            }
          }
        }
        registerReports();
        reportsInterval = setInterval(sendReport, reportIntervalTime);

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Reports/Screen-Set-Reports.ts':
      /*!*************************************************************!*\
  !*** ./src/core/Gigya.Js/app/Reports/Screen-Set-Reports.ts ***!
  \*************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var Reports_1 = __webpack_require__(
          /*! ./Reports */ './src/core/Gigya.Js/app/Reports/Reports.ts'
        );
        // Also used in UI Builder
        var REPLACING_CHAR_FOR_AB_TESTING_REPORT = '-';
        exports.REPORT_EVENT_CATEGORIES = {
          screenSets: 'screenSets',
        };
        exports.ScreenSetEvents = ['afterScreenLoad', 'submit'];
        exports.defaultScreenSetReportID = 'screen-set-report-events-map';
        exports.defaultScreenSetReportConfig = {
          id: exports.defaultScreenSetReportID,
          defaultMethod: report,
          eventMap: [
            {
              events: exports.ScreenSetEvents.join(','),
              args: [
                function (e) {
                  return e;
                },
              ],
            },
          ],
        };
        function report(_a) {
          var abTesting = _a.abTesting,
            screenSetID = _a.screenSetID,
            eventName = _a.eventName;
          if (!abTesting || !screenSetID || !eventName) {
            return;
          }
          var requestedScreenId = abTesting.requestedScreenId;
          var variantId = abTesting.variantId;
          var testId = abTesting.testId;
          if (!variantId || !testId || !requestedScreenId) {
            return;
          }
          var eventId = screenSetID + '/' + requestedScreenId + '/' + testId;
          var report = {
            eventCategory: exports.REPORT_EVENT_CATEGORIES.screenSets,
            eventTime: Date.now(),
            eventType: eventName,
            eventData: variantId,
            eventId: Reports_1.replaceNotAllowedReportChars(
              eventId,
              REPLACING_CHAR_FOR_AB_TESTING_REPORT
            ),
          };
          Reports_1.queue.push(report);
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/RiskAssessment/Providers/GoogleReCaptchaProvider.ts':
      /*!***********************************************************************************!*\
  !*** ./src/core/Gigya.Js/app/RiskAssessment/Providers/GoogleReCaptchaProvider.ts ***!
  \***********************************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var recaptcha_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/recaptcha */ './src/core/Gigya.Js/app/Utils/recaptcha.ts'
        );
        var GoogleReCaptchaProvider = /** @class */ (function () {
          function GoogleReCaptchaProvider(params) {
            if (params === void 0) {
              params = {};
            }
            this.params = params;
          }
          GoogleReCaptchaProvider.prototype.loadProvider = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [
                      4 /*yield*/,
                      recaptcha_1.default.load({
                        siteKey: this.siteKey,
                        type: this.captchaType,
                        lang: window.gigya.thisScript.lang.originalLang,
                        isEnterprise: this.isEnterprise,
                      }),
                    ];
                  case 1:
                    return [2 /*return*/, _a.sent()];
                }
              });
            });
          };
          GoogleReCaptchaProvider.prototype.shouldApply = function () {
            return (
              this.siteKey &&
              !Boolean(
                this.params['captchaType'] || this.params['captchaToken']
              )
            );
          };
          GoogleReCaptchaProvider.prototype.getRequestParams = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a, e_1;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _b.trys.push([0, 2, , 3]);
                    _a = {
                      captchaType: this.captchaType,
                    };
                    return [4 /*yield*/, this.getToken()];
                  case 1:
                    return [2 /*return*/, ((_a.captchaToken = _b.sent()), _a)];
                  case 2:
                    e_1 = _b.sent();
                    window.gigya.logger.error(e_1);
                    return [2 /*return*/, {}];
                  case 3:
                    return [2 /*return*/];
                }
              });
            });
          };
          GoogleReCaptchaProvider.prototype.getToken = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var params;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    params = {
                      isEnterprise: this.isEnterprise,
                    };
                    if (!(typeof grecaptcha === 'undefined'))
                      return [3 /*break*/, 2];
                    return [4 /*yield*/, this.loadProvider()];
                  case 1:
                    _a.sent();
                    _a.label = 2;
                  case 2:
                    return [4 /*yield*/, this.getReCaptchaToken(params)];
                  case 3:
                    return [2 /*return*/, _a.sent()];
                }
              });
            });
          };
          GoogleReCaptchaProvider.prototype.getReCaptchaToken = function (
            params
          ) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var e_2;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    _a.trys.push([0, 1, , 3]);
                    return [
                      2 /*return*/,
                      recaptcha_1.default
                        .getInstance(params)
                        .execute(this.siteKey),
                    ];
                  case 1:
                    e_2 = _a.sent();
                    return [4 /*yield*/, this.loadProvider()];
                  case 2:
                    _a.sent();
                    return [
                      2 /*return*/,
                      recaptcha_1.default
                        .getInstance(params)
                        .execute(this.siteKey),
                    ];
                  case 3:
                    return [2 /*return*/];
                }
              });
            });
          };
          Object.defineProperty(
            GoogleReCaptchaProvider.prototype,
            'isEnterprise',
            {
              get: function () {
                return !!this.siteKeyEnterprise;
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(
            GoogleReCaptchaProvider.prototype,
            'captchaType',
            {
              get: function () {
                return this.isEnterprise
                  ? GoogleReCaptchaProvider.CAPTCHA_TYPE_ENTERPRISE
                  : GoogleReCaptchaProvider.CAPTCHA_TYPE_V3;
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(GoogleReCaptchaProvider.prototype, 'siteKey', {
            get: function () {
              return this.siteKeyEnterprise || this.siteKeyV3;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            GoogleReCaptchaProvider.prototype,
            'siteKeyV3',
            {
              get: function () {
                var _a, _b;
                return (_b =
                  (_a = window.gigya.partnerSettings.recaptchaV3) === null ||
                  _a === void 0
                    ? void 0
                    : _a.siteKey) === null || _b === void 0
                  ? void 0
                  : _b.trim();
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(
            GoogleReCaptchaProvider.prototype,
            'siteKeyEnterprise',
            {
              get: function () {
                var _a, _b;
                return (_b =
                  (_a = window.gigya.partnerSettings.recaptchaEnterprise) ===
                    null || _a === void 0
                    ? void 0
                    : _a.siteKey) === null || _b === void 0
                  ? void 0
                  : _b.trim();
              },
              enumerable: true,
              configurable: true,
            }
          );
          GoogleReCaptchaProvider.CAPTCHA_TYPE_V3 = 'reCaptchaV3';
          GoogleReCaptchaProvider.CAPTCHA_TYPE_ENTERPRISE =
            'reCaptchaEnterpriseScore';
          return GoogleReCaptchaProvider;
        })();
        exports.GoogleReCaptchaProvider = GoogleReCaptchaProvider;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/RiskAssessment/Providers/IRiskAssessmentProvider.ts':
      /*!***********************************************************************************!*\
  !*** ./src/core/Gigya.Js/app/RiskAssessment/Providers/IRiskAssessmentProvider.ts ***!
  \***********************************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a;
        Object.defineProperty(exports, '__esModule', { value: true });
        var GoogleReCaptchaProvider_1 = __webpack_require__(
          /*! ./GoogleReCaptchaProvider */ './src/core/Gigya.Js/app/RiskAssessment/Providers/GoogleReCaptchaProvider.ts'
        );
        var TransUnionProvider_1 = __webpack_require__(
          /*! ./TransUnionProvider */ './src/core/Gigya.Js/app/RiskAssessment/Providers/TransUnionProvider.ts'
        );
        var RiskAssessmentProviderType;
        (function (RiskAssessmentProviderType) {
          RiskAssessmentProviderType['ReCaptchaV3'] = 'ReCaptcha';
          RiskAssessmentProviderType['TransUnion'] = 'TransUnion';
        })(
          (RiskAssessmentProviderType =
            exports.RiskAssessmentProviderType ||
            (exports.RiskAssessmentProviderType = {}))
        );
        exports.RiskAssessmentProviders =
          ((_a = {}),
          (_a[RiskAssessmentProviderType.ReCaptchaV3] =
            GoogleReCaptchaProvider_1.GoogleReCaptchaProvider),
          (_a[RiskAssessmentProviderType.TransUnion] =
            TransUnionProvider_1.TransUnionProvider),
          _a);

        /***/
      },

    /***/ './src/core/Gigya.Js/app/RiskAssessment/Providers/TransUnionProvider.ts':
      /*!******************************************************************************!*\
  !*** ./src/core/Gigya.Js/app/RiskAssessment/Providers/TransUnionProvider.ts ***!
  \******************************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var TransUnionProvider = /** @class */ (function () {
          function TransUnionProvider(params) {
            if (params === void 0) {
              params = {};
            }
            this.params = params;
          }
          Object.defineProperty(TransUnionProvider, 'instance', {
            get: function () {
              var ioName = window['io_global_object_name'] || 'IGLOO';
              return window[ioName];
            },
            enumerable: true,
            configurable: true,
          });
          TransUnionProvider.prototype.getRequestParams = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _a = {};
                    return [4 /*yield*/, this.getToken()];
                  case 1:
                    return [2 /*return*/, ((_a.blackBoxToken = _b.sent()), _a)];
                }
              });
            });
          };
          TransUnionProvider.prototype.getToken = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var iobb;
              return tslib_1.__generator(this, function (_a) {
                iobb = TransUnionProvider.instance.getBlackbox();
                if (iobb && !iobb.finished) {
                  window.gigya.logger.report(
                    'io blackBox report',
                    tslib_1.__assign({}, iobb)
                  );
                  return [2 /*return*/, null];
                }
                return [2 /*return*/, iobb.blackbox];
              });
            });
          };
          TransUnionProvider.prototype.shouldApply = function () {
            return !!TransUnionProvider.instance;
          };
          return TransUnionProvider;
        })();
        exports.TransUnionProvider = TransUnionProvider;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/RiskAssessment/RiskAssessmentHandler.ts':
      /*!***********************************************************************!*\
  !*** ./src/core/Gigya.Js/app/RiskAssessment/RiskAssessmentHandler.ts ***!
  \***********************************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var IRiskAssessmentProvider_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/RiskAssessment/Providers/IRiskAssessmentProvider */ './src/core/Gigya.Js/app/RiskAssessment/Providers/IRiskAssessmentProvider.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var RiskAssessmentHandler = /** @class */ (function () {
          function RiskAssessmentHandler() {}
          RiskAssessmentHandler.prototype.getAssessmentParameters = function (
            params
          ) {
            if (params === void 0) {
              params = {};
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var riskAssessmentParams,
                _a,
                _b,
                _i,
                providerType,
                provider,
                _c,
                _d,
                _e;
              return tslib_1.__generator(this, function (_f) {
                switch (_f.label) {
                  case 0:
                    riskAssessmentParams = {};
                    _a = [];
                    for (_b in IRiskAssessmentProvider_1.RiskAssessmentProviders)
                      _a.push(_b);
                    _i = 0;
                    _f.label = 1;
                  case 1:
                    if (!(_i < _a.length)) return [3 /*break*/, 4];
                    providerType = _a[_i];
                    provider =
                      new IRiskAssessmentProvider_1.RiskAssessmentProviders[
                        providerType
                      ](params);
                    if (!provider.shouldApply()) return [3 /*break*/, 3];
                    _d = (_c = Object).assign;
                    _e = [riskAssessmentParams];
                    return [4 /*yield*/, provider.getRequestParams()];
                  case 2:
                    _d.apply(_c, _e.concat([_f.sent()]));
                    _f.label = 3;
                  case 3:
                    _i++;
                    return [3 /*break*/, 1];
                  case 4:
                    return [2 /*return*/, riskAssessmentParams];
                }
              });
            });
          };
          return RiskAssessmentHandler;
        })();
        exports.RiskAssessmentHandler = RiskAssessmentHandler;
        var RiskAssessmentHandlerTimeoutDecorator = /** @class */ (function () {
          function RiskAssessmentHandlerTimeoutDecorator(
            riskAssessmentHandler
          ) {
            this.riskAssessmentHandler = riskAssessmentHandler;
          }
          RiskAssessmentHandlerTimeoutDecorator.prototype.getAssessmentParameters =
            function (params) {
              if (params === void 0) {
                params = {};
              }
              return tslib_1.__awaiter(
                this,
                void 0,
                gigya.Promise,
                function () {
                  var timeout,
                    timeoutPolicy,
                    getParamsRequest,
                    getParamsPromise;
                  return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                      case 0:
                        timeout = 5000;
                        if (
                          FlagService_1.FlagService.newFormLinkInstanceElement
                        ) {
                          // We increase the timeout because with a slow internet connection (Slow 3G),
                          // the timeoutPolicy resolves before getAssessmentParameters and return an empty object which leads to the captcha error later.
                          timeout = 10000;
                        }
                        timeoutPolicy = new gigya.Promise(function (
                          resolve,
                          reject
                        ) {
                          setTimeout(function () {
                            resolve({});
                          }, timeout);
                        });
                        getParamsRequest =
                          this.riskAssessmentHandler.getAssessmentParameters(
                            params
                          );
                        getParamsPromise = gigya.Promise.race([
                          timeoutPolicy,
                          getParamsRequest,
                        ]);
                        return [4 /*yield*/, getParamsPromise];
                      case 1:
                        return [2 /*return*/, _a.sent()];
                    }
                  });
                }
              );
            };
          return RiskAssessmentHandlerTimeoutDecorator;
        })();
        exports.RiskAssessmentHandlerTimeoutDecorator =
          RiskAssessmentHandlerTimeoutDecorator;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/AccountService.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/AccountService.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var dateUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/date */ './src/core/Gigya.Js/app/Utils/date.ts'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ../Utils/cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ./FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var AccountService = /** @class */ (function () {
          function AccountService() {}
          AccountService.prototype.verifyLogin = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var verifyLoginIntervalConf, verifyLoginIntervalInMillis;
              return tslib_1.__generator(this, function (_a) {
                verifyLoginIntervalConf = Number(
                  window.gigya.thisScript.globalConf['verifyLoginInterval']
                );
                if (isNaN(verifyLoginIntervalConf)) return [2 /*return*/, true];
                if (verifyLoginIntervalConf <= 0) verifyLoginIntervalConf = 1; // Avoid setting zero interval to minimize requests
                verifyLoginIntervalInMillis =
                  Math.ceil(verifyLoginIntervalConf) * 3600 * 1000;
                if (
                  dateUtils.now() <
                  this.lastVerification + verifyLoginIntervalInMillis
                )
                  return [2 /*return*/, true];
                this.lastVerification = dateUtils.now();
                return [
                  2 /*return*/,
                  new gigya.Promise(function (resolve) {
                    window.gigya.accounts.verifyLogin({
                      ignoreApiQueue: true,
                      callback: function (res) {
                        resolve(res['errorCode'] === GSErrors_1.GSErrors.OK);
                      },
                    });
                  }),
                ];
              });
            });
          };
          Object.defineProperty(AccountService.prototype, 'lastVerification', {
            get: function () {
              return Number(
                cookie_1.default.get(this.lastVerificationCookieKey)
              );
            },
            set: function (timestamp) {
              if (FlagService_1.FlagService.setCookieSameSiteLaxSession) {
                cookie_1.default.set(
                  this.lastVerificationCookieKey,
                  String(timestamp),
                  null,
                  null,
                  null,
                  'Lax'
                );
              } else {
                cookie_1.default.set(
                  this.lastVerificationCookieKey,
                  String(timestamp)
                );
              }
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            AccountService.prototype,
            'lastVerificationCookieKey',
            {
              get: function () {
                return 'gig_last_ver_' + window.gigya.thisScript.APIKey;
              },
              enumerable: true,
              configurable: true,
            }
          );
          return AccountService;
        })();
        exports.AccountService = AccountService;
        exports.accountService = new AccountService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/FlagService.ts':
      /*!*******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/FlagService.ts ***!
  \*******************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var FlagService = /** @class */ (function () {
          function FlagService() {}
          Object.defineProperty(FlagService, 'forceWebSdkBootstrap', {
            get: function () {
              return this.get('forceWebSdkBootstrap');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useGigyaJsBaseDomain', {
            get: function () {
              return this.get('useGigyaJsBaseDomain');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'hideSSOFrame', {
            get: function () {
              return this.get('hideSSOFrame');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'wcagContrastFix', {
            get: function () {
              return this.get('wcagContrastFix');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'newFormLinkInstanceElement', {
            get: function () {
              return this.get('newFormLinkInstanceElement');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'stopSendingReports', {
            get: function () {
              return this.get('stopSendingReports');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setGroupApiDomainAfterLogin', {
            get: function () {
              return this.get('setGroupApiDomainAfterLogin');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useHttpStatusCode', {
            get: function () {
              return this.get('useHttpStatusCode');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'alwaysCheckCookieSave', {
            get: function () {
              return this.get('alwaysCheckCookieSave');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'fixPhoneTFATranslations', {
            get: function () {
              return this.get('fixPhoneTFATranslations');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'loadSsoFrameOnlyOnce', {
            get: function () {
              return this.get('loadSsoFrameOnlyOnce');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'verifyLoginOnlyOnce', {
            get: function () {
              return this.get('verifyLoginOnlyOnce');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'sendLangForEmailOTP', {
            get: function () {
              return this.get('sendLangForEmailOTP');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setProviderFromResponse', {
            get: function () {
              return this.get('setProviderFromResponse');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setCookieSameSiteLaxSession', {
            get: function () {
              return this.get('setCookieSameSiteLaxSession');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'setCookieSameSiteLaxSocial', {
            get: function () {
              return this.get('setCookieSameSiteLaxSocial');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'setCookieSameSiteLaxLowPriority',
            {
              get: function () {
                return this.get('setCookieSameSiteLaxLowPriority');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'forceErrorReport', {
            get: function () {
              return this.get('forceErrorReport');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'skipSameScreenCheckOnSwitch', {
            get: function () {
              return this.get('skipSameScreenCheckOnSwitch');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'getOnlyVisibleField', {
            get: function () {
              return this.get('getOnlyVisibleField');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'updateAccountInfoAsync', {
            get: function () {
              return this.get('updateAccountInfoAsync');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'sanitizeEvaluatedValue', {
            get: function () {
              return this.get('sanitizeEvaluatedValue');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useSessionVerify', {
            get: function () {
              return this.get('useSessionVerify');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useExtendedPhoneNumberRegex', {
            get: function () {
              return this.get('useExtendedPhoneNumberRegex');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'generateNewCodeWcagCompliance', {
            get: function () {
              return this.get('generateNewCodeWcagCompliance');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'enforceAuthFlowRedirectForSocial',
            {
              get: function () {
                return this.get('enforceAuthFlowRedirectForSocial');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'useDecodeURIComponent', {
            get: function () {
              return this.get('useDecodeURIComponent');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useOidcGetParamHashOldStyle', {
            get: function () {
              return this.get('useOidcGetParamHashOldStyle');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(FlagService, 'useViewportPollerAction', {
            get: function () {
              return this.get('useViewportPollerAction');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'ignoreInterruptionsInOidcPassiveLogin',
            {
              get: function () {
                return this.get('ignoreInterruptionsInOidcPassiveLogin');
              },
              enumerable: true,
              configurable: true,
            }
          );
          Object.defineProperty(FlagService, 'overrideAllChildContext', {
            get: function () {
              return this.get('overrideAllChildContext');
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            FlagService,
            'dispatchLoginEventWhenHandlerAdded',
            {
              get: function () {
                return this.get('dispatchLoginEventWhenHandlerAdded');
              },
              enumerable: true,
              configurable: true,
            }
          );
          FlagService.get = function (name) {
            var _a, _b;
            return (
              (((_a = window.gigya._.config) === null || _a === void 0
                ? void 0
                : _a.flags) &&
                ((_b = window.gigya._.config) === null || _b === void 0
                  ? void 0
                  : _b.flags[name])) ||
              false
            );
          };
          Object.defineProperty(FlagService, 'apiFlags', {
            // Every flag that is associated with data modification related to the api layer
            get: function () {
              return [];
            },
            enumerable: true,
            configurable: true,
          });
          return FlagService;
        })();
        exports.FlagService = FlagService;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/SessionService.ts':
      /*!**********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/SessionService.ts ***!
  \**********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var sessionCache_1 = __webpack_require__(
          /*! ../Utils/sessionCache */ './src/core/Gigya.Js/app/Utils/sessionCache.ts'
        );
        var object_1 = __webpack_require__(
          /*! ../Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var SessionService = /** @class */ (function () {
          function SessionService() {}
          SessionService.prototype.isSessionVerified = function (glt, apiKey) {
            if (apiKey === void 0) {
              apiKey = window.gigya.thisScript.APIKey;
            }
            var key = this.createKey(glt, apiKey);
            return sessionCache_1.get(key) === 'true';
          };
          SessionService.prototype.setIsSessionVerified = function (
            glt,
            verified,
            apiKey
          ) {
            if (apiKey === void 0) {
              apiKey = window.gigya.thisScript.APIKey;
            }
            var key = this.createKey(glt, apiKey);
            sessionCache_1.set(key, '' + verified);
          };
          SessionService.prototype.createKey = function (glt, apiKey) {
            var key = object_1.getMurmurHash(glt + '_' + apiKey, 15).toString();
            return btoa(key);
          };
          return SessionService;
        })();
        exports.sessionData = new SessionService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Services/SiteData.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Services/SiteData.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var localStorage_1 = __webpack_require__(
          /*! ../Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
        );
        var object_1 = __webpack_require__(
          /*! ../Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var _merge = __webpack_require__(
          /*! lodash.merge */ '../node_modules/lodash.merge/index.js'
        );
        var MAX_LIMIT_OF_USERS_PREFERRED_LOGIN_METHODS_PER_SITE = 10;
        var SiteDataService = /** @class */ (function () {
          function SiteDataService() {}
          Object.defineProperty(SiteDataService, 'SITE_PREFERENCES_KEY', {
            get: function () {
              return window.gigya.apiKey + '_preferences';
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(SiteDataService, 'SITE_GIG_KEY', {
            get: function () {
              return window.gigya.apiKey + '_gig';
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            SiteDataService.prototype,
            'didForcedBootstrap',
            {
              get: function () {
                return (
                  this.getDataByKey(SiteDataService.SITE_GIG_KEY)
                    .didForcedBootstrap || null
                );
              },
              set: function (didForcedBootstrap) {
                this.setDataByKey(SiteDataService.SITE_GIG_KEY, {
                  didForcedBootstrap: didForcedBootstrap,
                });
              },
              enumerable: true,
              configurable: true,
            }
          );
          SiteDataService.prototype.getPreferredLoginMethod = function (
            identifier
          ) {
            var _a, _b, _c, _d;
            if (!identifier) {
              return '';
            }
            var userPreferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            var usersPreferredLoginMethods =
              (_b =
                (_a =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _a === void 0
                  ? void 0
                  : _a.usersPreferredLoginMethods) !== null && _b !== void 0
                ? _b
                : [];
            return (_d =
              (_c = usersPreferredLoginMethods.find(function (user) {
                return user.identifier === identifier;
              })) === null || _c === void 0
                ? void 0
                : _c.preferredLoginMethod) !== null && _d !== void 0
              ? _d
              : '';
          };
          SiteDataService.prototype.setPreferredLoginMethod = function (
            authMethod,
            identifier
          ) {
            var _a, _b, _c, _d;
            if (!identifier) {
              return;
            }
            var userPreferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            var usersPreferredLoginMethods = tslib_1.__spreadArrays(
              (_b =
                (_a =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _a === void 0
                  ? void 0
                  : _a.usersPreferredLoginMethods) !== null && _b !== void 0
                ? _b
                : []
            );
            var tfaPreferredMethod =
              (_d =
                (_c =
                  userPreferences === null || userPreferences === void 0
                    ? void 0
                    : userPreferences.authentication) === null || _c === void 0
                  ? void 0
                  : _c.tfaPreferredMethod) !== null && _d !== void 0
                ? _d
                : '';
            var isUserExists = usersPreferredLoginMethods.some(function (user) {
              return user.identifier === identifier;
            });
            if (
              this.isMaxLimitUsersPreferredLoginMethodsReached(
                usersPreferredLoginMethods
              ) &&
              !isUserExists
            ) {
              usersPreferredLoginMethods =
                this.removeOldestUserPreferredLoginMethod(
                  usersPreferredLoginMethods
                );
            }
            if (!isUserExists) {
              usersPreferredLoginMethods = this.addUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                { identifier: identifier, preferredLoginMethod: authMethod }
              );
            }
            if (isUserExists) {
              usersPreferredLoginMethods =
                this.refreshExistingUserPreferredLoginMethod({
                  authMethod: authMethod,
                  identifier: identifier,
                  usersPreferredLoginMethods: usersPreferredLoginMethods,
                });
            }
            this.setDataByKey(SiteDataService.SITE_PREFERENCES_KEY, {
              authentication: {
                usersPreferredLoginMethods: usersPreferredLoginMethods,
                tfaPreferredMethod: tfaPreferredMethod,
              },
            });
          };
          SiteDataService.prototype.setScreenVariant = function (
            screenSetId,
            screenId,
            testId,
            variantId
          ) {
            var _a, _b, _c;
            this.setDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY,
              ((_a = {}),
              (_a[screenSetId] = {
                screens:
                  ((_b = {}),
                  (_b[screenId] =
                    ((_c = {}), (_c[testId] = { variant: variantId }), _c)),
                  _b),
              }),
              _a)
            );
          };
          SiteDataService.prototype.getScreenVariant = function (
            screenSetId,
            screenId,
            testId
          ) {
            var _a, _b, _c, _d;
            var preferences = this.getDataByKey(
              SiteDataService.SITE_PREFERENCES_KEY
            );
            return (_d =
              (_c =
                (_b =
                  (_a =
                    preferences === null || preferences === void 0
                      ? void 0
                      : preferences[screenSetId]) === null || _a === void 0
                    ? void 0
                    : _a.screens) === null || _b === void 0
                  ? void 0
                  : _b[screenId]) === null || _c === void 0
                ? void 0
                : _c[testId]) === null || _d === void 0
              ? void 0
              : _d.variant;
          };
          SiteDataService.prototype.getDataByKey = function (key) {
            return localStorage_1.getObject(key, {});
          };
          SiteDataService.prototype.setDataByKey = function (key, newData) {
            var oldData = this.getDataByKey(key);
            try {
              localStorage_1.setObject(
                key,
                object_1.removeUndefined(_merge(oldData, newData))
              );
            } catch (error) {
              window.gigya.logger.report('Failed to save local site data', {
                error: error,
                key: key,
              });
            }
          };
          SiteDataService.prototype.refreshExistingUserPreferredLoginMethod =
            function (_a) {
              var usersPreferredLoginMethods = _a.usersPreferredLoginMethods,
                identifier = _a.identifier,
                authMethod = _a.authMethod;
              var remainingMethods = this.removeUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                identifier
              );
              return this.addUserPreferredLoginMethod(remainingMethods, {
                identifier: identifier,
                preferredLoginMethod: authMethod,
              });
            };
          SiteDataService.prototype.removeUserPreferredLoginMethod = function (
            usersPreferredLoginMethods,
            identifier
          ) {
            return usersPreferredLoginMethods.filter(function (
              userLoginMethod
            ) {
              return userLoginMethod.identifier !== identifier;
            });
          };
          SiteDataService.prototype.isMaxLimitUsersPreferredLoginMethodsReached =
            function (usersPreferredLoginMethods) {
              return (
                usersPreferredLoginMethods.length ===
                MAX_LIMIT_OF_USERS_PREFERRED_LOGIN_METHODS_PER_SITE
              );
            };
          SiteDataService.prototype.removeOldestUserPreferredLoginMethod =
            function (usersPreferredLoginMethods) {
              var oldestMethod = usersPreferredLoginMethods[0];
              return this.removeUserPreferredLoginMethod(
                usersPreferredLoginMethods,
                oldestMethod === null || oldestMethod === void 0
                  ? void 0
                  : oldestMethod.identifier
              );
            };
          SiteDataService.prototype.addUserPreferredLoginMethod = function (
            usersPreferredLoginMethods,
            userPreferredLogin
          ) {
            return tslib_1.__spreadArrays(usersPreferredLoginMethods, [
              userPreferredLogin,
            ]);
          };
          return SiteDataService;
        })();
        exports.SiteDataService = SiteDataService;
        exports.siteData = new SiteDataService();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/ThisScript.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/ThisScript.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.isReady = false;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/DOM.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/DOM.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var viewportUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/viewport */ './src/core/Gigya.Js/app/Utils/viewport.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        exports._popupContainers = [];
        exports._pseudoContainers = [];
        var _nextZIndex = 999999999;
        var backListener = null;
        function getNextZIndex() {
          _nextZIndex++;
          return _nextZIndex;
        }
        exports.getNextZIndex = getNextZIndex;
        function getGigyaScriptElement(fileNames) {
          var scripts = document.getElementsByTagName('script');
          var scriptElement;
          var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
          for (var i = scripts.length - 1; i >= 0; i--) {
            var script = scripts[i];
            var src = script.src.toLowerCase();
            if (src !== '') {
              if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                var isFileNameExistInSrc =
                  fileNames.length === 0 ||
                  fileNames.some(function (fileName) {
                    return src.indexOf(fileName) > -1;
                  });
                if (isFileNameExistInSrc) {
                  scriptElement = script;
                  break;
                }
              }
            }
          }
          return scriptElement;
        }
        exports.getGigyaScriptElement = getGigyaScriptElement;
        function dispatch(el, eventName) {
          var event;
          try {
            event = new Event(eventName);
          } catch (e) {
            // IE10 and below support
            event = document.createEvent('CustomEvent');
            event.initCustomEvent(eventName, true, true, {});
          }
          el.dispatchEvent(event);
        }
        exports.dispatch = dispatch;
        function addButtonSubmitListener(el, handler, event, debugName) {
          if (event === void 0) {
            event = 'click';
          }
          // Just in case the element does not exist.
          if (!el) {
            return;
          }
          el.setAttribute('role', 'button');
          if (el.getAttribute('tabindex') != '-1') {
            el.setAttribute('tabindex', '0');
          }
          addEventListener(el, event, function (e) {
            return handler(e);
          });
          addEventListener(el, 'keydown', function (e) {
            if ((e.which || e.keyCode) == 13) {
              e.preventDefault();
              handler(e);
            }
          });
        }
        exports.addButtonSubmitListener = addButtonSubmitListener;
        function addEventListener(el, eventName, handler) {
          if (!el || !handler) return;
          if (el.addEventListener) {
            el.addEventListener(eventName, handler, true);
          } else {
            el.attachEvent('on' + eventName, handler);
          }
        }
        exports.addEventListener = addEventListener;
        function addActivationHandler(el, handler) {
          if (!el || !handler) return;
          this.addEventListener(el, 'keydown', function (event) {
            if (event.code === 'Space' || event.code === 'Enter') {
              handler();
            }
          });
          this.addEventListener(el, 'click', handler);
        }
        exports.addActivationHandler = addActivationHandler;
        function removeEventListener(el, eventName, handler) {
          if (!el || !handler) return;
          if (el.removeEventListener) {
            el.removeEventListener(eventName, handler, true);
          } else {
            el.detachEvent('on' + eventName, handler);
          }
        }
        exports.removeEventListener = removeEventListener;
        function disableDefaultEventHandling(event) {
          if (event.preventDefault) {
            event.preventDefault();
          } else if (window.event) {
            window.event.returnValue = false;
          }
        }
        exports.disableDefaultEventHandling = disableDefaultEventHandling;
        function addDialogBackListener(handler) {
          _removeDialogBackListener();
          // This should fire when back is clicked
          backListener = function (e) {
            if (e && e.newURL && e.newURL.indexOf('|gigyaMobileDialog') == -1) {
              handler(e);
              _removeDialogBackListener();
            }
          };
          // hash could change right after the call if it was initiated from a link that didn't return false
          window.setTimeout(function () {
            if (window.location.hash.indexOf('|gigyaMobileDialog') == -1) {
              window.location.hash =
                window.location.hash + '|gigyaMobileDialog';
            }
            addEventListener(window, 'hashchange', backListener);
          }, 50);
        }
        exports.addDialogBackListener = addDialogBackListener;
        function _removeDialogBackListener() {
          if (!backListener) return;
          removeEventListener(window, 'hashchange', backListener);
          backListener = null;
          //restore previous hash
          window.location.hash = window.location.hash.replace(
            '|gigyaMobileDialog',
            ''
          );
        }
        exports._removeDialogBackListener = _removeDialogBackListener;
        function prependToBody(el, document) {
          if (document === void 0) {
            document = window.document;
          }
          if (!document.body) return;
          if (document.body.insertBefore && document.body.firstChild) {
            document.body.insertBefore(el, document.body.firstChild);
          } else {
            // Backward compatibility
            document.body.appendChild(el);
          }
        }
        exports.prependToBody = prependToBody;
        function appendToBody(el, document) {
          if (document === void 0) {
            document = window.document;
          }
          if (!document.body) return;
          document.body.appendChild(el);
        }
        exports.appendToBody = appendToBody;
        function removeElement(el) {
          if (el && el.parentElement) {
            el.parentElement.removeChild(el);
          }
        }
        exports.removeElement = removeElement;
        function isChildOf(child, parent) {
          var directParent = child.parentNode;
          while (directParent) {
            if (parent == directParent) {
              return true;
            }
            directParent = directParent.parentNode;
          }
          return false;
        }
        exports.isChildOf = isChildOf;
        function isVisible(el) {
          while (el) {
            var computedStyle = getComputedStyle(el);
            if (
              computedStyle.display === 'none' ||
              computedStyle.visibility === 'hidden'
            ) {
              return false;
            } else {
              el = el.parentElement;
            }
          }
          return true;
        }
        exports.isVisible = isVisible;
        function getCenteredDivID(name) {
          return (
            'gig_' +
            LocalInfo_1.localInfo.initTime.getTime().toString() +
            '_' +
            name
          );
        }
        exports.getCenteredDivID = getCenteredDivID;
        function createElementWithAttributes(domElemName, domElemAttrs) {
          var newDomElem = document.createElement(domElemName);
          if (domElemAttrs) {
            for (var elemAttr in domElemAttrs) {
              newDomElem[elemAttr] = domElemAttrs[elemAttr];
            }
          }
          return newDomElem;
        }
        exports.createElementWithAttributes = createElementWithAttributes;
        function createTopLevelDiv(id) {
          var el = document.createElement('div');
          if (el.style.zIndex != null) {
            el.style.zIndex = '' + getNextZIndex();
          }
          el.innerHTML = '';
          if (id) {
            el.id = id;
          }
          if (document.body) {
            if (document.body.insertBefore && document.body.firstChild) {
              document.body.insertBefore(el, document.body.firstChild);
            } else if (document.body.appendChild) {
              document.body.appendChild(el);
            }
          }
          return el;
        }
        exports.createTopLevelDiv = createTopLevelDiv;
        function hideByID(id) {
          var el = document.getElementById(id);
          if (el) {
            el.style.display = 'none';
          }
        }
        exports.hideByID = hideByID;
        function showByID(id) {
          var el = document.getElementById(id);
          if (el) {
            el.style.display = LocalInfo_1.localInfo.isIE6
              ? el.tagName == 'TD'
                ? 'table-cell'
                : el.tagName == 'TR'
                ? ''
                : el.tagName == 'TABLE'
                ? ''
                : 'block'
              : '';
          }
        }
        exports.showByID = showByID;
        function clearByID(id) {
          try {
            var c = document.getElementById(id);
            if (c != null) {
              c.innerHTML = '';
            }
          } catch (e) {}
        }
        exports.clearByID = clearByID;
        function getHTMLSize(html, container) {
          var divMeasure = document.createElement('div');
          divMeasure.style.position = 'absolute';
          divMeasure.style.left = '-1000px';
          divMeasure.innerHTML = html;
          container.appendChild(divMeasure);
          var w = divMeasure.offsetWidth;
          var h = divMeasure.offsetHeight;
          divMeasure.parentNode.removeChild(divMeasure);
          return { w: w, h: h };
        }
        exports.getHTMLSize = getHTMLSize;
        function getElementsByClass(parentElement, className, includeParent) {
          if (!parentElement) {
            return [];
          }
          var arEls = [];
          if (includeParent && isElementClass(parentElement, className)) {
            arEls.push(parentElement);
          }
          var els = parentElement.getElementsByTagName('*');
          for (var i = 0; i < els.length; i++) {
            if (isElementClass(els[i], className)) {
              arEls.push(els[i]);
            }
          }
          return arEls || [];
        }
        exports.getElementsByClass = getElementsByClass;
        function getElementsByAttribute(
          parentElement,
          tagName,
          attributeName,
          attributeValue
        ) {
          var arEls = [];
          var els = parentElement.getElementsByTagName(tagName);
          for (var i = 0; i < els.length; i++) {
            if (els[i].getAttribute(attributeName) == attributeValue) {
              arEls.push(els[i]);
            }
          }
          return arEls;
        }
        exports.getElementsByAttribute = getElementsByAttribute;
        function getElementPosition(el) {
          if (!el) {
            return { left: 0, top: 0, bottom: 0, right: 0 };
          }
          var rect = el.getBoundingClientRect();
          var scroll = viewportUtils.getScroll();
          var left = rect.left + scroll.left;
          var top = rect.top + scroll.top;
          return {
            left: left,
            top: top,
            right: left + rect.width,
            bottom: top + rect.height,
          };
        }
        exports.getElementPosition = getElementPosition;
        function addClassToElement(el, className) {
          if (!el) {
            return;
          }
          var existingClasses = el.className ? getClassNames(el) : [];
          var existingOriginalLength = existingClasses.length;
          var newClasses = className.split(' ');
          for (var j in newClasses) {
            var exists = false;
            if (!newClasses[j]) {
              break;
            }
            for (var i in existingClasses) {
              if (existingClasses[i] === newClasses[j]) {
                exists = true;
                break;
              }
            }
            if (!exists) {
              existingClasses.push(newClasses[j]);
            }
          }
          if (existingClasses.length !== existingOriginalLength) {
            el.className = existingClasses.join(' ');
          }
        }
        exports.addClassToElement = addClassToElement;
        function removeClassFromElement(el, className, substring) {
          if (substring === void 0) {
            substring = false;
          }
          if (!el) {
            return;
          }
          var arClass = getClassNames(el);
          for (var i = arClass.length - 1; i >= 0; i--) {
            if (
              arClass[i] === className ||
              (substring && arClass[i].indexOf(className) !== -1)
            ) {
              arClass.splice(i, 1);
            }
          }
          el.className = arClass.join(' ');
        }
        exports.removeClassFromElement = removeClassFromElement;
        function getClassNames(el) {
          var classes = [];
          if (typeof el.className === 'string') {
            classes = el.className.split(' ');
          }
          return classes;
        }
        exports.getClassNames = getClassNames;
        function isElementClass(el, className) {
          if (!el) return false;
          else if (!className) return true;
          else if (!el.className) return false;
          var exists = false;
          var arClass = getClassNames(el);
          for (var i = 0; i < arClass.length; i++) {
            if (arClass[i] === className) {
              exists = true;
              break;
            }
          }
          return exists;
        }
        exports.isElementClass = isElementClass;
        function cancelEvent(event) {
          if (!event) return;
          if ('cancelable' in event)
            // All browsers except <IE9
            event.preventDefault();
          else event.returnValue = false;
        }
        exports.cancelEvent = cancelEvent;
        function createElement(type, name) {
          var divContainer = document.createElement('div');
          name = name || '';
          divContainer.innerHTML =
            '<' +
            type +
            ' name="' +
            name +
            '" id="' +
            name +
            '"></' +
            type +
            '>';
          return divContainer.firstChild;
        }
        exports.createElement = createElement;
        function setSize(container, w, h, center) {
          if (container == null || container.style == null) {
            return;
          }
          if (w) {
            w = '' + w;
            var isWidthPrecentage = w.indexOf('%') > 0;
            if (!isNaN(w) || isWidthPrecentage) {
              var widthValue = '' + (isWidthPrecentage ? w : w + 'px');
              if (container.style.width != widthValue) {
                container.style.width = widthValue;
              }
            }
          }
          if (h) {
            h = '' + h;
            var isHeightPrecentage = h.indexOf('%') > 0;
            if (!isNaN(w) || isHeightPrecentage) {
              var heightValue = '' + (isHeightPrecentage ? h : h + 'px');
              if (container.style.height !== heightValue) {
                container.style.height = heightValue;
              }
            }
          }
          if (center && w && h) {
            if (container.style.zIndex == null || center) {
              container.style.zIndex = '' + getNextZIndex();
            }
            var vp = viewportUtils.getInnerSize();
            var scrl = viewportUtils.getScroll();
            var vpt = scrl.top;
            var vpl = scrl.left;
            container.style.top =
              '' + Math.max(0, vpt + Math.floor((vp.h - h) / 2)) + 'px';
            container.style.left =
              '' + Math.max(0, vpl + Math.floor((vp.w - w) / 2)) + 'px';
            container.style.visibility = '';
          }
        }
        exports.setSize = setSize;
        function createHiddenIframe(src) {
          var ifr = document.createElement('iframe');
          ifr.src = src;
          ifr.style.width = '30px';
          ifr.style.height = '10px';
          ifr.style.position = 'absolute';
          ifr.style.top = '-1000px';
          ifr.style.left = '-1000px';
          if (document.body) {
            appendToBody(ifr);
          } else {
            functionsUtils.invokeOnPageLoad(function () {
              appendToBody(ifr);
            });
          }
          return ifr;
        }
        exports.createHiddenIframe = createHiddenIframe;
        function attributeEncode(value) {
          return value
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/\"/g, '&quot;')
            .replace(/\'/g, '&#39;'); // IE8 doesn't support &apos;
        }
        exports.attributeEncode = attributeEncode;
        function manipulateAttributes(
          elements,
          matcher,
          replacePredicate,
          criteria
        ) {
          if (criteria === void 0) {
            criteria = function () {
              return true;
            };
          }
          elements.forEach(function (el) {
            if (!el.attributes) return;
            Array.prototype.slice.call(el.attributes).forEach(function (attr) {
              if (criteria(attr)) {
                attr.value = attr.value.replace(matcher, replacePredicate);
              }
            });
          });
        }
        exports.manipulateAttributes = manipulateAttributes;
        function textNodesUnder(el) {
          var n;
          var textNodes = [];
          var treeWalker = document.createTreeWalker(
            el,
            NodeFilter.SHOW_TEXT,
            null,
            false
          );
          while ((n = treeWalker.nextNode())) {
            textNodes.push(n);
          }
          return textNodes;
        }
        exports.textNodesUnder = textNodesUnder;
        function isHTMLBooleanAttribute(attrName) {
          return (
            [
              'autocomplete',
              'autofocus',
              'checked',
              'disabled',
              'hidden',
              'readonly',
              'required',
              'selected',
            ].indexOf(attrName) > -1
          );
        }
        exports.isHTMLBooleanAttribute = isHTMLBooleanAttribute;
        function isBelongToGigyaFieldset(el) {
          if (!el || el instanceof HTMLFormElement) {
            return false; // end of recursion - element is not a child of a fieldset
          }
          if (isElementClass(el.parentElement, 'gigya-fieldset')) {
            return true;
          }
          return isBelongToGigyaFieldset(el.parentElement);
        }
        exports.isBelongToGigyaFieldset = isBelongToGigyaFieldset;
        function getClosestElement(elem, selector, parent) {
          if (parent === void 0) {
            parent = document;
          }
          setMatchesPolyfill();
          // Get the closest matching element
          for (; elem && elem !== parent; elem = elem.parentNode) {
            if (
              elem === null || elem === void 0 ? void 0 : elem.matches(selector)
            )
              return elem;
          }
          return null;
        }
        exports.getClosestElement = getClosestElement;
        function createElementFromTemplate(template) {
          if (template === void 0) {
            template = '';
          }
          var _a;
          var div = document.createElement('div');
          div.innerHTML =
            template === null || template === void 0 ? void 0 : template.trim();
          return (_a = div.firstChild) !== null && _a !== void 0 ? _a : div;
        }
        exports.createElementFromTemplate = createElementFromTemplate;
        function setMatchesPolyfill() {
          if (!Element.prototype.matches) {
            // @ts-ignore
            Element.prototype.matches =
              Element.prototype.msMatchesSelector ||
              Element.prototype.webkitMatchesSelector;
          }
        }
        function isParentHasClass(nativeElement, className) {
          var _a;
          if (
            (_a =
              nativeElement === null || nativeElement === void 0
                ? void 0
                : nativeElement.classList) === null || _a === void 0
              ? void 0
              : _a.contains(className)
          ) {
            return true;
          }
          if (
            !(nativeElement === null || nativeElement === void 0
              ? void 0
              : nativeElement.parentElement)
          ) {
            return false;
          }
          return isParentHasClass(
            nativeElement === null || nativeElement === void 0
              ? void 0
              : nativeElement.parentElement,
            className
          );
        }
        exports.isParentHasClass = isParentHasClass;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/HTTP.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/HTTP.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        function redirect(url, arParams, method, target, workDocument) {
          if (workDocument === void 0) {
            workDocument = window.document;
          }
          if (method && method.toLowerCase() == 'post') {
            var form = workDocument.createElement('form');
            var arFieldsHTML = [];
            form.setAttribute('accept-charset', 'UTF-8');
            form.setAttribute('method', 'POST');
            form.setAttribute('action', url);
            if (target) form.setAttribute('target', target);
            var params = objectUtils.merge(arParams);
            for (var p in params) {
              if (
                (typeof params[p] == 'number' ||
                  typeof params[p] == 'boolean' ||
                  typeof params[p] == 'string') &&
                p != 'eventName'
              ) {
                arFieldsHTML.push(
                  '<textarea name="' +
                    encodeURIComponent(p) +
                    '">' +
                    params[p].toString().replace(/\&/g, '&amp;') +
                    '</textarea>'
                );
              }
            }
            form.innerHTML = arFieldsHTML.join('');
            form.style.display = 'none';
            DOMUtils.appendToBody(form, workDocument);
            form.submit();
          } else {
            var uri = new Uri_1.Uri(url);
            var query = {};
            for (var i = 0; i < arParams.length; i++) {
              var params_1 = arParams[i];
              for (var name in params_1) {
                if (params_1.hasOwnProperty(name)) {
                  var val = params_1[name];
                  query[name] = val;
                }
              }
            }
            uri.addToSearch(query);
            workDocument.location.href = uri.toString();
          }
        }
        exports.redirect = redirect;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/JSON.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/JSON.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function serialize(obj, includeFunctions, prettyPrint, l, maxLevel) {
          if (includeFunctions === void 0) {
            includeFunctions = false;
          }
          if (prettyPrint === void 0) {
            prettyPrint = false;
          }
          if (l === void 0) {
            l = 0;
          }
          if (maxLevel === void 0) {
            maxLevel = 20;
          }
          if (!window.gigya.localInfo.isIE8) {
            return window['JSON'].stringify(obj);
          } else {
            if (!l) l = 0;
            if (l > maxLevel) return '[Too deep]';
            var prefix = '';
            var newline = '';
            var tab = '';
            if (prettyPrint) {
              tab = '\t';
              newline = '\n';
              for (var i = 0; i < l + 1; i++) {
                prefix += tab;
              }
            }
            var t = typeof obj;
            if (t == 'function') {
              return t.toString();
            }
            if (t != 'object' || obj === null) {
              // simple data type
              if (t == 'string')
                obj =
                  '"' +
                  obj
                    .replace(/(\"|\\)/g, '\\$1')
                    .replace(/\r\n|\r|\n/g, '\\n') +
                  '"';
              return String(obj);
            } else {
              var n,
                v,
                json = [],
                arr = obj && obj.constructor == Array;
              if (arr) {
                for (var i = 0; i < obj.length; i++) {
                  v = obj[i];
                  t = typeof v;
                  if (v == null || t == 'undefined') v = '';
                  else if (t == 'string')
                    v =
                      '"' +
                      v
                        .replace(/(\"|\\)/g, '\\$1')
                        .replace(/\r\n|\r|\n/g, '\\n') +
                      '"';
                  else if (t == 'function') {
                    if (includeFunctions) v = 'Function';
                    else v = '';
                  } else if (v.parentNode && v.innerHTML) v = 'HTMLElement';
                  else if (v.constructor == Date) v = '';
                  else if (t == 'object' && v !== null)
                    v = serialize(v, includeFunctions, prettyPrint, l + 1);
                  if (String(v) != '') json.push(prefix + tab + String(v));
                }
              } else {
                for (n in obj) {
                  v = obj[n];
                  t = typeof v;
                  if (v == null || t == 'undefined') v = String(v);
                  else if (t == 'string')
                    v =
                      '"' +
                      v
                        .replace(/(\"|\\)/g, '\\$1')
                        .replace(/\r\n|\r|\n/g, '\\n') +
                      '"';
                  else if (t == 'function') {
                    if (includeFunctions) {
                      v = 'Function';
                    } else {
                      v = '';
                    }
                  } else if (v.parentNode && v.innerHTML) v = 'HTMLElement';
                  else if (v.constructor == Date) v = '';
                  else if (t == 'object' && v !== null)
                    v =
                      newline +
                      serialize(v, includeFunctions, prettyPrint, l + 1);
                  if (String(v) != '')
                    json.push(
                      prefix +
                        tab +
                        '"' +
                        n
                          .replace(/(\"|\\)/g, '\\$1')
                          .replace(/\r\n|\r|\n/g, '\\n') +
                        '":' +
                        String(v)
                    );
                }
              }
              return (
                newline +
                prefix +
                (arr ? '[' : '{') +
                newline +
                json.join(',' + newline) +
                newline +
                prefix +
                (arr ? ']' : '}')
              );
            }
          }
        }
        exports.serialize = serialize;
        function deserialize(json, defaultValue, scope) {
          // Return default value if is empty string (or similar).
          if (!json || !json.replace(/^\s+|\s+$/g, '')) {
            return defaultValue || {};
          }
          // Attempt to parse. On error, warn in console and return default value.
          try {
            var keys = [];
            var values = [];
            if (scope) {
              for (var key in scope) {
                keys.push(key);
                values.push(scope[key]);
              }
            }
            var fn = eval(
              '(function(' +
                keys.join(',') +
                ') { return ' +
                json.trim() +
                '; })'
            );
            return fn.apply(undefined, values);
          } catch (e) {
            console.warn('Error deserializing JavaScript', e);
            return defaultValue || {};
          }
        }
        exports.deserialize = deserialize;
        function parse(json, defaultValue) {
          if (window.gigya.localInfo.isIE8) {
            return deserialize(json, defaultValue);
          } else {
            try {
              return window['JSON'].parse(json);
            } catch (e) {
              return defaultValue || {};
            }
          }
        }
        exports.parse = parse;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/URL.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/URL.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var constants_1 = __webpack_require__(
          /*! ./../../../../accounts/constants */ './src/accounts/constants.ts'
        );
        var keyValueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        function URLEncode(value) {
          return encodeURIComponent(value);
        }
        exports.URLEncode = URLEncode;
        function URLDecode(value) {
          return decodeURIComponent(value.replace(/\+/g, ' '));
        }
        exports.URLDecode = URLDecode;
        function URLDecodeRecursive(value) {
          var prevDecodingRes = '';
          var currDecodingRes = value;
          // keep decoding until we can't decode anymore
          while (currDecodingRes != prevDecodingRes) {
            // store the last decoding result
            prevDecodingRes = currDecodingRes;
            // decode the string once again
            currDecodingRes = URLDecode(prevDecodingRes);
          }
          return currDecodingRes;
        }
        exports.URLDecodeRecursive = URLDecodeRecursive;
        function getParamsFromURL(url, keysToLower) {
          if (!url || url.indexOf('?') === -1) {
            return {};
          }
          return keyValueUtils.deserialize(
            url.split('#')[0].split('?')[1],
            '&',
            keysToLower
          );
        }
        exports.getParamsFromURL = getParamsFromURL;
        function getGigParamsFromURL(config) {
          var _a = config || {},
            url = _a.url,
            paramPrefix = _a.paramPrefix,
            keysToLower = _a.keysToLower,
            removePrefix = _a.removePrefix;
          var prefix = paramPrefix || constants_1.GIGYA_PARAM_PREFIX;
          var urlParams = getParamsFromURL(url, keysToLower);
          return Object.keys(urlParams)
            .filter(function (key) {
              return key.indexOf(prefix) === 0 && key !== prefix;
            })
            .reduce(function (obj, key) {
              var newKey = removePrefix ? key.slice(4) : key;
              obj[newKey] = urlParams[key];
              return obj;
            }, {});
        }
        exports.getGigParamsFromURL = getGigParamsFromURL;
        function getParamValueFromURL(param, url, defaultValue) {
          if (null == url || '' == url) {
            return defaultValue;
          }
          var iqm = url.indexOf('?');
          if (iqm === -1) {
            return defaultValue;
          }
          var qs = '&' + url.substr(iqm + 1);
          var idx = qs.toLowerCase().indexOf('&' + param.toLowerCase() + '=');
          if (idx === -1) {
            return defaultValue;
          }
          var valAndMore = qs.substr(idx + (1 + param.length + 1)) + '&';
          idx = valAndMore.indexOf('&');
          return valAndMore.substr(0, idx);
        }
        exports.getParamValueFromURL = getParamValueFromURL;
        function addParamsToURL(url, oParams) {
          var params = getParamsFromURL(url);
          objectUtils.add(params, oParams);
          var urlHashSplit = url.split('#');
          var finalUrl =
            urlHashSplit[0].split('?')[0] +
            '?' +
            keyValueUtils.serialize(params, '&');
          if (urlHashSplit.length > 1) {
            finalUrl += '#' + urlHashSplit[1];
          }
          return finalUrl;
        }
        exports.addParamsToURL = addParamsToURL;
        var removeUnacceptableParams = function (params, unacceptableParams) {
          if (!unacceptableParams) {
            return params;
          }
          var validParams = {};
          Object.entries(params || {})
            .filter(function (_a) {
              var paramName = _a[0];
              return !unacceptableParams.test(paramName);
            })
            .forEach(function (_a) {
              var paramName = _a[0],
                paramValue = _a[1];
              return (validParams[paramName] = paramValue);
            });
          return validParams;
        };
        function getContextParamsFromUrl(config) {
          var _a = config || {},
            url = _a.url,
            paramPrefix = _a.paramPrefix,
            unacceptableParams = _a.unacceptableParams;
          if (!url) {
            return {};
          }
          var params = window.gigya.utils.URL.getGigParamsFromURL({
            url: url,
            paramPrefix: paramPrefix,
          });
          return removeUnacceptableParams(params, unacceptableParams);
        }
        exports.getContextParamsFromUrl = getContextParamsFromUrl;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/Uri.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/Uri.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var stringUtilsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
        );
        var Uri = /** @class */ (function () {
          function Uri(url, isAbsolute) {
            if (isAbsolute === void 0) {
              isAbsolute = true;
            }
            this._anchor = document.createElement('a');
            var protocol =
              document.location.protocol == 'http:' ? 'http' : 'https';
            if (
              isAbsolute &&
              url.indexOf('://') === -1 &&
              url.charAt(0) !== '/'
            )
              url = protocol + '://' + url;
            this._anchor.href = url;
          }
          Object.defineProperty(Uri.prototype, 'domain', {
            get: function () {
              return this._anchor.hostname;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'path', {
            get: function () {
              return this._anchor.pathname;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'href', {
            get: function () {
              return this._anchor.href;
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'search', {
            get: function () {
              return this._anchor.search.slice(1);
            }, // dropping '?'
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(Uri.prototype, 'hash', {
            get: function () {
              return this._anchor.hash.slice(1);
            }, // dropping '#'
            enumerable: true,
            configurable: true,
          });
          Uri.prototype.toString = function () {
            return this._anchor.href;
          };
          Uri.prototype.addToSearch = function (params) {
            for (var name in params) {
              var val = params[name];
              if (
                (typeof val == 'boolean' ||
                  typeof val == 'number' ||
                  typeof val == 'string') &&
                name != 'eventName'
              ) {
                var addition = this._anchor.search ? '&' : '';
                this._anchor.search +=
                  '' + addition + name + '=' + encodeURIComponent(params[name]);
              }
            }
            return this;
          };
          Uri.prototype.fetch = function (retries) {
            if (retries === void 0) {
              retries = 0;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a, e_1;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    _b.trys.push([0, 5, , 8]);
                    if (!window.fetch) return [3 /*break*/, 2];
                    return [4 /*yield*/, this.browserFetch()];
                  case 1:
                    _a = _b.sent();
                    return [3 /*break*/, 4];
                  case 2:
                    return [4 /*yield*/, this.xhr()];
                  case 3:
                    _a = _b.sent();
                    _b.label = 4;
                  case 4:
                    return [2 /*return*/, _a];
                  case 5:
                    e_1 = _b.sent();
                    if (retries <= 0) throw new Error('fetch failed: ' + e_1);
                    return [4 /*yield*/, this.delay(1)];
                  case 6:
                    _b.sent();
                    return [4 /*yield*/, this.fetch(retries - 1)];
                  case 7:
                    return [2 /*return*/, _b.sent()];
                  case 8:
                    return [2 /*return*/];
                }
              });
            });
          };
          Uri.prototype.isBaseOf = function (url) {
            return Uri.parse(url).isIn(this);
          };
          Uri.prototype.isIn = function (base) {
            if (typeof base === 'string') {
              base = Uri.parse(base);
            }
            return (
              (this.domain == base.domain || // page is the base domain
                this.isSubDomainOf(base)) && // or sub-domain of it
              (!base.path || this.path.indexOf(base.path) == 0)
            ); // page is also in base's defined path;
          };
          Uri.prototype.isForSubDomains = function () {
            return this.domain.indexOf('.') == 0;
          };
          Uri.prototype.isSubDomainOf = function (base) {
            var domain = '';
            if (!base.isForSubDomains()) domain = '.';
            domain += base.domain;
            return stringUtilsUtils.endsWith(this.domain, domain);
          };
          Uri.parse = function (url, isAbsolute) {
            if (isAbsolute === void 0) {
              isAbsolute = true;
            }
            if (!url) return undefined;
            return new Uri(url, isAbsolute);
          };
          Uri.prototype.browserFetch = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var url, response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    url = this.toString();
                    return [4 /*yield*/, window.fetch(url)];
                  case 1:
                    response = _a.sent();
                    if (!response.ok) throw new Error('fetch failed');
                    return [2 /*return*/, response.json()];
                }
              });
            });
          };
          Uri.prototype.xhr = function () {
            var url = this.toString();
            return new gigya.Promise(function (resolve, reject) {
              var xhr = new XMLHttpRequest();
              xhr.open('GET', url);
              xhr.send();
              xhr.onerror = reject;
              xhr.onload = function () {
                if (xhr.readyState !== 4 || xhr.status !== 200) {
                  return reject(
                    'xhr failed - ' + xhr.status + ' - ' + xhr.statusText
                  );
                }
                try {
                  var jsonResponse = JSON.parse(xhr.responseText);
                  return resolve(jsonResponse);
                } catch (e) {
                  return reject(e);
                }
              };
            });
          };
          Uri.prototype.delay = function (ms) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_a) {
                return [
                  2 /*return*/,
                  new gigya.Promise(function (r) {
                    return setTimeout(r, ms);
                  }),
                ];
              });
            });
          };
          return Uri;
        })();
        exports.Uri = Uri;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/UrlParamsHelper.ts':
      /*!********************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/UrlParamsHelper.ts ***!
  \********************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var constants_1 = __webpack_require__(
          /*! ../../../../accounts/constants */ './src/accounts/constants.ts'
        );
        var _set = __webpack_require__(
          /*! lodash.set */ '../node_modules/lodash.set/index.js'
        );
        var URL_1 = __webpack_require__(
          /*! ./URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var UrlParamsHelper = /** @class */ (function () {
          function UrlParamsHelper(_win) {
            var _this = this;
            if (_win === void 0) {
              _win = window.gigya._.WindowProvider;
            }
            this._win = _win;
            this.currentParams = [];
            var params = new URLSearchParams(_win.location().search);
            params.forEach(function (value, key) {
              var urlParam;
              try {
                var decodedKey = URL_1.URLDecode(key);
                var decodedValue = URL_1.URLDecode(value);
                urlParam = { key: decodedKey, value: decodedValue };
              } catch (e) {
                urlParam = { key: key, value: value };
                window.gigya.logger.report('failed to decode url param', {
                  urlParam: urlParam,
                });
              }
              _this.currentParams.push(urlParam);
            });
          }
          UrlParamsHelper.prototype.getGigParamsFromURL = function (
            paramPrefix
          ) {
            if (paramPrefix === void 0) {
              paramPrefix = constants_1.GIGYA_PARAM_PREFIX;
            }
            this.currentParams = this.currentParams.filter(function (param) {
              return (
                param.key.indexOf(paramPrefix) === 0 &&
                param.key !== paramPrefix
              );
            });
            return this;
          };
          UrlParamsHelper.prototype.removePrefix = function (prefix) {
            if (prefix === void 0) {
              prefix = constants_1.GIGYA_PARAM_PREFIX;
            }
            this.currentParams.forEach(function (param) {
              if (param.key.startsWith(prefix)) {
                param.key = param.key.slice(prefix.length);
              }
            });
            return this;
          };
          UrlParamsHelper.prototype.keysToLower = function () {
            this.currentParams.forEach(function (param) {
              param.key = param.key.toLowerCase();
            });
            return this;
          };
          UrlParamsHelper.prototype.removeUnacceptableParams = function (
            unacceptableParams
          ) {
            if (!unacceptableParams) {
              return this;
            }
            this.currentParams = this.currentParams.filter(function (param) {
              return !unacceptableParams.test(param.key);
            });
            return this;
          };
          UrlParamsHelper.prototype.toObject = function () {
            var result = {};
            this.currentParams.forEach(function (param) {
              _set(result, param.key, param.value);
            });
            return result;
          };
          return UrlParamsHelper;
        })();
        exports.default = UrlParamsHelper;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/array.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/array.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function indexOf(ar, o) {
          for (var i = 0; i < ar.length; i++) {
            if (ar[i] == o) return i;
          }
          return -1;
        }
        exports.indexOf = indexOf;
        function clone(ar) {
          var ar2 = [];
          for (var i = 0; i < ar.length; i++) {
            ar2[i] = ar[i];
          }
          return ar2;
        }
        exports.clone = clone;
        function removeByValue(ar, value) {
          if (!ar) return;
          for (var i = ar.length - 1; i >= 0; i--) {
            if (ar[i] == value) {
              ar.splice(i, 1);
            }
          }
        }
        exports.removeByValue = removeByValue;
        function removeByProperty(ar, property, value) {
          if (!ar) return;
          for (var i = ar.length - 1; i >= 0; i--) {
            if (ar[i][property] == value) {
              ar.splice(i, 1);
            }
          }
        }
        exports.removeByProperty = removeByProperty;
        function getArrayFromString(str, delimiter, lowerCase) {
          // check for string type in the input and not empty.
          if (!str || typeof str != 'string') return [];
          // lowercase if demended
          if (lowerCase) str = str.toLowerCase();
          // clean the string:
          str = str.replace(/[ ]/g, '').replace(/,,/g, ',');
          // if string empty
          if (!str) return [];
          // return array from string
          return str.split(delimiter);
        }
        exports.getArrayFromString = getArrayFromString;
        function intersect(array) {
          var args = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
          }
          if (array == null) return [];
          var result = [];
          var argsLength = arguments.length;
          for (var i = 0, length = array.length; i < length; i++) {
            var item = array[i];
            if (this.indexOf(result, item) != -1) continue;
            for (var j = 1; j < argsLength; j++) {
              var arr = arguments[j];
              if (arr == null || this.indexOf(arr, item) == -1) break;
            }
            if (j === argsLength) result.push(item);
          }
          return result;
        }
        exports.intersect = intersect;
        function lastIndexOf(arr, val, fromIndex) {
          if (fromIndex === void 0) {
            fromIndex = 0;
          }
          for (var i = arr.length; --i >= fromIndex; ) {
            if (arr[i] === val) return i;
          }
          return -1;
        }
        exports.lastIndexOf = lastIndexOf;
        function forEach(arr, action) {
          for (var i = 0; i < arr.length; ++i) action(arr[i], i, arr);
        }
        exports.forEach = forEach;
        function forEachProp(obj, action) {
          for (var name in obj) {
            if (obj.hasOwnProperty(name)) action(obj[name], name, obj);
          }
        }
        exports.forEachProp = forEachProp;
        function some(arr, condition) {
          for (var i = 0; i < arr.length; ++i) {
            if (condition(arr[i], i, arr)) return true;
          }
          return false;
        }
        exports.some = some;
        function every(arr, condition) {
          for (var i = 0; i < arr.length; ++i) {
            if (!condition(arr[i], i, arr)) return false;
          }
          return true;
        }
        exports.every = every;
        function everyProp(obj, condition) {
          for (var name in obj) {
            if (obj.hasOwnProperty(name) && !condition(obj[name], name, obj))
              return false;
          }
          return true;
        }
        exports.everyProp = everyProp;
        function map(arr, action) {
          var result = new Array();
          forEach(arr, function (item, idx, arr) {
            return result.push(action(item, idx, arr));
          });
          return result;
        }
        exports.map = map;
        function firstIndex(arr, condition) {
          var result = -1;
          some(arr, function (item, index, arr) {
            if (condition(item, index, arr)) {
              result = index;
              return true;
            }
            return false;
          });
          return result;
        }
        exports.firstIndex = firstIndex;
        function first(arr, condition) {
          return arr[firstIndex(arr, condition)];
        }
        exports.first = first;
        function getAllEnumValues(enumType) {
          var results = [];
          for (var i in enumType)
            if (typeof enumType[i] == 'number') results.push(enumType[i]);
          return results;
        }
        exports.getAllEnumValues = getAllEnumValues;
        function getUniqueValues(arr) {
          for (var i = 0; i < arr.length; ++i) {
            for (var j = i + 1; j < arr.length; j++)
              if (arr[i] === arr[j]) {
                arr.splice(j, 1);
              }
          }
          return arr;
        }
        exports.getUniqueValues = getUniqueValues;
        function includes(arr, item) {
          if (arr === void 0) {
            arr = [];
          }
          return (
            (arr === null || arr === void 0 ? void 0 : arr.indexOf(item)) >= 0
          );
        }
        exports.includes = includes;
        function containsOnly(arr1, arr2) {
          if (!arr1 || !arr2) return false;
          if (arr1.length !== arr2.length) return false;
          if (arr1.length === 0 && arr2.length === 0) return true;
          return !arr1.some(function (elem) {
            return !includes(arr2, elem);
          });
        }
        exports.containsOnly = containsOnly;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/browser.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/browser.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var userAgent = navigator.userAgent.toLowerCase();
        var _cache = {
          version: null,
        };
        function isModern() {
          return (
            LocalInfo_1.localInfo.isChrome ||
            LocalInfo_1.localInfo.isFF ||
            LocalInfo_1.localInfo.isEdge ||
            LocalInfo_1.localInfo.isOpera ||
            LocalInfo_1.localInfo.isIOSWebView ||
            (LocalInfo_1.localInfo.isIE && getVersion() >= 9) ||
            LocalInfo_1.localInfo.isEdgeLegacy ||
            (LocalInfo_1.localInfo.isSafari && getVersion() >= 4) ||
            LocalInfo_1.localInfo.isGoogleBot
          );
        }
        exports.isModern = isModern;
        function getVersion() {
          if (_cache.version) return _cache.version;
          try {
            var versionArray = userAgent.match(
              /(opera|chrome|safari|firefox|msie|trident.*rv:)\/?\s*(\.?\d+(\.\d+)*)/i
            );
            if (versionArray[2]) {
              var majorVer = versionArray[2].split('.')[0];
              if (!isNaN(parseInt(majorVer))) {
                return (_cache.version = parseInt(majorVer));
              }
            }
          } catch (err) {}
          return 0;
        }
        exports.getVersion = getVersion;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/cookie.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/cookie.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var global_1 = __webpack_require__(
          /*! ./global */ './src/core/Gigya.Js/app/Utils/global.ts'
        );
        var CookieUtils = /** @class */ (function () {
          function CookieUtils(_cookieStore) {
            if (_cookieStore === void 0) {
              _cookieStore = new global_1.CookieStore();
            }
            this._cookieStore = _cookieStore;
          }
          CookieUtils.prototype.set = function (
            name,
            value,
            expires_in,
            cookieDomain,
            dontUseRootPath,
            sameSite
          ) {
            if (cookieDomain == null) {
              cookieDomain = this.getDefaultDomain();
            }
            var path = dontUseRootPath ? '' : '/';
            var expireMs = this._getExpirationInMs(expires_in);
            var expires = null;
            if (expireMs != null) {
              expires = new Date();
              expires.setTime(expires.getTime() + expireMs);
            }
            var cookieExist = this._setCookieInternal(
              name,
              value,
              path,
              expires,
              cookieDomain,
              sameSite
            );
            var shouldCookieExist = !expireMs || expireMs > 0;
            if (shouldCookieExist === cookieExist) {
              return true;
            }
            // If failed to set cookie, retry;
            // it might be because the domain is listed as TLD https://data.iana.org/TLD/tlds-alpha-by-domain.txt
            var pageDomain = LocalInfo_1.localInfo.pageDomain;
            cookieExist = this._setCookieInternal(
              name,
              value,
              path,
              expires,
              pageDomain,
              sameSite
            );
            return cookieExist === shouldCookieExist;
          };
          CookieUtils.prototype.get = function (name) {
            return this._cookieStore.getCookie(name);
          };
          CookieUtils.prototype.remove = function (name, domain) {
            if (domain === void 0) {
              domain = LocalInfo_1.localInfo.pageDomain;
            }
            this._removeFromBaseDomains(name, domain);
            this.set(name, '', -1, '', false);
            this.set(name, '', -1, '', true);
          };
          CookieUtils.prototype.getInfiniteExpirationTimeInSeconds =
            function () {
              // Set expiration time to 1 years
              return 60 * 60 * 24 * 365;
            };
          CookieUtils.prototype.canSaveCookie = function (cookieDomain) {
            if (cookieDomain === void 0) {
              cookieDomain = null;
            }
            try {
              return this.set(
                CookieUtils.testCookieName,
                'true',
                1,
                cookieDomain,
                null
              );
            } catch (e) {
              // iOS 10 webview throws in some scenarios
              return false;
            }
          };
          CookieUtils.prototype.getDefaultDomain = function (
            pageDomain,
            baseDomain
          ) {
            if (pageDomain === void 0) {
              pageDomain = LocalInfo_1.localInfo.pageDomain;
            }
            if (baseDomain === void 0) {
              baseDomain = LocalInfo_1.localInfo.baseDomain || '';
            }
            return baseDomain.length > 0 &&
              pageDomain.length >= baseDomain.length &&
              pageDomain.lastIndexOf(baseDomain) ===
                pageDomain.length - baseDomain.length
              ? baseDomain
              : pageDomain;
          };
          CookieUtils.prototype._getExpirationInMs = function (expiresIn) {
            var expireMs;
            if (expiresIn == null || expiresIn === '' || isNaN(expiresIn)) {
              expireMs = 1000 * this.getInfiniteExpirationTimeInSeconds();
            } else if (expiresIn == 0) {
              // 0 means Session
              expireMs = null;
            } else {
              // Any other value is number of seconds (A negative value would mean expire now!)
              expireMs = expiresIn * 1000;
            }
            return expireMs;
          };
          CookieUtils.prototype._setCookieInternal = function (
            name,
            value,
            path,
            expires,
            cookieDomain,
            sameSiteMode
          ) {
            if (sameSiteMode === void 0) {
              sameSiteMode = CookieUtils._getSameSiteMode();
            }
            var _a;
            var protocol =
              (_a =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.protocol) !== null && _a !== void 0
                ? _a
                : document.location.protocol;
            var isSecured = protocol.indexOf('https') === 0;
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              sameSite: sameSiteMode,
              secure: isSecured,
            });
            if (this.get(name)) {
              return true;
            }
            if (!sameSiteMode) {
              //if failed to write cookie without sameSite mode, then stop here
              return false;
            }
            if (sameSiteMode !== 'None') {
              this._fallbackToSameSiteNone(
                name,
                value,
                path,
                expires,
                cookieDomain,
                isSecured
              );
            }
            if (this.get(name)) {
              this._reportFallback('Setting SameSite=None', {
                name: name,
                value: value,
                sameSiteMode: sameSiteMode,
              });
              return true;
            }
            // If failed to write cookie with sameSite mode, retry without;
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              secure: isSecured,
            });
            if (this.get(name)) {
              this._reportFallback(
                'Cookie established only without sameSite mode',
                { name: name, value: value, sameSiteMode: sameSiteMode }
              );
              return true;
            }
            return false;
          };
          CookieUtils.prototype._removeFromBaseDomains = function (
            name,
            domain
          ) {
            var domainParts = domain.split('.');
            // when clearing from a.b.c.d.com --> clear from a.b.c.d.com, b.c.d.com, c.d.com, d.com
            for (var i = 0; i < domainParts.length - 1; i++) {
              var domain_1 = domainParts.slice(i).join('.');
              this.set(name, '', -1, domain_1, false);
              this.set(name, '', -1, domain_1, true);
            }
          };
          CookieUtils._getSameSiteMode = function () {
            if (!CookieUtils._disallowSameSiteMode()) return 'None';
          };
          CookieUtils._disallowSameSiteMode = function () {
            var _a, _b;
            var protocol =
              (_a =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.protocol) !== null && _a !== void 0
                ? _a
                : document.location.protocol;
            var ua =
              (_b =
                LocalInfo_1.localInfo === null ||
                LocalInfo_1.localInfo === void 0
                  ? void 0
                  : LocalInfo_1.localInfo.userAgent) !== null && _b !== void 0
                ? _b
                : navigator.userAgent.toLowerCase();
            var isSecured = protocol.indexOf('https') === 0;
            return (
              !isSecured ||
              !ua ||
              // Cover all iOS based browsers here. This includes:
              // - Safari on iOS 12 for iPhone, iPod Touch, iPad
              // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad
              // - Chrome on iOS 12 for iPhone, iPod Touch, iPad
              // All of which are broken by SameSite=None, because they use the iOS networking stack
              ua.indexOf('CPU iPhone OS 12') > -1 ||
              ua.indexOf('iPad; CPU OS 12') > -1 ||
              // Cover Mac OS X based browsers that use the Mac OS networking stack. This includes:
              // - Safari on Mac OS X.
              // This does not include:
              // - Chrome on Mac OS X
              // Because they do not use the Mac OS networking stack.
              (ua.indexOf('Macintosh; Intel Mac OS X 10_14') > -1 &&
                ua.indexOf('Version/') > -1 &&
                ua.indexOf('Safari') > -1) ||
              // Cover Chrome 50-69, because some versions are broken by SameSite=None,
              // and none in this range require it.
              // Note: this covers some pre-Chromium Edge versions,
              // but pre-Chromium Edge does not require SameSite=None.
              (ua.indexOf('Chrome/5') > -1 && ua.indexOf('Chrome/6') > -1)
            );
          };
          CookieUtils.prototype._fallbackToSameSiteNone = function (
            name,
            value,
            path,
            expires,
            cookieDomain,
            secure
          ) {
            this._cookieStore.setCookie(name, value, {
              path: path,
              expires: expires,
              domain: cookieDomain,
              sameSite: 'None',
              secure: secure,
            });
          };
          CookieUtils.prototype._reportFallback = function (message, details) {
            window.gigya.logger.report(
              'Cookie Policy Fallback: ' + message,
              tslib_1.__assign(tslib_1.__assign({}, details), {
                isIframe: this._isIFrame(),
              }),
              false
            );
          };
          CookieUtils.prototype._isIFrame = function () {
            var _a;
            try {
              return (
                (window === null || window === void 0
                  ? void 0
                  : window.location) !==
                ((_a =
                  window === null || window === void 0
                    ? void 0
                    : window.parent) === null || _a === void 0
                  ? void 0
                  : _a.location)
              );
            } catch (e) {
              return true;
            }
          };
          CookieUtils.testCookieName = 'gig3pctest';
          return CookieUtils;
        })();
        exports.CookieUtils = CookieUtils;
        exports.default = new CookieUtils();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/date.ts':
      /*!*********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/date.ts ***!
  \*********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function now() {
          return Date.now();
        }
        exports.now = now;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/delegate.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/delegate.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function create(scope, method) {
          return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            return method.apply(scope, args);
          };
        }
        exports.create = create;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/domains.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/domains.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a, _b;
        Object.defineProperty(exports, '__esModule', { value: true });
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var stringUtilsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ./cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        // TODO: move to config
        var baseDomains;
        if (
          (_b =
            (_a = window.gigya.partnerSettings) === null || _a === void 0
              ? void 0
              : _a.baseDomains) === null || _b === void 0
            ? void 0
            : _b.length
        ) {
          baseDomains = window.gigya.partnerSettings.baseDomains;
        } else {
          if (window.self === window.top) {
            // only in the top frame
            window.gigya.logger.warn('gigya: missing base domains for site');
          }
          baseDomains = [document.location.hostname];
        }
        LocalInfo_1.localInfo.baseDomain = getBaseDomain(baseDomains);
        var gigyaDomainNamespaces = [
          'socialize',
          'accounts',
          'fidm',
          'gm',
          'comments',
          'gcs',
          'ids',
          'ds',
          'gscounters',
          'reports',
        ];
        function apiDomainFactory(apiDomain, defaultApiDomain) {
          if (apiDomain === void 0) {
            apiDomain = resolveApiDomain();
          }
          if (defaultApiDomain === void 0) {
            defaultApiDomain = window.gigya.defaultApiDomain;
          }
          var shouldAddNamespace = Uri_1.Uri.parse(apiDomain).isIn(
            Uri_1.Uri.parse(defaultApiDomain)
          );
          return function (namespace) {
            if (namespace && shouldAddNamespace) {
              var subDomain = namespace.split('.')[0];
              if (subDomain === 'sdk' || subDomain === 'oauth') {
                subDomain = 'accounts';
              } else if (gigyaDomainNamespaces.indexOf(subDomain) == -1) {
                window.gigya.logger.error(
                  'trying to send request to an invalid domain'
                );
                subDomain = gigyaDomainNamespaces[0];
              }
              return subDomain + '.' + apiDomain;
            } else {
              return apiDomain;
            }
          };
        }
        exports.apiDomainFactory = apiDomainFactory;
        function getGigyaDomain(namespace, dataCenter, defaultDomain) {
          if (dataCenter === void 0) {
            dataCenter = window.gigya.dataCenter;
          }
          if (defaultDomain === void 0) {
            defaultDomain = window.gigya.defaultApiDomain;
          }
          if (defaultDomain === 'sapcdm.cn' && dataCenter !== 'cn1') {
            defaultDomain = 'cn1.' + defaultDomain; //Fix for cn1-st1. it should be cn1-st1.cn1.sapcdm.cn and not cn1-st1.sapcdm.cn
          }
          var domain = dataCenter + '.' + defaultDomain;
          if (namespace) return namespace + '.' + domain;
          else return domain;
        }
        exports.getGigyaDomain = getGigyaDomain;
        function getBaseDomain(baseDomains, currentDomain, defaultDomains) {
          if (baseDomains === void 0) {
            baseDomains = window.gigya.partnerSettings.baseDomains;
          }
          if (currentDomain === void 0) {
            currentDomain = location.hostname;
          }
          if (defaultDomains === void 0) {
            defaultDomains = [
              'gigya.com',
              'cn1.sapcdm.cn',
              'localhost',
              window.gigya.defaultApiDomain,
            ];
          }
          // #49786 - Support webview without hostname.
          if (!currentDomain) {
            return '';
          }
          if (typeof baseDomains == 'string') {
            baseDomains = baseDomains.split(',');
          }
          var originURI = Uri_1.Uri.parse(currentDomain);
          if (defaultDomains) {
            baseDomains = baseDomains.concat(defaultDomains);
          }
          for (
            var _i = 0, baseDomains_1 = baseDomains;
            _i < baseDomains_1.length;
            _i++
          ) {
            var rawDomain = baseDomains_1[_i];
            // This does not take care of wildcards in the middle of string.
            var baseDomain = stringUtilsUtils.replaceAll(rawDomain, '*', '');
            var baseUri = Uri_1.Uri.parse(baseDomain);
            if (baseUri && originURI.isIn(baseUri)) {
              if (!window.gigya._) {
                window.gigya._ = {};
              }
              window.gigya._.isTrustedDomain = true;
              if (baseUri.isForSubDomains()) {
                return originURI.domain;
              } else {
                return baseUri.domain;
              }
            }
          }
          // fallback to the parent's window domain (for backward compatibility).
          return originURI.domain;
        }
        exports.getBaseDomain = getBaseDomain;
        function resolveApiDomain(
          customApiDomainPrefix,
          baseDomain,
          dataCenter,
          defaultApiDomain
        ) {
          if (customApiDomainPrefix === void 0) {
            customApiDomainPrefix =
              window.gigya.partnerSettings &&
              window.gigya.partnerSettings.customAPIDomainPrefix;
          }
          if (baseDomain === void 0) {
            baseDomain = LocalInfo_1.localInfo.baseDomain;
          }
          if (dataCenter === void 0) {
            dataCenter = window.gigya.dataCenter;
          }
          if (defaultApiDomain === void 0) {
            defaultApiDomain = window.gigya.defaultApiDomain;
          }
          var _a;
          var apiDomain = getHostedPagesApiDomainCookie();
          if (apiDomain) {
            return apiDomain;
          }
          // TODO: remove once a solution will be found for hosted pages
          if (
            baseDomain.endsWith(
              ((_a = window.gigya._.config) === null || _a === void 0
                ? void 0
                : _a.hostedPagesDomain) || 'my.gigya-ext.com'
            )
          ) {
            return baseDomain;
          }
          if (
            customApiDomainPrefix &&
            baseDomain &&
            baseDomain !== defaultApiDomain
          ) {
            return customApiDomainPrefix + '.' + baseDomain;
          }
          return getGigyaDomain(undefined, dataCenter, defaultApiDomain);
        }
        exports.resolveApiDomain = resolveApiDomain;
        function getStorageDomain() {
          var _a, _b, _c;
          var apiDomain = getHostedPagesApiDomainCookie();
          if (apiDomain) {
            return apiDomain;
          }
          if (
            (_b =
              (_a = window.gigya.thisScript) === null || _a === void 0
                ? void 0
                : _a.globalConf) === null || _b === void 0
              ? void 0
              : _b['storageDomainOverride']
          ) {
            return window.gigya.thisScript.globalConf['storageDomainOverride'];
          }
          if (
            ((_c = window.gigya.thisScript) === null || _c === void 0
              ? void 0
              : _c.baseDomain) &&
            FlagService_1.FlagService.useGigyaJsBaseDomain
          ) {
            return window.gigya.thisScript.baseDomain;
          }
          var domain = window.gigya.defaultApiDomain;
          if (
            window.gigya.utils.stringUtils.endsWith(domain, 'sapcdm.cn') &&
            window.gigya.dataCenter !== 'cn1'
          ) {
            // special case with china domain staging
            domain = 'cn1.sapcdm.cn';
          }
          var prefix =
            window.gigya.dataCenter !== 'global'
              ? 'cdns.' + window.gigya.dataCenter
              : 'cdns';
          return prefix + '.' + domain;
        }
        exports.getStorageDomain = getStorageDomain;
        function getHostedPagesApiDomainCookie() {
          return cookie_1.default.get('pages_apiDomain_' + window.gigya.apiKey);
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/functions.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/functions.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        function callAsync(methodName, params) {
          if (params === void 0) {
            params = {};
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            return tslib_1.__generator(this, function (_a) {
              return [
                2 /*return*/,
                new gigya.Promise(function (resolve) {
                  callFunction('gigya.' + methodName, [
                    tslib_1.__assign(tslib_1.__assign({}, params), {
                      callback: resolve,
                    }),
                  ]);
                }),
              ];
            });
          });
        }
        exports.callAsync = callAsync;
        function callFunction(name, arParams) {
          var fn = eval(name);
          var arParts = name.split('.');
          arParts.splice(arParts.length - 1, 1);
          var scope = eval(arParts.join('.'));
          fn.apply(scope, arParams);
        }
        exports.callFunction = callFunction;
        function invokeOnPageLoad(func, completeOnly) {
          if (
            (!document.readyState && document.body) ||
            document.readyState === 'complete' ||
            (!completeOnly &&
              document.readyState === 'interactive' &&
              document.body)
          ) {
            func();
          } else {
            var called_1 = false;
            var fnOnLoad = function () {
              if (!called_1) {
                called_1 = true;
                func();
              }
            };
            window.setTimeout(fnOnLoad, 20000); // fallback - sometimes readystate stays stuck on interactive
            DOMUtils.addEventListener(window, 'load', fnOnLoad);
            DOMUtils.addEventListener(document, 'DOMContentLoaded', fnOnLoad);
          }
        }
        exports.invokeOnPageLoad = invokeOnPageLoad;
        function createAlias(publicName, fnc) {
          var arNameSegments = publicName.split('.');
          var oCurrentSegment = window;
          for (
            var iSegment = 0;
            iSegment < arNameSegments.length - 1;
            iSegment++
          ) {
            var sSegment = arNameSegments[iSegment];
            if (!oCurrentSegment[sSegment]) {
              oCurrentSegment[sSegment] = {};
            }
            oCurrentSegment = oCurrentSegment[sSegment];
          }
          oCurrentSegment[arNameSegments[arNameSegments.length - 1]] = fnc;
        }
        exports.createAlias = createAlias;
        function debounce(fn, delayMilliseconds) {
          var timer = undefined;
          return function () {
            if (timer !== undefined) {
              clearTimeout(timer);
            }
            timer = setTimeout(function () {
              timer = undefined;
              fn();
            }, delayMilliseconds);
          };
        }
        exports.debounce = debounce;
        function addSrcToIFrameIfNeeded(iframe, src) {
          if (src === void 0) {
            src = cdn_1.getCdnResource('/');
          }
          if (
            LocalInfo_1.localInfo.isIOSWebView ||
            (LocalInfo_1.localInfo.isIOS && LocalInfo_1.localInfo.isWeChat)
          ) {
            iframe.setAttribute('src', src);
          }
        }
        exports.addSrcToIFrameIfNeeded = addSrcToIFrameIfNeeded;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts':
      /*!******************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts ***!
  \******************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var functions_1 = __webpack_require__(
            /*! ./functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var gigyaCdnRegex = /\/\/cdn(s)?\.(ru1\.)?gigya.com/;
          var fileNames = [
            'gigya.js',
            'socialize.js',
            'socialize2.js',
            'gsjssdk.js',
          ];
          function getGigyaScriptElement() {
            var scriptElement;
            var scripts = document.getElementsByTagName('script');
            var _loop_1 = function (i) {
              var script = scripts[i];
              var src = script.src.toLowerCase();
              if (src !== '') {
                if (gigyaCdnRegex.test(src) || src.indexOf('?apikey=') > -1) {
                  var isFileNameExistInSrc =
                    fileNames.length === 0 ||
                    fileNames.some(function (fileName) {
                      return src.indexOf(fileName) > -1;
                    });
                  if (isFileNameExistInSrc) {
                    scriptElement = script;
                    return 'break';
                  }
                }
              }
            };
            for (var i = scripts.length - 1; i >= 0; i--) {
              var state_1 = _loop_1(i);
              if (state_1 === 'break') break;
            }
            return scriptElement;
          }
          exports.getGigyaScriptElement = getGigyaScriptElement;
          function updateConfiguration(config) {
            if (config === void 0) {
              config = {};
            }
            window.gigya.logger.info('globalConf is updated', {
              updateObject: config,
            });
            __webpack_provided_Object_dot_assign(
              window.gigya.thisScript.globalConf || {},
              config
            );
          }
          exports.updateConfiguration = updateConfiguration;
          functions_1.createAlias(
            'gigya.updateConfiguration',
            updateConfiguration
          );

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/global.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/global.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var CookieStore = /** @class */ (function () {
          function CookieStore(_win) {
            if (_win === void 0) {
              _win = window;
            }
            this._win = _win;
          }
          CookieStore.prototype.setCookie = function (name, value, options) {
            var cookieString = name + '=' + escape(value);
            if (options.path) cookieString += '; path=' + options.path;
            if (options.expires)
              cookieString += '; expires=' + options.expires.toUTCString();
            if (options.domain && options.domain.indexOf('.') != -1)
              cookieString += '; domain=' + options.domain;
            if (options.sameSite)
              cookieString += '; sameSite=' + options.sameSite;
            if (options.secure) cookieString += '; secure';
            this._win.document.cookie = cookieString;
          };
          CookieStore.prototype.getCookie = function (name) {
            name = name
              .replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1')
              .replace(/^[ \t]+|[ \t]+$/g, '');
            var regex = new RegExp('(?:^|;)\\s?' + name + '=(.*?)(?:;|$)');
            var match = this._win.document.cookie.match(regex);
            return match && unescape(match[1]);
          };
          return CookieStore;
        })();
        exports.CookieStore = CookieStore;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/gltexp.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/gltexp.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function isValid(gltexp) {
          return getMillis(gltexp) > Date.now();
        }
        exports.isValid = isValid;
        function getMax() {
          var gltexps = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            gltexps[_i] = arguments[_i];
          }
          if (!gltexps || !gltexps.length) return undefined;
          return gltexps.sort(function (gltexpA, gltexpB) {
            return getMillis(gltexpB) - getMillis(gltexpA);
          })[0];
        }
        exports.getMax = getMax;
        function getMillis(gltExp) {
          return !gltExp
            ? 0
            : Number(gltExp.substr(0, gltExp.indexOf('_'))) * 1000;
        }
        exports.getMillis = getMillis;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/index.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/index.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var cookie_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
          );
          var GigyaUtilsArray = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
          );
          var GigyaUtilsBrowser = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/browser */ './src/core/Gigya.Js/app/Utils/browser.ts'
          );
          var GigyaUtilsDate = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/date */ './src/core/Gigya.Js/app/Utils/date.ts'
          );
          var GigyaUtilsDelegate = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/delegate */ './src/core/Gigya.Js/app/Utils/delegate.ts'
          );
          var GigyaUtilsDOM = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
          );
          var GigyaUtilsDomains = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
          );
          var GigyaUtilsFunctions = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var GigyaUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/gigyaScriptEl */ './src/core/Gigya.Js/app/Utils/gigyaScriptEl.ts'
          );
          var GigyaUtilsGltexp = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/gltexp */ './src/core/Gigya.Js/app/Utils/gltexp.ts'
          );
          var GigyaUtilsHTTP = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
          );
          var GigyaUtilsJSON = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var GigyaUtilsKeyboard = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/keyboard */ './src/core/Gigya.Js/app/Utils/keyboard.ts'
          );
          var GigyaUtilsKeyValue = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
          );
          var GigyaUtilsLocalStorage = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
          );
          var GigyaUtilsMouse = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/mouse */ './src/core/Gigya.Js/app/Utils/mouse.ts'
          );
          var GigyaUtilsObject = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
          );
          var GigyaUtilsQueue = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
          );
          var GigyaUtilsSanitize = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/sanitize */ './src/core/Gigya.Js/app/Utils/sanitize.ts'
          );
          var GigyaUtilsScript = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/script */ './src/core/Gigya.Js/app/Utils/script.ts'
          );
          var GigyaUtilsSessionCache = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/sessionCache */ './src/core/Gigya.Js/app/Utils/sessionCache.ts'
          );
          var GigyaUtilsLocalCache = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/localCache */ './src/core/Gigya.Js/app/Utils/localCache.ts'
          );
          var GigyaUtils_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
          );
          var GigyaUtilsStringUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/stringUtils */ './src/core/Gigya.Js/app/Utils/stringUtils.ts'
          );
          var GigyaUtils_2 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/tabbable */ './src/core/Gigya.Js/app/Utils/tabbable.ts'
          );
          var GigyaUtilsTemplates = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/templates */ './src/core/Gigya.Js/app/Utils/templates.ts'
          );
          var GigyaUtilsUri = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
          );
          var GigyaUtilsURL = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
          );
          var GigyaUtilsValidation = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/validation */ './src/core/Gigya.Js/app/Utils/validation.ts'
          );
          var GigyaUtilsViewport = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/viewport */ './src/core/Gigya.Js/app/Utils/viewport.ts'
          );
          var GigyaUtilsWin = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/win */ './src/core/Gigya.Js/app/Utils/win.ts'
          );
          var GigyaUtilsXd = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/xd */ './src/core/Gigya.Js/app/Utils/xd.ts'
          );
          var toggles_1 = __webpack_require__(
            /*! ./toggles */ './src/core/Gigya.Js/app/Utils/toggles.ts'
          );
          var functions_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
          );
          var stringParams_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/stringParams */ './src/core/Gigya.Js/app/Utils/stringParams.ts'
          );
          var recaptcha_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/recaptcha */ './src/core/Gigya.Js/app/Utils/recaptcha.ts'
          );
          if (!window.gigya._) {
            window.gigya._ = {};
          }
          if (!window.gigya.utils) {
            window.gigya.utils = {};
          }
          if (!window.gigya.utils.toggles) {
            window.gigya.utils.toggles = toggles_1.default;
          }
          if (!window.gigya.utils.array) {
            window.gigya.utils.array = {};
          }
          if (!window.gigya.utils.browser) {
            window.gigya.utils.browser = {};
          }
          if (!window.gigya.utils.cookie) {
            window.gigya.utils.cookie = cookie_1.default;
          }
          if (!window.gigya.utils.date) {
            window.gigya.utils.date = {};
          }
          if (!window.gigya.utils.delegate) {
            window.gigya.utils.delegate = {};
          }
          if (!window.gigya.utils.DOM) {
            window.gigya.utils.DOM = {};
          }
          if (!window.gigya.utils.functions) {
            window.gigya.utils.functions = {};
          }
          if (!window.gigya.utils.gltexp) {
            window.gigya.utils.gltexp = {};
          }
          if (!window.gigya.utils.HTTP) {
            window.gigya.utils.HTTP = {};
          }
          if (!window.gigya.utils.JSON) {
            window.gigya.utils.JSON = {};
          }
          if (!window.gigya.utils.keyboard) {
            window.gigya.utils.keyboard = {};
          }
          if (!window.gigya.utils.keyValue) {
            window.gigya.utils.keyValue = {};
          }
          if (!window.gigya.utils.localStorage) {
            window.gigya.utils.localStorage = {};
          }
          if (!window.gigya.utils.mouse) {
            window.gigya.utils.mouse = {};
          }
          if (!window.gigya.utils.object) {
            window.gigya.utils.object = {};
          }
          if (!window.gigya.utils.queue) {
            window.gigya.utils.queue = {};
          }
          if (!window.gigya.utils.sanitize) {
            window.gigya.utils.sanitize = {};
          }
          if (!window.gigya.utils.script) {
            window.gigya.utils.script = {};
          }
          if (!window.gigya.utils.sessionCache) {
            window.gigya.utils.sessionCache = {};
          }
          if (!window.gigya.utils.localCache) {
            window.gigya.utils.localCache = {};
          }
          if (!window.gigya.utils.stringUtils) {
            window.gigya.utils.stringUtils = {};
          }
          if (!window.gigya.utils.templates) {
            window.gigya.utils.templates = {};
          }
          if (!window.gigya.utils.URL) {
            window.gigya.utils.URL = {};
          }
          if (!window.gigya.utils.validation) {
            window.gigya.utils.validation = {};
          }
          if (!window.gigya.utils.viewport) {
            window.gigya.utils.viewport = {};
          }
          if (!window.gigya.utils.win) {
            window.gigya.utils.win = {};
          }
          if (!window.gigya.utils.xd) {
            window.gigya.utils.xd = {};
          }
          if (!window.gigya.utils.recaptcha) {
            window.gigya.utils.recaptcha = recaptcha_1.default;
          }
          __webpack_provided_Object_dot_assign(
            window.gigya._,
            GigyaUtilsUri,
            GigyaUtilsDomains
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.array,
            GigyaUtilsArray
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.browser,
            GigyaUtilsBrowser
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.date,
            GigyaUtilsDate
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.delegate,
            GigyaUtilsDelegate
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.DOM,
            GigyaUtilsDOM
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.functions,
            GigyaUtilsFunctions
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils,
            GigyaUtils,
            GigyaUtils_1,
            GigyaUtils_2
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.gltexp,
            GigyaUtilsGltexp
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.HTTP,
            GigyaUtilsHTTP
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.JSON,
            GigyaUtilsJSON
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.keyboard,
            GigyaUtilsKeyboard
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.keyValue,
            GigyaUtilsKeyValue
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.localStorage,
            GigyaUtilsLocalStorage
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.mouse,
            GigyaUtilsMouse
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.object,
            GigyaUtilsObject
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.queue,
            GigyaUtilsQueue
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.sanitize,
            GigyaUtilsSanitize
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.script,
            GigyaUtilsScript
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.sessionCache,
            GigyaUtilsSessionCache
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.localCache,
            GigyaUtilsLocalCache
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.stringUtils,
            GigyaUtilsStringUtils
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.templates,
            GigyaUtilsTemplates
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.URL,
            GigyaUtilsURL
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.validation,
            GigyaUtilsValidation
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.viewport,
            GigyaUtilsViewport
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.win,
            GigyaUtilsWin
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.utils.xd,
            GigyaUtilsXd
          );
          functions_1.createAlias('gigya.getUrlParam', function (paramName) {
            return stringParams_1.getReqParamValue(location.search, paramName);
          });

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/keyValue.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/keyValue.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        function serialize(oKeyValue, delimiter) {
          var a = [];
          if (!delimiter) {
            delimiter = '&';
          }
          for (var p in oKeyValue) {
            switch (typeof oKeyValue[p]) {
              case 'function':
                break;
              case 'object':
                if (oKeyValue[p] != null) {
                  a.push(
                    p +
                      '=' +
                      URLUtils.URLEncode(JSONUtils.serialize(oKeyValue[p]))
                  );
                }
                break;
              case 'undefined':
                break;
              default:
                a.push(p + '=' + URLUtils.URLEncode(oKeyValue[p]));
            }
          }
          var s = a.join(delimiter);
          return s;
        }
        exports.serialize = serialize;
        function deserialize(
          urlEncodedString,
          delimiter,
          keysToLower,
          useUnescape
        ) {
          var o = {};
          if (!urlEncodedString) {
            return o;
          }
          if (!delimiter) {
            delimiter = '&';
          }
          var pairs = urlEncodedString.split(delimiter);
          for (var iPair = 0; iPair < pairs.length; iPair++) {
            var pair = pairs[iPair];
            var eqPos = pair.indexOf('=');
            if (eqPos === -1) {
              var key = keysToLower ? pair.toLowerCase() : pair;
              o[key] = '1';
            } else {
              var key = pair.substr(0, eqPos);
              if (keysToLower) {
                key = key.toLowerCase();
              }
              var serializedValue = pair.substr(eqPos + 1).replace(/\+/g, ' ');
              try {
                if (useUnescape) {
                  o[key] = FlagService_1.FlagService.useDecodeURIComponent
                    ? compareResultsAndReturnURLDecode(serializedValue)
                    : unescape(serializedValue);
                } else {
                  o[key] = URLUtils.URLDecode(serializedValue);
                }
              } catch (ex) {
                o[key] = FlagService_1.FlagService.useDecodeURIComponent
                  ? URLUtils.URLDecode(serializedValue)
                  : unescape(serializedValue);
              }
            }
          }
          return o;
        }
        exports.deserialize = deserialize;
        function compareResultsAndReturnURLDecode(serializedValue) {
          var unescapedResult = unescape(serializedValue);
          var urlDecodeResult = URLUtils.URLDecode(serializedValue);
          unescapedResult.localeCompare(urlDecodeResult) !== 0 &&
            window.gigya.logger.report(
              'urlDecoder and unescaped have different values',
              {
                unescapedResult: unescapedResult,
                urlDecodeResult: urlDecodeResult,
              }
            );
          return urlDecodeResult;
        }

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/keyboard.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/keyboard.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        var _a;
        Object.defineProperty(exports, '__esModule', { value: true });
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var Keys;
        (function (Keys) {
          Keys[(Keys['escape'] = 27)] = 'escape';
          Keys[(Keys['backspace'] = 8)] = 'backspace';
          Keys[(Keys['enter'] = 13)] = 'enter';
        })((Keys = exports.Keys || (exports.Keys = {})));
        exports.keyCodes =
          ((_a = {}),
          (_a[Keys.escape] = 'Escape'),
          (_a[Keys.backspace] = 'Backspace'),
          (_a[Keys.enter] = 'Enter'),
          _a);
        function onHotKeyClicked(hotKeyData, handler) {
          return new HotKeyEvent(hotKeyData, handler);
        }
        exports.onHotKeyClicked = onHotKeyClicked;
        var HotKeyEvent = /** @class */ (function () {
          function HotKeyEvent(hotKeyData, handler) {
            this.el = hotKeyData.elementContext
              ? hotKeyData.elementContext
              : document.body;
            this.eventHandler = function (event) {
              if (
                event.which === hotKeyData.key ||
                event.key === exports.keyCodes[hotKeyData.key]
              ) {
                handler();
              }
            };
            DOMUtils.addEventListener(this.el, 'keyup', this.eventHandler);
          }
          HotKeyEvent.prototype.unsubscribe = function () {
            DOMUtils.removeEventListener(this.el, 'keyup', this.eventHandler);
          };
          return HotKeyEvent;
        })();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/localCache.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/localCache.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var localStorageEnabled;
        try {
          localStorageEnabled = Boolean(window.localStorage); // when 3pc blocked, chrome throws when trying to access local storage.
        } catch (ex) {
          localStorageEnabled = false;
        }
        function set(key, response) {
          if (!localStorageEnabled) return;
          var oGigya;
          try {
            oGigya = JSONUtils.deserialize(
              window.localStorage.getItem('gigyaCache')
            );
            if (response == null && oGigya[key]) {
              delete oGigya[key];
            } else {
              var time = new Date().getTime();
              oGigya[key] = { response: response, time: time };
              if (key.indexOf('gig_oidcContext_') >= 0) {
                window.gigya.logger.report(
                  'oidc storage logs - set',
                  {
                    key: key,
                    value: oGigya[key],
                  },
                  false,
                  FlagService_1.FlagService.forceErrorReport
                );
              }
            }
            window.localStorage.setItem(
              'gigyaCache',
              JSONUtils.serialize(oGigya)
            );
          } catch (ex) {}
          queueUtils.release('cache', 'cache_' + key);
        }
        exports.set = set;
        function get(key, cacheTimeout) {
          if (cacheTimeout === void 0) {
            cacheTimeout = -1;
          }
          if (!localStorageEnabled) {
            return null;
          }
          try {
            if (!queueUtils.isActive('cache_' + key)) {
              var sGigyaCache = window.localStorage.getItem('gigyaCache');
              var oGigya = JSONUtils.deserialize(sGigyaCache);
              var cached = oGigya[key];
              if (cached) {
                var currentTime = new Date().getTime();
                if (
                  cacheTimeout < 0 ||
                  cacheTimeout + cached.time > currentTime
                ) {
                  //cached
                  return cached.response;
                } else {
                  if (key.indexOf('gig_oidcContext_') >= 0) {
                    window.gigya.logger.report(
                      'oidc storage logs - get',
                      {
                        key: key,
                        value: oGigya[key],
                        cacheTime: cached.time,
                        currentTime: currentTime,
                      },
                      false,
                      FlagService_1.FlagService.forceErrorReport
                    );
                  }
                  //expired
                  remove(key);
                  return null;
                }
              }
              if (!cached) {
                //not cached (first time)
                queueUtils.hold('cache', 'cache_' + key); //so that future requests will wait for the first one's response.
                return null;
              }
            } else {
              //wait for first response
              queueUtils.waitFor('cache_' + key, get, arguments);
              return null;
            }
          } catch (ex) {}
          return null;
        }
        exports.get = get;
        function remove(key) {
          set(key, null);
        }
        exports.remove = remove;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/localStorage.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/localStorage.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var cookie_1 = __webpack_require__(
          /*! ./cookie */ './src/core/Gigya.Js/app/Utils/cookie.ts'
        );
        var AbstractLocalStorageAdapter = /** @class */ (function () {
          function AbstractLocalStorageAdapter() {}
          AbstractLocalStorageAdapter.getName = function () {
            return 'AbstractAdapter';
          };
          /**
           * Set object to storage.
           */
          AbstractLocalStorageAdapter.prototype.setObject = function (key, o) {
            this.setItem(key, JSONUtils.serialize(o));
          };
          /**
           * Get object from local storage.
           */
          AbstractLocalStorageAdapter.prototype.getObject = function (
            key,
            defaultValue
          ) {
            return JSONUtils.deserialize(this.getItem(key), defaultValue);
          };
          /**
           * Is persistent storage. Returns false when data is not persisted.
           */
          AbstractLocalStorageAdapter.prototype.isPersistent = function () {
            return true;
          };
          return AbstractLocalStorageAdapter;
        })();
        exports.AbstractLocalStorageAdapter = AbstractLocalStorageAdapter;
        var AbstractAsyncLocalStorageAdapter = /** @class */ (function (
          _super
        ) {
          tslib_1.__extends(AbstractAsyncLocalStorageAdapter, _super);
          function AbstractAsyncLocalStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.isLoaded = false;
            return _this;
          }
          AbstractAsyncLocalStorageAdapter.prototype.isReady = function () {
            return this.isLoaded;
          };
          /**
           * Used when there is initialization time on the local storage adapter.
           */
          AbstractAsyncLocalStorageAdapter.prototype.waitForService = function (
            callback
          ) {
            var _this = this;
            if (this.isReady()) {
              callback();
              return;
            } else {
              setTimeout(function () {
                return _this.waitForService(callback);
              }, 50);
            }
          };
          return AbstractAsyncLocalStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.AbstractAsyncLocalStorageAdapter =
          AbstractAsyncLocalStorageAdapter;
        var StorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(StorageAdapter, _super);
          function StorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          StorageAdapter.prototype.getItem = function (key) {
            return this.storage[key];
          };
          StorageAdapter.prototype.setItem = function (key, value, expiresIn) {
            try {
              this.storage[key] = value;
            } catch (ex) {}
          };
          StorageAdapter.prototype.removeItem = function (key) {
            this.storage.removeItem(key);
          };
          return StorageAdapter;
        })(AbstractLocalStorageAdapter);
        var LocalStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(LocalStorageAdapter, _super);
          function LocalStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.storage = window.localStorage;
            return _this;
          }
          LocalStorageAdapter.getName = function () {
            return 'LocalStorageAdapter';
          };
          LocalStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.supportsLocalStorage;
          };
          return LocalStorageAdapter;
        })(StorageAdapter);
        var SessionStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(SessionStorageAdapter, _super);
          function SessionStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.storage = window.sessionStorage;
            return _this;
          }
          SessionStorageAdapter.getName = function () {
            return 'SessionStorageAdapter';
          };
          SessionStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.supportsSessionStorage;
          };
          return SessionStorageAdapter;
        })(StorageAdapter);
        var FirefoxStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(FirefoxStorageAdapter, _super);
          function FirefoxStorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          FirefoxStorageAdapter.isAvailable = function () {
            return LocalInfo_1.localInfo.isFF && window['globalStorage'];
          };
          FirefoxStorageAdapter.getName = function () {
            return 'FirefoxStorageAdapter';
          };
          FirefoxStorageAdapter.prototype.getItem = function (key) {
            return window['globalStorage'][location.hostname][key];
          };
          FirefoxStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn
          ) {
            try {
              window['globalStorage'][location.hostname][key] = value;
            } catch (ex) {}
          };
          FirefoxStorageAdapter.prototype.removeItem = function (key) {
            delete window['globalStorage'][location.hostname][key];
          };
          return FirefoxStorageAdapter;
        })(AbstractLocalStorageAdapter);
        var CookieStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(CookieStorageAdapter, _super);
          function CookieStorageAdapter() {
            return (_super !== null && _super.apply(this, arguments)) || this;
          }
          CookieStorageAdapter.isAvailable = function () {
            return cookie_1.default.canSaveCookie();
          };
          CookieStorageAdapter.getName = function () {
            return 'CookieStorageAdapter';
          };
          CookieStorageAdapter.prototype.getItem = function (key) {
            return cookie_1.default.get(key);
          };
          CookieStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn,
            domain,
            additionalParams
          ) {
            if (additionalParams === void 0) {
              additionalParams = {};
            }
            cookie_1.default.set(
              key,
              value,
              expiresIn,
              domain,
              additionalParams.dontUseRootPath,
              additionalParams.sameSite
            );
          };
          CookieStorageAdapter.prototype.removeItem = function (key) {
            cookie_1.default.remove(key);
          };
          return CookieStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.CookieStorageAdapter = CookieStorageAdapter;
        var MemoryStorageAdapter = /** @class */ (function (_super) {
          tslib_1.__extends(MemoryStorageAdapter, _super);
          function MemoryStorageAdapter() {
            var _this = _super.call(this) || this;
            _this.memory = {};
            return _this;
          }
          MemoryStorageAdapter.isAvailable = function () {
            return true;
          };
          MemoryStorageAdapter.getName = function () {
            return 'MemoryStorageAdapter';
          };
          MemoryStorageAdapter.prototype.getItem = function (key) {
            return this.memory[key];
          };
          MemoryStorageAdapter.prototype.setItem = function (
            key,
            value,
            expiresIn
          ) {
            this.memory[key] = value;
          };
          MemoryStorageAdapter.prototype.removeItem = function (key) {
            delete this.memory[key];
          };
          /**
           * Is persistent storage. Returns false when data is not persisted.
           */
          MemoryStorageAdapter.prototype.isPersistent = function () {
            return false;
          };
          return MemoryStorageAdapter;
        })(AbstractLocalStorageAdapter);
        exports.MemoryStorageAdapter = MemoryStorageAdapter;
        exports.adapters = [
          LocalStorageAdapter,
          SessionStorageAdapter,
          FirefoxStorageAdapter,
          CookieStorageAdapter,
          MemoryStorageAdapter,
        ];
        exports.instances = {};
        function initializeAdapter(adapter) {
          var adapterName = adapter.getName() || adapter.name;
          if (!exports.instances[adapterName]) {
            exports.instances[adapterName] = new adapter();
          }
          return exports.instances[adapterName];
        }
        exports.initializeAdapter = initializeAdapter;
        function waitForService(callback) {
          // Select compatible adapter.
          var storage;
          for (
            var _i = 0, adapters_1 = exports.adapters;
            _i < adapters_1.length;
            _i++
          ) {
            var adapter_1 = adapters_1[_i];
            if (adapter_1.isAvailable()) {
              // Don't select adapter if it's async and a callback wasn't provided.
              if (
                adapter_1.prototype instanceof
                  AbstractAsyncLocalStorageAdapter &&
                !callback
              ) {
                continue;
              }
              storage = initializeAdapter(adapter_1);
              break;
            }
          }
          // Fallback to memory-based non-persistent storage.
          if (!storage) {
            storage = initializeAdapter(MemoryStorageAdapter);
          }
          // Trigger callback when adapter finishes loading (or instantly, if not required to wait).
          if (callback) {
            if (storage instanceof AbstractAsyncLocalStorageAdapter) {
              storage.waitForService(function () {
                callback(storage);
              });
            } else {
              callback(storage);
            }
          }
          return storage;
        }
        exports.waitForService = waitForService;
        var adapter = waitForService();
        function getItem(key) {
          return adapter.getItem(key);
        }
        exports.getItem = getItem;
        function setItem(key, value, expiresIn) {
          return adapter.setItem(key, value, expiresIn);
        }
        exports.setItem = setItem;
        function removeItem(key) {
          return adapter.removeItem(key);
        }
        exports.removeItem = removeItem;
        function setObject(key, o) {
          return adapter.setObject(key, o);
        }
        exports.setObject = setObject;
        function getObject(key, defaultValue) {
          return adapter.getObject(key, defaultValue);
        }
        exports.getObject = getObject;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/mouse.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/mouse.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var mouseEventObject = null;
        function getPosition() {
          var posx = 0;
          var posy = 0;
          if (document.body) {
            var e = mouseEventObject;
            if (!e) e = { clientX: 0, clientY: 0 };
            if (e.pageX || e.pageY) {
              posx = e.pageX;
              posy = e.pageY;
            } else if (e.clientX || e.clientY) {
              posx =
                e.clientX +
                document.body.scrollLeft +
                document.documentElement.scrollLeft;
              posy =
                e.clientY +
                document.body.scrollTop +
                document.documentElement.scrollTop;
            }
            return { x: posx, y: posy };
          }
        }
        exports.getPosition = getPosition;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/object.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/object.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var JSONUtils = __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
          );
          var toggles_1 = __webpack_require__(
            /*! ./toggles */ './src/core/Gigya.Js/app/Utils/toggles.ts'
          );
          function removeUndefined(o) {
            var o2 = {};
            for (var p in o) {
              if (o[p] != null && o[p] != undefined) {
                o2[p] = o[p];
              }
            }
            return o2;
          }
          exports.removeUndefined = removeUndefined;
          function expressionHelper(context) {
            context = context || {};
            return {
              getField: function (path) {
                if (!path) return undefined;
                var paths = path.split('.'),
                  current = context,
                  i;
                for (i = 0; i < paths.length; ++i) {
                  if (current[paths[i]] == undefined) {
                    return undefined;
                  } else {
                    current = current[paths[i]];
                  }
                }
                return current;
              },
            };
          }
          exports.expressionHelper = expressionHelper;
          function getPropertyBySerializedName(o, name, createMissingObjects) {
            if (!name) return o;
            var oResult = o;
            var arNameSegments = name.split('.');
            for (
              var iSegment = 0;
              iSegment < arNameSegments.length;
              iSegment++
            ) {
              var sSegment = arNameSegments[iSegment];
              var sIndex = null;
              //Support for array access. i.e. "obj.prop1[0].prop2"
              if (sSegment.match(/\[[0-9]+]/)) {
                sIndex = Number(
                  sSegment.match(/\[[0-9]+]/)[0].replace(/[\[\]]/g, '')
                );
              }
              sSegment = sSegment.split(/\[[0-9]+]/).join('');
              var res =
                (sIndex || sIndex === 0) && oResult[sSegment]
                  ? oResult[sSegment][sIndex]
                  : oResult[sSegment];
              if (createMissingObjects && !oResult[sSegment]) {
                oResult[sSegment] = {};
              } else if (createMissingObjects && !res && res !== false) {
                oResult[sSegment] = [];
              }
              if (res || res === false) {
                oResult = res;
              } else {
                return null;
              }
            }
            return oResult;
          }
          exports.getPropertyBySerializedName = getPropertyBySerializedName;
          function setPropertyBySerializedName(o, name, value) {
            var arNameSegments = name.split('.');
            var propertyName = arNameSegments.pop();
            getPropertyBySerializedName(o, arNameSegments.join('.'), true)[
              propertyName
            ] = value;
          }
          exports.setPropertyBySerializedName = setPropertyBySerializedName;
          function add(oTarget, o, dontOverride) {
            for (var p in o) {
              if (!dontOverride || typeof oTarget[p] === 'undefined') {
                oTarget[p] = o[p];
              }
            }
          }
          exports.add = add;
          function getHash(o) {
            var ar = [];
            for (var p in o) {
              var s;
              if (typeof o[p] == 'object') s = JSONUtils.serialize(o[p], false);
              else if (o[p]) s = o[p].toString();
              ar.push(p + '=' + s);
            }
            return ar.sort().join('&');
          }
          exports.getHash = getHash;
          function getMurmurHash(key, seed) {
            if (!seed) seed = 0;
            var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;
            remainder = key.length & 3; // key.length % 4
            bytes = key.length - remainder;
            h1 = seed;
            c1 = 0xcc9e2d51;
            c2 = 0x1b873593;
            i = 0;
            while (i < bytes) {
              k1 =
                (key.charCodeAt(i) & 0xff) |
                ((key.charCodeAt(++i) & 0xff) << 8) |
                ((key.charCodeAt(++i) & 0xff) << 16) |
                ((key.charCodeAt(++i) & 0xff) << 24);
              ++i;
              k1 =
                ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &
                0xffffffff;
              k1 = (k1 << 15) | (k1 >>> 17);
              k1 =
                ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &
                0xffffffff;
              h1 ^= k1;
              h1 = (h1 << 13) | (h1 >>> 19);
              h1b =
                ((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) &
                0xffffffff;
              h1 =
                (h1b & 0xffff) +
                0x6b64 +
                ((((h1b >>> 16) + 0xe654) & 0xffff) << 16);
            }
            k1 = 0;
            switch (remainder) {
              case 3:
                k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
              case 2:
                k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
              case 1:
                k1 ^= key.charCodeAt(i) & 0xff;
                k1 =
                  ((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &
                  0xffffffff;
                k1 = (k1 << 15) | (k1 >>> 17);
                k1 =
                  ((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &
                  0xffffffff;
                h1 ^= k1;
            }
            h1 ^= key.length;
            h1 ^= h1 >>> 16;
            h1 =
              ((h1 & 0xffff) * 0x85ebca6b +
                ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) &
              0xffffffff;
            h1 ^= h1 >>> 13;
            h1 =
              ((h1 & 0xffff) * 0xc2b2ae35 +
                ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) &
              0xffffffff;
            h1 ^= h1 >>> 16;
            return h1 >>> 0;
          }
          exports.getMurmurHash = getMurmurHash;
          function clone(
            obj,
            deepCopy,
            ignoreFunctions,
            maxLevel,
            level,
            ignoreContext
          ) {
            if (maxLevel === void 0) {
              maxLevel = 20;
            }
            if (level === void 0) {
              level = 0;
            }
            if (obj === window) return window; // do not clone the window object
            if (level > maxLevel) return null; // Too deep
            if (typeof obj == 'undefined' || obj == null) {
              return toggles_1.default.isOn('removeUndefinedProperties')
                ? obj
                : null;
            } else if (typeof obj == 'function' && ignoreFunctions) {
              return null;
            } else if (obj.constructor == Array) {
              var ar = [];
              for (var i = 0; i < obj.length; i++) {
                if (!ignoreFunctions || typeof obj[i] != 'function') {
                  if (deepCopy) {
                    ar[i] = clone(
                      obj[i],
                      deepCopy,
                      ignoreFunctions,
                      maxLevel,
                      level + 1,
                      ignoreContext
                    );
                  } else {
                    ar[i] = obj[i];
                  }
                }
              }
              return ar;
            } else if (typeof obj == 'object') {
              var o = {};
              for (var p in obj) {
                if (ignoreContext && p == 'context') continue;
                if (!ignoreFunctions || typeof obj[p] != 'function') {
                  if (deepCopy) {
                    o[p] = clone(
                      obj[p],
                      deepCopy,
                      ignoreFunctions,
                      maxLevel,
                      level + 1,
                      ignoreContext
                    );
                  } else {
                    o[p] = obj[p];
                  }
                }
              }
              return o;
            } else {
              return obj;
            }
          }
          exports.clone = clone;
          function merge(args, isDeepMerge) {
            var o = {};
            for (var i = 0; i < args.length; i++) {
              if (args[i] && args[i].length) {
                for (var u = 0; u < args[i].length; u++) {
                  for (var p in args[i][u]) {
                    o[p] = args[i][u][p];
                  }
                }
              } else {
                // Merge objects.
                if (!isDeepMerge) {
                  // Flat merge.
                  for (var p in args[i]) {
                    o[p] = args[i][p];
                  }
                } else {
                  // Deep merge.
                  for (var p in args[i]) {
                    //we override primitive / array
                    if (typeof o[p] !== 'object' || o[p] instanceof Array) {
                      o[p] = args[i][p];
                    } else {
                      o[p] = merge([o[p], args[i][p]], true);
                    }
                  }
                }
              }
            }
            return o;
          }
          exports.merge = merge;
          function unflatten(data) {
            if (Object(data) !== data || Array.isArray(data)) {
              return data;
            }
            var result = {};
            for (var p in data) {
              var cur = result;
              var prop = '';
              var parts = p.replace(/\[([0-9])]/, '.$1').split('.');
              for (var i = 0; i < parts.length; i++) {
                var idx = !isNaN(Number(parts[i]));
                cur = cur[prop] || (cur[prop] = idx ? [] : {});
                prop = parts[i];
              }
              cur[prop] = data[p];
            }
            return result[''] || {};
          }
          exports.unflatten = unflatten;
          function flatten(data, withBracket) {
            if (withBracket === void 0) {
              withBracket = false;
            }
            var result = {};
            function recurse(cur, prop) {
              if (Object(cur) !== cur) {
                result[prop] = cur;
              } else if (Array.isArray(cur)) {
                var l = cur.length;
                for (var i = 0; i < l; i++) {
                  var nestedProperty = withBracket
                    ? prop + '[' + i + ']'
                    : prop + '.' + i;
                  recurse(cur[i], prop ? nestedProperty : String(i));
                }
                if (l === 0) {
                  result[prop] = [];
                }
              } else {
                var isEmpty = true;
                for (var p in cur) {
                  isEmpty = false;
                  recurse(cur[p], prop ? prop + '.' + p : p);
                }
                if (isEmpty && prop !== '') {
                  result[prop] = {};
                }
              }
            }
            recurse(data, '');
            return result;
          }
          exports.flatten = flatten;
          function extractProperties(src, dest, schema) {
            if (src == null) return;
            if (dest == null) dest = {};
            if (src.constructor == Array) {
              for (var iSrc = 0; iSrc < src.length; iSrc++) {
                extractProperties(src[iSrc], dest, schema);
              }
            } else if (schema) {
              var arSchema = schema.split('|');
              var srcLCase = {};
              for (var fieldName in src) {
                srcLCase[fieldName.toLowerCase()] = 1;
              }
              for (var i = 0; i < arSchema.length; i++) {
                var fieldName2 = arSchema[i];
                if (srcLCase[fieldName2.toLowerCase()])
                  dest[fieldName2] = src[fieldName2];
              }
            } else {
              dest = clone(src, false);
            }
            return dest;
          }
          exports.extractProperties = extractProperties;
          function extractProperty(src, paramName) {
            var params;
            return extractProperties(src, params, paramName)[paramName];
          }
          exports.extractProperty = extractProperty;
          function parseToObject(str) {
            try {
              var parsedVal = window['JSON'].parse(str);
              if (typeof parsedVal == 'object') {
                return parsedVal;
              }
            } catch (e) {}
            return undefined;
          }
          exports.parseToObject = parseToObject;
          function removePropertiesPrefix(obj, prefix) {
            if (obj === void 0) {
              obj = {};
            }
            if (prefix === void 0) {
              prefix = '';
            }
            return Object.keys(obj).reduce(function (acc, curr) {
              var _a;
              return __webpack_provided_Object_dot_assign(
                acc,
                ((_a = {}), (_a[curr.replace(prefix, '')] = obj[curr]), _a)
              );
            }, {});
          }
          exports.removePropertiesPrefix = removePropertiesPrefix;
          function addPrefixToProperties(obj, prefix) {
            if (obj === void 0) {
              obj = {};
            }
            if (prefix === void 0) {
              prefix = '';
            }
            return Object.keys(obj).reduce(function (acc, key) {
              if (key.indexOf(prefix) !== 0) {
                acc['' + prefix + key] = obj[key];
              } else {
                acc[key] = obj[key];
              }
              return acc;
            }, {});
          }
          exports.addPrefixToProperties = addPrefixToProperties;
          function normalizeObjectKeysToLowerCase(object) {
            // Normalize all keys to lowercase in addition to their original casing.
            for (var key in object) {
              object[key.toLowerCase()] = object[key];
            }
            return object;
          }
          exports.normalizeObjectKeysToLowerCase =
            normalizeObjectKeysToLowerCase;
          function decodeObjectKeys(obj) {
            var decodeObjectKeys = {};
            for (var key in obj) {
              var decodedKey = key;
              while (decodedKey.indexOf('%') !== -1) {
                decodedKey = decodeURIComponent(decodedKey);
              }
              decodeObjectKeys[decodedKey] = obj[key];
            }
            return decodeObjectKeys;
          }
          exports.decodeObjectKeys = decodeObjectKeys;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/promise.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/promise.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        function promisify(method, params) {
          if (params === void 0) {
            params = {};
          }
          return new gigya.Promise(function (resolve) {
            method(
              tslib_1.__assign(tslib_1.__assign({}, params), {
                callback: function (response) {
                  resolve(response);
                },
              })
            );
          });
        }
        exports.promisify = promisify;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/queue.ts':
      /*!**********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/queue.ts ***!
  \**********************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var _q = {};
        function _servicesStatus() {
          var services = {};
          for (var service in _q) {
            var active = isActive(service);
            if (active) {
              services[service] = {
                active: true,
                waitingFor: _q[service].ids,
                queuedCount: _q[service].q.length,
              };
            } else {
              services[service] = {
                active: false,
              };
            }
          }
          return services;
        }
        exports._servicesStatus = _servicesStatus;
        function isActive(service) {
          if (!_q[service]) return false;
          for (var id in _q[service].ids) return true;
          return false;
        }
        exports.isActive = isActive;
        function release(id, service) {
          window.gigya.logger.debug('releasing ' + service + ' queue by ' + id);
          if (!_q[service]) return;
          delete _q[service].ids[id];
          if (!isActive(service)) {
            var q = _q[service].q;
            _q[service].q = [];
            while (q.length > 0) {
              var o = q.splice(0, 1)[0];
              try {
                o.func.apply(this, o.args);
              } catch (ex) {
                if (typeof console == 'object' && console.log) {
                  console.log(
                    'Gigya: Exception while invoking queued method (' +
                      service +
                      ': ' +
                      id +
                      ')'
                  );
                }
              }
              if (isActive(service)) {
                //queue became inactive
                _q[service].q = q;
                break;
              }
            }
          }
        }
        exports.release = release;
        function hold(id, service) {
          window.gigya.logger.debug('locking queue ' + service + ' by ' + id);
          if (!_q[service]) _q[service] = { q: [], ids: {} };
          _q[service].ids[id] = true;
        }
        exports.hold = hold;
        function waitFor(service, fnc, args) {
          if (!_q[service]) _q[service] = { q: [], ids: {} };
          _q[service].q.push({ func: fnc, args: args });
        }
        exports.waitFor = waitFor;
        function queueForExecution(service, func, args) {
          args = args || [];
          if (isActive(service)) {
            waitFor(service, func, args);
          } else {
            func.apply(this, args);
          }
        }
        exports.queueForExecution = queueForExecution;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/recaptcha.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/recaptcha.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var global = window;
        var GoogleReCaptchaLoader = /** @class */ (function () {
          function GoogleReCaptchaLoader() {}
          GoogleReCaptchaLoader.prototype.forceReset = function () {
            GoogleReCaptchaLoader.greCaptchaLoad = undefined;
          };
          GoogleReCaptchaLoader.prototype.getInstance = function (params) {
            if (
              params === null || params === void 0
                ? void 0
                : params.isEnterprise
            ) {
              return grecaptcha.enterprise;
            }
            return grecaptcha;
          };
          GoogleReCaptchaLoader.prototype.load = function (params) {
            var _this = this;
            if (typeof grecaptcha !== 'undefined')
              return GoogleReCaptchaLoader.greCaptchaLoad;
            else if (!GoogleReCaptchaLoader.greCaptchaLoad) {
              var timeoutId_1;
              GoogleReCaptchaLoader.greCaptchaLoad = new gigya.Promise(
                function (resolve, reject) {
                  var readyResolver = function () {
                    var _a;
                    var readyCallback =
                      (_a = _this.getInstance(params)) === null || _a === void 0
                        ? void 0
                        : _a.ready;
                    if (typeof grecaptcha !== 'undefined' && readyCallback) {
                      readyCallback(resolve);
                    } else {
                      resolve();
                    }
                  };
                  var reloadFromRecaptchaDomain = function () {
                    clearTimeout(timeoutId_1);
                    window.gigya.logger.debug(
                      'Loading google captcha from ' +
                        GoogleReCaptchaLoader.RECAPTCHA_DOMAIN
                    );
                    if (typeof grecaptcha !== 'undefined') {
                      window.gigya.logger.debug(
                        'Aborting. Google captcha already loaded'
                      );
                      return readyResolver();
                    }
                    if (
                      params['googleCaptchaDomain'] ===
                      GoogleReCaptchaLoader.RECAPTCHA_DOMAIN
                    ) {
                      window.gigya.logger.debug(
                        'Aborting. Already tried to load from ' +
                          GoogleReCaptchaLoader.RECAPTCHA_DOMAIN +
                          " and failed'"
                      );
                      return reject(
                        "Failed to load google's captcha from " +
                          GoogleReCaptchaLoader.RECAPTCHA_DOMAIN
                      );
                    }
                    params['googleCaptchaDomain'] =
                      GoogleReCaptchaLoader.RECAPTCHA_DOMAIN;
                    window.gigya.utils.script.load(
                      _this.providerURL(params),
                      reject,
                      readyResolver
                    );
                  };
                  timeoutId_1 = setTimeout(
                    reloadFromRecaptchaDomain,
                    GoogleReCaptchaLoader.RETRY_FROM_RECAPTCHA_TIMEOUT
                  );
                  if (params.callbackID) {
                    global[params.callbackID] = function () {
                      delete global[params.callbackID];
                      typeof grecaptcha !== 'undefined'
                        ? readyResolver()
                        : reject('Error while trying to load grecaptcha');
                    };
                  }
                  window.gigya.logger.debug(
                    'Loading grecaptcha from ' + _this._domain(params)
                  );
                  return window.gigya.utils.script.load(
                    _this.providerURL(params),
                    reloadFromRecaptchaDomain,
                    readyResolver
                  );
                }
              );
            }
            return GoogleReCaptchaLoader.greCaptchaLoad;
          };
          GoogleReCaptchaLoader.prototype.providerURL = function (params) {
            var fileName = 'api';
            if (
              params === null || params === void 0
                ? void 0
                : params.isEnterprise
            ) {
              fileName = 'enterprise';
            }
            return (
              '//' +
              this._domain(params) +
              '/recaptcha/' +
              fileName +
              '.js?' +
              this.loadQueryParams(params)
            );
          };
          GoogleReCaptchaLoader.prototype.loadQueryParams = function (params) {
            var queryParams = '';
            if (
              params.type == GoogleReCaptchaLoader.V3_CAPTCHA_TYPE ||
              params.type == GoogleReCaptchaLoader.ENTERPRISE_CAPTCHA_TYPE
            ) {
              queryParams = 'render=' + params.siteKey;
            } else {
              queryParams = 'render=explicit';
            }
            if (params.callbackID) {
              queryParams += '&onload=' + params.callbackID;
            }
            if (params.lang) {
              queryParams += '&hl=' + params.lang;
            }
            return queryParams;
          };
          GoogleReCaptchaLoader.prototype._domain = function (params) {
            var isCNDataCenter =
              window.gigya.dataCenter.toLowerCase().indexOf('cn1') === 0;
            return (
              params['googleCaptchaDomain'] ||
              (isCNDataCenter
                ? GoogleReCaptchaLoader.RECAPTCHA_DOMAIN
                : GoogleReCaptchaLoader.GOOGLE_DOMAIN)
            );
          };
          GoogleReCaptchaLoader.V3_CAPTCHA_TYPE = 'reCaptchaV3';
          GoogleReCaptchaLoader.ENTERPRISE_CAPTCHA_TYPE =
            'reCaptchaEnterpriseScore';
          GoogleReCaptchaLoader.RECAPTCHA_DOMAIN = 'www.recaptcha.net';
          GoogleReCaptchaLoader.GOOGLE_DOMAIN = 'www.google.com';
          GoogleReCaptchaLoader.RETRY_FROM_RECAPTCHA_TIMEOUT = 3 * 1000;
          return GoogleReCaptchaLoader;
        })();
        exports.GoogleReCaptchaLoader = GoogleReCaptchaLoader;
        exports.default = new GoogleReCaptchaLoader();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/sanitize.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/sanitize.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function sanitizeHTML(html) {
          if (html == null || typeof html == 'undefined') return html;
          return html
            .replace(/&/g, '&#38;')
            .replace(/</g, '&#60;')
            .replace(/>/g, '&#62;')
            .replace(/\"/g, '&#34;')
            .replace(/'/g, '&#39;')
            .replace(/&#38;#173;/g, '&#173;');
        }
        exports.sanitizeHTML = sanitizeHTML;
        function sanitizeAttribute(attributeValue) {
          if (attributeValue == null || typeof attributeValue == 'undefined')
            return attributeValue;
          return attributeValue
            .replace(/&/g, '&#38;')
            .replace(/</g, '&#60;')
            .replace(/>/g, '&#62;')
            .replace(/\"/g, '&#34;')
            .replace(/\=/g, '&#61;');
        }
        exports.sanitizeAttribute = sanitizeAttribute;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/script.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/script.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var arrayUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/array */ './src/core/Gigya.Js/app/Utils/array.ts'
        );
        var functionsUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/functions */ './src/core/Gigya.Js/app/Utils/functions.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var cdn_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
        );
        var pending = {};
        function addSdkVersion(url) {
          var scriptUrl = Uri_1.Uri.parse(url);
          scriptUrl.addToSearch({ version: window.gigya.build.version });
          return scriptUrl.toString();
        }
        function formatSrcUrl(src) {
          // remove cdn domain number
          return src.replace(
            /^http(s?):\/\/cdn(s?)[0-9]*.gigya.com\//,
            'http$1://cdn$2.gigya.com/'
          );
        }
        function isLoaded(src) {
          var pendingSrc = formatSrcUrl(src);
          return Boolean(pending[pendingSrc] && pending[pendingSrc].loaded);
        }
        exports.isLoaded = isLoaded;
        function load(
          src,
          fnOnError,
          fnOnLoad,
          loadOnce,
          removeAfter,
          treatTogether
        ) {
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          var oScript;
          if (src.indexOf('//') === 0) {
            src = LocalInfo_1.localInfo.protocol + ':' + src;
          }
          if (loadOnce) {
            var pendingSrc = formatSrcUrl(src);
            if (pending[pendingSrc]) {
              if (pending[pendingSrc].loaded) {
                window.gigya.logger.debug('script was already loaded:', {
                  src: src,
                });
                if (fnOnLoad) {
                  fnOnLoad();
                }
              } else {
                pending[pendingSrc].onLoad.push(fnOnLoad);
                pending[pendingSrc].onError.push(fnOnError);
              }
              return;
            }
            oScript = pending[pendingSrc] = {
              loaded: false,
              onLoad: [fnOnLoad],
              onError: [fnOnError],
            };
            if (treatTogether && treatTogether.length > 0) {
              arrayUtils.forEach(treatTogether, function (url) {
                pending[url] = oScript;
              });
            }
          } else {
            // multiple loads
            oScript = {
              loaded: false,
              onLoad: [fnOnLoad],
              onError: [fnOnError],
            };
          }
          var scriptLoader = function () {
            var script = document.createElement('script');
            script.async = true;
            script.type = 'text/javascript';
            script.charset = 'UTF-8';
            var done = false;
            var fnOnScriptLoad = function () {
              if (!done) {
                if (oScript.onLoad && oScript.onLoad.length) {
                  for (var i = 0; i < oScript.onLoad.length; i++) {
                    if (typeof oScript.onLoad[i] === 'function') {
                      oScript.onLoad[i]();
                    }
                  }
                }
                oScript.loaded = true;
                oScript.onError = oScript.onLoad = null; // remove memory leak
                done = true;
                if (removeAfter === true) {
                  removeAfter = 0;
                }
                if (removeAfter !== false) {
                  setTimeout(function () {
                    if (script.parentNode) {
                      script.parentNode.removeChild(script);
                    }
                  }, removeAfter);
                }
              }
            };
            script.onload = fnOnScriptLoad;
            script['onreadystatechange'] = function () {
              if (this.readyState === 'loaded') {
                fnOnScriptLoad();
              }
            };
            script.onerror = function () {
              for (var i = 0; i < oScript.onError.length; i++) {
                if (typeof oScript.onError[i] === 'function') {
                  oScript.onError[i]();
                }
              }
              delete pending[src];
            };
            var head = document.getElementsByTagName('head');
            if (head && head.length > 0) {
              head[0].appendChild(script);
            }
            var fnSetScriptSrc = function () {
              var webSdkResourcesDomain = new RegExp(
                '^https?://cdns?.*' +
                  window.gigya.defaultApiDomain +
                  '/.*gigya.js'
              );
              var scriptSrc = webSdkResourcesDomain.test(src)
                ? addSdkVersion(src)
                : src;
              script.src = scriptSrc;
            };
            if (LocalInfo_1.localInfo.iosVersion >= 6) {
              // iOS 6 breaks setTimeout when animation is active (switching tabs back from a login sequence)
              fnSetScriptSrc();
            } else {
              setTimeout(fnSetScriptSrc, 1); // Doing this async gives better performance in older browsers
            }
          };
          if (LocalInfo_1.localInfo.isIE) {
            functionsUtils.invokeOnPageLoad(scriptLoader);
          } else {
            scriptLoader();
          }
        }
        exports.load = load;
        var ResourceTypes;
        (function (ResourceTypes) {
          ResourceTypes[(ResourceTypes['script'] = 0)] = 'script';
          ResourceTypes[(ResourceTypes['image'] = 1)] = 'image';
          ResourceTypes[(ResourceTypes['iframe'] = 2)] = 'iframe';
        })(
          (ResourceTypes =
            exports.ResourceTypes || (exports.ResourceTypes = {}))
        );
        function triggerResource(url, callback, resourceType, removeAfter) {
          if (resourceType === void 0) {
            resourceType = ResourceTypes.image;
          }
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          switch (resourceType) {
            case ResourceTypes.script:
              load(url, callback, callback, false, removeAfter);
              break;
            case ResourceTypes.image:
              loadImage(url, callback);
              break;
            case ResourceTypes.iframe:
              loadIframe(url, callback, removeAfter);
              break;
            default:
              throw new Error('Unsupported resource type');
          }
        }
        exports.triggerResource = triggerResource;
        function loadImage(url, callback) {
          var img = new Image();
          var loaded = false;
          var fnOnLoad = function () {
            if (!loaded) {
              loaded = true;
              callback();
            }
          };
          img.onload = img.onerror = fnOnLoad;
          img.src = url;
        }
        function loadIframe(url, callback, removeAfter) {
          if (removeAfter === void 0) {
            removeAfter = 5000;
          }
          var ifr = document.createElement('iframe');
          ifr.style.width = '30px';
          ifr.style.height = '10px';
          ifr.style.position = 'absolute';
          ifr.style.top = '-1000px';
          ifr.style.left = '-1000px';
          if (removeAfter === true) {
            removeAfter = 0;
          }
          var fnOnLoad = function (e) {
            var el;
            if (e && e.srcElement) {
              el = e.srcElement;
            } else if (e && e.target) {
              el = e.target;
            } else {
              el = this;
            }
            if (!el.loaded && el.parentNode) {
              el.loaded = true;
              callback();
              if (removeAfter !== false) {
                window.setTimeout(function () {
                  try {
                    document.body.removeChild(el);
                  } catch (ex) {}
                }, removeAfter);
              }
            }
          };
          DOMUtils.addEventListener(ifr, 'load', fnOnLoad);
          DOMUtils.addEventListener(ifr, 'error', fnOnLoad);
          ifr.onload = function (e) {
            fnOnLoad(e);
          };
          ifr.onerror = fnOnLoad;
          ifr.src = url;
          DOMUtils.appendToBody(ifr);
        }
        function loadService(serviceName, fnOnError, fnOnLoad) {
          var url =
            cdn_1.getCdnResource() +
            '/js/gigya.services.' +
            serviceName +
            '.js';
          load(
            url,
            function () {
              if (typeof console === 'object' && console.error) {
                console.error(
                  'error loading gigya service ' +
                    serviceName +
                    ' from url: ' +
                    url
                );
                if (fnOnError) {
                  fnOnError();
                }
              }
            },
            fnOnLoad,
            true
          );
        }
        exports.loadService = loadService;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/sessionCache.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/sessionCache.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var JSONUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/JSON */ './src/core/Gigya.Js/app/Utils/JSON.ts'
        );
        var queueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/queue */ './src/core/Gigya.Js/app/Utils/queue.ts'
        );
        var FlagService_1 = __webpack_require__(
          /*! ../Services/FlagService */ './src/core/Gigya.Js/app/Services/FlagService.ts'
        );
        var sessionStorageEnabled;
        try {
          sessionStorageEnabled = Boolean(window.sessionStorage); // when 3pc blocked, chrome throws when trying to access session storage.
        } catch (ex) {
          sessionStorageEnabled = false;
        }
        function set(key, response) {
          if (!sessionStorageEnabled) return;
          var oGigya;
          try {
            oGigya = JSONUtils.deserialize(
              window.sessionStorage.getItem('gigyaCache')
            );
            if (response == null && oGigya[key]) {
              delete oGigya[key];
            } else {
              var time = new Date().getTime();
              oGigya[key] = { response: response, time: time };
              if (key.indexOf('gig_oidcContext_') >= 0) {
                window.gigya.logger.report(
                  'oidc storage logs - set',
                  {
                    key: key,
                    value: oGigya[key],
                  },
                  false,
                  FlagService_1.FlagService.forceErrorReport
                );
              }
            }
            window.sessionStorage.setItem(
              'gigyaCache',
              JSONUtils.serialize(oGigya)
            );
          } catch (ex) {}
          queueUtils.release('cache', 'cache_' + key);
        }
        exports.set = set;
        function get(key, cacheTimeout) {
          if (cacheTimeout === void 0) {
            cacheTimeout = -1;
          }
          if (!sessionStorageEnabled) {
            return null;
          }
          try {
            if (!queueUtils.isActive('cache_' + key)) {
              var sGigyaCache = window.sessionStorage.getItem('gigyaCache');
              var oGigya = JSONUtils.deserialize(sGigyaCache);
              var cached = oGigya[key];
              if (cached) {
                var currentTime = new Date().getTime();
                if (
                  cacheTimeout < 0 ||
                  cacheTimeout + cached.time > currentTime
                ) {
                  //cached
                  return cached.response;
                } else {
                  if (key.indexOf('gig_oidcContext_') >= 0) {
                    window.gigya.logger.report(
                      'oidc storage logs - get',
                      {
                        key: key,
                        value: oGigya[key],
                        cacheTime: cached.time,
                        currentTime: currentTime,
                      },
                      false,
                      FlagService_1.FlagService.forceErrorReport
                    );
                  }
                  //expired
                  remove(key);
                  return null;
                }
              }
              if (!cached) {
                //not cached (first time)
                queueUtils.hold('cache', 'cache_' + key); //so that future requests will wait for the first one's response.
                return null;
              }
            } else {
              //wait for first response
              queueUtils.waitFor('cache_' + key, get, arguments);
              return null;
            }
          } catch (ex) {}
          return null;
        }
        exports.get = get;
        function remove(key) {
          set(key, null);
        }
        exports.remove = remove;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/stringParams.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringParams.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function getParamValue(str, key, del) {
          if (del === void 0) {
            del = '&';
          }
          // http://stackoverflow.com/questions/11920697/how-to-get-hash-value-in-a-url-in-js
          var matches = str.match(new RegExp(key + '=([^' + del + ']*)'));
          return matches ? matches[1] : null;
        }
        exports.getParamValue = getParamValue;
        function getReqParamValue(str, key) {
          var val = getParamValue(str, key);
          return val ? decodeURIComponent(val) : null;
        }
        exports.getReqParamValue = getReqParamValue;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/stringUtils.ts':
      /*!****************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/stringUtils.ts ***!
  \****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function trim(s) {
          return s.replace(/^\s*(\S*(.*\S)?)\s*$/, '$1');
        }
        exports.trim = trim;
        function format(s) {
          var rest = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            rest[_i - 1] = arguments[_i];
          }
          for (var i = 0; i < arguments.length - 1; i++) {
            if (arguments[i + 1] != null) {
              s = s.split('{' + i + '}').join(arguments[i + 1]);
            }
          }
          return s;
        }
        exports.format = format;
        function capitalize(s) {
          return s.substring(0, 1).toUpperCase() + s.substring(1);
        }
        exports.capitalize = capitalize;
        function endsWith(s, suffix) {
          return s.indexOf(suffix, s.length - suffix.length) !== -1;
        }
        exports.endsWith = endsWith;
        function escapeRegExp(str) {
          return str.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, '\\$1');
        }
        exports.escapeRegExp = escapeRegExp;
        function replaceAll(str, find, replace) {
          if (!find) return str;
          return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
        }
        exports.replaceAll = replaceAll;
        function mergeCommaSeparatedValues(str1, str2) {
          if (str1 === void 0) {
            str1 = '';
          }
          if (str2 === void 0) {
            str2 = '';
          }
          var arr = str1.concat(',', str2).split(',');
          return window.gigya.utils.array
            .getUniqueValues(arr)
            .filter(function (x) {
              return x;
            })
            .join(',');
        }
        exports.mergeCommaSeparatedValues = mergeCommaSeparatedValues;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/tabbable.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/tabbable.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var Tabbable = /** @class */ (function () {
          /**
           * Do not use - access via `gigya.utils.tabbable`.
           */
          function Tabbable() {
            this.bindings = [];
          }
          /**
           * Do not use - access via `gigya.utils.tabbable`.
           */
          Tabbable.getInstance = function () {
            if (!Tabbable.self) {
              Tabbable.self = new Tabbable();
            }
            return Tabbable.self;
          };
          /**
           * When bound, the user will have their tab focused locked into the container while their focus is on an element in the container.
           *
           * - Hitting tab while focused on the last tabbable element will set focus to the first tabbable element.
           * - Hitting shift+tab while focused on the first element will set focus to the last tabbable element.
           */
          Tabbable.prototype.bindTabLooping = function (
            container,
            filterSelector
          ) {
            // Don't bind twice when screen-sets move between screens.
            if (this.getListenerByContainer(container)) {
              return;
            }
            var listener = this.createListener(container, filterSelector);
            window.addEventListener('keydown', listener, true);
          };
          /**
           * Restore natural tabbing behavior.
           */
          Tabbable.prototype.unbindTabLooping = function (container) {
            var listener = this.getListenerByContainer(container);
            if (listener) {
              window.removeEventListener('keydown', listener, true);
            }
          };
          /**
           * Get sorted list of tabbable elements.
           */
          Tabbable.prototype.getSortedTabbableElements = function (
            container,
            filterSelector
          ) {
            var _this = this;
            var tabIndex = 0;
            var els = container.querySelectorAll(Tabbable.selector);
            var tabbable = [];
            for (var i = 0; i < els.length; ++i) {
              var element = els[i];
              if (this.isTabbable(element, filterSelector)) {
                // Necessary to track natural sort order for stable sort implementation.
                element.setAttribute(
                  Tabbable.naturalTabOrder,
                  String(tabIndex)
                );
                tabIndex++;
                tabbable.push(element);
              }
            }
            tabbable.sort(function (a, b) {
              return _this.sort(a, b);
            });
            return tabbable;
          };
          /**
           * Create and track listener function.
           */
          Tabbable.prototype.createListener = function (
            container,
            filterSelector
          ) {
            var _this = this;
            var listener = function (e) {
              // Tab key hit and the currently focused element is in the container we care about.
              var activeElement = document.activeElement;
              if (e.keyCode === 9 && container.contains(activeElement)) {
                // Attempt to key the next element. Shift key reverses tab order.
                var el = !e.shiftKey
                  ? _this.getNextTabbableElement(
                      container,
                      activeElement,
                      filterSelector
                    )
                  : _this.getPreviousTabbableElement(
                      container,
                      activeElement,
                      filterSelector
                    );
                if (el) {
                  el.focus();
                  // Cancel default submit event only if next element in line could be found.
                  // If focus is set on an untabbable elements, the tab keypress will always be handled natively.
                  DOMUtils.cancelEvent(e);
                }
              }
            };
            this.bindings.push({ container: container, listener: listener });
            return listener;
          };
          /**
           * Filter out elements that aren't tabbable.
           */
          Tabbable.prototype.isTabbable = function (element, filterSelector) {
            var matches = element.matches || element['msMatchesSelector'];
            return (
              element.tabIndex !== -1 && // Excluded from tab order.
              (element.offsetWidth > 0 || element.offsetHeight > 0) && // Is visible.
              (!filterSelector || matches.call(element, filterSelector))
            ); // Is in filtered set of elements.
          };
          /**
           * Get next tabbable element, looping if necessary. Returns undefined if the current element isn't in the list of tabbable elements.
           */
          Tabbable.prototype.getNextTabbableElement = function (
            container,
            currentElement,
            filterSelector
          ) {
            var els = this.getSortedTabbableElements(container, filterSelector);
            var currentIndex = els.indexOf(currentElement);
            if (currentIndex === -1) {
              // The current element wasn't found in the list of tabbable elements.
              return undefined;
            } else if (currentIndex !== els.length - 1) {
              // Next element in list.
              return els[currentIndex + 1];
            } else {
              // Last element reached, loop back to first.
              return els[0];
            }
          };
          /**
           * Get previous tabbable element, looping if necessary. Returns undefined if the current element isn't in the list of tabbable elements.
           */
          Tabbable.prototype.getPreviousTabbableElement = function (
            container,
            currentElement,
            filterSelector
          ) {
            var els = this.getSortedTabbableElements(container, filterSelector);
            var currentIndex = els.indexOf(currentElement);
            if (currentIndex === -1) {
              // The current element wasn't found in the list of tabbable elements.
              return undefined;
            } else if (currentIndex !== 0) {
              // Previous element in list.
              return els[currentIndex - 1];
            } else {
              // First element reached, loop back to last.
              return els[els.length - 1];
            }
          };
          /**
           * Sort algorithm that takes into account the tab index and natural sort order for each element.
           *
           * NOTE:
           * Not all browsers implement stable sorting. Specifically Chrome's sort is NOT stable.
           * A sorting algorithm is "stable" when two objects with equal keys appear in the same order after being sorted.
           */
          Tabbable.prototype.sort = function (a, b) {
            var tabIndexDiff = this.getTabIndex(a) - this.getTabIndex(b);
            if (tabIndexDiff !== 0) {
              return tabIndexDiff;
            }
            return (
              Number(a.getAttribute(Tabbable.naturalTabOrder)) -
              Number(b.getAttribute(Tabbable.naturalTabOrder))
            );
          };
          /**
           * Elements with a tab index of 0 should appear after all elements with a tab index.
           */
          Tabbable.prototype.getTabIndex = function (el) {
            return el.tabIndex === 0 ? 99999999 : el.tabIndex;
          };
          /**
           * Find event listener function by container element.
           */
          Tabbable.prototype.getListenerByContainer = function (container) {
            for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {
              var binding = _a[_i];
              if (binding.container === container) {
                return binding.listener;
              }
            }
          };
          Tabbable.naturalTabOrder = 'data-natural-tab-order';
          Tabbable.selector = [
            'a:not([disabled])',
            'button:not([disabled])',
            'input:not([disabled])',
            '[tabindex]:not([disabled])',
          ].join(',');
          return Tabbable;
        })();
        exports.Tabbable = Tabbable;
        exports.tabbable = Tabbable.getInstance();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/templates.ts':
      /*!**************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/templates.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function fill(template, o) {
          if (typeof template == 'function') {
            template = template(o);
          }
          if (template instanceof Array) {
            template = template.join('');
          }
          var p =
            /(\$)(!?)([a-z_][a-z_.\d]*)([(][^()]*[)])?|(\$)(!?)\{([a-z_][a-z_.\d]*)([(][^()]*[)])?\}/gi;
          p.lastIndex = 0;
          var res = template;
          var matches = p.exec(res);
          var offset;
          while (matches != null) {
            if (matches[1] == '$') {
              offset = 0;
            } else {
              offset = 4;
            }
            var blnDontInject = matches[2 + offset] == '!';
            var identifier = matches[3 + offset]; // 0 is the entire expr and 1/5=$ 2/6=! 3/7=identifier 4/8=()'s
            var para = matches[4 + offset];
            if (para == null) para = '';
            var dbg = 0;
            if (identifier.substring(0, 1) == '.') {
              identifier = identifier.substring(1);
            }
            if (identifier.substring(0, 3) == 'DBG') {
              identifier = identifier.substring(3);
              dbg = 1;
            }
            var preTemp = '';
            var postTemp = identifier + para;
            while (postTemp != preTemp) {
              preTemp = postTemp;
              var lastIndex = p.lastIndex;
              postTemp = fill(preTemp, o);
              p.lastIndex = lastIndex;
            }
            var v = '';
            var skipChars = 0;
            if (o[identifier.split('.')[0]] != null) {
              try {
                v = new Function('o', 'p', 'return eval("o." + p)')(
                  o,
                  postTemp
                );
              } catch (e) {}
            } else {
              v = '$' + (blnDontInject ? '!' : '') + postTemp;
              skipChars = 1;
            }
            if (blnDontInject) {
              res = res.replace(matches[0], '');
            } else {
              res =
                res.substr(0, matches.index) +
                v +
                res.substr(matches.index + matches[0].length);
              //res=res.split(matches[0]).join(v);
            }
            p.lastIndex = matches.index + skipChars; // to allow recursive changes in templates that contain templates.
            matches = p.exec(res);
          }
          return res;
        }
        exports.fill = fill;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/toggles.ts':
      /*!************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/toggles.ts ***!
  \************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var objectUtils = __webpack_require__(
          /*! ./object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var WebSDKToggles = /** @class */ (function () {
          function WebSDKToggles() {}
          WebSDKToggles.prototype.has = function (key) {
            return typeof this._toggles[key] != 'undefined';
          };
          WebSDKToggles.prototype.get = function (key) {
            return this._toggles[key];
          };
          WebSDKToggles.prototype.isOn = function (key) {
            return this.has(key) && this.get(key);
          };
          Object.defineProperty(WebSDKToggles.prototype, '_toggles', {
            get: function () {
              return objectUtils.merge([
                this._globalConfToggles,
                this._webSdkConfigToggles,
              ]);
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(WebSDKToggles.prototype, '_globalConfToggles', {
            get: function () {
              var _a, _b;
              return (
                ((_b =
                  (_a = window.gigya.thisScript) === null || _a === void 0
                    ? void 0
                    : _a.globalConf) === null || _b === void 0
                  ? void 0
                  : _b.toggles) || {}
              );
            },
            enumerable: true,
            configurable: true,
          });
          Object.defineProperty(
            WebSDKToggles.prototype,
            '_webSdkConfigToggles',
            {
              get: function () {
                var _a, _b;
                var toggles =
                  ((_b =
                    (_a = window.gigya._) === null || _a === void 0
                      ? void 0
                      : _a.config) === null || _b === void 0
                    ? void 0
                    : _b.toggles) || {};
                return Object.keys(toggles).reduce(function (newToggles, key) {
                  newToggles[key] = toggles[key] === 'on';
                  return newToggles;
                }, {});
              },
              enumerable: true,
              configurable: true,
            }
          );
          return WebSDKToggles;
        })();
        exports.default = new WebSDKToggles();

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/validation.ts':
      /*!***************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/validation.ts ***!
  \***************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function isExplicitTrue(val) {
          var lc = ('' + val).toLowerCase();
          return lc == 'true' || lc == '1';
        }
        exports.isExplicitTrue = isExplicitTrue;
        function isExplicitFalse(val) {
          var lc = ('' + val).toLowerCase();
          return lc == 'false' || lc == '0';
        }
        exports.isExplicitFalse = isExplicitFalse;
        function isLaterThanNow(expirationTime) {
          return expirationTime > new Date().getTime();
        }
        exports.isLaterThanNow = isLaterThanNow;
        function allDefinedOrAllUndefined() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          var anyUndefined = args.some(function (x) {
            return typeof x === 'undefined';
          });
          var anyDefined = args.some(function (x) {
            return typeof x !== 'undefined';
          });
          return (anyDefined && !anyUndefined) || (!anyDefined && anyUndefined);
        }
        exports.allDefinedOrAllUndefined = allDefinedOrAllUndefined;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/viewport.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/viewport.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        function getScroll() {
          var scrOfX = 0,
            scrOfY = 0;
          if (typeof window.pageYOffset == 'number') {
            scrOfY = window.pageYOffset;
            scrOfX = window.pageXOffset;
          } else if (
            document.body &&
            (document.body.scrollLeft || document.body.scrollTop)
          ) {
            scrOfY = document.body.scrollTop;
            scrOfX = document.body.scrollLeft;
          } else if (
            document.documentElement &&
            (document.documentElement.scrollLeft ||
              document.documentElement.scrollTop)
          ) {
            scrOfY = document.documentElement.scrollTop;
            scrOfX = document.documentElement.scrollLeft;
          }
          return { left: scrOfX, top: scrOfY };
        }
        exports.getScroll = getScroll;
        function getFullSize() {
          var de = document.documentElement;
          var db = document.body;
          var h = de.clientHeight;
          if (h == 0) h = db.clientHeight;
          var w = de.clientWidth;
          if (w == 0) w = db.clientWidth;
          return { w: w, h: h };
        }
        exports.getFullSize = getFullSize;
        function getOrientation() {
          var orientation = parseInt(window['orientation'] || '0');
          if (orientation < 0) orientation += 360;
          return orientation;
        }
        exports.getOrientation = getOrientation;
        function getOuterSize() {
          var h;
          var w;
          var de = document.documentElement;
          var db = document.body;
          if (window.outerHeight) {
            h = window.outerHeight;
            w = window.outerWidth;
          } else {
            h = de.clientHeight;
            if (h == 0) h = db.clientHeight;
            w = de.clientWidth;
            if (w == 0) w = db.clientWidth;
          }
          return { w: w, h: h };
        }
        exports.getOuterSize = getOuterSize;
        function getInnerSize() {
          var h;
          var w;
          var de = document.documentElement;
          var db = document.body;
          if (window.innerHeight) {
            h = window.innerHeight;
            w = window.innerWidth;
          } else {
            h = de.clientHeight;
            if (h == 0) h = db.clientHeight;
            w = de.clientWidth;
            if (w == 0) w = db.clientWidth;
          }
          return { w: w, h: h };
        }
        exports.getInnerSize = getInnerSize;
        function getMiddleCenter() {
          var scroll = getScroll();
          var size = getInnerSize();
          return {
            top: scroll.top + Math.floor(size.h / 2),
            left: scroll.left + Math.floor(size.w / 2),
          };
        }
        exports.getMiddleCenter = getMiddleCenter;
        function isRectHorizontallyVisible(rect) {
          var scroll = getScroll();
          var size = getInnerSize();
          return rect.left >= scroll.left && rect.right <= scroll.left + size.w;
        }
        exports.isRectHorizontallyVisible = isRectHorizontallyVisible;
        function isRectFullyVisible(rect) {
          var scroll = getScroll();
          var size = getInnerSize();
          return (
            rect.top >= scroll.top &&
            rect.bottom <= scroll.top + size.h &&
            rect.left >= scroll.left &&
            rect.right <= scroll.left + size.w
          );
        }
        exports.isRectFullyVisible = isRectFullyVisible;
        function scrollIntoView(element) {
          if (element && element.scrollIntoView) {
            element.scrollIntoView();
          }
        }
        exports.scrollIntoView = scrollIntoView;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/win.ts':
      /*!********************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/win.ts ***!
  \********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var LocalInfo_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
        );
        var URLUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var HTTPUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/HTTP */ './src/core/Gigya.Js/app/Utils/HTTP.ts'
        );
        var globalEvents = __webpack_require__(
          /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
        );
        exports._openedWindows = {};
        exports._uniqueWindowCounter = 0;
        function _calcPixels(value, max, def, positionAdjustment) {
          var pixels;
          // Handle string as argument.
          if (typeof value === 'string') {
            // Typecast string to number. May be percentage.
            pixels = parseInt(value);
            // Convert percentage width and height to number.
            if (value.indexOf('%') !== -1) {
              pixels = parseInt(value) * 0.01 * max;
              // When positioning (as opposed to dimension), need to place window in center.
              if (positionAdjustment) {
                pixels -= positionAdjustment / 2;
              }
            }
          } else {
            pixels = value;
          }
          // Round to whole value.
          pixels = Math.round(pixels);
          // Typecast to number and fallback to default if necessary.
          if (isNaN(pixels) && def !== undefined) {
            pixels = _calcPixels(def, max, undefined, positionAdjustment);
          }
          return pixels;
        }
        exports._calcPixels = _calcPixels;
        function open(url, windowName, windowOptions) {
          if (!windowOptions) {
            windowOptions = {
              menubar: 0,
              toolbar: 0,
              resizable: 1,
              scrollbars: 1,
            };
          }
          // Calculate dimensions and positioning, including defaults.
          windowOptions.width = _calcPixels(
            windowOptions.width,
            screen.width,
            960
          );
          windowOptions.height = _calcPixels(
            windowOptions.height,
            screen.height,
            680
          );
          windowOptions.left = _calcPixels(
            windowOptions.left,
            screen.width,
            '50%',
            windowOptions.width
          );
          windowOptions.top = _calcPixels(
            windowOptions.top,
            screen.height,
            '50%',
            windowOptions.height
          );
          // Convert window options object to string.
          // Example: menubar=0,toolbar=0,...
          var windowOptionsString = '';
          for (var key in windowOptions) {
            windowOptionsString += ',' + key + '=' + windowOptions[key];
          }
          windowOptionsString = windowOptionsString.substr(1);
          // 4k is our qs length limit. Anything more will trigger POST.
          var postToWindow =
            (LocalInfo_1.localInfo.isIE && url.length > 2048) ||
            url.length > 4096;
          var windowUrl = url;
          if (postToWindow) {
            windowUrl = '';
            if (LocalInfo_1.localInfo.isIE) {
              windowUrl = 'about:blank';
            }
          }
          // Dynamically assign window name if necessary.
          if (!windowName) {
            windowName =
              '_gigWindow_' +
              new Date().getTime() +
              '_' +
              ++exports._uniqueWindowCounter;
          }
          // Open and focus window.
          var newWin = window.open(windowUrl, windowName, windowOptionsString);
          if (newWin && newWin.focus) {
            newWin.focus();
          }
          exports._openedWindows[windowName] = newWin;
          // Post to window if necessary.
          var params = URLUtils.getParamsFromURL(url);
          if (postToWindow) {
            HTTPUtils.redirect(url.split('?')[0], [params], 'POST', windowName);
          }
          // Dispatch windowOpened event.
          globalEvents.dispatch({
            eventName: 'windowOpened',
            url: url,
            params: params,
          });
          return exports._openedWindows[windowName] != null;
        }
        exports.open = open;
        function close(windowName) {
          if (exports._openedWindows[windowName] != null) {
            var fnClose = function () {
              try {
                if (exports._openedWindows[windowName] != null)
                  exports._openedWindows[windowName].close();
                delete exports._openedWindows[windowName];
              } catch (e) {}
            };
            if (LocalInfo_1.localInfo.iosVersion >= 6) {
              fnClose();
            } else {
              window.setTimeout(fnClose, 10); //timeout because of iPad bug (crashes sometimes)
            }
          }
        }
        exports.close = close;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/Utils/xd.ts':
      /*!*******************************************!*\
  !*** ./src/core/Gigya.Js/app/Utils/xd.ts ***!
  \*******************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var keyValueUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
        );
        var objectUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/object */ './src/core/Gigya.Js/app/Utils/object.ts'
        );
        var DOMUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/DOM */ './src/core/Gigya.Js/app/Utils/DOM.ts'
        );
        var InternalFlows_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
        );
        var _listeners = {};
        exports._flashListenerID = 'flid' + new Date().getTime();
        var _added = false;
        function _onMessage(evt) {
          evt = objectUtils.clone(evt);
          var __fnOnMessage = function () {
            var keyVal = evt.data.split('=');
            var handler = _listeners[keyVal[0]];
            if (handler != null) {
              if (typeof handler.callback == 'function') {
                var encodedEventObj = unescape(keyVal[1]);
                var eventObj = keyValueUtils.deserialize(
                  encodedEventObj,
                  null,
                  null,
                  true
                );
                var context = handler.context;
                handler.callback(eventObj, context);
              }
              removeMessageListener(keyVal[0]);
              var iframe = document.getElementById(keyVal[0]); // If messagingMethod == local storage listener
              if (iframe && iframe.parentElement) {
                iframe.parentElement.removeChild(iframe);
              }
            }
          };
          if (evt && evt.data && evt.data.split) {
            if (window.gigya.localInfo.iosVersion >= 6) {
              __fnOnMessage();
            } else {
              window.setTimeout(__fnOnMessage, 100);
            }
          }
        }
        function _createLocalStorageListenerIFrame(messageName) {
          var iframe = document.createElement('iframe');
          iframe.style.width = '30px';
          iframe.style.height = '10px';
          iframe.style.position = 'absolute';
          iframe.style.top = '-1000px';
          iframe.style.left = '-1000px';
          iframe.id = messageName;
          iframe.src =
            'https://cdns.gigya.com/gs/LocalStorageListener.htm?mode=receive&id=' +
            encodeURIComponent(messageName);
          DOMUtils.appendToBody(iframe);
          return iframe;
        }
        function addMessageListener(
          messageName,
          params,
          isPopup,
          callback,
          messagingMethod
        ) {
          _listeners[messageName] = {
            callback: callback,
            context: params,
            t: new Date().getTime(),
          };
          if (!messagingMethod) {
            messagingMethod = window.gigya.localInfo.messagingMethod;
            if (window.gigya.localInfo.isIE11 && isPopup && window.indexedDB)
              messagingMethod =
                InternalFlows_1.MessagingMethod.LocalStorageListener;
            // [#67641] - https://gigya.tpondemand.com/entity/67641-loccitane-social-login-to-line-hangs
            // if provider is Line, use LocalStorageListener because if Line's native app is installed on the device
            // it may "hijack" (deep-link) the OAuth request and prevent the PostMessage mechanism from working.
            if (
              window.gigya.localInfo.isAndroid &&
              params &&
              params['provider'] &&
              params['provider'].toLowerCase() == 'line'
            ) {
              messagingMethod =
                InternalFlows_1.MessagingMethod.LocalStorageListener;
            }
          }
          if (
            messagingMethod ==
              InternalFlows_1.MessagingMethod.LocalStorageListener ||
            messagingMethod == InternalFlows_1.MessagingMethod.PostMessage
          ) {
            if (
              messagingMethod ==
                InternalFlows_1.MessagingMethod.LocalStorageListener &&
              isPopup
            ) {
              _createLocalStorageListenerIFrame(messageName);
            }
            if (!_added) {
              var fnOnMessage = function (e) {
                if (e && e.data && typeof e.data === 'string') {
                  var id = e.data.split('=')[0];
                  if (_listeners[id]) {
                    _onMessage(e);
                  }
                }
              };
              if (window.addEventListener) {
                window.addEventListener('message', fnOnMessage, false);
              } else if (window['attachEvent']) {
                window['attachEvent']('onmessage', fnOnMessage);
              }
              _added = true;
            }
          }
        }
        exports.addMessageListener = addMessageListener;
        function removeMessageListener(messageName) {
          delete _listeners[messageName];
        }
        exports.removeMessageListener = removeMessageListener;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/WindowProvider.ts':
      /*!*************************************************!*\
  !*** ./src/core/Gigya.Js/app/WindowProvider.ts ***!
  \*************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var WindowProvider = /** @class */ (function () {
          function WindowProvider() {}
          WindowProvider.navigator = function () {
            return window.navigator;
          };
          WindowProvider.document = function () {
            return window.document;
          };
          WindowProvider.screen = function () {
            return window.screen;
          };
          WindowProvider.location = function () {
            return window.location;
          };
          WindowProvider.top = function () {
            return window.top;
          };
          return WindowProvider;
        })();
        exports.WindowProvider = WindowProvider;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/apiBootstrap.ts':
      /*!***********************************************!*\
  !*** ./src/core/Gigya.Js/app/apiBootstrap.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var domains_1 = __webpack_require__(
          /*! ./Utils/domains */ './src/core/Gigya.Js/app/Utils/domains.ts'
        );
        var Uri_1 = __webpack_require__(
          /*! ./Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var defaultStorageDomain = function () {
          return (
            (window.gigya === null || window.gigya === void 0
              ? void 0
              : window.gigya.configHostnameOverride) ||
            domains_1.getStorageDomain()
          );
        };
        var defaultApiDomain = function () {
          return domains_1.resolveApiDomain();
        };
        function getSdkConfig(domain, retries) {
          if (domain === void 0) {
            domain = defaultStorageDomain();
          }
          if (retries === void 0) {
            retries = 0;
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var apiKey;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  apiKey = window.gigya.apiKey;
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(domain + '/sdk.config.get')
                      .addToSearch({ apiKey: apiKey, httpStatusCodes: true })
                      .fetch(retries),
                  ];
                case 1:
                  return [2 /*return*/, _a.sent()];
              }
            });
          });
        }
        exports.getSdkConfig = getSdkConfig;
        function getSsoContext(ssoToken, domain, retries) {
          if (domain === void 0) {
            domain = defaultApiDomain();
          }
          if (retries === void 0) {
            retries = 0;
          }
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var APIKey, e_1;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  APIKey = window.gigya.apiKey;
                  _a.label = 1;
                case 1:
                  _a.trys.push([1, 3, , 4]);
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(domain + '/accounts.sso.getContext')
                      .addToSearch({
                        APIKey: APIKey,
                        ssoToken: ssoToken,
                        format: 'json',
                      })
                      .fetch(retries),
                  ];
                case 2:
                  return [2 /*return*/, _a.sent()];
                case 3:
                  e_1 = _a.sent();
                  return [2 /*return*/, {}];
                case 4:
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.getSsoContext = getSsoContext;
        // Consent status currently return only by api domain because the configuration is set by minor DC( should be save on major always)
        // We should change the gigya._.getApiDomain('accounts') to defaultStorageDomain once the config is updated.
        function getConsentStatus(config) {
          return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
            var domain, retries, apiKey, url;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  domain =
                    (config === null || config === void 0
                      ? void 0
                      : config.domain) ||
                    window.gigya._.getApiDomain('accounts');
                  retries =
                    (config === null || config === void 0
                      ? void 0
                      : config.retries) || 0;
                  apiKey = window.gigya.apiKey;
                  url = domain + '/sdk.getConsentStatus';
                  return [
                    4 /*yield*/,
                    Uri_1.Uri.parse(url)
                      .addToSearch({ apiKey: apiKey })
                      .fetch(retries),
                  ];
                case 1:
                  return [2 /*return*/, _a.sent()];
              }
            });
          });
        }
        exports.getConsentStatus = getConsentStatus;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/cdn.ts':
      /*!**************************************!*\
  !*** ./src/core/Gigya.Js/app/cdn.ts ***!
  \**************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var selectedCdnHostsIndex = 0;
        exports.CDN_HOSTS = {
          http: [
            'cdn.gigya.com',
            'cdn1.gigya.com',
            'cdn2.gigya.com',
            'cdn3.gigya.com',
          ],
          https: [
            'cdns.gigya.com',
            'cdns1.gigya.com',
            'cdns2.gigya.com',
            'cdns3.gigya.com',
          ],
        };
        function getCdnResource(path) {
          var _a, _b, _c, _d;
          // gigya.thisScript may not exist if loaded for ssoOrig.
          var baseDomain =
            (_b =
              (_a = window.gigya.thisScript) === null || _a === void 0
                ? void 0
                : _a.baseDomain) !== null && _b !== void 0
              ? _b
              : '';
          var protocol =
            (_d =
              (_c = window.gigya.thisScript) === null || _c === void 0
                ? void 0
                : _c.protocol) !== null && _d !== void 0
              ? _d
              : 'https';
          // If no base domain or if base domain ends with .gigya.com, use Gigya CDN.
          // Otherwise use the base domain.
          if (!baseDomain || /cdns?\.gigya\.com$/.test(baseDomain)) {
            var selectedSchemaRepository = exports.CDN_HOSTS[protocol];
            if (selectedSchemaRepository.length <= selectedCdnHostsIndex) {
              selectedCdnHostsIndex = 0;
            }
            baseDomain = selectedSchemaRepository[selectedCdnHostsIndex++];
          }
          // Ensure the path starts with "/".
          if (path) {
            if (path.indexOf('/') !== 0) {
              path = '/' + path;
            }
          }
          return protocol + '://' + baseDomain + (path || '');
        }
        exports.getCdnResource = getCdnResource;
        function getImgCdnResource() {
          return getCdnResource('/gs/i/');
        }
        exports.getImgCdnResource = getImgCdnResource;

        /***/
      },

    /***/ './src/core/Gigya.Js/app/index.ts':
      /*!****************************************!*\
  !*** ./src/core/Gigya.Js/app/index.ts ***!
  \****************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          var tslib_1 = __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/GigyaGlobals */ './src/core/Gigya.Js/app/GigyaGlobals.ts'
          );
          var ThisScript = __webpack_require__(
            /*! src/core/Gigya.Js/app/ThisScript */ './src/core/Gigya.Js/app/ThisScript.ts'
          );
          var CDN = __webpack_require__(
            /*! src/core/Gigya.Js/app/cdn */ './src/core/Gigya.Js/app/cdn.ts'
          );
          var DefaultEventsMap = __webpack_require__(
            /*! src/core/Gigya.Js/app/DefaultEventsMap */ './src/core/Gigya.Js/app/DefaultEventsMap.ts'
          );
          var Events = __webpack_require__(
            /*! src/core/Gigya.Js/app/Events */ './src/core/Gigya.Js/app/Events.ts'
          );
          var GlobalEvents = __webpack_require__(
            /*! src/core/Gigya.Js/app/GlobalEvents */ './src/core/Gigya.Js/app/GlobalEvents.ts'
          );
          var GSErrors = __webpack_require__(
            /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
          );
          var Interfaces = __webpack_require__(
            /*! src/core/Gigya.Js/app/Interfaces */ './src/core/Gigya.Js/app/Interfaces.ts'
          );
          var InternalFlows = __webpack_require__(
            /*! src/core/Gigya.Js/app/InternalFlows */ './src/core/Gigya.Js/app/InternalFlows.ts'
          );
          var GigyaLog = __webpack_require__(
            /*! src/core/Gigya.Js/app/LegacyLogger */ './src/core/Gigya.Js/app/LegacyLogger.ts'
          );
          var LocalInfo = __webpack_require__(
            /*! src/core/Gigya.Js/app/LocalInfo */ './src/core/Gigya.Js/app/LocalInfo.ts'
          );
          var Gigya_Providers = __webpack_require__(
            /*! src/core/Gigya.Js/app/Providers */ './src/core/Gigya.Js/app/Providers.ts'
          );
          var GigyaLegacyReports = __webpack_require__(
            /*! src/core/Gigya.Js/app/LegacyReports */ './src/core/Gigya.Js/app/LegacyReports.ts'
          );
          var Gigya_ApiAdapters = __webpack_require__(
            /*! src/core/Gigya.Js/interfaces/IApiAdapter */ './src/core/Gigya.Js/interfaces/IApiAdapter.ts'
          );
          var IDisposable = __webpack_require__(
            /*! src/core/Gigya.Js/interfaces/IDisposable */ './src/core/Gigya.Js/interfaces/IDisposable.ts'
          );
          var BaseApi = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/BaseApi */ './src/core/Gigya.Js/app/API/BaseApi.ts'
          );
          var UiApi = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/UiApi */ './src/core/Gigya.Js/app/API/UiApi.ts'
          );
          var Gigya_Plugins = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/UiApiHelpers */ './src/core/Gigya.Js/app/API/UiApiHelpers.ts'
          );
          var Gigya_UI = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/UiApiRegistry */ './src/core/Gigya.Js/app/API/UiApiRegistry.ts'
          );
          var Gigya_Api = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/VersionSelector */ './src/core/Gigya.Js/app/API/VersionSelector.ts'
          );
          var BaseObject = __webpack_require__(
            /*! src/core/Gigya.Js/app/BaseObject/BaseObject */ './src/core/Gigya.Js/app/BaseObject/BaseObject.ts'
          );
          var EventWrapper = __webpack_require__(
            /*! src/core/Gigya.Js/app/BaseObject/EventWrapper */ './src/core/Gigya.Js/app/BaseObject/EventWrapper.ts'
          );
          var BaseObjectInterfaces = __webpack_require__(
            /*! src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig */ './src/core/Gigya.Js/app/BaseObject/IBaseObjectConfig.ts'
          );
          var CustomApis = __webpack_require__(
            /*! src/core/Gigya.Js/app/ClientAPI/CustomApis */ './src/core/Gigya.Js/app/ClientAPI/CustomApis.ts'
          );
          var ISamlConfig = __webpack_require__(
            /*! src/core/Gigya.Js/app/ClientAPI/ISamlConfig */ './src/core/Gigya.Js/app/ClientAPI/ISamlConfig.ts'
          );
          var SamlApi = __webpack_require__(
            /*! src/core/Gigya.Js/app/ClientAPI/SamlApi */ './src/core/Gigya.Js/app/ClientAPI/SamlApi.ts'
          );
          var AccountService = __webpack_require__(
            /*! src/core/Gigya.Js/app/Services/AccountService */ './src/core/Gigya.Js/app/Services/AccountService.ts'
          );
          var SiteData = __webpack_require__(
            /*! src/core/Gigya.Js/app/Services/SiteData */ './src/core/Gigya.Js/app/Services/SiteData.ts'
          );
          var OidcApi_1 = __webpack_require__(
            /*! ./ClientAPI/OidcApi */ './src/core/Gigya.Js/app/ClientAPI/OidcApi.ts'
          );
          var Flow_1 = __webpack_require__(
            /*! src/core/Gigya.Js/app/Flow/Flow */ './src/core/Gigya.Js/app/Flow/Flow.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Flow/activities/ActivityLibrary */ './src/core/Gigya.Js/app/Flow/activities/ActivityLibrary.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Flow/activities/EventActivity */ './src/core/Gigya.Js/app/Flow/activities/EventActivity.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Flow/activities/ScreenSetActivity */ './src/core/Gigya.Js/app/Flow/activities/ScreenSetActivity.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Flow/activities/InitActivity */ './src/core/Gigya.Js/app/Flow/activities/InitActivity.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Utils */ './src/core/Gigya.Js/app/Utils/index.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Bootstrap */ './src/core/Gigya.Js/app/Bootstrap.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Prototypes */ './src/core/Gigya.Js/app/Prototypes.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Logger/main */ './src/core/Gigya.Js/app/Logger/main.ts'
          );
          var PasskeyService_1 = __webpack_require__(
            /*! ./Passkey/PasskeyService */ './src/core/Gigya.Js/app/Passkey/PasskeyService.ts'
          );
          if (!window.gigya._) {
            window.gigya._ = {};
          }
          if (!window.gigya.events) {
            window.gigya.events = {};
          }
          if (!window.gigya.events.global) {
            window.gigya.events.global = {};
          }
          if (!window.gigya.log) {
            window.gigya.log = {};
          }
          if (!window.gigya._.providers) {
            window.gigya._.providers = {};
          }
          if (!window.gigya.legacyReports) {
            window.gigya.legacyReports = {};
          }
          if (!window.gigya._.apiAdapters) {
            window.gigya._.apiAdapters = {};
          }
          if (!window.gigya._.plugins) {
            window.gigya._.plugins = Gigya_Plugins;
          }
          if (!window.gigya._.UI) {
            window.gigya._.UI = {};
          }
          if (!window.gigya._.api) {
            window.gigya._.api = {};
          }
          if (!window.gigya._.saml) {
            window.gigya._.saml = {};
          }
          if (!window.gigya.fidm) {
            window.gigya.fidm = {};
          }
          if (!window.gigya.fidm.saml) {
            window.gigya.fidm.saml = {};
          }
          if (!window.gigya.fidm.oidc) {
            window.gigya.fidm.oidc = {};
          }
          if (!window.gigya.fidm.oidc.op) {
            window.gigya.fidm.oidc.op = {};
          }
          if (!window.gigya.services) {
            window.gigya.services = {};
          }
          if (!window.gigya.globalAccount) {
            window.gigya.globalAccount = {};
          }
          __webpack_provided_Object_dot_assign(
            window.gigya,
            ThisScript,
            GSErrors,
            Interfaces,
            LocalInfo,
            IDisposable,
            DefaultEventsMap,
            { Promise: gigya.Promise },
            { flow: Flow_1.flow }
          );
          __webpack_provided_Object_dot_assign(
            window.gigya._,
            CDN,
            InternalFlows,
            BaseApi,
            UiApi,
            BaseObject,
            EventWrapper,
            BaseObjectInterfaces,
            CustomApis,
            { passkeyService: PasskeyService_1.default }
          );
          __webpack_provided_Object_dot_assign(window.gigya.events, Events);
          __webpack_provided_Object_dot_assign(
            window.gigya.events.global,
            GlobalEvents
          );
          __webpack_provided_Object_dot_assign(window.gigya.log, GigyaLog);
          __webpack_provided_Object_dot_assign(
            window.gigya._.providers,
            Gigya_Providers
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.legacyReports,
            GigyaLegacyReports
          );
          __webpack_provided_Object_dot_assign(
            window.gigya._.apiAdapters,
            Gigya_ApiAdapters
          );
          __webpack_provided_Object_dot_assign(window.gigya._.UI, Gigya_UI);
          __webpack_provided_Object_dot_assign(window.gigya._.api, Gigya_Api);
          __webpack_provided_Object_dot_assign(
            window.gigya._.saml,
            ISamlConfig
          );
          __webpack_provided_Object_dot_assign(window.gigya.fidm.saml, SamlApi);
          __webpack_provided_Object_dot_assign(
            window.gigya.fidm.oidc.op,
            tslib_1.__assign({}, Object.getPrototypeOf(OidcApi_1.op))
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.services,
            AccountService,
            SiteData
          );
          exports.default = window.gigya;

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/app/main.ts':
      /*!***************************************!*\
  !*** ./src/core/Gigya.Js/app/main.ts ***!
  \***************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */ (function (
          __webpack_provided_Object_dot_assign
        ) {
          Object.defineProperty(exports, '__esModule', { value: true });
          __webpack_require__(
            /*! src/core/Gigya.Js/app/index */ './src/core/Gigya.Js/app/index.ts'
          );
          __webpack_require__(
            /*! src/core/Gigya.Js/app/Reports/Reports */ './src/core/Gigya.Js/app/Reports/Reports.ts'
          );
          var GigyaExternalFacebook = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/Facebook */ './src/core/Gigya.Js/app/ExternalIntegrations/Facebook.ts'
          );
          var GigyaExternalGooglePlus = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus */ './src/core/Gigya.Js/app/ExternalIntegrations/GooglePlus.ts'
          );
          var GigyaExternalOpengraph = __webpack_require__(
            /*! src/core/Gigya.Js/app/ExternalIntegrations/Opengraph */ './src/core/Gigya.Js/app/ExternalIntegrations/Opengraph.ts'
          );
          var Bootstrap = __webpack_require__(
            /*! ./Bootstrap */ './src/core/Gigya.Js/app/Bootstrap.ts'
          );
          var ApisList = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/ApisList */ './src/core/Gigya.Js/app/API/ApisList.ts'
          );
          var ApiConst = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/consts */ './src/core/Gigya.Js/app/API/consts.ts'
          );
          var ServerApi = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/ServerApi */ './src/core/Gigya.Js/app/API/ServerApi.ts'
          );
          var ServerApiRequest = __webpack_require__(
            /*! src/core/Gigya.Js/app/API/ServerApiRequest */ './src/core/Gigya.Js/app/API/ServerApiRequest.ts'
          );
          var WindowProvider = __webpack_require__(
            /*! src/core/Gigya.Js/app/WindowProvider */ './src/core/Gigya.Js/app/WindowProvider.ts'
          );
          if (!window.gigya._) {
            window.gigya._ = {};
          }
          if (!window.gigya._.bootstrap) {
            window.gigya._.bootstrap = {};
          }
          if (!window.gigya._.sso) {
            window.gigya._.sso = {};
          }
          if (!window.gigya.external) {
            window.gigya.external = {};
          }
          if (!window.gigya.external.facebook) {
            window.gigya.external.facebook = {};
          }
          if (!window.gigya.external.googlePlus) {
            window.gigya.external.googlePlus = {};
          }
          if (!window.gigya.external.opengraph) {
            window.gigya.external.opengraph = {};
          }
          __webpack_provided_Object_dot_assign(
            window.gigya._,
            ApisList,
            ApiConst,
            ServerApi,
            ServerApiRequest,
            WindowProvider
          );
          __webpack_provided_Object_dot_assign(
            window.gigya._.bootstrap,
            Bootstrap
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.external.facebook,
            GigyaExternalFacebook
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.external.googlePlus,
            GigyaExternalGooglePlus
          );
          __webpack_provided_Object_dot_assign(
            window.gigya.external.opengraph,
            GigyaExternalOpengraph
          );
          if (!window.gigya.build)
            window.gigya.build = { version: '', number: 0 };
          if (!window.gigya.providersConfig) window.gigya.providersConfig = {};
          if (!window.gigya.isGigya) window.gigya.isGigya = true;
          if (!window.gigya.partnerSettings) {
            window.gigya.partnerSettings = {
              authMode: 'cookie',
              baseDomains: '',
              captchaProvider: 'Google',
              plugins: { apiDomain: 'us1.gigya-api.com' },
              invisibleRecaptcha: {
                siteKey: '',
              },
              recaptchaV2: {
                siteKey: '',
              },
              funCaptcha: {
                siteKey: '',
              },
            };
          }
          Bootstrap.init();

          /* WEBPACK VAR INJECTION */
        }).call(
          this,
          __webpack_require__(
            /*! tslib */ '../node_modules/tslib/tslib.es6.js'
          )['__assign']
        );

        /***/
      },

    /***/ './src/core/Gigya.Js/interfaces/IApiAdapter.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/interfaces/IApiAdapter.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var OAuthMode;
        (function (OAuthMode) {
          OAuthMode[(OAuthMode['Social'] = 0)] = 'Social';
          OAuthMode[(OAuthMode['Sso'] = 1)] = 'Sso';
        })((OAuthMode = exports.OAuthMode || (exports.OAuthMode = {})));

        /***/
      },

    /***/ './src/core/Gigya.Js/interfaces/IDisposable.ts':
      /*!*****************************************************!*\
  !*** ./src/core/Gigya.Js/interfaces/IDisposable.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });

        /***/
      },

    /***/ './src/core/ServiceProxy/ServiceProxy.ts':
      /*!***********************************************!*\
  !*** ./src/core/ServiceProxy/ServiceProxy.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var utils = __webpack_require__(
          /*! src/core/ServiceProxy/utils */ './src/core/ServiceProxy/utils.ts'
        );
        var ServiceProxy = /** @class */ (function () {
          function ServiceProxy(
            url,
            timeout,
            _idCreator,
            _iframeCreator,
            getIframeHost,
            _win
          ) {
            var _this = this;
            if (timeout === void 0) {
              timeout = 60000;
            }
            if (_idCreator === void 0) {
              _idCreator = utils.generateId;
            }
            if (_iframeCreator === void 0) {
              _iframeCreator = utils.createIframe;
            }
            if (getIframeHost === void 0) {
              getIframeHost = function () {
                return new gigya.Promise(function (resolve) {
                  if (document.body) resolve(document.body);
                  else
                    document.addEventListener('DOMContentLoaded', function () {
                      return resolve(document.body);
                    });
                });
              };
            }
            if (_win === void 0) {
              _win = window;
            }
            this.url = url;
            this.timeout = timeout;
            this._idCreator = _idCreator;
            this._iframeCreator = _iframeCreator;
            this.getIframeHost = getIframeHost;
            this._win = _win;
            this._pendingReqs = [];
            this._mutationObservers = [];
            this.onResponse = function (e) {
              // arrow function to preserve context
              var msg = window.gigya.utils.JSON.parse(e.data);
              if (
                msg &&
                _this._pendingReqs[msg.id] &&
                _this.validateOrigin(e.origin)
              ) {
                _this._pendingReqs[msg.id](msg);
                delete _this._pendingReqs[msg.id];
              }
            };
          }
          Object.defineProperty(ServiceProxy.prototype, 'isInit', {
            get: function () {
              return Boolean(this._iframe);
            },
            enumerable: true,
            configurable: true,
          });
          ServiceProxy.prototype.init = function (title) {
            var _this = this;
            if (this.isInit)
              return gigya.Promise.reject('proxy already initialized');
            else
              return new gigya.Promise(function (resolve, reject) {
                _this._iframe = _this._iframeCreator(title);
                _this._iframe.src = _this.url;
                _this.getIframeHost().then(function (host) {
                  _this._iframeHost = host;
                  _this._iframeHost.appendChild(_this._iframe);
                  if (window.gigya.logger.isEnabled) {
                    // observe iframe removal only if gigya.logger is explicitly enabled
                    _this.startObservingIFrameRemoval();
                  }
                  var timeoutId = _this._win.setTimeout(function () {
                    return reject('proxy init timeout');
                  }, _this.timeout);
                  var onInitResponse = function (e) {
                    if (_this.validateOrigin(e.origin)) {
                      var response = _this._tryParseResponse(e.data);
                      if (
                        response === null || response === void 0
                          ? void 0
                          : response.signal
                      ) {
                        _this._win.clearTimeout(timeoutId);
                        _this._win.removeEventListener(
                          'message',
                          onInitResponse,
                          true
                        );
                        switch (response.signal) {
                          case 'listening':
                            _this._win.addEventListener(
                              'message',
                              _this.onResponse,
                              true
                            );
                            resolve(response.res);
                            break;
                          case 'error':
                          case 'stop':
                            reject(response.res);
                            break;
                          default:
                            reject('unsupported response');
                            break;
                        }
                      }
                    }
                  };
                  _this._win.addEventListener('message', onInitResponse, true);
                });
              });
          };
          ServiceProxy.prototype.validateOrigin = function (checked) {
            return utils.validateOrigin(this._iframe.src, checked);
          };
          ServiceProxy.prototype.postToIFrame = function (req) {
            var onMsgResponse = this.registerMessage(req);
            var message = typeof req === 'object' ? JSON.stringify(req) : req;
            this._iframe.contentWindow.postMessage(message, this._iframe.src);
            return onMsgResponse;
          };
          ServiceProxy.prototype.registerMessage = function (req, timeout) {
            var _this = this;
            if (timeout === void 0) {
              timeout = this.timeout;
            }
            return new gigya.Promise(function (resolve, reject) {
              var timeoutId = _this._win.setTimeout(function () {
                reject('proxy request timeout');
              }, timeout);
              _this._pendingReqs[req.id] = function (e) {
                _this._win.clearTimeout(timeoutId);
                if (e.signal === 'error') {
                  reject(e.res);
                } else {
                  resolve(e.res);
                }
              };
            });
          };
          ServiceProxy.prototype.sendRequest = function (methodName, params) {
            return this.postToIFrame({
              id: this._idCreator(),
              methodName: methodName,
              params: params,
            });
          };
          ServiceProxy.prototype.stop = function (forceClose) {
            if (forceClose === void 0) {
              forceClose = false;
            }
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var error, e_1;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    if (!!this.isInit) return [3 /*break*/, 1];
                    throw 'proxy is not active';
                  case 1:
                    error = void 0;
                    _a.label = 2;
                  case 2:
                    _a.trys.push([2, 4, 5, 6]);
                    return [
                      4 /*yield*/,
                      this.postToIFrame({
                        id: this._idCreator(),
                        signal: 'stop',
                      }),
                    ];
                  case 3:
                    return [2 /*return*/, _a.sent()];
                  case 4:
                    e_1 = _a.sent();
                    error = e_1;
                    throw e_1;
                  case 5:
                    if (!error || forceClose) {
                      if (
                        this._mutationObservers &&
                        this._mutationObservers.length
                      ) {
                        // disconnect mutation observers, if any.
                        this.stopObservingIFrameRemoval();
                      }
                      this._win.removeEventListener(
                        'message',
                        this.onResponse,
                        true
                      );
                      this._iframeHost.removeChild(this._iframe);
                      delete this._iframe;
                    }
                    return [7 /*endfinally*/];
                  case 6:
                    return [2 /*return*/];
                }
              });
            });
          };
          ServiceProxy.prototype.wrapWith = function (type) {
            var keys;
            if (typeof type === 'function')
              keys = utils.getAllClassMethodsNames(type);
            else if (type instanceof Array) keys = type;
            else if (typeof type === 'object') keys = Object.keys(type);
            //.concat(getAllClassMethodsNames(Object.getPrototypeOf(type)));
            else throw 'unsupported type for wrapper';
            return this.proxyFromKeys(keys);
          };
          ServiceProxy.prototype.proxyFromKeys = function (keys) {
            var _this = this;
            var proxy = {};
            keys.forEach(function (key) {
              return (proxy[key] = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                return _this.sendRequest(key, args);
              });
            });
            return proxy;
          };
          ServiceProxy.prototype.startObservingIFrameRemoval = function () {
            var targetNode = this._iframe;
            while (targetNode.parentElement) {
              // observe the iframe and its parents (iframe,body)
              this.addMutationObserver(targetNode);
              targetNode = targetNode.parentElement;
            }
          };
          ServiceProxy.prototype.stopObservingIFrameRemoval = function () {
            this._mutationObservers.forEach(function (observer) {
              if (observer && observer.disconnect) {
                observer.disconnect();
              }
            });
            this._mutationObservers = [];
          };
          ServiceProxy.prototype.addMutationObserver = function (targetNode) {
            var _this = this;
            var mutationCallback = function (mutationsList) {
              for (
                var _i = 0, mutationsList_1 = mutationsList;
                _i < mutationsList_1.length;
                _i++
              ) {
                var mutation = mutationsList_1[_i];
                if (
                  mutation.type == 'childList' &&
                  mutation.removedNodes.length
                ) {
                  // A child node has been removed.
                  for (var i = 0; i < mutation.removedNodes.length; i++) {
                    var removedNode = mutation.removedNodes.item(i);
                    if (removedNode === targetNode) {
                      window.gigya.logger.warn(
                        "### Gigya's service proxy has been unexpectedly detached from the DOM. " +
                          'This may cause unexpected behavior including a complete loss of service. ###'
                      );
                      _this.stopObservingIFrameRemoval(); // can stop observing for iframe removal
                      return; // stop the loop
                    }
                  }
                }
              }
            };
            // Create an observer instance linked to the callback function to execute when mutations are observed
            var observer = new MutationObserver(mutationCallback);
            // Start observing the the target-node's parent element for configured mutations
            observer.observe(targetNode.parentElement, {
              childList: true,
              subtree: false,
            });
            this._mutationObservers.push(observer);
          };
          ServiceProxy.prototype._tryParseResponse = function (dataStr) {
            try {
              return JSON.parse(dataStr);
            } catch (e) {
              window.gigya.logger.warn('received message with invalid format', {
                data: dataStr,
              });
            }
          };
          return ServiceProxy;
        })();
        exports.ServiceProxy = ServiceProxy;

        /***/
      },

    /***/ './src/core/ServiceProxy/utils.ts':
      /*!****************************************!*\
  !*** ./src/core/ServiceProxy/utils.ts ***!
  \****************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        exports.getParentUrl = function (win, doc) {
          if (win === void 0) {
            win = window;
          }
          if (doc === void 0) {
            doc = document;
          }
          return win.location != win.parent.location
            ? doc.referrer
            : doc.location.href;
        };
        exports.getBodyElement = function (doc) {
          if (doc === void 0) {
            doc = document;
          }
          return new gigya.Promise(function (resolve) {
            if (doc.body) resolve(doc.body);
            else
              doc.addEventListener('DOMContentLoaded', function () {
                return resolve(doc.body);
              });
          });
        };
        exports.validateOrigin = function (origin, checked) {
          var _a;
          return (
            ((_a =
              origin === null || origin === void 0
                ? void 0
                : origin.toLowerCase()) === null || _a === void 0
              ? void 0
              : _a.indexOf(
                  checked === null || checked === void 0
                    ? void 0
                    : checked.toLowerCase()
                )) === 0
          );
        };
        exports.createIframe = function (title, doc) {
          if (title === void 0) {
            title = 'Gigya Frame';
          }
          if (doc === void 0) {
            doc = document;
          }
          var iframe = doc.createElement('iframe');
          iframe.style.position = 'absolute';
          iframe.style.height = '0px';
          iframe.style.width = '0px';
          iframe.style.display = 'none';
          iframe.title = title;
          iframe.setAttribute('aria-hidden', 'true');
          return iframe;
        };
        var _counter = 1;
        exports.generateId = function () {
          return String(_counter++);
        };
        function isClass(type) {
          return !!type.prototype;
        }
        exports.getAllClassMethodsNames = function (type) {
          var props = [];
          var proto = isClass(type) ? type.prototype : type;
          do {
            try {
              /** initial implementation - using filter **/
              var l = Object.getOwnPropertyNames(proto)
                // .concat(Object.getOwnPropertySymbols(proto).map(s => s.toString()))
                .map(function (s) {
                  return s.toString();
                })
                .sort()
                .filter(function (p, i, arr) {
                  return (
                    typeof proto[p] === 'function' && //only the methods
                    p !== 'constructor' && //not the constructor
                    (i == 0 || p !== arr[i - 1]) && //not overriding in this prototype
                    props.indexOf(p) === -1
                  );
                });
              props = props.concat(l);
            } catch (e) {
              /** bug fix implementation - using custom our own filter logic
             case of Array.filter polyfill causing "can not read property '0' of undefined" **/
              var arr = Object.getOwnPropertyNames(proto)
                // .concat(Object.getOwnPropertySymbols(proto).map(s => s.toString()))
                .map(function (s) {
                  return s.toString();
                })
                .sort();
              var l = [];
              for (var i = 0; i < arr.length; i++) {
                var p = arr[i];
                if (
                  typeof proto[p] === 'function' && //only the methods
                  p !== 'constructor' && //not the constructor
                  (i == 0 || p !== arr[i - 1]) && //not overriding in this prototype
                  props.indexOf(p) === -1
                ) {
                  //not overridden in a child
                  l.push(p);
                }
              }
              props = props.concat(l);
            }
          } while (
            (proto = Object.getPrototypeOf(proto)) && //walk-up the prototype chain
            Object.getPrototypeOf(proto) //not the the Object prototype methods (hasOwnProperty, etc...)
          );
          return props;
        };

        /***/
      },

    /***/ './src/fidm/Gigya.JS.SSO/app/globalProvider.ts':
      /*!*****************************************************!*\
  !*** ./src/fidm/Gigya.JS.SSO/app/globalProvider.ts ***!
  \*****************************************************/
      /*! no static exports found */
      /***/ function (module, exports) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var GlobalProvider = /** @class */ (function () {
          function GlobalProvider() {}
          GlobalProvider.prototype.documentLocation = function () {
            return document.location;
          };
          GlobalProvider.prototype.postMessageToParent = function (
            message,
            targetOrigin,
            transfer
          ) {
            window.parent.postMessage(message, targetOrigin, transfer);
          };
          return GlobalProvider;
        })();
        exports.GlobalProvider = GlobalProvider;
        exports.default = new GlobalProvider();

        /***/
      },

    /***/ './src/fidm/Gigya.JS.SSO/app/sso.ts':
      /*!******************************************!*\
  !*** ./src/fidm/Gigya.JS.SSO/app/sso.ts ***!
  \******************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        var GSErrors_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/GSErrors */ './src/core/Gigya.Js/app/GSErrors.ts'
        );
        var ssoUtils_1 = __webpack_require__(
          /*! src/fidm/Gigya.JS.SSO/app/ssoUtils */ './src/fidm/Gigya.JS.SSO/app/ssoUtils.ts'
        );
        var Sso = /** @class */ (function () {
          function Sso(
            _apiKey,
            _siteApiKey,
            _ssoSegment,
            _ssoConfig,
            _utils,
            _storage
          ) {
            var _this = this;
            if (_ssoConfig === void 0) {
              _ssoConfig = {
                validDomains: [],
                logoutURLs: {},
                canaryCookiesNames: {
                  isCanary: 'gig_isCanary',
                  version: 'gig_canary_ver',
                },
              };
            }
            if (_utils === void 0) {
              _utils = new ssoUtils_1.SsoUtils();
            }
            if (_storage === void 0) {
              _storage = _utils.getCookiesStorage();
            }
            this._apiKey = _apiKey;
            this._siteApiKey = _siteApiKey;
            this._ssoSegment = _ssoSegment;
            this._ssoConfig = _ssoConfig;
            this._utils = _utils;
            this._storage = _storage;
            this._checkFragment = function () {
              var fragment = _this._utils.getFragment();
              if (fragment && fragment !== _this._currentFragment) {
                _this._currentFragment = fragment;
                _this._start(_this._utils.deserialize(fragment));
              }
              window.setTimeout(_this._checkFragment, 200);
            };
            this._storageKey = this._createKey('gig_loginToken');
            var canaryCookiesNames = this._ssoConfig.canaryCookiesNames;
            if (typeof canaryCookiesNames !== 'undefined') {
              this._canaryKey = this._createKey(canaryCookiesNames.isCanary);
              this._canaryVerKey = this._createKey(canaryCookiesNames.version);
            }
          }
          Sso.prototype.init = function () {
            // Start repeatedly checking fragment for a new call.
            this._checkFragment();
          };
          Sso.prototype._start = function (params) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var response, _a;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    this._mode = params.m;
                    this._requestDomain = params.d; // Receiving domain.
                    this._lid = params.lid;
                    this._callbackID = params.callbackID;
                    this._siteApiKey = params.sAPIKey;
                    // Abort if not in iFrame
                    if (!window.parent) {
                      console.log('gigya sso: invalid use');
                      return [2 /*return*/];
                    } else if (
                      !this._utils.isValidDomain(
                        this._ssoConfig.validDomains,
                        this._requestDomain
                      )
                    ) {
                      console.log(
                        'gigya sso: ' +
                          this._requestDomain +
                          ' is not in valid domain: ' +
                          this._ssoConfig.validDomains.join(',')
                      );
                      return [2 /*return*/];
                    }
                    _a = params.m;
                    switch (_a) {
                      case 'logout':
                        return [3 /*break*/, 1];
                      case 'removeToken':
                        return [3 /*break*/, 3];
                      case 'getToken':
                        return [3 /*break*/, 5];
                      case 'setToken':
                        return [3 /*break*/, 7];
                      case 'setGroupContext':
                        return [3 /*break*/, 9];
                      case 'setLoginTokenExp':
                        return [3 /*break*/, 11];
                      case 'getLoginTokenExp':
                        return [3 /*break*/, 13];
                      case 'checkTokenRenew':
                        return [3 /*break*/, 15];
                      case 'syncCanaryIndication':
                        return [3 /*break*/, 17];
                      case 'setGroupApiDomain':
                        return [3 /*break*/, 19];
                      case 'getGroupApiDomain':
                        return [3 /*break*/, 21];
                    }
                    return [3 /*break*/, 23];
                  case 1:
                    return [4 /*yield*/, this.logout()];
                  case 2:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 3:
                    return [4 /*yield*/, this.removeToken()];
                  case 4:
                    _b.sent();
                    return [3 /*break*/, 24];
                  case 5:
                    return [4 /*yield*/, this.getToken()];
                  case 6:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 7:
                    return [
                      4 /*yield*/,
                      this.setToken(
                        params.lt,
                        String(params.expiration),
                        params.gltexp
                      ),
                    ];
                  case 8:
                    _b.sent();
                    return [3 /*break*/, 24];
                  case 9:
                    return [
                      4 /*yield*/,
                      this.setGroupContext(params.groupContext),
                    ];
                  case 10:
                    _b.sent();
                    return [3 /*break*/, 24];
                  case 11:
                    return [
                      4 /*yield*/,
                      this.setTokenExpiration(params.loginTokenExp),
                    ];
                  case 12:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 13:
                    return [4 /*yield*/, this.getTokenExpiration()];
                  case 14:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 15:
                    return [
                      4 /*yield*/,
                      this.checkTokenRenew(params.loginToken),
                    ];
                  case 16:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 17:
                    return [
                      4 /*yield*/,
                      this.syncCanaryIndication(
                        params.isCanary,
                        params.canaryVersion
                      ),
                    ];
                  case 18:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 19:
                    return [4 /*yield*/, this.setGroupApiDomain(params.domain)];
                  case 20:
                    _b.sent();
                    return [3 /*break*/, 24];
                  case 21:
                    return [4 /*yield*/, this.getGroupApiDomain()];
                  case 22:
                    response = _b.sent();
                    return [3 /*break*/, 24];
                  case 23:
                    response = {
                      errorCode: GSErrors_1.GSErrors.INVALID_API_METHOD,
                    };
                    _b.label = 24;
                  case 24:
                    this._utils.sendMessage(
                      response,
                      this._callbackID,
                      this._requestDomain
                    );
                    return [2 /*return*/];
                }
              });
            });
          };
          Sso.prototype.getGroupApiDomain = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var domain;
              return tslib_1.__generator(this, function (_a) {
                domain = this._storage.getItem('apiDomain_' + this._apiKey);
                return [
                  2 /*return*/,
                  {
                    errorCode: GSErrors_1.GSErrors.OK,
                    domain: domain,
                  },
                ];
              });
            });
          };
          Sso.prototype.setGroupApiDomain = function (domain) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              return tslib_1.__generator(this, function (_a) {
                this._storage.setItem('apiDomain_' + this._apiKey, domain);
                return [2 /*return*/];
              });
            });
          };
          Sso.prototype.logout = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var logoutURLs;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    logoutURLs = this._getLogoutURLs();
                    return [4 /*yield*/, this.removeToken()];
                  case 1:
                    _a.sent();
                    this._storage.removeItem(this._storageKey + '_visited');
                    return [2 /*return*/, { logoutURLs: logoutURLs }];
                }
              });
            });
          };
          Sso.prototype.removeToken = function () {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var loginToken;
              return tslib_1.__generator(this, function (_a) {
                loginToken = this._storage.getItem(this._storageKey);
                if (loginToken) {
                  this._markRevokedLoginToken(loginToken);
                  this._storage.removeItem(this._storageKey);
                }
                this._storage.removeItem(this._storageKey + '_exp');
                this._storage.removeItem(this._storageKey + '_gltexp');
                this._storage.removeItem(this._storageKey + '_session');
                this._storage.removeItem(this._storageKey + '_context');
                return [2 /*return*/];
              });
            });
          };
          Sso.prototype.getToken = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var errorCode,
                lt,
                storageExp,
                exp,
                twoYearFromNow,
                gltexp,
                groupContext,
                inSession,
                response;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    errorCode = 0;
                    lt = this._storage.getItem(this._storageKey);
                    storageExp = this._storage.getItem(
                      this._storageKey + '_exp'
                    );
                    if (storageExp === 'undefined') {
                      exp = Date.now() - 1000;
                    } else {
                      exp = Number(storageExp);
                      twoYearFromNow =
                        Date.now() + 1000 * 60 * 60 * 24 * 365 * 2;
                      if (exp > twoYearFromNow) {
                        exp = Date.now() - 1000;
                      }
                    }
                    gltexp = this._storage.getItem(
                      this._storageKey + '_gltexp'
                    );
                    groupContext = this._storage.getItem(
                      this._storageKey + '_context'
                    );
                    inSession =
                      gltexp ||
                      this._storage.getItem(this._storageKey + '_session') ===
                        '1';
                    if (
                      !(
                        !isNaN(exp) &&
                        ((exp === 0 && !inSession) ||
                          (exp > 0 && new Date().getTime() > exp))
                      )
                    )
                      return [3 /*break*/, 2];
                    // expired!
                    return [4 /*yield*/, this.removeToken()];
                  case 1:
                    // expired!
                    _a.sent();
                    lt = undefined;
                    _a.label = 2;
                  case 2:
                    if (!lt) {
                      // no user
                      return [
                        2 /*return*/,
                        {
                          errorCode: GSErrors_1.GSErrors.UNAUTHORIZED_USER,
                        },
                      ];
                    } else {
                      this._markSiteVisited();
                    }
                    response = {
                      errorCode: errorCode,
                      login_token: lt,
                      expires_in:
                        exp === 0
                          ? 0
                          : Math.round((exp - new Date().getTime()) / 1000),
                    };
                    if (groupContext) {
                      response.groupContext = groupContext;
                    }
                    if (exp === 0 && gltexp) {
                      response.gltexp = gltexp;
                    }
                    return [2 /*return*/, response];
                }
              });
            });
          };
          Sso.prototype.setToken = function (lt, expiration, gltexp) {
            var _a;
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              var oldToken, expiresIn, expiresInMs;
              return tslib_1.__generator(this, function (_b) {
                switch (_b.label) {
                  case 0:
                    lt = lt.split('|')[0];
                    oldToken =
                      (_a = this._storage.getItem(this._storageKey)) === null ||
                      _a === void 0
                        ? void 0
                        : _a.split('|')[0];
                    if (lt !== oldToken) {
                      this._markRevokedLoginToken(oldToken);
                    }
                    if (lt) {
                      this._storage.setItem(this._storageKey, lt);
                    }
                    if (expiration) {
                      expiresIn =
                        typeof expiration === 'string' && expiration
                          ? Number(expiration)
                          : expiration;
                      if (expiresIn === 0) {
                        // Session cookie or dynamic session cookie.
                        // Either way, flag the expiration as 0.
                        expiration = 0;
                      } else {
                        expiresInMs = void 0;
                        if (!expiresIn || expiresIn === -2) {
                          expiresInMs = 1000 * 60 * 60 * 24 * 365;
                        } else {
                          expiresInMs = Number(expiresIn) * 1000;
                        }
                        // Convert expires in milliseconds to an a timestamp (also milliseconds).
                        expiresIn = Date.now() + expiresInMs;
                      }
                      this._storage.setItem(
                        this._storageKey + '_exp',
                        '' + expiresIn
                      );
                      if (expiration === 0) {
                        this._storage.setItem(
                          this._storageKey + '_session',
                          '1',
                          0
                        );
                      }
                    }
                    if (!(gltexp !== undefined)) return [3 /*break*/, 2];
                    return [4 /*yield*/, this.setTokenExpiration(gltexp)];
                  case 1:
                    _b.sent();
                    _b.label = 2;
                  case 2:
                    if (!lt) return [3 /*break*/, 4];
                    return [4 /*yield*/, this._markSiteVisited()];
                  case 3:
                    _b.sent();
                    _b.label = 4;
                  case 4:
                    return [2 /*return*/];
                }
              });
            });
          };
          Sso.prototype.setGroupContext = function (groupContext) {
            return tslib_1.__awaiter(this, void 0, void 0, function () {
              return tslib_1.__generator(this, function (_a) {
                this._storage.setItem(
                  this._storageKey + '_context',
                  JSON.stringify(groupContext)
                );
                return [2 /*return*/];
              });
            });
          };
          Sso.prototype.setTokenExpiration = function (gltexp) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var _a, _b, _c;
              return tslib_1.__generator(this, function (_d) {
                switch (_d.label) {
                  case 0:
                    if (!!this._utils.isValidGltExp(gltexp))
                      return [3 /*break*/, 1];
                    this._storage.removeItem(this._storageKey + '_gltexp');
                    gltexp = null;
                    return [3 /*break*/, 3];
                  case 1:
                    _b = (_a = this._utils).getMaxGltExp;
                    _c = [gltexp];
                    return [4 /*yield*/, this.getTokenExpiration()];
                  case 2:
                    gltexp = _b.apply(_a, _c.concat([_d.sent().gltexp]));
                    this._storage.setItem(this._storageKey + '_gltexp', gltexp);
                    this._storage.removeItem(this._storageKey + '_exp');
                    _d.label = 3;
                  case 3:
                    return [
                      2 /*return*/,
                      {
                        errorCode: GSErrors_1.GSErrors.OK,
                        gltexp: gltexp,
                      },
                    ];
                }
              });
            });
          };
          Sso.prototype.getTokenExpiration = function () {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var lt;
              return tslib_1.__generator(this, function (_a) {
                lt = this._storage.getItem(this._storageKey);
                if (!lt) {
                  return [
                    2 /*return*/,
                    {
                      errorCode: GSErrors_1.GSErrors.UNAUTHORIZED_USER,
                    },
                  ];
                }
                return [
                  2 /*return*/,
                  {
                    errorCode: GSErrors_1.GSErrors.OK,
                    gltexp: this._storage.getItem(this._storageKey + '_gltexp'),
                  },
                ];
              });
            });
          };
          Sso.prototype.checkTokenRenew = function (loginToken) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var groupToken, invalidTokens, isInvalid;
              return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                  case 0:
                    return [4 /*yield*/, this.getToken()];
                  case 1:
                    groupToken = _a.sent();
                    invalidTokens =
                      this._storage.getItem(
                        this._storageKey + '_revoked_tokens'
                      ) || '';
                    isInvalid = invalidTokens.indexOf(loginToken) >= 0;
                    if (!!isInvalid) return [3 /*break*/, 3];
                    return [4 /*yield*/, this.setToken(loginToken)];
                  case 2:
                    _a.sent();
                    return [
                      2 /*return*/,
                      { errorCode: GSErrors_1.GSErrors.OK },
                    ];
                  case 3:
                    if (
                      groupToken.errorCode === GSErrors_1.GSErrors.OK &&
                      invalidTokens.indexOf(groupToken.login_token) < 0
                    ) {
                      // just changing the error code - but returning the same session info of the group
                      groupToken.errorCode =
                        GSErrors_1.GSErrors.TOKEN_HAS_RENEWED;
                      return [2 /*return*/, groupToken];
                    } else {
                      return [
                        2 /*return*/,
                        { errorCode: GSErrors_1.GSErrors.INVALID_TOKEN },
                      ];
                    }
                    _a.label = 4;
                  case 4:
                    return [2 /*return*/];
                }
              });
            });
          };
          Sso.prototype.syncCanaryIndication = function (
            isCanary,
            versionSignature
          ) {
            return tslib_1.__awaiter(this, void 0, gigya.Promise, function () {
              var SSOIsCanary,
                SSOVersionSignature,
                response,
                siteCanaryVersion,
                SSOCanaryVersion;
              return tslib_1.__generator(this, function (_a) {
                if (!this._canaryKey || !this._canaryVerKey) {
                  return [
                    2 /*return*/,
                    {
                      errorCode: GSErrors_1.GSErrors.INVALID_ENVIRONMENT_CONFIG,
                    },
                  ];
                }
                SSOIsCanary = this._storage.getItem(this._canaryKey);
                SSOVersionSignature = this._storage.getItem(this._canaryVerKey);
                response = {
                  errorCode: GSErrors_1.GSErrors.OK,
                  isCanary: isCanary,
                  canaryVersion: versionSignature,
                };
                if (
                  !this._utils
                    .validations()
                    .allDefinedOrAllUndefined(SSOIsCanary, SSOVersionSignature)
                ) {
                  // not legal
                  response.errorCode =
                    GSErrors_1.GSErrors.INVALID_PARAMETER_VALUE;
                  return [2 /*return*/, response];
                }
                if (
                  !this._utils
                    .validations()
                    .allDefinedOrAllUndefined(isCanary, versionSignature)
                ) {
                  // not legal
                  return [
                    2 /*return*/,
                    {
                      errorCode: GSErrors_1.GSErrors.INVALID_PARAMETER_VALUE,
                      isCanary: SSOIsCanary,
                      canaryVersion: SSOVersionSignature,
                    },
                  ];
                }
                siteCanaryVersion =
                  this._parseCanaryVersionSignature(versionSignature);
                SSOCanaryVersion =
                  this._parseCanaryVersionSignature(SSOVersionSignature);
                if (siteCanaryVersion.timestamp > SSOCanaryVersion.timestamp) {
                  this._storage.setItem(this._canaryKey, isCanary);
                  this._storage.setItem(this._canaryVerKey, versionSignature);
                } else {
                  response.isCanary = SSOIsCanary;
                  response.canaryVersion = SSOVersionSignature;
                }
                return [2 /*return*/, response];
              });
            });
          };
          Sso.prototype._markSiteVisited = function () {
            var visitedStorageKey = this._storageKey + '_visited';
            var visited = this._storage.getItem(visitedStorageKey) || '';
            if (visited.indexOf(this._siteApiKey) === -1) {
              visited += ',' + this._siteApiKey;
            }
            this._storage.setItem(visitedStorageKey, visited);
          };
          Sso.prototype._markRevokedLoginToken = function (loginToken) {
            if (!loginToken) return;
            var invalidTokensStorageKey = this._storageKey + '_revoked_tokens';
            var invalidTokens =
              this._storage.getItem(invalidTokensStorageKey) || '';
            var arrInvalidTokens = invalidTokens.split(',');
            if (arrInvalidTokens.length > 3) {
              //delete one old revoked token
              arrInvalidTokens.splice(1, 1); // first element is always empty
            }
            invalidTokens = arrInvalidTokens.join(',');
            if (invalidTokens.indexOf(loginToken) < 0) {
              invalidTokens += ',' + loginToken;
            }
            this._storage.setItem(invalidTokensStorageKey, invalidTokens);
          };
          Sso.prototype._getLogoutURLs = function () {
            var visited = this._storage.getItem(this._storageKey + '_visited');
            if (!visited) {
              return '';
            }
            var arLogoutURLs = [];
            for (var siteKey in this._ssoConfig.logoutURLs) {
              if (visited.indexOf(',' + siteKey) !== -1) {
                arLogoutURLs.push(this._ssoConfig.logoutURLs[siteKey]);
              }
            }
            return arLogoutURLs.join(',');
          };
          Sso.prototype._createKey = function (name) {
            return (
              name +
              '_' +
              this._apiKey +
              (this._ssoSegment ? '_' + this._ssoSegment : '')
            );
          };
          Sso.prototype._parseCanaryVersionSignature = function (
            canaryVersionSig
          ) {
            var defaultData = { build: 0, probability: 0, timestamp: -1 };
            if (!canaryVersionSig) return defaultData;
            var parts = canaryVersionSig.split('-');
            if (parts.length < 3) {
              return defaultData;
            }
            return {
              build: Number(parts[0]),
              probability: Number(parts[1]),
              timestamp: Number(parts[2]),
            };
          };
          return Sso;
        })();
        exports.Sso = Sso;

        /***/
      },

    /***/ './src/fidm/Gigya.JS.SSO/app/ssoUtils.ts':
      /*!***********************************************!*\
  !*** ./src/fidm/Gigya.JS.SSO/app/ssoUtils.ts ***!
  \***********************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var Uri_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/Uri */ './src/core/Gigya.Js/app/Utils/Uri.ts'
        );
        var validationUtils = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/validation */ './src/core/Gigya.Js/app/Utils/validation.ts'
        );
        var globalProvider_1 = __webpack_require__(
          /*! ./globalProvider */ './src/fidm/Gigya.JS.SSO/app/globalProvider.ts'
        );
        var localStorage_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/localStorage */ './src/core/Gigya.Js/app/Utils/localStorage.ts'
        );
        var keyValue_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/keyValue */ './src/core/Gigya.Js/app/Utils/keyValue.ts'
        );
        var gltexp_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/gltexp */ './src/core/Gigya.Js/app/Utils/gltexp.ts'
        );
        var URL_1 = __webpack_require__(
          /*! src/core/Gigya.Js/app/Utils/URL */ './src/core/Gigya.Js/app/Utils/URL.ts'
        );
        var defaultValidDomains = [
          'gigya-api.com',
          'gigya-api.cn',
          'gigya.com',
          'my.gigya-ext.com',
          'localhost',
        ];
        var SsoUtils = /** @class */ (function () {
          function SsoUtils(_global, _defaultValidDomains) {
            if (_global === void 0) {
              _global = globalProvider_1.default;
            }
            if (_defaultValidDomains === void 0) {
              _defaultValidDomains = defaultValidDomains;
            }
            this._global = _global;
            this._defaultValidDomains = _defaultValidDomains;
          }
          SsoUtils.prototype.getPageUrl = function () {
            return this._global.documentLocation().toString();
          };
          SsoUtils.prototype.isValidDomain = function (
            validDomains,
            candidate
          ) {
            var domain = Uri_1.Uri.parse(candidate).domain;
            var arValidDomains = validDomains.concat(this._defaultValidDomains);
            for (var i = 0; i < arValidDomains.length; i++) {
              var validDomain = arValidDomains[i]
                .replace('*', '')
                .split(':')[0];
              var indexOfValidDomain = domain.indexOf(validDomain);
              if (
                indexOfValidDomain >= 0 &&
                indexOfValidDomain === domain.length - validDomain.length &&
                (indexOfValidDomain === 0 ||
                  domain.charAt(indexOfValidDomain - 1) === '.' ||
                  domain.charAt(indexOfValidDomain - 1) === '/')
              ) {
                return true;
              }
            }
            return false;
          };
          SsoUtils.prototype.sendMessage = function (
            res,
            callbackID,
            requestDomain
          ) {
            var strMessage = '';
            for (var p in res) {
              if (res[p] != null) {
                strMessage += escape(
                  p + '=' + encodeURIComponent(res[p]) + '&'
                );
              }
            }
            this._global.postMessageToParent(
              callbackID + '=' + strMessage,
              requestDomain
            );
          };
          SsoUtils.prototype.isValidGltExp = function (gltExp) {
            return gltexp_1.isValid(gltExp);
          };
          SsoUtils.prototype.getMaxGltExp = function (gltExp1, gltExp2) {
            return gltexp_1.getMax(gltExp1, gltExp2);
          };
          SsoUtils.prototype.decodeUrl = function (value) {
            return URL_1.URLDecodeRecursive(value);
          };
          SsoUtils.prototype.deserialize = function (value) {
            return keyValue_1.deserialize(value);
          };
          SsoUtils.prototype.getCookiesStorage = function () {
            return localStorage_1.initializeAdapter(
              localStorage_1.CookieStorageAdapter
            );
          };
          SsoUtils.prototype.validations = function () {
            return validationUtils;
          };
          SsoUtils.prototype.UriFactory = function (url, isAbsolute) {
            if (isAbsolute === void 0) {
              isAbsolute = true;
            }
            return new Uri_1.Uri(url, isAbsolute);
          };
          SsoUtils.prototype.getFragment = function () {
            var pageURL = this.getPageUrl();
            if (pageURL.indexOf('#') !== -1) {
              return pageURL.split('#')[1];
            }
            return null;
          };
          return SsoUtils;
        })();
        exports.SsoUtils = SsoUtils;

        /***/
      },

    /***/ './src/fidm/Gigya.Js.SamlProxy/app/utils.ts':
      /*!**************************************************!*\
  !*** ./src/fidm/Gigya.Js.SamlProxy/app/utils.ts ***!
  \**************************************************/
      /*! no static exports found */
      /***/ function (module, exports, __webpack_require__) {
        Object.defineProperty(exports, '__esModule', { value: true });
        var tslib_1 = __webpack_require__(
          /*! tslib */ '../node_modules/tslib/tslib.es6.js'
        );
        function urlParams(query) {
          if (query.indexOf('?') > -1)
            query = query.substring(query.indexOf('?') + 1);
          var queryParts = query.split(/&/);
          var params = {};
          for (var i = 0; i < queryParts.length; ++i) {
            var param = queryParts[i];
            if (param.indexOf('=') === -1) continue;
            var paramParts = param.split('=');
            if (paramParts.length !== 2) continue;
            params[paramParts[0]] = decodeURIComponent(paramParts[1]);
          }
          return params;
        }
        exports.urlParams = urlParams;
        function openIframe(url, done, timeout) {
          var handlerCalled = false;
          var loadHandler = function () {
            if (!handlerCalled) {
              handlerCalled = true;
              done();
            }
          };
          window.gigya.utils.script.triggerResource(
            url,
            loadHandler,
            window.gigya.utils.script.ResourceTypes.iframe,
            false
          );
          if (timeout) setTimeout(loadHandler, timeout);
        }
        exports.openIframe = openIframe;
        function reportError(errorInfo, context) {
          // TODO redirect an internal endpoint so that the server will have a chance to deal with errors in its flow correctly
          if (window.gigya.samlConfig.errorPageURL) {
            return redirect(window.gigya.samlConfig.errorPageURL, context, {
              error: errorInfo,
            });
          }
        }
        exports.reportError = reportError;
        function redirectToSamlEndPont(endPoint, params, apiKey) {
          return tslib_1.__awaiter(this, void 0, void 0, function () {
            var domain, url, gmidTicket;
            return tslib_1.__generator(this, function (_a) {
              switch (_a.label) {
                case 0:
                  domain = window.gigya._.getApiDomain('fidm');
                  url =
                    'https://' +
                    domain +
                    '/saml/v2.0/' +
                    apiKey +
                    '/' +
                    endPoint;
                  return [
                    4 /*yield*/,
                    window.gigya._.apiAdapter.getGmidTicket(),
                  ];
                case 1:
                  gmidTicket = _a.sent();
                  if (gmidTicket) params.gmidTicket = gmidTicket;
                  redirect(
                    url,
                    {
                      domain: domain,
                      apiKey: apiKey,
                      endPoint: endPoint,
                    },
                    params
                  );
                  return [2 /*return*/];
              }
            });
          });
        }
        exports.redirectToSamlEndPont = redirectToSamlEndPont;
        function setUrlParams(url, params) {
          return window.gigya.utils.URL.addParamsToURL(url, params);
        }
        exports.setUrlParams = setUrlParams;
        function redirect(url, urlValues, params) {
          // redirect to any given url
          url = templateFill(url, urlValues);
          url = setUrlParams(url, params);
          location.href = url;
          //window.open(url, '_self'); // This breaks postMessage messaging - replace the window.opener
        }
        exports.redirect = redirect;
        function getLoginToken(apiKey) {
          // returns current login token directly from the web adapter
          return window.gigya._.apiAdapters.web.tokenStore.get(apiKey);
        }
        exports.getLoginToken = getLoginToken;
        function getLoginTokenExpiration(apiKey) {
          // returns current login token directly from the web adapter
          return window.gigya._.apiAdapters.web.tokenStore.getGltexpCookie(
            apiKey
          );
        }
        exports.getLoginTokenExpiration = getLoginTokenExpiration;
        function contextKey(apiKey) {
          return 'gig_samlContext_' + apiKey;
        }
        var sessionStorageTimeout = 10 * 60 * 1000;
        function saveContext(apiKey, context, done) {
          // save context for next retrival, if not returned from loginUrl
          var key = contextKey(apiKey);
          var savedContexts =
            window.gigya.utils.sessionCache.get(key, sessionStorageTimeout) ||
            [];
          savedContexts.push(context);
          window.gigya.utils.sessionCache.set(key, savedContexts);
          done();
        }
        exports.saveContext = saveContext;
        function loadContext(apiKey, callback) {
          // load context if was not provided in url
          var key = contextKey(apiKey);
          var savedContexts =
            window.gigya.utils.sessionCache.get(key, sessionStorageTimeout) ||
            [];
          var lastContext = savedContexts.pop() || {};
          window.gigya.utils.sessionCache.set(key, savedContexts);
          callback(lastContext);
        }
        exports.loadContext = loadContext;
        function templateFill(template, params) {
          return window.gigya.utils.templates.fill(template, params);
        }
        exports.templateFill = templateFill;
        function deserializeJSON(json) {
          return window.gigya.utils.JSON.deserialize(json, '');
        }
        exports.deserializeJSON = deserializeJSON;
        function objectMerge() {
          var objects = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            objects[_i] = arguments[_i];
          }
          return window.gigya.utils.object.merge(objects);
        }
        exports.objectMerge = objectMerge;
        function isLoggedIn(callback, apiKey) {
          if (hasSession(apiKey)) {
            window.gigya.accounts.getAccountInfo({
              callback: function (response) {
                callback(
                  (response === null || response === void 0
                    ? void 0
                    : response.errorCode) === 0
                );
              },
            });
          } else callback(false);
        }
        exports.isLoggedIn = isLoggedIn;
        function logout(samlContext, callback) {
          window.gigya.socialize.logout({
            callback: callback,
            samlContext: samlContext,
          });
        }
        exports.logout = logout;
        function hasSession(apiKey) {
          var userKey = getLoginToken(apiKey);
          return Boolean(userKey);
        }

        /***/
      },

    /******/
  }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2NvbmZpZy92ZXJzaW9uVGVtcGxhdGUudHh0Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvdGhlbi5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVzb2x2ZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL2VudW1lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL2FsbC5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmVqZWN0LmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gubWVyZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gucmVtb3ZlL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvbG9kYXNoLnNldC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9hY2NvdW50cy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvUmVxdWVzdFByb3ZpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzLkFkYXB0ZXJzLldlYi9hcHAvRXh0ZXJuYWxNZXRob2RzL2NlbnRyYWxpemVkU1NPLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzLkFkYXB0ZXJzLldlYi9hcHAvRXh0ZXJuYWxNZXRob2RzL3Nlc3Npb25IZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzLkFkYXB0ZXJzLldlYi9hcHAvU3NvU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy5BZGFwdGVycy5XZWIvYXBwL1Rva2VuU3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9BcGlzTGlzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL0Jhc2VBcGkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9SZXN0QXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpUmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGlIZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGlSZWdpc3RyeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1ZlcnNpb25TZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL2NvbnN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQXV0aGVudGljYXRpb24vQXV0aEFwaXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvQmFzZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9FdmVudFdyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvSUJhc2VPYmplY3RDb25maWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jvb3RzdHJhcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvQ2xpZW50QVBJL0N1c3RvbUFwaXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0NsaWVudEFQSS9PaWRjQXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9DbGllbnRBUEkvU2FtbEFwaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRGVmYXVsdEV2ZW50c01hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9GYWNlYm9vay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvR29vZ2xlUGx1cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvT3BlbmdyYXBoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9GbG93L0Zsb3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvYWN0aXZpdGllcy9BY3Rpdml0eUxpYnJhcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvYWN0aXZpdGllcy9CYXNlQWN0aXZpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvYWN0aXZpdGllcy9FdmVudEFjdGl2aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9GbG93L2FjdGl2aXRpZXMvSW5pdEFjdGl2aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9GbG93L2FjdGl2aXRpZXMvU2NyZWVuU2V0QWN0aXZpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dpZ3lhR2xvYmFscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcm5hbEZsb3dzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeVJlcG9ydHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2Jhc2VMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pRnJhbWVMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvbG9nZ2VySnNvbnAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2dnZXIvcGFyZW50TG9nZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9PYXV0aC9PYXV0aFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Bhc3NrZXkvQ3JlZGVudGlhbFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Bhc3NrZXkvUGFzc2tleUFwaXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Bhc3NrZXkvUGFzc2tleVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Bhc3NrZXkvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3RvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3ZpZGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvUmVwb3J0cy9SZXBvcnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SZXBvcnRzL1NjcmVlbi1TZXQtUmVwb3J0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvUmlza0Fzc2Vzc21lbnQvUHJvdmlkZXJzL0dvb2dsZVJlQ2FwdGNoYVByb3ZpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SaXNrQXNzZXNzbWVudC9Qcm92aWRlcnMvSVJpc2tBc3Nlc3NtZW50UHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Jpc2tBc3Nlc3NtZW50L1Byb3ZpZGVycy9UcmFuc1VuaW9uUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Jpc2tBc3Nlc3NtZW50L1Jpc2tBc3Nlc3NtZW50SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvQWNjb3VudFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9TZXNzaW9uU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvU2l0ZURhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1RoaXNTY3JpcHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSFRUUC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VybFBhcmFtc0hlbHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYXJyYXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Jyb3dzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Nvb2tpZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGVsZWdhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2RvbWFpbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2lneWFTY3JpcHRFbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2xvYmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9nbHRleHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlWYWx1ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvbW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcHJvbWlzZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3JlY2FwdGNoYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2FuaXRpemUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3NjcmlwdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2Vzc2lvbkNhY2hlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy90YWJiYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGVtcGxhdGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy90b2dnbGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92YWxpZGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92aWV3cG9ydC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvd2luLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy94ZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvV2luZG93UHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvR2lneWEuSnMvYXBwL2FwaUJvb3RzdHJhcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lBcGlBZGFwdGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL1NlcnZpY2VQcm94eS9TZXJ2aWNlUHJveHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvU2VydmljZVByb3h5L3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9maWRtL0dpZ3lhLkpTLlNTTy9hcHAvZ2xvYmFsUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpZG0vR2lneWEuSlMuU1NPL2FwcC9zc28udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpZG0vR2lneWEuSlMuU1NPL2FwcC9zc29VdGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZmlkbS9HaWd5YS5Kcy5TYW1sUHJveHkvYXBwL3V0aWxzLnRzIl0sIm5hbWVzIjpbInJlc29sdmUiLCJfcmVzb2x2ZSIsInRoZW4iLCJvcmlnaW5hbFRoZW4iLCJvcmlnaW5hbFJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiX3JlamVjdCIsIlJlc29sdmUiLCJSZWplY3QiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FB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QTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU8sV0FBVztBQUM3QixXQUFXLFNBQVM7QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGtCQUFrQixFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0JBQWtCLEVBQUU7QUFDbEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsVUFBVTtBQUNWO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsR0FBRyxTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUyxHQUFHLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRLGlCQUFpQixHQUFHLGlCQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0EsV0FBVyxTQUFTLEdBQUcsU0FBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUN4N0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLEtBQTBCOztBQUU1QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFX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QTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsRUFBRTtBQUNiLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNw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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFD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QWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsaUJBQWlCLFFBQVEsT0FBTyxTQUFTLEVBQUU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7O0FDNzlCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVOzs7Ozs7Ozs7Ozs7O0FDdkx0QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBLCtE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RSxPQUFPLENBQUM7SUFDbEQsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQztJQUMvQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQztJQUNyRCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQztJQUN2RCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQztJQUN2RCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQztJQUNyRCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsZUFBZSxFQUFFLElBQUksQ0FBQztJQUMzRCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxlQUFlLENBQUM7SUFDdkUsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLGVBQWUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUM7SUFDNUQsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUM7SUFDMUQsSUFBSSxRQUFRLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQztJQUM5RCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUks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LEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3BKLEVBQUUsQ0FBQyxDQUFDO1FBRUosRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQy9FLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFFL0UsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUNULEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM5QixHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDOUUsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FB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QUFjO0lBQzlCLElBQU0sT0FBTyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN0QyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QixDQUFDIiwiZmlsZSI6ImdpZ3lhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvY29yZS9HaWd5YS5Kcy9hcHAvbWFpbi50c1wiKTtcbiIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH0sIGtleXNJbik7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICBpZiAoc3RhY2tlZCkge1xuICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzQ29tbW9uKSB7XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0NvbW1vbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgfVxuICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAnd3JpdGFibGUnOiB0cnVlXG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgaWYgKGlzRGVlcCkge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG59XG5cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gICAgaWYgKGlzTmV3KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICA6IHt9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuNS4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7XG4gKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gKiB9O1xuICpcbiAqIHZhciBvdGhlciA9IHtcbiAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAqIH07XG4gKlxuICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAqL1xudmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVyZ2U7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY29tcGFyaXNvbiBzdHlsZXMuICovXG52YXIgVU5PUkRFUkVEX0NPTVBBUkVfRkxBRyA9IDEsXG4gICAgUEFSVElBTF9DT01QQVJFX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlTGVhZGluZ0RvdCA9IC9eXFwuLyxcbiAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPyB2YWx1ZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfX1snZGVsZXRlJ10oa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBjYWNoZSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChjYWNoZSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGNhY2hlLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjYWNoZSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGNhY2hlLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgLy8gU2FmYXJpIDkgbWFrZXMgYGFyZ3VtZW50cy5sZW5ndGhgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHZhciByZXN1bHQgPSAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKVxuICAgID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKVxuICAgIDogW107XG5cbiAgdmFyIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICBza2lwSW5kZXhlcyA9ICEhbGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4KGtleSwgbGVuZ3RoKSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgcGF0aCA9IGlzS2V5KHBhdGgsIG9iamVjdCkgPyBbcGF0aF0gOiBjYXN0UGF0aChwYXRoKTtcblxuICB2YXIgaW5kZXggPSAwLFxuICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgfVxuICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtiaXRtYXNrXSBUaGUgYml0bWFzayBvZiBjb21wYXJpc29uIGZsYWdzLlxuICogIFRoZSBiaXRtYXNrIG1heSBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGZsYWdzOlxuICogICAgIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogICAgIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0KHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYmFzZUlzRXF1YWwsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbYml0bWFza10gVGhlIGJpdG1hc2sgb2YgY29tcGFyaXNvbiBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGBcbiAqICBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBhcnJheVRhZyxcbiAgICAgIG90aFRhZyA9IGFycmF5VGFnO1xuXG4gIGlmICghb2JqSXNBcnIpIHtcbiAgICBvYmpUYWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgfVxuICBpZiAoIW90aElzQXJyKSB7XG4gICAgb3RoVGFnID0gZ2V0VGFnKG90aGVyKTtcbiAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcbiAgfVxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnICYmICFpc0hvc3RPYmplY3Qob2JqZWN0KSxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyAmJiAhaXNIb3N0T2JqZWN0KG90aGVyKSxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgUEFSVElBTF9DT01QQVJFX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuICFsZW5ndGg7XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgY3VzdG9taXplciwgVU5PUkRFUkVEX0NPTVBBUkVfRkxBRyB8IFBBUlRJQUxfQ09NUEFSRV9GTEFHLCBzdGFjaylcbiAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICovXG5mdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5O1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCB1bmRlZmluZWQsIFVOT1JERVJFRF9DT01QQVJFX0ZMQUcgfCBQQVJUSUFMX0NPTVBBUkVfRkxBRyk7XG4gIH07XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgIGlmIChpc0luZGV4KGluZGV4KSkge1xuICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzS2V5KGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgdmFyIHBhdGggPSBjYXN0UGF0aChpbmRleCksXG4gICAgICAgICAgICBvYmplY3QgPSBwYXJlbnQoYXJyYXksIHBhdGgpO1xuXG4gICAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGFycmF5W3RvS2V5KGluZGV4KV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICB9XG4gIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuZ3RoO1xuICB9XG4gIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgc3RhcnQgPj4+PSAwO1xuXG4gIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdUb1BhdGgodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgZXF1YWxGdW5jLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIFBBUlRJQUxfQ09NUEFSRV9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBVTk9SREVSRURfQ09NUEFSRV9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5hZGQob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBjdXN0b21pemVyLCBiaXRtYXNrLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBjb21wYXJpc29uIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYFxuICogIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgUEFSVElBTF9DT01QQVJFX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBVTk9SREVSRURfQ09NUEFSRV9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBlcXVhbEZ1bmMsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGNvbXBhcmlzb24gZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgXG4gKiAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGVxdWFsRnVuYywgY3VzdG9taXplciwgYml0bWFzaywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBQQVJUSUFMX0NPTVBBUkVfRkxBRyxcbiAgICAgIG9ialByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBrZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGN1c3RvbWl6ZXIsIGJpdG1hc2ssIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4vLyBmb3IgZGF0YSB2aWV3cyBpbiBFZGdlIDwgMTQsIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzLlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIHJlc3VsdCxcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gIH1cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IG9iamVjdCA/IG9iamVjdC5sZW5ndGggOiAwO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubGVuZ3RoID09IDEgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemUoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAocmVMZWFkaW5nRG90LnRlc3Qoc3RyaW5nKSkge1xuICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgfVxuICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3RyaW5nKSB7XG4gICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IDNcbiAqL1xuZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICpcbiAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuMC4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldXG4gKiAgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICogfSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWzEsIDNdXG4gKlxuICogY29uc29sZS5sb2coZXZlbnMpO1xuICogLy8gPT4gWzIsIDRdXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBpbmRleGVzID0gW10sXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgcHJlZGljYXRlID0gYmFzZUl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgfVxuICB9XG4gIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEFzc2lnbiBjYWNoZSB0byBgXy5tZW1vaXplYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICogLy8gPT4gJ2RlZmF1bHQnXG4gKi9cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBbXG4gKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAqIF07XG4gKlxuICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICogLy8gPT4gWzIsIDFdXG4gKlxuICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAqIC8vID0+IFsxLCAyXVxuICovXG5mdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlbW92ZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgIHJlTGVhZGluZ0RvdCA9IC9eXFwuLyxcbiAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgcGF0aCA9IGlzS2V5KHBhdGgsIG9iamVjdCkgPyBbcGF0aF0gOiBjYXN0UGF0aChwYXRoKTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ1RvUGF0aCh2YWx1ZSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZShmdW5jdGlvbihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChyZUxlYWRpbmdEb3QudGVzdChzdHJpbmcpKSB7XG4gICAgcmVzdWx0LnB1c2goJycpO1xuICB9XG4gIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gQXNzaWduIGNhY2hlIHRvIGBfLm1lbW9pemVgLlxubWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAqIGBwYXRoYCBjcmVhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gKiAvLyA9PiA0XG4gKlxuICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICogLy8gPT4gNVxuICovXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldDtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJleHBvcnQgZW51bSBFZGl0YWJsZVRmYVByb3ZpZGVyc1R5cGVzIHtcbiAgICBnaWd5YVBob25lLFxuICAgIGdpZ3lhVG90cCxcbiAgICBnaWd5YVB1c2gsXG4gICAgbGl2ZWxpbmssXG59XG5leHBvcnQgY29uc3QgZ2lneWFBc3NlcnRpb25FeHBpcmF0aW9uID0gNjAgKiA1ICogMTAwMDtcbmV4cG9ydCBjb25zdCBzZW5zaXRpdmVQYXJhbXNPdmVycmlkZSA9ICdsb2dpbl90b2tlbic7XG5cbmV4cG9ydCBjb25zdCBHSUdZQV9QQVJBTV9QUkVGSVggPSAnZ2lnXydcblxuZXhwb3J0IGNvbnN0IEdJR1lBX0lOVEVSTkFMX1BBUkFNX1BSRUZJWCA9IGAke0dJR1lBX1BBUkFNX1BSRUZJWH1pX2BcblxuZXhwb3J0IGNvbnN0IEdJR1lBX0lOVEVSTkFMX1BBUkFNUyA9IGAke0dJR1lBX1BBUkFNX1BSRUZJWH1hY3Rpb25zYFxuIiwiXG5leHBvcnQgY2xhc3MgUmVxdWVzdFByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBfeGhyUmVxdWVzdCA9IGdpZ3lhLlhoclJlcXVlc3QsXG4gICAgICAgIHB1YmxpYyB0aW1lb3V0ID0gMTUwMDAsXG4gICAgICAgIHByaXZhdGUgX3dpbiA9IHdpbmRvd1xuICAgICkge31cblxuICAgIGFzeW5jIHNlbmQoYmFzZURvbWFpbiwgbWV0aG9kTmFtZSwgcGFyYW1zLCBzZXR0aW5ncywgaGVhZGVycyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuX3hoclJlcXVlc3QoYmFzZURvbWFpbiwgbWV0aG9kTmFtZSwgcGFyYW1zLCBzZXR0aW5ncywgaGVhZGVycyk7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSB0aGlzLl93aW4uc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCdBUEkgcmVxdWVzdCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICB9LCB0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoYXdhaXQgcmVxdWVzdC5zZW5kKCkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgnWEhSIHJlcXVlc3QgZmFpbGVkJywge21ldGhvZE5hbWUsIHBhcmFtcywgc2V0dGluZ3MsIGVycn0pO1xuICAgICAgICAgICAgICAgIHJlamVjdChgUmVxdWVzdCBmb3IgJHttZXRob2ROYW1lfSBmYWlsZWRgKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2luLmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQge2dldCBhcyBnZXRHbHRUb2tlbiwgcmVtb3ZlIGFzIHJlbW92ZUdsdFRva2VufSBmcm9tIFwiLi4vVG9rZW5TdG9yZVwiO1xuaW1wb3J0IHtzeW5jR3JvdXBUb2tlbn0gZnJvbSBcIi4vc2Vzc2lvbkhlbHBlcnNcIjtcbmltcG9ydCB7cmVkaXJlY3R9IGZyb20gXCIuLi8uLi8uLi9HaWd5YS5Kcy9hcHAvVXRpbHMvSFRUUFwiO1xuaW1wb3J0IHtob2xkLCByZWxlYXNlfSBmcm9tICcuLi8uLi8uLi9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xuaW1wb3J0IElTU09Db250ZXh0ID0gZ2lneWEuZmlkbS5vaWRjLklTU09Db250ZXh0O1xuaW1wb3J0IElCYXNlUGFyYW1zID0gZ2lneWEuZmlkbS5vaWRjLklCYXNlUGFyYW1zO1xuaW1wb3J0IHtHSUdZQV9JTlRFUk5BTF9QQVJBTV9QUkVGSVgsIEdJR1lBX0lOVEVSTkFMX1BBUkFNU30gZnJvbSBcIi4uLy4uLy4uLy4uL2FjY291bnRzL2NvbnN0YW50c1wiO1xuaW1wb3J0IFVybFBhcmFtc0hlbHBlciBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJsUGFyYW1zSGVscGVyJ1xuXG5leHBvcnQgZnVuY3Rpb24gc3NvTG9naW4ocGFyYW1zOiBPYmplY3QgPSB7fSkge1xuICAgIGlmKCF2ZXJpZnlTaXRlQ29uZmlndXJhdGlvbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFnaWd5YS51dGlscy50b2dnbGVzLmlzT24oJ2tlZXBTZXNzaW9uT25TU09Mb2dpbicpKSB7XG4gICAgICAgIHJlbW92ZUdsdFRva2VuKCk7XG4gICAgfVxuICAgIGdpZ3lhLmFjY291bnRzLnNzby5sb2dpbihwYXJhbXMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udGludWVTc28ocGFyYW1zOiBPYmplY3QgPSB7fSkge1xuICAgIGhvbGQoJ3Nzb0NvbnRpbnVlJywgJ0FQSScpO1xuXG4gICAgY29uc3QgbG9nICA9IGdpZ3lhLmxvZ2dlci5ncm91cChgc3NvLmNvbnRpbnVlYCk7XG4gICAgY29uc3QgZW5kRmxvdyA9ICh3YXJuaW5nTWVzc2FnZT86IHN0cmluZykgPT4ge1xuICAgICAgICB3YXJuaW5nTWVzc2FnZSAmJiBnaWd5YS5sb2dnZXIud2Fybih3YXJuaW5nTWVzc2FnZSk7XG4gICAgICAgIHJlbGVhc2UoJ3Nzb0NvbnRpbnVlJywgJ0FQSScpO1xuICAgICAgICByZXR1cm4gbG9nLmVuZCgpO1xuICAgIH1cbiAgICBpZighdmVyaWZ5U2l0ZUNvbmZpZ3VyYXRpb24oKSkge1xuICAgICAgICByZXR1cm4gZW5kRmxvdygpO1xuICAgIH1cblxuICAgIGNvbnN0IHNzb1Rva2VuID0gZ2lneWEuZ2V0VXJsUGFyYW0oJ3Nzb1Rva2VuJyk7XG4gICAgY29uc3Qgc2NvcGUgPSBnaWd5YS5nZXRVcmxQYXJhbSgnc2NvcGUnKTtcblxuICAgIGlmKCFzc29Ub2tlbikge1xuICAgICAgICByZXR1cm4gZW5kRmxvdyhgc3NvVG9rZW4gbXVzdCBiZSBwcmVzZW50IGluIHRoZSB1cmxgKTtcbiAgICB9XG5cbiAgICBjb25zdCBBUElLZXkgPSBnaWd5YS50aGlzU2NyaXB0Py5nbG9iYWxDb25mPy5BUElLZXkgfHwgZ2lneWEudGhpc1NjcmlwdD8uQVBJS2V5O1xuXG4gICAgY29uc3QgbG9naW5fdG9rZW4gPSBnZXRHbHRUb2tlbihBUElLZXkpIHx8IGF3YWl0IHN5bmNHcm91cFRva2VuKEFQSUtleSk7XG5cbiAgICBpZighbG9naW5fdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGVuZEZsb3coYGNhbid0IGNvbnRpbnVlIHdpdGggU1NPIGxvZ2luLCBtaXNzaW5nIGxvY2FsIHNlc3Npb25gKTtcbiAgICB9XG5cbiAgICBwYXJhbXNbJ3NkayddID0gJ2pzXycgKyAoZ2lneWEuYnVpbGQ/LnZlcnNpb24gfHwgJycpO1xuICAgIHBhcmFtc1snc2RrQnVpbGQnXSA9IGdpZ3lhLmJ1aWxkPy5udW1iZXIgfHwgMDtcblxuICAgIGxvZy5lbmQoKTtcbiAgICBpZiAoc2NvcGUgPT09ICdkZXZpY2Vfc3NvJykge1xuICAgICAgICBjb25zdCBzZXJ2ZXJQYXJhbXMgPSB7IGNvbnRleHQ6IHNzb1Rva2VuLCBsb2dpbl90b2tlbiwgLi4ucGFyYW1zIH07XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGByZWRpcmVjdCB0byBvaWRjIGNvbnRpbnVlIHdpdGggcGFyYW1zOiBgLCBzZXJ2ZXJQYXJhbXMpO1xuICAgICAgICBnaWd5YS5maWRtLm9pZGMub3AucmVkaXJlY3RUb0NvbnRpbnVlKHtcbiAgICAgICAgICAgIG9wS2V5OiBnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5LFxuICAgICAgICAgICAgLi4uc2VydmVyUGFyYW1zXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclBhcmFtcyA9IHsgc3NvVG9rZW4sIGxvZ2luX3Rva2VuLCBBUElLZXkgfTtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHJlZGlyZWN0IHRvIHNzby5jb250aW51ZSB3aXRoIHBhcmFtczogYCwgc2VydmVyUGFyYW1zKTtcbiAgICAgICAgcmVkaXJlY3QoYGh0dHBzOi8vJHtnaWd5YS5fLmdldEFwaURvbWFpbigpfS9hY2NvdW50cy5zc28uY29udGludWVgLCBbc2VydmVyUGFyYW1zLCBwYXJhbXNdLCAnUE9TVCcpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNzb0NvbnRleHQocGFyYW1zOiBJQmFzZVBhcmFtcykge1xuICAgIHBhcmFtcz8uY2FsbGJhY2soZ2lneWEuXy5zc28/LmNvbnRleHQgfHwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U3NvQ29udGV4dChjb250ZXh0OiBJU1NPQ29udGV4dCl7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRVcmxDb250ZXh0UGFyYW1zKCk7XG4gICAgICAgIGNvbnN0IHJwQ29udGV4dCA9IGNvbnRleHQ/LnJwQ29udGV4dCA/IEpTT04ucGFyc2UoY29udGV4dC5ycENvbnRleHQpIDoge307XG4gICAgICAgIGdpZ3lhLl8uc3NvLmNvbnRleHQgPSB7Li4udXJsUGFyYW1zLCAuLi5ycENvbnRleHR9XG4gICAgfWNhdGNoKGUpe1xuICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ2ZhaWxlZCB0byBzZXQgc3NvIGNvbnRleHQnKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gdmVyaWZ5U2l0ZUNvbmZpZ3VyYXRpb24oKTogYm9vbGVhbiB7XG4gICAgaWYoIWdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5zc29LZXkpIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oYE5vdCBpbiBTU08gR3JvdXBgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZighZ2lneWEudGhpc1NjcmlwdD8uZ2xvYmFsQ29uZj8uWydzdG9yYWdlRG9tYWluT3ZlcnJpZGUnXSkge1xuICAgICAgICBnaWd5YS5sb2dnZXIud2FybihgQ2VudHJhbCBsb2dpbiBwYWdlIG11c3QgY29uZmlndXJlIHN0b3JhZ2VEb21haW5PdmVycmlkZSBpbiB3ZWJTREsgQ29uZmlndXJhdGlvbmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBnZXRVcmxDb250ZXh0UGFyYW1zKCl7XG4gICByZXR1cm4gbmV3IFVybFBhcmFtc0hlbHBlcigpXG4gICAgICAgIC5nZXRHaWdQYXJhbXNGcm9tVVJMKClcbiAgICAgICAgLnJlbW92ZVVuYWNjZXB0YWJsZVBhcmFtcyhuZXcgUmVnRXhwKGAke0dJR1lBX0lOVEVSTkFMX1BBUkFNX1BSRUZJWH18JHtHSUdZQV9JTlRFUk5BTF9QQVJBTVN9fGdpZ19zc29Ub2tlbmApKVxuICAgICAgICAucmVtb3ZlUHJlZml4KClcbiAgICAgICAgLnRvT2JqZWN0KCk7XG59XG4iLCJpbXBvcnQge2dldCBhcyBnZXRHbHRUb2tlbiwgc2V0RnJvbVNzb1Jlc3BvbnNlfSBmcm9tIFwiLi4vVG9rZW5TdG9yZVwiO1xuaW1wb3J0IHtHU0Vycm9yc30gZnJvbSBcIi4uLy4uLy4uL0dpZ3lhLkpzL2FwcC9HU0Vycm9yc1wiO1xuaW1wb3J0IHtzZXNzaW9uRGF0YX0gZnJvbSBcIi4uLy4uLy4uL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xuaW1wb3J0IHtTc29TZXJ2aWNlfSBmcm9tIFwiLi4vU3NvU2VydmljZVwiO1xuaW1wb3J0IHtwcm9taXNpZnl9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9wcm9taXNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhc1Nlc3Npb24oKSB7XG4gICAgY29uc3QgbG9nID0gZ2lneWEubG9nZ2VyLmdyb3VwKGBoYXNTZXNzaW9uYCk7XG4gICAgY29uc3QgYXBpS2V5ID0gZ2lneWEudGhpc1NjcmlwdD8uZ2xvYmFsQ29uZj8uWydBUElLZXknXSB8fCBnaWd5YS50aGlzU2NyaXB0Py5BUElLZXk7XG5cbiAgICBnaWd5YS5sb2dnZXIuaW5mbyhgY2hlY2tpbmcgc2Vzc2lvbiBleGlzdCBmb3IgYXBpS2V5OiAke2FwaUtleX1gKTtcbiAgICBpZihnaWd5YS50aGlzU2NyaXB0Py5BUElLZXkgIT09IGFwaUtleSkge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgZWZmZWN0aXZlIGFwaUtleSBmb3IgY2hlY2tpbmcgc2Vzc2lvbiBhbmQgdGhlIGFwaUtleSB0aGF0IHRoZSBzY3JpcHQgd2FzIGxvYWRlZCB3aXRoIGFyZSBkaWZmZXJlbnRgKTtcbiAgICB9XG4gICAgbGV0IGdsdFRva2VuID0gZ2V0R2x0VG9rZW4oKTtcbiAgICBpZighZ2x0VG9rZW4gJiYgZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0tleSkge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgU1NPIGdyb3VwLCBzeW5jIGxvZ2luIHRva2VuIGZyb20gZ3JvdXBgKTtcbiAgICAgICAgZ2x0VG9rZW4gPSBhd2FpdCBzeW5jR3JvdXBUb2tlbihhcGlLZXkpO1xuICAgIH1cbiAgICBpZihnbHRUb2tlbikge1xuICAgICAgICBpZihzZXNzaW9uRGF0YS5pc1Nlc3Npb25WZXJpZmllZChnbHRUb2tlbikpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2dpbiB0b2tlbiBleGlzdCBhbmQgc2Vzc2lvbiBpcyBhbHJlYWR5IHZlcmlmaWVkLCBzZXNzaW9uIGlzIHZhbGlkYCk7XG4gICAgICAgICAgICBsb2cuZW5kKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2dpbiB0b2tlbiBleGlzdCBhbmQgc2Vzc2lvbiBpcyBub3QgdmVyaWZpZWQsIHZlcmlmeWluZyBzZXNzaW9uLi4uYCk7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBwcm9taXNpZnkoZ2lneWEuYWNjb3VudHMudmVyaWZ5TG9naW4pO1xuICAgICAgICAgICAgY29uc3QgaXNTZXNzaW9uVmVyaWZpZWQgPSByZXNwb25zZT8uZXJyb3JDb2RlID09IEdTRXJyb3JzLk9LO1xuICAgICAgICAgICAgc2Vzc2lvbkRhdGEuc2V0SXNTZXNzaW9uVmVyaWZpZWQoZ2x0VG9rZW4sIGlzU2Vzc2lvblZlcmlmaWVkKVxuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oaXNTZXNzaW9uVmVyaWZpZWQgPyBgc2Vzc2lvbiB2ZXJpZmllZGAgOiBgc2Vzc2lvbiBpcyBub3QgdmVyaWZpZWRgKTtcbiAgICAgICAgICAgIGxvZy5lbmQoKTtcbiAgICAgICAgICAgIHJldHVybiBpc1Nlc3Npb25WZXJpZmllZDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG9VUkxQYXJhbXMgPSBnaWd5YS51dGlscy5VUkwuZ2V0UGFyYW1zRnJvbVVSTChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgaWYob1VSTFBhcmFtc1snZXJyb3JDb2RlJ10gJiYgb1VSTFBhcmFtc1sncmVnVG9rZW4nXSkge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHVzZXIgaXMgcmV0dXJuZWQgZnJvbSByZWRpcmVjdCwgd2FpdCBmb3IgbG9naW4gY29tcGxldGlvbmApO1xuICAgICAgICAgICAgbG9nLmVuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmFjY291bnRzLmFkZEV2ZW50SGFuZGxlcnMoe29uTG9naW46ICgpID0+IHJlc29sdmUodHJ1ZSl9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2dpbiB0b2tlbiBkb2Vzbid0IGV4aXN0YCk7XG4gICAgICAgIGxvZy5lbmQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bmNHcm91cFRva2VuKGxvY2FsQXBpS2V5OiBzdHJpbmcgPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYHN5bmMgbG9naW4gdG9rZW4gZnJvbSBncm91cGApO1xuICAgIGNvbnN0IHNlcnZpY2UgPSBhd2FpdCBTc29TZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBzZXJ2aWNlPy5nZXRUb2tlbigpO1xuICAgIGF3YWl0IHNldEZyb21Tc29SZXNwb25zZSh0b2tlbiwgbG9jYWxBcGlLZXkpO1xuICAgIHJldHVybiBnZXRHbHRUb2tlbihsb2NhbEFwaUtleSk7XG59XG4iLCJpbXBvcnQge1xuICAgIE1vZGUsXG4gICAgU0RLU2V0R3JvdXBUb2tlblBhcmFtcyxcbiAgICBTREtHZXRHcm91cFRva2VuUGFyYW1zLFxuICAgIFNES0xvZ291dFBhcmFtcyxcbiAgICBTREtSZW1vdmVHcm91cFRva2VuUGFyYW1zLFxuICAgIFNES1NldExvZ2luVG9rZW5FeHBQYXJhbXMsXG4gICAgU0RLR2V0TG9naW5Ub2tlbkV4cFBhcmFtcyxcbiAgICBTREtDaGVja1Rva2VuUmVuZXdQYXJhbXMsXG4gICAgU0RLQ2FuYXJ5SW5kaWNhdGlvblBhcmFtcyxcbiAgICBTREtCYXNlUGFyYW1zLFxuICAgIEZyYW1lQmFzZVBhcmFtcyxcbiAgICBHZXRHcm91cFRva2VuUmVzcG9uc2UsXG4gICAgU0RLU2V0R3JvdXBDb250ZXh0LFxuICAgIElTc29TZXJ2aWNlLFxuICAgIEdldExvZ2luVG9rZW5FeHBSZXNwb25zZSxcbiAgICBDYW5hcnlJbmRpY2F0aW9uUmVzcG9uc2UsXG4gICAgU2V0TG9naW5Ub2tlbkV4cFJlc3BvbnNlLFxuICAgIEdldEdyb3VwQXBpRG9tYWluUmVzcG9uc2UsXG4gICAgU2V0R3JvdXBBcGlEb21haW5QYXJhbXMsXG4gICAgU0RLR2V0R3JvdXBBcGlEb21haW5QYXJhbXMsXG4gICAgU0RLU2V0R3JvdXBBcGlEb21haW5QYXJhbXMsXG4gICAgU0RLTG9nb3V0UmVzcG9uc2UsXG59IGZyb20gJ3NyYy9maWRtL0dpZ3lhLkpTLlNTTy9hcHAvaW50ZXJmYWNlcyc7XG5pbXBvcnQge1Nzb30gZnJvbSAnc3JjL2ZpZG0vR2lneWEuSlMuU1NPL2FwcC9zc28nO1xuaW1wb3J0IHtnZXRTdG9yYWdlRG9tYWlufSBmcm9tICcuLi8uLi9HaWd5YS5Kcy9hcHAvVXRpbHMvZG9tYWlucyc7XG5pbXBvcnQge2NyZWF0ZUlmcmFtZX0gZnJvbSBcIi4uLy4uL1NlcnZpY2VQcm94eS91dGlsc1wiO1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSBcIi4uLy4uL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9GbGFnU2VydmljZVwiO1xuaW1wb3J0IHtTZXJ2aWNlUHJveHl9IGZyb20gJy4uLy4uL1NlcnZpY2VQcm94eS9TZXJ2aWNlUHJveHknO1xuXG4vLyAjIyMgU2luZ2xlIFNpZ24gT24gYWNyb3NzIG11bHRpcGxlIGRvbWFpbnMgIyMjXG5cbmxldCBjYWxsYmFja0NvdW50ZXIgPSAwO1xuZXhwb3J0IHZhciBfc3RvcmVkTG9naW5Ub2tlbkV4cDogc3RyaW5nO1xuZXhwb3J0IGxldCBfcmVxdWVzdFRpbWVvdXQ6IG51bWJlciA9IDMwMDA7XG5cbmV4cG9ydCBjbGFzcyBTc29TZXJ2aWNlIGltcGxlbWVudHMgSVNzb1NlcnZpY2Uge1xuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogSVNzb1NlcnZpY2U7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0SW5zdGFuY2Uoc3NvS2V5OiBzdHJpbmcgPSBnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5KTogUHJvbWlzZTxJU3NvU2VydmljZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICBpZiAoIXNzb0tleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChGbGFnU2VydmljZS5sb2FkU3NvRnJhbWVPbmx5T25jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHFzID0gZ2lneWEudXRpbHMua2V5VmFsdWUuc2VyaWFsaXplKHtcbiAgICAgICAgICAgICAgICAgICAgQVBJS2V5OiBzc29LZXksXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGdpZ3lhLmJ1aWxkLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkOiBnaWd5YS5idWlsZC5udW1iZXIgfHwgLTEsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUtleTogZ2lneWEudGhpc1NjcmlwdC5BUElLZXksXG4gICAgICAgICAgICAgICAgICAgIG9uZUZyYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IGAke2dpZ3lhLmxvY2FsSW5mby5wcm90b2NvbH06Ly8ke2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIHNzb1NlZ21lbnQ6IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5zc29TZWdtZW50IHx8ICcnXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly8ke2dldFN0b3JhZ2VEb21haW4oKX0vZ3Mvc3NvLmh0bT8ke3FzfWA7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzc29BZGFwdGVyID0gbmV3IFNlcnZpY2VQcm94eSh1cmwpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNzb0FkYXB0ZXIuaW5pdCgnU1NPJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gc3NvQWRhcHRlci53cmFwV2l0aDxJU3NvU2VydmljZT4oU3NvKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZXJyb3IoYGVycm9yIGluaXRpYWxpemUgc3NvIGZyYW1lYCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICdTc29TZXJ2aWNlLmluaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgU3NvU2VydmljZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBTc29TZXJ2aWNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjaGVja1Rva2VuUmVuZXcobG9naW5Ub2tlbjogc3RyaW5nKTogUHJvbWlzZTxHZXRHcm91cFRva2VuUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY2hlY2tUb2tlblJlbmV3KHtsb2dpblRva2VuLCBjYWxsYmFjazogcmVzb2x2ZX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VG9rZW4oKTogUHJvbWlzZTxHZXRHcm91cFRva2VuUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgZ2V0R3JvdXBUb2tlbih7Y2FsbGJhY2s6IHJlc29sdmV9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRva2VuRXhwaXJhdGlvbigpOiBQcm9taXNlPEdldExvZ2luVG9rZW5FeHBSZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBnZXRMb2dpblRva2VuRXhwKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcmVzb2x2ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGxvZ291dCgpOiBQcm9taXNlPFNES0xvZ291dFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGxvZ291dCh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHJlc29sdmVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVUb2tlbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gIHtcbiAgICAgICAgICAgIHJlbW92ZUdyb3VwVG9rZW4oe2NhbGxiYWNrOiByZXNvbHZlfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEdyb3VwQ29udGV4dChncm91cENvbnRleHQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRHcm91cENvbnRleHRDb29raWUoe2dyb3VwQ29udGV4dCwgY2FsbGJhY2s6IHJlc29sdmV9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VG9rZW4obHQ6IHN0cmluZywgZXhwaXJhdGlvbj86IG51bWJlciB8IHN0cmluZywgZ2x0ZXhwPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHNldEdyb3VwVG9rZW4oe1xuICAgICAgICAgICAgICAgIGx0LCBleHBpcmF0aW9uLCBnbHRleHAsIGNhbGxiYWNrOiByZXNvbHZlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VG9rZW5FeHBpcmF0aW9uKGxvZ2luVG9rZW5FeHA6IHN0cmluZywgdXNlQ2FjaGU6IGJvb2xlYW4gPSB0cnVlKTogUHJvbWlzZTxTZXRMb2dpblRva2VuRXhwUmVzcG9uc2U+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgc2V0TG9naW5Ub2tlbkV4cCh7XG4gICAgICAgICAgICAgICAgbG9naW5Ub2tlbkV4cCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcmVzb2x2ZVxuICAgICAgICAgICAgfSwgdXNlQ2FjaGUpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHN5bmNDYW5hcnlJbmRpY2F0aW9uKGlzQ2FuYXJ5OiBzdHJpbmcsIGNhbmFyeVZlcnNpb246IHN0cmluZyk6IFByb21pc2U8Q2FuYXJ5SW5kaWNhdGlvblJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHN5bmNDYW5hcnlJbmRpY2F0aW9uKHtpc0NhbmFyeSwgY2FuYXJ5VmVyc2lvbiwgY2FsbGJhY2s6IHJlc29sdmV9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyb3VwQXBpRG9tYWluKCk6IFByb21pc2U8R2V0R3JvdXBBcGlEb21haW5SZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBnZXRHcm91cEFwaURvbWFpbih7Y2FsbGJhY2s6IHJlc29sdmV9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEdyb3VwQXBpRG9tYWluKGRvbWFpbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHNldEdyb3VwQXBpRG9tYWluKHtjYWxsYmFjazogcmVzb2x2ZSwgZG9tYWlufSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gX3JlcXVlc3QoXG4gICAgbW9kZTogTW9kZSxcbiAgICBwOlxuICAgICAgICB8IFNES1NldEdyb3VwVG9rZW5QYXJhbXNcbiAgICAgICAgfCBTREtHZXRHcm91cFRva2VuUGFyYW1zXG4gICAgICAgIHwgU0RLTG9nb3V0UGFyYW1zXG4gICAgICAgIHwgU0RLUmVtb3ZlR3JvdXBUb2tlblBhcmFtc1xuICAgICAgICB8IFNES1NldExvZ2luVG9rZW5FeHBQYXJhbXNcbiAgICAgICAgfCBTREtHZXRMb2dpblRva2VuRXhwUGFyYW1zXG4gICAgICAgIHwgU0RLQ2hlY2tUb2tlblJlbmV3UGFyYW1zXG4gICAgICAgIHwgU0RLQ2FuYXJ5SW5kaWNhdGlvblBhcmFtc1xuICAgICAgICB8IFNES1NldEdyb3VwQ29udGV4dFxuKSB7XG4gICAgaWYgKCFnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5KSB7XG4gICAgICAgIGlmIChwICYmIHAuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIChwIGFzIFNES0Jhc2VQYXJhbXMpLmNhbGxiYWNrKHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHBhcmFtczogRnJhbWVCYXNlUGFyYW1zO1xuICAgIGlmICghcCkge1xuICAgICAgICBwYXJhbXMgPSB7fSBhcyBhbnk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBwYXJhbXMgcGFzc2VkIGFyZSBub3QgbW9kaWZpZWQgYnkgcmVmZXJlbmNlLlxuICAgICAgICBwYXJhbXMgPSBnaWd5YS51dGlscy5vYmplY3QuY2xvbmUocCk7XG4gICAgfVxuXG4gICAgbGV0IGlmcjogSFRNTElGcmFtZUVsZW1lbnQ7XG4gICAgbGV0IHJlcXVlc3RUaW1lb3V0SWQ7XG5cbiAgICBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5kZWJ1ZyhgY2xlYW5pbmcgc3NvIGlmcmFtZWApO1xuXG4gICAgICAgIC8vIGNsZWFudXAgaWZyYW1lXG4gICAgICAgIGlmci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcik7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlcXVlc3RUaW1lb3V0SWQpO1xuXG4gICAgICAgIC8vIFR5cGVjYXN0IHJlc3BvbnNlLlxuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgJiYgdHlwZW9mIHJlc3BvbnNlLmVycm9yQ29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5lcnJvckNvZGUgPSBOdW1iZXIocmVzcG9uc2UuZXJyb3JDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5leHBpcmVzX2luICYmIHR5cGVvZiByZXNwb25zZS5leHBpcmVzX2luID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmV4cGlyZXNfaW4gPSBOdW1iZXIocmVzcG9uc2UuZXhwaXJlc19pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocCAmJiBwLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAocCBhcyBTREtCYXNlUGFyYW1zKS5jYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHBhcmFtcy5tID0gbW9kZTtcbiAgICBwYXJhbXMuZCA9IGAke2dpZ3lhLmxvY2FsSW5mby5wcm90b2NvbH06Ly8ke2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lfWA7XG5cbiAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24ucG9ydCkge1xuICAgICAgICBwYXJhbXMuZCArPSAnOicgKyBkb2N1bWVudC5sb2NhdGlvbi5wb3J0O1xuICAgIH1cblxuICAgIC8vIENocm9tZSBjYWNoZXMgdGhlIGZyYWdtZW50IHdoZW4gbG9hZGVkIGZvciB0aGUgZmlyc3QgdGltZS4gd29ya2Fyb3VuZDpcbiAgICBwYXJhbXMuY2FsbGJhY2tJRCA9ICdnaWdfc3NvX2NiJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJ18nICsgY2FsbGJhY2tDb3VudGVyKys7XG4gICAgcGFyYW1zLnNBUElLZXkgPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleTtcbiAgICBwYXJhbXNbZ2lneWEubG9nZ2VyLmNvbmZpZ0tleV0gPSBKU09OLnN0cmluZ2lmeShnaWd5YS5sb2dnZXIuZ2V0Q29uZmlnKCkpO1xuICAgIGNvbnN0IGZyYWdtZW50ID0gZ2lneWEudXRpbHMua2V5VmFsdWUuc2VyaWFsaXplKHBhcmFtcyk7XG5cbiAgICBjb25zdCBpZnJhbWVMb2FkZXIgPSAocmV0cmllcyA9IDApID0+IHtcblxuICAgICAgICBnaWd5YS51dGlscy54ZC5hZGRNZXNzYWdlTGlzdGVuZXIocGFyYW1zLmNhbGxiYWNrSUQsIHt9LCBmYWxzZSwgY2FsbGJhY2ssIGdpZ3lhLl8uTWVzc2FnaW5nTWV0aG9kLlBvc3RNZXNzYWdlKTtcbiAgICAgICAgaWZyID0gX2dldElmcmFtZShwYXJhbXMuY2FsbGJhY2tJRCk7XG5cbiAgICAgICAgY29uc3QgZm5PbkxvYWQgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIHJlcXVlc3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgICAgIC8vIHRvdGFsIGZhaWx1cmVcbiAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA8PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKGBTU08gQ29tbXVuaWNhdGlvbiBUaW1lb3V0YCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgSUUxMVByaXZhdGVNb2RlOiBnaWd5YS5sb2NhbEluZm8uaXNJRTExICYmICF3aW5kb3cuaW5kZXhlZERCLCBtb2RlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgICAgICAgICBnaWd5YS51dGlscy54ZC5yZW1vdmVNZXNzYWdlTGlzdGVuZXIocGFyYW1zLmNhbGxiYWNrSUQpO1xuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVFbGVtZW50KGlmcik7XG5cbiAgICAgICAgICAgICAgICAvLyByZXRyeVxuICAgICAgICAgICAgICAgIGlmcmFtZUxvYWRlcihyZXRyaWVzIC0gMSk7XG5cbiAgICAgICAgICAgIH0sIF9yZXF1ZXN0VGltZW91dCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHFzID0gZ2lneWEudXRpbHMua2V5VmFsdWUuc2VyaWFsaXplKHtcbiAgICAgICAgICAgICAgICBBUElLZXk6IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5zc29LZXksXG4gICAgICAgICAgICAgICAgc3NvU2VnbWVudDogZ2lneWEucGFydG5lclNldHRpbmdzLnNzb1NlZ21lbnQgfHwgJycsIC8vIFRoZXJlIGlzIG5vIGRlZmF1bHQgc2VnbWVudCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogZ2lneWEuYnVpbGQudmVyc2lvbixcbiAgICAgICAgICAgICAgICBidWlsZDogZ2lneWEuYnVpbGQubnVtYmVyIHx8IC0xLCAvLyBUbyBjbGVhciBDRE4gY2FjaGUuLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNob3VsZCBhbHdheXMgbG9hZCBmcm9tIGdpZ3lhJ3MgZG9tYWluIGV4Y2VwdCB3aGVuIG92ZXJyaWRlbiBmb3IgIzUwMjYxLlxuICAgICAgICAgICAgaWZyLnNyYyA9IGBodHRwczovLyR7Z2V0U3RvcmFnZURvbWFpbigpfS9ncy9zc28uaHRtPyR7cXN9IyR7ZnJhZ21lbnR9YDtcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLkRPTS5yZW1vdmVFdmVudExpc3RlbmVyKGlmciwgJ2xvYWQnLCBmbk9uTG9hZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZ2lneWEudXRpbHMuRE9NLmFkZEV2ZW50TGlzdGVuZXIoaWZyLCAnbG9hZCcsIGZuT25Mb2FkKTtcblxuICAgICAgICBnaWd5YS5sb2dnZXIuZGVidWcoYG9wZW5pbmcgc3NvIGlmcmFtZWAsIHBhcmFtcyk7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGlmcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnaWd5YS51dGlscy5mdW5jdGlvbnMuaW52b2tlT25QYWdlTG9hZCgoKSA9PiBnaWd5YS51dGlscy5ET00uYXBwZW5kVG9Cb2R5KGlmcikpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmcmFtZUxvYWRlcigzKTtcbn1cbmZ1bmN0aW9uIF9nZXRJZnJhbWUocmVxdWVzdElkOiBzdHJpbmcpOiBIVE1MSUZyYW1lRWxlbWVudCB7XG4gICAgbGV0IGlmcjtcbiAgICBpZiAoRmxhZ1NlcnZpY2UuaGlkZVNTT0ZyYW1lKSB7XG4gICAgICAgIGlmciA9IGNyZWF0ZUlmcmFtZSgnU1NPIEZyYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIC8vIEFic29sdXRlIHBvc2l0aW9uIHdpdGggLTEwMDBweCBjYXVzZXMgc2Nyb2xsaW5nIHNsb3dkb3ducyBvbiBtb2JpbGUgZGV2aWNlcy5cbiAgICAgICAgaWYgKGdpZ3lhLmxvY2FsSW5mby5pc0lPUyB8fCBnaWd5YS5sb2NhbEluZm8uaXNJT1NDaHJvbWUgfHwgZ2lneWEubG9jYWxJbmZvLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgaWZyLnN0eWxlLndpZHRoID0gJzBweCc7XG4gICAgICAgICAgICBpZnIuc3R5bGUuaGVpZ2h0ID0gJzBweCc7XG4gICAgICAgICAgICBpZnIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmci5zdHlsZS53aWR0aCA9ICczMHB4JztcbiAgICAgICAgICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG4gICAgICAgICAgICBpZnIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgaWZyLnN0eWxlLnRvcCA9ICctMTAwMHB4JztcbiAgICAgICAgICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWZyLmlkID0gJ2dpZ19zc29fJyArIHJlcXVlc3RJZDtcbiAgICBnaWd5YS51dGlscy5mdW5jdGlvbnMuYWRkU3JjVG9JRnJhbWVJZk5lZWRlZChpZnIpO1xuXG4gICAgcmV0dXJuIGlmcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cFRva2VuKHBhcmFtcz86IFNES0dldEdyb3VwVG9rZW5QYXJhbXMpOiB2b2lkIHtcbiAgICBnaWd5YS5sb2dnZXIuaW5mbyhgdHJ5aW5nIHRvIGdldCBzc28gZ3JvdXAgbG9naW4gdG9rZW5gKTtcblxuICAgIF9yZXF1ZXN0KCdnZXRUb2tlbicsIHtcbiAgICAgICAgY2FsbGJhY2s6IChyZXNwb25zZTogR2V0R3JvdXBUb2tlblJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBfc3RvcmVkTG9naW5Ub2tlbkV4cCA9IHJlc3BvbnNlLmdsdGV4cDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEdyb3VwVG9rZW4ocGFyYW1zOiBTREtTZXRHcm91cFRva2VuUGFyYW1zKTogdm9pZCB7XG4gICAgLy8gQWRkIGN1cnJlbnQgZ2x0ZXhwIGNvb2tpZSB0byB0aGUgcGFyYW1ldGVycyBhdXRvbWF0aWNhbGx5LlxuICAgIGlmICghcGFyYW1zLmdsdGV4cCkge1xuICAgICAgICBwYXJhbXMuZ2x0ZXhwID0gZ2lneWEudXRpbHMuY29va2llLmdldChgZ2x0ZXhwXyR7Z2lneWEudGhpc1NjcmlwdC5BUElLZXl9YCk7XG4gICAgfVxuICAgIF9yZXF1ZXN0KCdzZXRUb2tlbicsIHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQocGFyYW1zPzogU0RLTG9nb3V0UGFyYW1zKTogdm9pZCB7XG4gICAgX3JlcXVlc3QoJ2xvZ291dCcsIHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVHcm91cFRva2VuKHBhcmFtcz86IFNES1JlbW92ZUdyb3VwVG9rZW5QYXJhbXMpOiB2b2lkIHtcbiAgICBfcmVxdWVzdCgncmVtb3ZlVG9rZW4nLCBwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9naW5Ub2tlbkV4cChwYXJhbXM6IFNES1NldExvZ2luVG9rZW5FeHBQYXJhbXMsIHVzZUNhY2hlID0gdHJ1ZSk6IHZvaWQge1xuICAgIC8vIERvbid0IHN0b3JlIHRoZSBsb2dpbiB0b2tlbiBhZ2FpbiBpZiB3ZSd2ZSBhbHJlYWR5IHN0b3JlZCBpdC5cbiAgICBpZiAodXNlQ2FjaGUgJiYgX3N0b3JlZExvZ2luVG9rZW5FeHAgJiYgcGFyYW1zLmxvZ2luVG9rZW5FeHAgPT09IF9zdG9yZWRMb2dpblRva2VuRXhwKSB7XG4gICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHBhcmFtcy5jYWxsYmFjayh7IGdsdGV4cDogX3N0b3JlZExvZ2luVG9rZW5FeHAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfc3RvcmVkTG9naW5Ub2tlbkV4cCA9IHBhcmFtcy5sb2dpblRva2VuRXhwO1xuICAgIF9yZXF1ZXN0KCdzZXRMb2dpblRva2VuRXhwJywgcGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2luVG9rZW5FeHAocGFyYW1zOiBTREtHZXRMb2dpblRva2VuRXhwUGFyYW1zKTogdm9pZCB7XG4gICAgX3JlcXVlc3QoJ2dldExvZ2luVG9rZW5FeHAnLCBwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tUb2tlblJlbmV3KHBhcmFtczogU0RLQ2hlY2tUb2tlblJlbmV3UGFyYW1zKTogdm9pZCB7XG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYHZlcmlmeWluZyBsb2dpbiB0b2tlbiB3aXRoIHNzbyBncm91cGApO1xuICAgIF9yZXF1ZXN0KCdjaGVja1Rva2VuUmVuZXcnLCBwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3luY0NhbmFyeUluZGljYXRpb24ocGFyYW1zOiBTREtDYW5hcnlJbmRpY2F0aW9uUGFyYW1zKTogdm9pZCB7XG4gICAgX3JlcXVlc3QoJ3N5bmNDYW5hcnlJbmRpY2F0aW9uJywgcGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEdyb3VwQ29udGV4dENvb2tpZShwYXJhbXM6IFNES1NldEdyb3VwQ29udGV4dCl7XG4gICAgX3JlcXVlc3QoJ3NldEdyb3VwQ29udGV4dCcsIHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cEFwaURvbWFpbihwYXJhbXM6IFNES1NldEdyb3VwQXBpRG9tYWluUGFyYW1zKTogdm9pZCB7XG4gICAgX3JlcXVlc3QoJ3NldEdyb3VwQXBpRG9tYWluJywgcGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyb3VwQXBpRG9tYWluKHBhcmFtczogU0RLR2V0R3JvdXBBcGlEb21haW5QYXJhbXMpe1xuICAgIF9yZXF1ZXN0KCdnZXRHcm91cEFwaURvbWFpbicsIHBhcmFtcyk7XG59XG4iLCJpbXBvcnQgeyBHZXRHcm91cFRva2VuUmVzcG9uc2UgfSBmcm9tICdzcmMvZmlkbS9HaWd5YS5KUy5TU08vYXBwL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgU3NvU2VydmljZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzLkFkYXB0ZXJzLldlYi9hcHAvU3NvU2VydmljZSc7XG5pbXBvcnQgeyBHU0Vycm9ycyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycyc7XG5pbXBvcnQgeyBzZXNzaW9uRGF0YSB9ICBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvU2VydmljZXMvU2Vzc2lvblNlcnZpY2UnO1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSAgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5cbi8vIExvYWQgYW5kIHNhdmUgdG9rZW5zIGJhc2VkIG9uIEFQSSBrZXlzXG5sZXQgX2N1clNlc3Npb25FeHBpcmF0aW9uOiBudW1iZXI7XG5sZXQgX2JlYXJlclRva2VuID0gbnVsbDtcbmNvbnN0IF90cmllZEdBQ3MgPSB7fTtcbmV4cG9ydCBjb25zdCBhY3RpdmVOYW1lc3BhY2VzID0ge307XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEdsdEV4cChnbHRleHA6IHN0cmluZyA9IGdldEdsdGV4cENvb2tpZSgpKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICFnbHRleHAgfHwgZ2lneWEudXRpbHMuZ2x0ZXhwLmlzVmFsaWQoZ2x0ZXhwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbHRleHBDb29raWUoQVBJS2V5OiBzdHJpbmcgPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSkge1xuICAgIHJldHVybiBnaWd5YS51dGlscy5jb29raWUuZ2V0KGdldEdsdENvb2tpZUtleShBUElLZXkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRHbHRleHAoZ2x0ZXhwOiBzdHJpbmcsIEFQSUtleTogc3RyaW5nID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICBpZiAoZ2x0ZXhwICYmICFpc0dpZ3lhQ29va2llRG9tYWluKCkpIHtcbiAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnJlbW92ZShnZXRHbHRDb29raWVLZXkoQVBJS2V5KSk7XG5cbiAgICAgICAgaWYoRmxhZ1NlcnZpY2Uuc2V0Q29va2llU2FtZVNpdGVMYXhTZXNzaW9uKSB7XG4gICAgICAgICAgICBnaWd5YS51dGlscy5jb29raWUuc2V0KGdldEdsdENvb2tpZUtleShBUElLZXkpLCBnbHRleHAsIG51bGwsIG51bGwsIG51bGwsICdMYXgnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5zZXQoZ2V0R2x0Q29va2llS2V5KEFQSUtleSksIGdsdGV4cCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEdsdENvb2tpZUtleShBUElLZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBnbHRleHBfJHtBUElLZXl9YDtcbn1cblxuZnVuY3Rpb24gX2dldFRva2VuQ29va2llTmFtZShBUElLZXkgPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSkge1xuICAgIGlmIChBUElLZXkpIHtcbiAgICAgICAgcmV0dXJuICdnbHRfJyArIEFQSUtleTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ19naWdfbHQnO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXQoQVBJS2V5ID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICBjb25zdCBsdCA9IGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoX2dldFRva2VuQ29va2llTmFtZShBUElLZXkpKTtcbiAgICBpZiAobHQpIHtcbiAgICAgICAgcmV0dXJuIGx0LnNwbGl0KCd8JylbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNldChBUElLZXk6IHN0cmluZywgbG9naW5fdG9rZW46IHN0cmluZywgZXhwaXJlc19pbj86IG51bWJlciB8IHN0cmluZywgc2Vzc2lvbkV4cGlyYXRpb24/OiBudW1iZXIpIHtcbiAgICBnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2lneWFTZXR0aW5ncycpO1xuXG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYHNldHRpbmcgYSBuZXcgbG9naW4gdG9rZW5gKTtcblxuICAgIGlmICghQVBJS2V5KSB7XG4gICAgICAgIEFQSUtleSA9IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5O1xuICAgIH1cbiAgICBpZiAoQVBJS2V5KSB7XG4gICAgICAgIGlmKEZsYWdTZXJ2aWNlLnNldENvb2tpZVNhbWVTaXRlTGF4U2Vzc2lvbikge1xuICAgICAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnNldCgnZ2x0XycgKyBBUElLZXksIGxvZ2luX3Rva2VuLCBleHBpcmVzX2luLCBudWxsLCBudWxsLCAnTGF4Jyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5zZXQoJ2dsdF8nICsgQVBJS2V5LCBsb2dpbl90b2tlbiwgZXhwaXJlc19pbik7XG4gICAgICAgIH1cbiAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnJlbW92ZSgnZ2FjXycgKyBBUElLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKEZsYWdTZXJ2aWNlLnNldENvb2tpZVNhbWVTaXRlTGF4U2Vzc2lvbikge1xuICAgICAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnNldCgnX2dpZ19sdCcsIGxvZ2luX3Rva2VuLCBleHBpcmVzX2luLCBudWxsLCBudWxsLCAnTGF4Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnaWd5YS51dGlscy5jb29raWUuc2V0KCdfZ2lnX2x0JywgbG9naW5fdG9rZW4sIGV4cGlyZXNfaW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2N1clNlc3Npb25FeHBpcmF0aW9uID0gc2Vzc2lvbkV4cGlyYXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFNlc3Npb25FeHBpcmF0aW9uKCkge1xuICAgIHJldHVybiBfY3VyU2Vzc2lvbkV4cGlyYXRpb247XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0R0FDQ29va2llKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5ICYmIGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoJ2dhY18nICsgZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpXG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0RnJvbUF1dGhDb2RlKGF1dGhDb2RlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHNldEZyb21HQUMoe30sIHJlc29sdmUsIGF1dGhDb2RlKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRGcm9tR0FDKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24sIGdhYzogc3RyaW5nID0gZ2V0R0FDQ29va2llKCkpIHtcbiAgICBpZiAoZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICAgICAgaWYgKGdhYyAmJiAhcGFyYW1zWyduZXZlclRyeUdBQyddKSB7XG4gICAgICAgICAgICAvLyBTb21ldGltZXMgZ2FjIGlzIHNldCB3aXRoIHN1cnJvdW5kaW5nIGRvdWJsZS1xdW90ZXMgKGxpa2UgaW4gamF2YSkuIFN0cmlwIHF1b3Rlcy5cbiAgICAgICAgICAgIGlmIChnYWMuY2hhckF0KDApID09PSAnXCInICYmIGdhYy5jaGFyQXQoZ2FjLmxlbmd0aCAtIDEpID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgZ2FjID0gZ2FjLnN1YnN0cmluZygxLCBnYWMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdHJpZWRHQUNzW2dhY10pIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOyAvLyBBbHJlYWR5IHRyaWVkLCBkb24ndCB0cnkgYWdhaW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RyaWVkR0FDc1tnYWNdID0gdHJ1ZTtcblxuICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLnVwZGF0ZVJlZlVJRCgpO1xuXG4gICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUubm90aWZ5TG9naW4oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV2ZXJUcnlHQUM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhDb2RlOiBnYWMsXG4gICAgICAgICAgICAgICAgICAgIEFQSUtleTogZ2lneWEudGhpc1NjcmlwdC5BUElLZXksXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudF9pZDogZ2lneWEudGhpc1NjcmlwdC5BUElLZXlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB3ZSdyZSBub3QgcmFpc2luZyBvbkxvZ2luIGV2ZW50LCBhcyBubyBsb2dpbiB3YXMgbWFkZSwganVzdCBlc3RhYmxpc2hlZCAodmVyaWZpZWQgaW4gYnVnIDQzNDE5KS5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMuY29va2llLnJlbW92ZSgnZ2FjXycgKyBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXZlclRyeUdBQyBpcyB1c2VkIHRvIGF2b2lkIHRyeWluZyBzZXRGcm9tR2FjIGZvcmV2ZXIgaWYgdGhlIGNvb2tpZSB3YXNuJ3QgcmVtb3ZlZCAod2hlbiBhIHdyb25nIGJhc2VEb21haW4gaXMgdXNlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5yZWZyZXNoVUkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldmVyVHJ5R0FDOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRGcm9tU3NvUmVzcG9uc2UocmVzOiBHZXRHcm91cFRva2VuUmVzcG9uc2UsIEFQSUtleTogc3RyaW5nID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgIGlmICghcmVzKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAocmVzLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgY2FzZSBHU0Vycm9ycy5VTkFVVEhPUklaRURfVVNFUjpcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgbm8gZ3JvdXAgc2Vzc2lvbiBmb3VuZGApO1xuICAgICAgICAgICAgICAgIHJlbW92ZShBUElLZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHU0Vycm9ycy5JTlZBTElEX1RPS0VOOlxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBleGlzdGluZyBncm91cCBzZXNzaW9uIHdhcyByZXZva2VkYCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlKEFQSUtleSk7XG4gICAgICAgICAgICAgICAgZ2lneWEuZXZlbnRzLmdsb2JhbC5kaXNwYXRjaFdoZW5IYW5kbGVyQWRkZWQoe2V2ZW50TmFtZTogJ2FjY291bnRzLmxvZ291dCd9KTtcbiAgICAgICAgICAgICAgICBnaWd5YS5ldmVudHMuZ2xvYmFsLmRpc3BhdGNoV2hlbkhhbmRsZXJBZGRlZCh7ZXZlbnROYW1lOiAnbG9nb3V0J30pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHU0Vycm9ycy5UT0tFTl9IQVNfUkVORVdFRDpcbiAgICAgICAgICAgIGNhc2UgR1NFcnJvcnMuT0s6XG4gICAgICAgICAgICAgICAgaWYgKCFyZXMubG9naW5fdG9rZW4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBuZXcgc2Vzc2lvbiBmcm9tIGdyb3VwYCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZXhwaXJlc19pbjogbnVtYmVyIHwgc3RyaW5nO1xuICAgICAgICAgICAgICAgIGxldCBncm91cENvbnRleHQ6IGFueTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmdyb3VwQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cENvbnRleHQgPSBKU09OLnBhcnNlKHJlcy5ncm91cENvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzR2lneWFDb29raWVEb21haW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJdCBzaG91bGQgbmV2ZXIgZXhwaXJlIGlmIGEgZ2x0ZXhwIGlzIHByZXNlbnQuXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfaW4gPSAhcmVzLmdsdGV4cCA/IHJlcy5leHBpcmVzX2luIDogZ2lneWEudXRpbHMuY29va2llLmdldEluZmluaXRlRXhwaXJhdGlvblRpbWVJblNlY29uZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgbG9naW4gdG9rZW4gY29va2llXG4gICAgICAgICAgICAgICAgICAgIHNldChBUElLZXksIHJlcy5sb2dpbl90b2tlbiwgZXhwaXJlc19pbik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x0ZXhwQ29va2llTmFtZSA9IGBnbHRleHBfJHtBUElLZXl9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5nbHRleHAgJiYgIWdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoZ2x0ZXhwQ29va2llTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5zZXQoZ2x0ZXhwQ29va2llTmFtZSwgcmVzLmdsdGV4cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBkaXNwYXRjaExvZ2luRXZlbnQoe2V4cGlyZXNfaW4sIGdyb3VwQ29udGV4dH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHU0Vycm9ycy5ORVRXT1JLX0VSUk9SOlxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcihgZ2lneWE6IGVycm9yIGxvYWRpbmcgc3NvIGZyYW1lYCwge3Jlc30pO1xuICAgICAgICAgICAgICAgIGdpZ3lhLmV2ZW50cy5nbG9iYWwuZGlzcGF0Y2hXaGVuSGFuZGxlcnNBZGRlZChbJ2FjY291bnRzLmVycm9yJywgJ3NvY2lhbGl6ZS5lcnJvciddLCByZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZXJyb3IoYHNzbzogdW5zdXBwb3J0ZWQgcmVzcG9uc2VgKTtcbiAgICAgICAgICAgICAgICB0aHJvdyAnZ2lneWE6IHVuc3VwcG9ydGVkIHJlc3BvbnNlIGZyb20gc3NvJztcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlzcGF0Y2hMb2dpbkV2ZW50KGV2ZW50UGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGdpZ3lhLnV0aWxzLnF1ZXVlLmhvbGQoJ3ZlcmlmeUxvZ2luJywgJ0FQSScpO1xuICAgICAgICBnaWd5YS5hY2NvdW50cy52ZXJpZnlMb2dpbih7XG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSwgLy8gaWdub3JlIHRoZSBhcGkgcXVldWVcbiAgICAgICAgICAgIHN1cHByZXNzTG9naW5FdmVudDogdHJ1ZSwgLy8gdGhlIGNhbGxiYWNrIGJlbG93IHdpbGwgdHJpZ2dlciB0aGUgbG9naW4gZXZlbnRzXG4gICAgICAgICAgICBpbmNsdWRlOiBnaWd5YS51dGlscy5zdHJpbmdVdGlscy5tZXJnZUNvbW1hU2VwYXJhdGVkVmFsdWVzKCdwcm9maWxlLGRhdGEnLCBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2luY2x1ZGUnXSksXG4gICAgICAgICAgICBleHRyYVByb2ZpbGVGaWVsZHM6ICdzYW1sRGF0YScsXG4gICAgICAgICAgICBjYWxsYmFjazogYWNjb3VudEluZm9SZXMgPT4ge1xuICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLnF1ZXVlLnJlbGVhc2UoJ3ZlcmlmeUxvZ2luJywgJ0FQSScpOyAvLyByZWxlYXNlIHRoZSBhcGkgcXVldWVcbiAgICAgICAgICAgICAgICBzZXNzaW9uRGF0YS5zZXRJc1Nlc3Npb25WZXJpZmllZChnZXQoKSwgYWNjb3VudEluZm9SZXMuZXJyb3JDb2RlID09IEdTRXJyb3JzLk9LKTtcblxuICAgICAgICAgICAgICAgIC8vIHVzZSB3aGF0ZXZlciBmaWVsZCB5b3UgbmVlZCBmcm9tIGFjY291bnRJbmZvUmVzIG5vdyBiZWZvcmUgYWNjb3VudEluZm9SZXMgd2lsbCBiZSBvdmVycmlkZGVuIChzdWNoIGFzICdzb3VyY2UnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IGFjY291bnRJbmZvUmVzLnNvdXJjZTtcblxuICAgICAgICAgICAgICAgIGdpZ3lhLmV2ZW50cy5nbG9iYWwuZGlzcGF0Y2hXaGVuSGFuZGxlckFkZGVkKHsgZXZlbnROYW1lOiAnc29jaWFsaXplLmxvZ2luJyB9LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAoZXZlbnRPYmo6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmogPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqID0gZ2lneWEudXRpbHMub2JqZWN0Lm1lcmdlKFtldmVudE9iaiwgZXZlbnRQYXJhbXNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50SW5mb1Jlcy5lcnJvckNvZGUgPT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuZ2V0VXNlckluZm8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduSURzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYUZpZWxkczogJ3NhbWxEYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IHVzZXJJbmZvUmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VySW5mb1Jlcy5lcnJvckNvZGUgPT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE9iaiA9IGdpZ3lhLl8uYWRkVXNlckluZm9Ub0V2ZW50KHVzZXJJbmZvUmVzLCB7ZXZlbnROYW1lOiAnbG9naW4nfSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemluZyBldmVudCBmaWVsZHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmpbJ3NvdXJjZSddID0gc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqWyduZXdVc2VyJ10gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE9ialsncHJvdmlkZXInXSA9ICdzaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE9ialsnbG9naW5Nb2RlJ10gPSAnc3RhbmRhcmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudE9ialsndXNlciddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqWyd1c2VyJ10uZXJyb3JDb2RlID0gdXNlckluZm9SZXMuZXJyb3JDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE9ialsndXNlciddLmNhbGxJZCA9IHVzZXJJbmZvUmVzLmNhbGxJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50SW5mb1Jlcy5pZF90b2tlbiAmJiAoZXZlbnRPYmpbJ2lkX3Rva2VuJ10gPSBhY2NvdW50SW5mb1Jlcy5pZF90b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqWydjYW5jZWwnXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudE9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmpbJ2NhbmNlbCddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudE9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZ2lneWEuZXZlbnRzLmdsb2JhbC5kaXNwYXRjaFdoZW5IYW5kbGVyQWRkZWQoeyBldmVudE5hbWU6ICdhY2NvdW50cy5sb2dpbicgfSwgbnVsbCwgYXN5bmMgKGV2ZW50T2JqOiBPYmplY3QsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE9iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmogPSBnaWd5YS51dGlscy5vYmplY3QubWVyZ2UoW2V2ZW50T2JqLCBldmVudFBhcmFtc10pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50SW5mb1Jlcy5lcnJvckNvZGUgPT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqWydldmVudE5hbWUnXSA9ICdhY2NvdW50cy5sb2dpbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjY291bnRJbmZvUmVzLlVJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRJbmZvUmVzID0gYXdhaXQgbmV3IFByb21pc2U8YW55PihyID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmFjY291bnRzLmdldEFjY291bnRJbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiByLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZTogZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMubWVyZ2VDb21tYVNlcGFyYXRlZFZhbHVlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZmlsZSxkYXRhJywgZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydpbmNsdWRlJ10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEudXRpbHMub2JqZWN0LmV4dHJhY3RQcm9wZXJ0aWVzKGFjY291bnRJbmZvUmVzLCBldmVudE9iaiwgJ3NpZ25hdHVyZXxVSURTaWd8dGltZXN0YW1wfFVJRFNpZ25hdHVyZXxzaWduYXR1cmVUaW1lc3RhbXB8VUlEfHByb2ZpbGV8ZGF0YXxkYXRhQ2VudGVyfGlkX3Rva2VufGdyb3VwcycpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRPYmpbJ2NhbmNlbCddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudE9iaik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUoQVBJS2V5ID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICBpZiAoZ2V0KEFQSUtleSkpIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHJlbW92aW5nIGxvZ2luIHRva2VuYCk7XG4gICAgfVxuICAgIGdpZ3lhLnV0aWxzLmNvb2tpZS5yZW1vdmUoYGdsdF8ke0FQSUtleX1gKTtcbiAgICBnaWd5YS51dGlscy5jb29raWUucmVtb3ZlKCdfZ2lnX2x0Jyk7XG4gICAgZ2lneWEudXRpbHMuY29va2llLnJlbW92ZShgZ2x0ZXhwXyR7QVBJS2V5fWApO1xuICAgIGlmIChnaWd5YS5wYXJ0bmVyU2V0dGluZ3Muc3NvS2V5KSB7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGByZW1vdmluZyBncm91cCBsb2dpbiB0b2tlbmApO1xuICAgICAgICBjb25zdCBzZXJ2aWNlID0gYXdhaXQgU3NvU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICByZXR1cm4gc2VydmljZS5yZW1vdmVUb2tlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5QYXJhbShBUElLZXk6IHN0cmluZywgcGFyYW1OYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBsdCA9IGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXQoX2dldFRva2VuQ29va2llTmFtZShBUElLZXkpKTtcbiAgICBpZiAobHQpIHtcbiAgICAgICAgY29uc3QgbHRTZWdzID0gbHQuc3BsaXQoJ3wnKTtcbiAgICAgICAgaWYgKGx0U2Vncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2lneWEudXRpbHMua2V5VmFsdWUuZGVzZXJpYWxpemUobHRTZWdzWzFdKVtwYXJhbU5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0dpZ3lhQ29va2llRG9tYWluKCkge1xuICAgIGNvbnN0IGNvb2tpZURvbWFpbiA9IGdpZ3lhLnV0aWxzLmNvb2tpZS5nZXREZWZhdWx0RG9tYWluKCk7XG4gICAgcmV0dXJuIGdpZ3lhLnV0aWxzLnN0cmluZ1V0aWxzLmVuZHNXaXRoKGNvb2tpZURvbWFpbiwgZ2lneWEuZGVmYXVsdEFwaURvbWFpbik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0QmVhcmVyVG9rZW4oYmVhcmVyVG9rZW46IHN0cmluZykge1xuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBzZXR0aW5nIGEgbmV3IEJlYXJlciB0b2tlbmApO1xuICAgIF9iZWFyZXJUb2tlbiA9ICdCZWFyZXIgJyArIGJlYXJlclRva2VuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJlYXJlclRva2VuKCkge1xuICAgIHJldHVybiBfYmVhcmVyVG9rZW47XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQmVhcmVyVG9rZW4oKSB7XG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYEJlYXJlciB0b2tlbiByZW1vdmVkYCk7XG4gICAgX2JlYXJlclRva2VuID0gbnVsbDtcbn1cbiIsImltcG9ydCB7U2VydmVyQXBpfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1NlcnZlckFwaSc7XG5pbXBvcnQgeyBVaUFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGknO1xuaW1wb3J0IHsgY3JlYXRlQWxpYXMgfSBmcm9tICcuLi9VdGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICcuLi9HU0Vycm9ycyc7XG5pbXBvcnQge09BdXRoTW9kZX0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZXMvSUFwaUFkYXB0ZXJcIjtcbmltcG9ydCB7UmVzdEFwaX0gZnJvbSBcInNyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvUmVzdEFwaVwiO1xuaW1wb3J0IHtkZWZhdWx0T2F1dGhTY2hlbWF9IGZyb20gXCIuL2NvbnN0c1wiO1xuXG52YXIgbG9naW5DbGVhclNlc3Npb25Db25kaXRpb24gPSBwYXJhbXMgPT4gcGFyYW1zWydsb2dpbk1vZGUnXSAhPT0gJ2xpbmsnICYmIHBhcmFtc1snbG9naW5Nb2RlJ10gIT09ICdyZUF1dGgnO1xuLy8gaW4gY2FzZSB3ZSdyZSBoaXR0aW5nIHBhc3NrZXkgZW5kcG9pbnQgd2l0aCBzZXNzaW9uIGFuZCBhVG9rZW4gY2FuIGxlYWQgdG8gc2VydmVyIGVycm9yLCBjbGVhciBzZXNzaW9uIGJlZm9yZS5cbmNvbnN0IHBhc3NrZXlDbGVhclNlc3Npb25Db25kaXRpb25zID0gcGFyYW1zID0+ICEhcGFyYW1zWydhVG9rZW4nXVxuY29uc3Qgbm9BdXRoUHJlUHJvY2Vzc29yID0gKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24pID0+IHtcbiAgICBwYXJhbXNbJ25vQXV0aCddID0gdHJ1ZTsgLy8gc28gbG9naW4gdG9rZW4gd29uJ3QgYmUgYXR0YWNoZWQgdG8gcmVxdWVzdFxuICAgIGNhbGxiYWNrKCk7XG59O1xuY29uc3QgZ2xvYmFsQWNjb3VudFJlZ2lzdHJhdGlvblByZVByb2Nlc3NvciA9IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gICAgaWYgKGdpZ3lhLmdsb2JhbEFjY291bnQuZGF0YUNlbnRlcikgLy8gaGludCBmb3IgXCJhY2NvdW50cy5pbml0UmVnaXN0cmF0aW9uXCIgdG8gYmUgZm9yd2FyZGVkIHRvIHRoZSBjb3JyZWN0IGRjXG4gICAgICAgIHBhcmFtc1snZGF0YUNlbnRlciddID0gZ2lneWEuZ2xvYmFsQWNjb3VudC5kYXRhQ2VudGVyO1xuICAgIGNhbGxiYWNrKCk7XG59O1xuXG5jb25zdCBnbG9iYWxBY2NvdW50UHJvZ3Jlc3Npb25QcmVQcm9jZXNzb3IgPSAocGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xuICAgIGNvbnN0IHJlZ1Rva2VuID0gZ2lneWEuZ2V0VXJsUGFyYW0oJ3JlZ1Rva2VuJyk7XG4gICAgaWYgKHJlZ1Rva2VuKVxuICAgICAgICBwYXJhbXNbJ3JlZ1Rva2VuJ10gPSByZWdUb2tlbjtcbiAgICBjYWxsYmFjaygpO1xufTtcblxuY29uc3QgZGVsZXRlUmVnVG9rZW5XaGVuSGFzU2Vzc2lvbiA9IChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG5cbiAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuaXNTZXNzaW9uVmFsaWQoe30sIChpc1ZhbGlkKSA9PiB7XG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIGRlbGV0ZSBwYXJhbXM/LlsncmVnVG9rZW4nXVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjYWxsYmFjaygpO1xufTtcblxuZXhwb3J0IHZhciBsb2dvdXRCZWhhdmlvdXIgPSB7XG4gICAgbG9nb3V0QmVmb3JlU2VydmVyUmVzcG9uc2U6IHRydWUsXG4gICAgYWx3YXlzU2VuZExvZ291dFRvU2VydmVyOiBmYWxzZSxcbn07XG52YXIgbG9nb3V0UHJlUHJvY2Vzc29yID0gKHBhcmFtcywgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICBpZiAoZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0tleSkgcGFyYW1zLnNpZ25JRHMgPSB0cnVlO1xuICAgIGNhbGxiYWNrKCk7XG59O1xudmFyIGxvZ291dFJlcXVpcmVTZXNzaW9uID0gKCkgPT4gIWxvZ291dEJlaGF2aW91ci5hbHdheXNTZW5kTG9nb3V0VG9TZXJ2ZXI7XG5leHBvcnQgdmFyIGFyQXBpTGlzdCA9IFtcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnc29jaWFsaXplLmxvZ2luJyxcbiAgICAgICAgZGVmYXVsdE9hdXRoU2NoZW1hLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgb2F1dGg6IHRydWUsXG4gICAgICAgICAgICBwcmVwcm9jZXNzb3I6IGdsb2JhbEFjY291bnRSZWdpc3RyYXRpb25QcmVQcm9jZXNzb3JcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJTZXNzaW9uQ29uZGl0aW9uOiBsb2dpbkNsZWFyU2Vzc2lvbkNvbmRpdGlvblxuICAgICAgICB9LFxuICAgICksXG4gICAgbmV3IFNlcnZlckFwaShcbiAgICAgICAgJ3NvY2lhbGl6ZS5hZGRDb25uZWN0aW9uJyxcbiAgICAgICAgZGVmYXVsdE9hdXRoU2NoZW1hLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgb2F1dGg6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUucmVxdWVzdFBlcm1pc3Npb25zJywgZGVmYXVsdE9hdXRoU2NoZW1hLCB0cnVlLCB7XG4gICAgICAgIG9hdXRoOiB0cnVlLFxuICAgICAgICBkZWZhdWx0UGFyYW1zOiB7IGZvcmNlUGVybWlzc2lvbnM6IHRydWUgfVxuICAgIH0sIHt9KSxcblxuICAgIC8qbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLnBvc3RCb29rbWFyaycsXG4gICAgICAgICAgICBkZWZhdWx0T2F1dGhTY2hlbWEsXG4gICAgICAgICAgICBmYWxzZSwge1xuICAgICAgICAgICAgICAgIG9hdXRoOiB0cnVlXG4gICAgICAgICAgICB9KSwqL1xuICAgIG5ldyBTZXJ2ZXJBcGkoXG4gICAgICAgICdhY2NvdW50cy5zb2NpYWxMb2dpbicsXG4gICAgICAgIGRlZmF1bHRPYXV0aFNjaGVtYSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9hdXRoOiB0cnVlLFxuICAgICAgICAgICAgcHJlcHJvY2Vzc29yOiBnbG9iYWxBY2NvdW50UmVnaXN0cmF0aW9uUHJlUHJvY2Vzc29yXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbjogbG9naW5DbGVhclNlc3Npb25Db25kaXRpb24sXG5cbiAgICAgICAgfSxcbiAgICApLFxuICAgIG5ldyBVaUFwaSgnc2hvd0RlYnVnVUknLCAnc29jaWFsaXplLnBsdWdpbnMuZGVidWcnLCB7fSwge30sICcnLCB7XG4gICAgICAgIGFsbG93UG9wdXA6IHRydWUsXG4gICAgfSksXG4gICAgVWlBcGkuY3JlYXRlQXBpKCdzaG93TXlQaG90b1VJJywgJ2FjY291bnRzJywgJ3Byb2ZpbGVQaG90by5NeVBob3RvUGx1Z2luJywgJ2FjY291bnRzLnBsdWdpbnMucHJvZmlsZVBob3RvJyksXG5cbiAgICAvLyBVc2VzIEJhc2VQbHVnaW5cbiAgICBVaUFwaS5jcmVhdGVBcGkoJ3J1bkpzVW5pdFRlc3RzJywgJ18nLCAnSnNVdFJ1bm5lci5KYXNtaW5lLkphc21pbmVVdFJ1bm5lclBsdWdpbicsICdfLnBsdWdpbnMuanNVdFJ1bm5lcicpLFxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnbG9hZEJhc2VQbHVnaW4nLCAnXycsICdNb2NrLk1vY2tQbHVnaW4nLCAnXy5wbHVnaW5zLm1vY2snKSxcbiAgICBuZXcgVWlBcGkoJ3Nob3dMb2dpblVJX3YxJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmxvZ2luJywge3dpZHRoOiAxMjAsIGhlaWdodDogMTEwfSwge1xuICAgICAgICB3aWR0aDogMjgwLFxuICAgICAgICBoZWlnaHQ6IDIyMFxuICAgIH0sICcnLCB7YWxsb3dQb3B1cDogdHJ1ZX0pLFxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnc2hvd0xvZ2luVUlfdjInLCAnc29jaWFsaXplJywgJ2xvZ2luX3YyLkxvZ2luUGx1Z2luJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmxvZ2luX3YyJyksXG4gICAgVWlBcGkudmVyc2lvblNlbGVjdG9yKCdzaG93TG9naW5VSScsICdzb2NpYWxpemUnLCAnMScsIFtcbiAgICAgICAge1xuICAgICAgICAgICAgdmVyc2lvbk5hbWU6ICcxJyxcbiAgICAgICAgICAgIG1ldGhvZDogZ2lneWEuc29jaWFsaXplLnNob3dMb2dpblVJX3YxLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJzaW9uTmFtZTogJzInLFxuICAgICAgICAgICAgbWV0aG9kOiBnaWd5YS5zb2NpYWxpemUuc2hvd0xvZ2luVUlfdjIsXG4gICAgICAgIH0sXG4gICAgXSksXG4gICAgbmV3IFVpQXBpKCdzaG93QWRkQ29ubmVjdGlvbnNVSV92MScsICdzb2NpYWxpemUucGx1Z2lucy5sb2dpbicsIHt3aWR0aDogMTEwLCBoZWlnaHQ6IDY1fSwge1xuICAgICAgICB3aWR0aDogMjUwLFxuICAgICAgICBoZWlnaHQ6IDIwMFxuICAgIH0sICcnLCB7YWxsb3dQb3B1cDogdHJ1ZX0pLFxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnc2hvd0FkZENvbm5lY3Rpb25zVUlfdjInLCAnc29jaWFsaXplJywgJ2xvZ2luX3YyLkxvZ2luUGx1Z2luJywgJ3NvY2lhbGl6ZS5wbHVnaW5zLmxvZ2luX3YyJyksXG4gICAgVWlBcGkudmVyc2lvblNlbGVjdG9yKCdzaG93QWRkQ29ubmVjdGlvbnNVSScsICdzb2NpYWxpemUnLCAnMScsIFtcbiAgICAgICAge1xuICAgICAgICAgICAgdmVyc2lvbk5hbWU6ICcxJyxcbiAgICAgICAgICAgIG1ldGhvZDogZ2lneWEuc29jaWFsaXplLnNob3dBZGRDb25uZWN0aW9uc1VJX3YxLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJzaW9uTmFtZTogJzInLFxuICAgICAgICAgICAgbWV0aG9kOiBnaWd5YS5zb2NpYWxpemUuc2hvd0FkZENvbm5lY3Rpb25zVUlfdjIsXG4gICAgICAgIH0sXG4gICAgXSksXG4gICAgVWlBcGkuY3JlYXRlQXBpKCdzaG93RWRpdENvbm5lY3Rpb25zVUknLCAnc29jaWFsaXplJywgJ2VkaXRDb25uZWN0aW9ucy5FZGl0Q29ubmVjdGlvblBsdWdpbicsICdzb2NpYWxpemUucGx1Z2lucy5lZGl0JyksXG4gICAgbmV3IFVpQXBpKCdzaG93U2ltcGxlU2hhcmVVSScsICdzb2NpYWxpemUucGx1Z2lucy5zaW1wbGVTaGFyZScsIHsgd2lkdGg6IDI4MCwgaGVpZ2h0OiAxNzUgfSwge30sICd1c2VyQWN0aW9uJywge1xuICAgICAgICBhbGxvd1BvcHVwOiB0cnVlLFxuICAgICAgICBkb250TG9hZFBsdWdpbnNDb3JlOiB0cnVlLFxuICAgICAgICB3YWl0Rm9yQVBJUXVldWU6IHRydWUsXG4gICAgfSksXG4gICAgbmV3IFVpQXBpKCdzaG93U2hhcmVNb2JpbGVVSScsICdzb2NpYWxpemUucGx1Z2lucy5zaGFyZU1vYmlsZScsIHt9LCB7fSwgJ3VzZXJBY3Rpb24nLCB7YWxsb3dQb3B1cDogdHJ1ZX0pLFxuICAgIG5ldyBVaUFwaSgnc2hvd1RmYVVJJywgJ2FjY291bnRzLnBsdWdpbnMudGZhJywge3dpZHRoOiAzMjV9KSxcbiAgICBVaUFwaS5jcmVhdGVBcGkoJ2luaXRIb3N0ZWRQYWdlJywgJ2FjY291bnRzJywgJ1BhZ2VzLlBhZ2VzUGx1Z2luJywgJ2FjY291bnRzLnBsdWdpbnMucGFnZXMnLCB1bmRlZmluZWQpLFxuICAgIFVpQXBpLmNyZWF0ZUFwaSgnc2hvd1NjcmVlblNldCcsICdhY2NvdW50cycsICdTY3JlZW5TZXQuU2NyZWVuU2V0UGx1Z2luJywgJ2FjY291bnRzLnBsdWdpbnMuc2NyZWVuU2V0JywgdW5kZWZpbmVkLCBbJ2hpZGVTY3JlZW5TZXQnLCAnc3dpdGNoU2NyZWVuJ10pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5nZXRBdmFpbGFibGVQcm92aWRlcnMnLCAnZW5hYmxlZFByb3ZpZGVyc3xkaXNhYmxlZFByb3ZpZGVyc3xyZXF1aXJlZENhcGFiaWxpdGllcycsIHVuZGVmaW5lZCwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnc29jaWFsaXplLm5vdGlmeUxvZ2luJyxcbiAgICAgICAgJ3NpdGVVSUR8VUlEVGltZXN0YW1wfFVJRFNpZ3xVSUROb25jZXxwcm92aWRlcnxhdXRoVG9rZW58dG9rZW5TZWNyZXR8cmVnU291cmNlfHRva2VuRXhwaXJhdGlvbnxzZXNzaW9uSGFuZGxlfHNlc3Npb25IYW5kbGVFeHBpcmF0aW9ufHVzZXJJbmZvfHByb3ZpZGVyU2Vzc2lvbnN8c2Vzc2lvbkV4cGlyYXRpb258YXV0aENvZGV8aW5jbHVkZUFsbElkZW50aXRpZXNpbmNsdWRlaVJhbmt8Z3JvdXB8c2V0dGluZ3N8ZXh0cmFGaWVsZHN8c2lnbklEc3xuZXdVc2VyfGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXN8YnBfY2hhbm5lbF91cmx8bGFuZ3xzaWduS2V5cycsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7fSxcbiAgICAgICAge2NsZWFyU2Vzc2lvbjogdHJ1ZX0sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuY29udmVydEFjdGlvbicsICd1c2VyQWN0aW9ufFtwcm92aWRlckNhcGFiaWxpdHk9YWN0aW9uc11Vc2VyQWN0aW9ufHByb3ZpZGVyJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5kZWxldGVBY2NvdW50JywgdW5kZWZpbmVkLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5kZWxVc2VyU2V0dGluZ3MnLCAnZ3JvdXB8c2V0dGluZ3MnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5nZXRDb250YWN0cycsICdlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuZ2V0UmF3RGF0YScsICdwcm92aWRlcnxVSUR8ZmllbGRzfGRhdGFGb3JtYXR8cGF0aCcsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmdldFNlc3Npb25JbmZvJywgJ3Byb3ZpZGVyfHBhZGRpbmdNb2RlfGVuY3J5cHR8c2lnbklEc3xlbmNyeXB0QWxsJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnc29jaWFsaXplLmdldFVzZXJJbmZvJyxcbiAgICAgICAgJ2VuYWJsZWRQcm92aWRlcnN8ZGlzYWJsZWRQcm92aWRlcnN8c2lnbklEc3xpbmNsdWRlaVJhbmt8aW5jbHVkZUFsbElkZW50aXRpZXN8ZXh0cmFGaWVsZHN8Z3JvdXB8c2V0dGluZ3N8aW5jbHVkZU9wZW5pZFVJRHxpbmNsdWRlJyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAge30sXG4gICAgICAgIHt9XG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUuY2hlY2tpbicsICdlbmFibGVkUHJvdmlkZXJzfGRpc2FibGVkUHJvdmlkZXJzfHBsYWNlSUR8Y29tbWVudHxsYXRpdHVkZXxsb25naXR1ZGV8YWN0aW9uQXR0cmlidXRlc3xwcm9maWxlQXR0cmlidXRlcycsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaShcbiAgICAgICAgJ3NvY2lhbGl6ZS5sb2dvdXQnLFxuICAgICAgICAnc2lnbklEc3xzYW1sQ29udGV4dHxzdXN0YWluTG9nb3V0VVJMcycsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHtwcmVwcm9jZXNzb3I6IGxvZ291dFByZVByb2Nlc3NvciwgZGlzYWJsZUNhY2hlOiB0cnVlfSxcbiAgICAgICAge3JlcXVpcmVzU2Vzc2lvbjogbG9nb3V0UmVxdWlyZVNlc3Npb259LFxuICAgICksXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLm5vdGlmeVJlZ2lzdHJhdGlvbicsICdzaXRlVUlEfFVJRFRpbWVzdGFtcHxVSURTaWcnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5yZW1vdmVDb25uZWN0aW9uJywgJ3Byb3ZpZGVyfGxhc3RJZGVudGl0eUhhbmRsaW5nfHJlbW92ZUxvZ2luSUQnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ3NvY2lhbGl6ZS5zZXRVSUQnLCAnc2l0ZVVJRHxVSURUaW1lc3RhbXB8VUlEU2lnJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdzb2NpYWxpemUudW5saW5rQWNjb3VudHMnLCB1bmRlZmluZWQsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLmZhY2Vib29rR3JhcGhPcGVyYXRpb24nLCAnZ3JhcGhQYXRofGdyYXBoUGFyYW1zfGF1dGhSZXF1aXJlZHxtZXRob2R8YXV0aFR5cGUnLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnc29jaWFsaXplLm5vdGlmeVNTT0xvZ2luJywgJ2JwX2NoYW5uZWxfdXJsJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2djcy5nZXRVc2VyRGF0YScsICd0eXBlfGZpZWxkcycsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnZ2NzLnNldFVzZXJEYXRhJywgJ2RhdGF8dHlwZXx1cGRhdGVCZWhhdmlvcicsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnZ2NzLnNlYXJjaCcsICdleHBUaW1lfHF1ZXJ5U2lnfHF1ZXJ5JywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2djcy5nZXRTY2hlbWEnLCAnc2NoZW1hVHlwZScsIHVuZGVmaW5lZCwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5iMmIucmVnaXN0ZXJPcmdhbml6YXRpb24nLCAnb3JnYW5pemF0aW9ufHJlcXVlc3RlcicsXG4gICAgICAgIGZhbHNlLCB7fSwge2ZvcmNlUG9zdDogdHJ1ZX0pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmIyYi5nZXRPcmdhbml6YXRpb25TY2hlbWEnLCAnJyxcbiAgICAgICAgZmFsc2UsIHtwcmVwcm9jZXNzb3I6IG5vQXV0aFByZVByb2Nlc3Nvcn0sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnYWNjb3VudHMubG9naW4nLFxuICAgICAgICAnbG9naW5JRHxwYXNzd29yZHxzZXNzaW9uRXhwaXJhdGlvbnx0YXJnZXRFbnZ8cmVnVG9rZW58aW5jbHVkZXxhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzfGluY2x1ZGVVc2VySW5mb3xpbmNsdWRlRHluYW1pY1NjaGVtYXxicF9jaGFubmVsX3VybHxjYXB0Y2hhVG9rZW58YmxhY2tCb3hUb2tlbnxjYXB0Y2hhVHlwZXxjYXB0Y2hhVGV4dHxsb2dpbk1vZGV8c2lnbktleXN8bGFuZ3xyaXNrQ29udGV4dHxhVG9rZW4nLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgcmlza0Fzc2Vzc21lbnQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJTZXNzaW9uQ29uZGl0aW9uOiBsb2dpbkNsZWFyU2Vzc2lvbkNvbmRpdGlvbixcbiAgICAgICAgICAgIGZvcmNlUG9zdDogdHJ1ZVxuICAgICAgICB9LFxuICAgICksXG4gICAgbmV3IFNlcnZlckFwaShcbiAgICAgICAgJ2FjY291bnRzLmxpbmtBY2NvdW50cycsXG4gICAgICAgICdsb2dpbklEfHBhc3N3b3JkfHNlc3Npb25FeHBpcmF0aW9ufHRhcmdldEVudnxpbmNsdWRlfHJlZ1Rva2VufGluY2x1ZGVVc2VySW5mb3xicF9jaGFubmVsX3VybHxzaWduS2V5cycsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7fSxcbiAgICAgICAge2ZvcmNlUG9zdDogdHJ1ZX0sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5ub3RpZnlTb2NpYWxMb2dpbicsICdsb2dpbk1vZGV8cHJvdmlkZXJTZXNzaW9uc3xzZXNzaW9uRXhwaXJhdGlvbicsIHRydWUsIHt9LCB7Zm9yY2VQb3N0OnRydWV9LCAncHJvdmlkZXJTZXNzaW9ucycpLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmluaXRSZWdpc3RyYXRpb24nLCAnc2RrfGlzTGl0ZXxkYXRhQ2VudGVyJywgZmFsc2UsIHtcbiAgICAgICAgcHJlcHJvY2Vzc29yOiBnbG9iYWxBY2NvdW50UmVnaXN0cmF0aW9uUHJlUHJvY2Vzc29yXG4gICAgfSwge2NsZWFyU2Vzc2lvbjogdHJ1ZX0pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmluaXRQcm9ncmVzc2lvbicsICdzZGt8cmVnVG9rZW4nLCBmYWxzZSwge1xuICAgICAgICBwcmVwcm9jZXNzb3I6IGdsb2JhbEFjY291bnRQcm9ncmVzc2lvblByZVByb2Nlc3NvclxuICAgIH0sIHtjbGVhclNlc3Npb246IHRydWV9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnYWNjb3VudHMucmVnaXN0ZXInLFxuICAgICAgICAndXNlcm5hbWV8ZW1haWx8cGFzc3dvcmR8VUlEfHJlZ1Rva2VufHNpdGVVSUR8c2VjcmV0UXVlc3Rpb258c2VjcmV0QW5zd2VyfHJlZ1NvdXJjZXxwcm9maWxlfHByZWZlcmVuY2VzfGRpc3BsYXllZFByZWZlcmVuY2VzfGRhdGF8Y2FwdGNoYVRleHR8Y2FwdGNoYVR5cGV8Y2FwdGNoYVRva2VufGJsYWNrQm94VG9rZW58bGFuZ3xoYXNoZWRQYXNzd29yZHxwd0hhc2hBbGdvcml0aG18c2tpcFZlcmlmaWNhdGlvbnxmaW5hbGl6ZVJlZ2lzdHJhdGlvbnx0YXJnZXRFbnZ8c2Vzc2lvbkV4cGlyYXRpb258aW5jbHVkZXxhY3Rpb25BdHRyaWJ1dGVzfHByb2ZpbGVBdHRyaWJ1dGVzfGluY2x1ZGVVc2VySW5mb3xicF9jaGFubmVsX3VybHxzaWduS2V5c3xzdWJzY3JpcHRpb25zfGNvbW11bmljYXRpb25zJyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJpc2tBc3Nlc3NtZW50OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtmb3JjZVBvc3Q6IHRydWV9LFxuICAgICksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZmluYWxpemVSZWdpc3RyYXRpb24nLCAncmVnVG9rZW58dGFyZ2V0RW52fGluY2x1ZGV8aW5jbHVkZVVzZXJJbmZvfGJwX2NoYW5uZWxfdXJsfGFsbG93QWNjb3VudHNMaW5raW5nfHNpZ25LZXlzfHN1YnNjcmlwdGlvbnMnLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuY2FwdGNoYUltYWdlJywgJ3JlZ1Rva2VuJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmltcG9ydFByb2ZpbGVQaG90bycsICdyZWdUb2tlbnxVUkx8cHVibGlzaCcsIHVuZGVmaW5lZCwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5zZXRQcm9maWxlUGhvdG8nLCAncmVnVG9rZW58cHVibGlzaHxwaG90b0J5dGVzJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnJlc2V0UGFzc3dvcmQnLCAnbGFuZ3xsb2dpbklEfHBhc3N3b3JkUmVzZXRUb2tlbnxzZWNyZXRBbnN3ZXJ8c2VjdXJpdHlGaWVsZHN8bmV3UGFzc3dvcmR8ZW1haWx8Y2FwdGNoYVR5cGV8Y2FwdGNoYVRva2VufGJsYWNrQm94VG9rZW4nLCBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgcmlza0Fzc2Vzc21lbnQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yY2VQb3N0OiB0cnVlXG4gICAgICAgIH1cbiAgICApLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnJlbW92ZVByb2ZpbGVQaG90bycsICdyZWdUb2tlbicpLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmlzQXZhaWxhYmxlTG9naW5JRCcsICdsb2dpbklEJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmFkZHJlc3Muc3VnZ2VzdGlvbnMuZ2V0JywgJ2FkZHJlc3N8Y291bnRyeXxhcGlLZXl8c3VnZ2VzdGlvbnJlcGx5fGxvbmdpdHVkZXxsYXRpdHVkZScsIHVuZGVmaW5lZCwge30sIHtmb3JjZVBvc3Q6dHJ1ZX0pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnJlc2VuZFZlcmlmaWNhdGlvbkNvZGUnLCAncmVnVG9rZW58ZW1haWwnLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0Q2FwdGNoYScsICcnLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0UG9saWNpZXMnLCAnc2VjdGlvbnMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3JcbiAgICB9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0U2NoZW1hJywgJ3NlY3Rpb25zfHNjaGVtYVR5cGUnLCBmYWxzZSwge1xuICAgICAgICBwcmVwcm9jZXNzb3I6IG5vQXV0aFByZVByb2Nlc3NvclxuICAgIH0sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRTaXRlQ29uc2VudERldGFpbHMnLCAnJywgZmFsc2UsIHtcbiAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3JcbiAgICB9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0TGVnYWxTdGF0ZW1lbnRzJywgJ2NvbnNlbnRJZHxsYW5nJywgZmFsc2UsIHtcbiAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3JcbiAgICB9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudmVyaWZ5TG9naW4nLCAnaW5jbHVkZXxleHRyYVByb2ZpbGVGaWVsZHN8dGFyZ2V0RW52JywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5nZXRBY2NvdW50SW5mbycsICdpbmNsdWRlfGV4dHJhUHJvZmlsZUZpZWxkc3xyZWdUb2tlbnxsYW5nfGluY2x1ZGVDb21tdW5pY2F0aW9ucycsIHRydWUsIHt9LCB7fSwgJ3JlZ1Rva2VuJyksXG4gICAgbmV3IFNlcnZlckFwaShcbiAgICAgICAgJ2FjY291bnRzLnNldEFjY291bnRJbmZvJyxcbiAgICAgICAgJ3Byb2ZpbGV8cHJlZmVyZW5jZXN8ZGlzcGxheWVkUHJlZmVyZW5jZXN8ZGF0YXxyZWdUb2tlbnxvbGRQYXNzd29yZHxwYXNzd29yZHxuZXdQYXNzd29yZHxhZGRMb2dpbkVtYWlsc3xyZW1vdmVMb2dpbkVtYWlsc3x1c2VybmFtZXxzZWNyZXRRdWVzdGlvbnxzZWNyZXRBbnN3ZXJ8cmVxdWlyZVBhc3N3b3JkQ2hhbmdlfGNvbmZsaWN0SGFuZGxpbmd8dGZhU3RhdHVzfHJiYXxzdWJzY3JpcHRpb25zfGNvbW11bmljYXRpb25zfHByZWZlcmVuY2VzfGxhbmd8Y2FwdGNoYVRva2VufGJsYWNrQm94VG9rZW58Y2FwdGNoYVR5cGUnLFxuICAgICAgICB0cnVlLFxuICAgICAgICB7cmlza0Fzc2Vzc21lbnQ6IHRydWV9LFxuICAgICAgICB7Zm9yY2VQb3N0OiB0cnVlfSxcbiAgICAgICAgJ3JlZ1Rva2VuJyxcbiAgICApLFxuICAgIG5ldyBTZXJ2ZXJBcGkoXG4gICAgICAgICdhY2NvdW50cy5sb2dvdXQnLFxuICAgICAgICAnc2lnbklEc3xzYW1sQ29udGV4dHxzdXN0YWluTG9nb3V0VVJMcycsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHtwcmVwcm9jZXNzb3I6IGxvZ291dFByZVByb2Nlc3NvciwgZGlzYWJsZUNhY2hlOiB0cnVlfSxcbiAgICAgICAge3JlcXVpcmVzU2Vzc2lvbjogbG9nb3V0UmVxdWlyZVNlc3Npb259LFxuICAgICksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuc2VhcmNoJywgJ2V4cFRpbWV8cXVlcnlTaWd8cXVlcnknLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaShcbiAgICAgICAgJ2FjY291bnRzLmdldFNjcmVlblNldHMnLFxuICAgICAgICAnc2NyZWVuU2V0SURzfGluY2x1ZGV8bGFuZ3xzY3JlZW5TZXRWZXJzaW9uJyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZXByb2Nlc3Nvcjogbm9BdXRoUHJlUHJvY2Vzc29yXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVzZUh0dHBTdGF0dXNDb2RlczogdHJ1ZVxuICAgICAgICB9XG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5zc28ubG9naW4nLCAncmVkaXJlY3RVUkx8c3RhdGV8YXV0aEZsb3d8Y29udGV4dHx1c2VDaGlsZENvbnRleHQnLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgb2F1dGg6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgb2F1dGhNb2RlOiBPQXV0aE1vZGUuU3NvXG4gICAgICAgIH1cbiAgICApLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdldENvbmZsaWN0aW5nQWNjb3VudCcsICdyZWdUb2tlbnxsb2dpbklEJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnJlc2V0U2l0ZVByZWZlcmVuY2VzJywgJycsIHRydWUsIHtcbiAgICAgICAgcG9zdHByb2Nlc3NvcjogKHJlcVBhcmFtcywgcmVzOiB7ZXJyb3JDb2RlOiBHU0Vycm9yc30pID0+IHtcbiAgICAgICAgICAgIGlmKHJlcz8uZXJyb3JDb2RlID09PSBHU0Vycm9ycy5PSykgZ2lneWEuYWNjb3VudHMubG9nb3V0KCk7XG4gICAgICAgIH1cbiAgICB9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ2V0SldUJywgJ2ZpZWxkc3xleHBpcmF0aW9ufGF1ZGllbmNlJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZ2V0UHJvdmlkZXJzJywgJ3JlZ1Rva2VuJywgdHJ1ZSwge30sIHt9LCAgJ3JlZ1Rva2VuJyksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLmluaXRURkEnLCAncHJvdmlkZXJ8bW9kZXxyZWdUb2tlbicsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5maW5hbGl6ZVRGQScsICdnaWd5YUFzc2VydGlvbnxwcm92aWRlckFzc2VydGlvbnx0ZW1wRGV2aWNlfHJlZ1Rva2VuJywgdHJ1ZSwge30sIHt9LCAncmVnVG9rZW4nKSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZGVhY3RpdmF0ZVByb3ZpZGVyJywgJ3Byb3ZpZGVyJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEudW5yZWdpc3RlckRldmljZScsICdhbGxEZXZpY2VzJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuYmFja3VwY29kZXMuZ2V0JywgJ2dpZ3lhQXNzZXJ0aW9uJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuYmFja3VwY29kZXMuY3JlYXRlJywgJ2dpZ3lhQXNzZXJ0aW9uJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuYmFja3VwY29kZXMudmVyaWZ5JywgJ2dpZ3lhQXNzZXJ0aW9ufGNvZGV8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnYWNjb3VudHMudGZhLnBob25lLmdldFJlZ2lzdGVyZWRQaG9uZU51bWJlcnMnLFxuICAgICAgICAnZ2lneWFBc3NlcnRpb24nLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlcHJvY2Vzc29yOiBub0F1dGhQcmVQcm9jZXNzb3IgLy8gb25seSBnaWd5YUFzc2VydGlvbiBpcyBuZWVkZWRcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEucGhvbmUucmVtb3ZlUGhvbmUnLCAnZ2lneWFBc3NlcnRpb258cGhvbmVJZCcsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5waG9uZS5zZW5kVmVyaWZpY2F0aW9uQ29kZScsICdnaWd5YUFzc2VydGlvbnxsYW5nfHBob25lSUR8cGhvbmV8bWV0aG9kfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLnBob25lLmNvbXBsZXRlVmVyaWZpY2F0aW9uJywgJ2dpZ3lhQXNzZXJ0aW9ufHBodlRva2VufGNvZGV8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKFxuICAgICAgICAnYWNjb3VudHMudGZhLmVtYWlsLmdldEVtYWlscycsXG4gICAgICAgICdnaWd5YUFzc2VydGlvbicsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVwcm9jZXNzb3I6IG5vQXV0aFByZVByb2Nlc3NvciAgLy8gb25seSBnaWd5YUFzc2VydGlvbiBpcyBuZWVkZWRcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEuZW1haWwuc2VuZFZlcmlmaWNhdGlvbkNvZGUnLCAnZW1haWxJRHxnaWd5YUFzc2VydGlvbnxsYW5nfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLmVtYWlsLmNvbXBsZXRlVmVyaWZpY2F0aW9uJywgJ2dpZ3lhQXNzZXJ0aW9ufHBodlRva2VufGNvZGV8cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy50ZmEudG90cC5yZWdpc3RlcicsICdnaWd5YUFzc2VydGlvbicsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS50b3RwLnZlcmlmeScsICdnaWd5YUFzc2VydGlvbnxzY3RUb2tlbnxjb2RlfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMudGZhLnB1c2guaXNWZXJpZmllZCcsICdnaWd5YUFzc2VydGlvbnxyZWdUb2tlbicsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnRmYS5wdXNoLnNlbmRWZXJpZmljYXRpb24nLCAnZ2lneWFBc3NlcnRpb258cmVnVG9rZW4nLCBmYWxzZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5iMmIuZGVsZWdhdGVkQWRtaW5Mb2dpbicsICdvcmdJZHxsYW5nJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5iMmIuZ2V0T3JnYW5pemF0aW9uSW5mbycsICdvcmdJZHxicGlkJyx0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmIyYi5zZXRPcmdhbml6YXRpb25Db250ZXh0JywgJ2JwaWQnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmIyYi5nZXRPcmdhbml6YXRpb25Db250ZXh0JywgJycsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYjJiLmF1dGguZ2V0QXNzZXRzJywgJ2FwcElkfGJwaWR8b3JnSWR8aW5jbHVkZVBvbGljaWVzfGVudmlyb25tZW50cycsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ3JvdXBzLmdldFNjaGVtYScsICdtb2RlbCcsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ3JvdXBzLnJlZ2lzdGVyR3JvdXAnLCAnbW9kZWx8Z3JvdXBJZHxncm91cERhdGEnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdyb3Vwcy5zZXRHcm91cEluZm8nLCAnbW9kZWx8Z3JvdXBJZHxncm91cERhdGEnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdyb3Vwcy5nZXRHcm91cEluZm8nLCAnbW9kZWx8Z3JvdXBJZCcsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ3JvdXBzLmRlbGV0ZUdyb3VwJywgJ21vZGVsfGdyb3VwSWQnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdyb3Vwcy5zZXRHcm91cE1lbWJlckluZm8nLCAnbW9kZWx8Z3JvdXBJZHx1aWR8cmVsYXRpb25zaGlwRGF0YXxwZXJtaXNzaW9ucycsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ3JvdXBzLmdldEdyb3VwTWVtYmVySW5mbycsICdtb2RlbHxncm91cElkfHVpZHxpbmNsdWRlJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5ncm91cHMucmVtb3ZlTWVtYmVyJywgJ21vZGVsfGdyb3VwSWR8dWlkJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5ncm91cHMuZ2V0QWxsTWVtYmVyR3JvdXBzJywgJ3VpZHxmbGF0TmVzdGVkRmllbGRzJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5ncm91cHMuc2VhcmNoR3JvdXBNZW1iZXJzJywgJ21vZGVsfGdyb3VwSWR8bGltaXR8c3RhcnQnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmdyb3Vwcy5jcmVhdGVJbnZpdGF0aW9uJywgJ21vZGVsfGdyb3VwSWR8aXNPbmVUaW1lJywgdHJ1ZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5ncm91cHMuaW52aXRhdGlvbkNvbmZpcm0nLCAnaW52aXRhdGlvbklkJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuZ3JvdXBzLmZpbmFsaXplSW52aXRhdGlvbicsICd0b2tlbicsIHRydWUsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMub3RwLnNlbmRDb2RlJywgJ3JlZ1Rva2VufHBob25lTnVtYmVyfGVtYWlsfGxhbmd8Y2FwdGNoYVRva2VufGNhcHRjaGFUeXBlfGJsYWNrQm94VG9rZW58ZGF0YUNlbnRlcnxwaHZUb2tlbicsIGZhbHNlLCB7XG4gICAgICAgIHJpc2tBc3Nlc3NtZW50OiB0cnVlLFxuICAgICAgICBwcmVwcm9jZXNzb3I6IGdsb2JhbEFjY291bnRSZWdpc3RyYXRpb25QcmVQcm9jZXNzb3JcbiAgICB9LCB7Zm9yY2VQb3N0OiB0cnVlfSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMub3RwLmxvZ2luJywgJ3ZUb2tlbnxjb2RlfHRhcmdldEVudnxpbmNsdWRlVXNlckluZm98aW5jbHVkZXxyZWdTb3VyY2V8c2Vzc2lvbkV4cGlyYXRpb24nLCBmYWxzZSwge30sIHtmb3JjZVBvc3Q6IHRydWV9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5vdHAudXBkYXRlJywgJ3ZUb2tlbnxjb2RlfHJlZ1Rva2VuJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5vdHAuYXV0aGVudGljYXRlJywgJ3ZUb2tlbnxjb2RlJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5nZXRNZXRob2RzJywgJ2lkZW50aWZpZXJ8YVRva2VuJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5wdXNoLnNlbmRWZXJpZmljYXRpb24nLCAnaWRlbnRpZmllcicsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGgucHVzaC5pc1ZlcmlmaWVkJywgJ3ZUb2tlbicsIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGgubWFnaWNsaW5rLmVtYWlsLnNlbmQnLCAnZW1haWx8Y29udGV4dHxsYW5nJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5tYWdpY2xpbmsuZW1haWwubG9naW4nLCAndlRva2VufGNvZGV8dGFyZ2V0RW52fGluY2x1ZGVVc2VySW5mb3xpbmNsdWRlfHJlZ1NvdXJjZXxzZXNzaW9uRXhwaXJhdGlvbicsIGZhbHNlLCB7fSwge2ZvcmNlUG9zdDogdHJ1ZX0pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGgub3RwLmVtYWlsLnNlbmRDb2RlJywgJ2VtYWlsfGxhbmcnLCBmYWxzZSwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5hdXRoLm90cC5lbWFpbC5sb2dpbicsICdjb2RlfHZUb2tlbnx0YXJnZXRFbnZ8aW5jbHVkZVVzZXJJbmZvfGluY2x1ZGV8cmVnU291cmNlfHNlc3Npb25FeHBpcmF0aW9uJywgZmFsc2UsIHt9LCB7Zm9yY2VQb3N0OiB0cnVlfSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuaWRlbnRpZmllci5jcmVhdGVUb2tlbicsICdpZGVudGlmaWVyfGlkZW50aWZpZXJUeXBlJywgZmFsc2UsIHt9LCB7Zm9yY2VQb3N0OiB0cnVlfSksXG5cbiAgICBuZXcgU2VydmVyQXBpKCdhY2NvdW50cy5pZGVudGl0eS5hdXRob3JpemUnLCAnYXV0aG9yaXphdGlvbl9kZXRhaWxzfGdyYW50X3R5cGUnLCBmYWxzZSwge30sIHt9KSxcblxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGguZmlkby5pbml0UmVnaXN0ZXJDcmVkZW50aWFscycsICdyZWdUb2tlbnxhVG9rZW4nLCB0cnVlLCB7XG4gICAgICBwcmVwcm9jZXNzb3I6IGRlbGV0ZVJlZ1Rva2VuV2hlbkhhc1Nlc3Npb25cbiAgICB9LCB7XG4gICAgICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbjogcGFzc2tleUNsZWFyU2Vzc2lvbkNvbmRpdGlvbnNcbiAgICB9LCAncmVnVG9rZW58YVRva2VuJyksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5maWRvLnJlZ2lzdGVyQ3JlZGVudGlhbHMnLCAndG9rZW58YXR0ZXN0YXRpb258ZGV2aWNlTmFtZXxyZWdUb2tlbicsIGZhbHNlLCB7XG4gICAgICBwcmVwcm9jZXNzb3I6IGRlbGV0ZVJlZ1Rva2VuV2hlbkhhc1Nlc3Npb25cbiAgICB9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5maWRvLmdldEFzc2VydGlvbk9wdGlvbnMnLCAnJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5maWRvLnZlcmlmeUFzc2VydGlvbicsICd0b2tlbnxhdXRoZW50aWNhdG9yQXNzZXJ0aW9uJywgZmFsc2UsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5maWRvLmdldENyZWRlbnRpYWxzJywgJ3JlZ1Rva2VuJywgdHJ1ZSwge1xuICAgICAgcHJlcHJvY2Vzc29yOiBkZWxldGVSZWdUb2tlbldoZW5IYXNTZXNzaW9uXG4gICAgfSwge30sICdyZWdUb2tlbicpLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLmF1dGguZmlkby5yZW1vdmVDcmVkZW50aWFsJywgJ2NyZWRlbnRpYWxJZHxyZWdUb2tlbicsIHRydWUsIHtcbiAgICAgIHByZXByb2Nlc3NvcjogZGVsZXRlUmVnVG9rZW5XaGVuSGFzU2Vzc2lvblxuICAgIH0sIHt9LCAncmVnVG9rZW4nKSxcblxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2FjY291bnRzLnNlc3Npb24udmVyaWZ5JywgJycsIHRydWUsIHt9LCB7fSksXG5cbiAgICBuZXcgU2VydmVyQXBpKCdvYXV0aC5yZWdpc3RlcicsJ2xhbmd8cmVnU291cmNlfGNpZHxjb250ZXh0fHNlc3Npb25FeHBpcmF0aW9uJywgZmFsc2UsIHt9LCB7XG4gICAgICAgIGZvcmNlUG9zdDogdHJ1ZSxcbiAgICAgICAgdXNlQmVhcmVyVG9rZW46IHRydWVcbiAgICB9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdvYXV0aC5jb25uZWN0JywncmVnVG9rZW4nLCB0cnVlLCB7XG4gICAgICBwcmVwcm9jZXNzb3I6IGRlbGV0ZVJlZ1Rva2VuV2hlbkhhc1Nlc3Npb25cbiAgICB9LCB7XG4gICAgICAgIGZvcmNlUG9zdDogdHJ1ZSxcbiAgICAgICAgdXNlQmVhcmVyVG9rZW46IHRydWVcbiAgICB9LCAncmVnVG9rZW4nKSxcblxuICAgIG5ldyBTZXJ2ZXJBcGkoJ29hdXRoLmF1dGhvcml6ZScsICdyZXNwb25zZV90eXBlfGF1dGhNb2RlJywgZmFsc2UsIHt9LCB7XG4gICAgICAgIGZvcmNlUG9zdDogdHJ1ZSxcbiAgICAgICAgdXNlQmVhcmVyVG9rZW46IHRydWVcbiAgICB9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdvYXV0aC50b2tlbicsICdncmFudF90eXBlfGNvZGV8dGFyZ2V0RW52fHNlc3Npb25FeHBpcmF0aW9uJywgIGZhbHNlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2F1dGgudG9rZW4uYXV0aGVudGljYXRpb25Db250ZXh0JywgJ3JlZ1Rva2VuJywgdHJ1ZSx7fSwge2ZvcmNlUG9zdDogdHJ1ZX0sICdyZWdUb2tlbicpLFxuXG4gICAgbmV3IFNlcnZlckFwaSgnYWNjb3VudHMuYXV0aC5sb2dpbicsXG4gICAgICAgICdhY2Nlc3NUb2tlbnxzZXNzaW9uRXhwaXJhdGlvbnx0YXJnZXRFbnZ8aW5jbHVkZXxpbmNsdWRlVXNlckluZm98bG9naW5Nb2RlfGxhbmcnLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAge30sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyU2Vzc2lvbkNvbmRpdGlvbjogbG9naW5DbGVhclNlc3Npb25Db25kaXRpb24sXG4gICAgICAgICAgICBmb3JjZVBvc3Q6IHRydWVcbiAgICAgICAgfSxcbiAgICApLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLnN0b3JlJywgJ3R5cGV8ZGF0YXxvaWR8dXBkYXRlQmVoYXZpb3InLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnZHMuZ2V0JywgJ3R5cGV8ZGF0YXxvaWR8ZmllbGRzJywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLnNlYXJjaCcsICdleHBUaW1lfHF1ZXJ5U2lnfHF1ZXJ5JywgdW5kZWZpbmVkLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoJ2RzLmdldFNjaGVtYScsICcnLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFNlcnZlckFwaSgnZHMuZGVsZXRlJywgJ3R5cGV8b2lkfGZpZWxkcycsIHVuZGVmaW5lZCwge30sIHt9KSxcbiAgICBuZXcgU2VydmVyQXBpKCdpZHMuZ2V0QWNjb3VudEluZm8nLCAnaW5jbHVkZXxleHRyYVByb2ZpbGVGaWVsZHMnLCB0cnVlLCB7fSwge30pLFxuICAgIG5ldyBTZXJ2ZXJBcGkoXG4gICAgICAgICdpZHMuc2V0QWNjb3VudEluZm8nLFxuICAgICAgICAncHJvZmlsZXxwcmVmZXJlbmNlc3xkYXRhfG9sZFBhc3N3b3JkfHBhc3N3b3JkfG5ld1Bhc3N3b3JkfGFkZExvZ2luRW1haWxzfHJlbW92ZUxvZ2luRW1haWxzfHVzZXJuYW1lfHNlY3JldFF1ZXN0aW9ufHNlY3JldEFuc3dlcnxyZXF1aXJlUGFzc3dvcmRDaGFuZ2V8bGFuZycsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7fSxcbiAgICAgICAge2ZvcmNlUG9zdDogdHJ1ZX0sXG4gICAgKSxcbiAgICBuZXcgU2VydmVyQXBpKCdpZHMuc2VhcmNoJywgJ2V4cFRpbWV8cXVlcnlTaWd8cXVlcnknLCB1bmRlZmluZWQsIHt9LCB7fSksXG4gICAgbmV3IFJlc3RBcGkoXG4gICAgICAgICdmaWRtLm9pZGMub3AuZGV2aWNlQ29udGludWUnLFxuICAgICAgICAnb2lkYy9vcC92MS4wL3tBUElLZXl9L2RldmljZV9jb250aW51ZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjaGVtYTogJ3VzZXJfY29kZScsXG4gICAgICAgICAgICByZXF1aXJlU2Vzc2lvbjogdHJ1ZSxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICAgIH1cbiAgICApLFxuXTtcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zZXJ2aWNlcy5zb2NpYWxpemUnLCBnaWd5YS5zb2NpYWxpemUpO1xuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNlcnZpY2VzLmdjcycsIGdpZ3lhLmdjcyk7XG5jcmVhdGVBbGlhcygnZ2lneWEuc2VydmljZXMuYWNjb3VudHMnLCBnaWd5YS5hY2NvdW50cyk7XG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLmNvbm5lY3QnLCBnaWd5YS5zb2NpYWxpemUuYWRkQ29ubmVjdGlvbik7XG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLmRpc2Nvbm5lY3QnLCBnaWd5YS5zb2NpYWxpemUucmVtb3ZlQ29ubmVjdGlvbik7XG5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLmxpbmtBY2NvdW50cycsIGdpZ3lhLnNvY2lhbGl6ZS5zZXRVSUQpO1xuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5zaG93Q29ubmVjdFVJJywgZ2lneWEuc29jaWFsaXplLnNob3dBZGRDb25uZWN0aW9uc1VJKTtcbmNyZWF0ZUFsaWFzKCdnaWd5YS5zaG93RGVidWdVSScsIGdpZ3lhLnNvY2lhbGl6ZS5zaG93RGVidWdVSSk7XG4iLCJpbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgcXVldWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xuXG4vLyBBUEkgYmFzZSBjbGFzc1xuXG4vLyBjcmVhdGUgZGVmYXVsdCBuYW1lc3BhY2VzIGR5bmFtaWMgbW9kdWxlc1xuZGVjbGFyZSBjb25zdCBnaWd5YTogYW55O1xuaWYgKCFnaWd5YS5zb2NpYWxpemUpIHtcbiAgICBnaWd5YS5zb2NpYWxpemUgPSB7fTtcbn1cbmlmICghZ2lneWEuZ2NzKSB7XG4gICAgZ2lneWEuZ2NzID0ge307XG59XG5pZiAoIWdpZ3lhLmdtKSB7XG4gICAgZ2lneWEuZ20gPSB7fTtcbn1cbmlmICghZ2lneWEuY29tbWVudHMpIHtcbiAgICBnaWd5YS5jb21tZW50cyA9IHt9O1xufVxuaWYgKCFnaWd5YS5hY2NvdW50cykge1xuICAgIGdpZ3lhLmFjY291bnRzID0ge307XG59XG5pZiAoIWdpZ3lhLmdzY291bnRlcnMpIHtcbiAgICBnaWd5YS5nc2NvdW50ZXJzID0ge307XG59XG5cbmNvbnN0IGFwaXM6IE9iamVjdCA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFwaShuYW1lOiBzdHJpbmcpOiBCYXNlQXBpIHtcbiAgICByZXR1cm4gYXBpc1tuYW1lXTtcbn1cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWV0aG9kTmFtZTogc3RyaW5nLCBwdWJsaWMgc2V0dGluZ3M6IEFwaVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuYWRkQWxpYXMoKTtcbiAgICAgICAgYXBpc1ttZXRob2ROYW1lXSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgcnVuKHBhcmFtczogT2JqZWN0LCBleHBsaWNpdFBhcmFtcz86IE9iamVjdCk6IHZvaWQ7XG5cbiAgICBwcmVwcm9jZXNzUmVxdWVzdChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucHJlcHJvY2Vzc29yKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnByZXByb2Nlc3NvcihwYXJhbXMsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQWxpYXMoKTogdm9pZCB7XG4gICAgICAgIGZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS4nICsgdGhpcy5tZXRob2ROYW1lLCAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXJnUGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2FyZ3NdKSBhcyBhbnk7XG4gICAgICAgICAgICBjb25zdCBmblJ1biA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnUGFyYW1zLmxhbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnUGFyYW1zLl9leHBsaWNpdExhbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShbZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCBhcmdQYXJhbXNdKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bihwYXJhbXMsIGFyZ1BhcmFtcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFnaWd5YS50aGlzU2NyaXB0IHx8ICFnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdBUEknLCBmblJ1bik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZuUnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBpbnRlcmZhY2UgQXBpU2V0dGluZ3Mge1xuICAgIGRlZmF1bHRQYXJhbXM/OiBPYmplY3Q7XG4gICAgZm9yY2VQb3N0PzogYm9vbGVhbjtcbiAgICByaXNrQXNzZXNzbWVudD86IGJvb2xlYW47XG4gICAgZGlzYWJsZUNhY2hlPzogYm9vbGVhbjtcbiAgICBwcmVwcm9jZXNzb3I/OiAocGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICAgIHBvc3Rwcm9jZXNzb3I/OiAocGFyYW1zOiBPYmplY3QsIHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQ7XG59XG4iLCJpbXBvcnQge1NlcnZlckFwaSwgU2VydmVyQXBpU2V0dGluZ3N9IGZyb20gXCJzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1NlcnZlckFwaVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RBcGlTZXR0aW5ncyBleHRlbmRzIFNlcnZlckFwaVNldHRpbmdzIHtcbiAgICByZXF1aXJlU2Vzc2lvbjogYm9vbGVhbjtcbiAgICBzY2hlbWE6IHN0cmluZztcbiAgICBtZXRob2Q/OiAnR0VUJyB8ICdQT1NUJztcbn1cblxuZXhwb3J0IGNsYXNzIFJlc3RBcGkgZXh0ZW5kcyBTZXJ2ZXJBcGkge1xuICAgIGNvbnN0cnVjdG9yKGFsaWFzOiBzdHJpbmcsIHVybDogc3RyaW5nLCB7c2NoZW1hLCByZXF1aXJlU2Vzc2lvbiwgbWV0aG9kLCByZXN0VXJsOiBfLCAuLi5yZXN0fTogUmVzdEFwaVNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKGFsaWFzLCBzY2hlbWEsIHJlcXVpcmVTZXNzaW9uLCB7IHJlc3RVcmw6IHVybCwgLi4ucmVzdCB9LCB7XG4gICAgICAgICAgICBuYW1lc3BhY2U6IGFsaWFzLnNwbGl0KCcuJylbMF0sXG4gICAgICAgICAgICBmb3JjZVBvc3Q6IG1ldGhvZCAhPT0gJ0dFVCdcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCB7IElBcGlBZGFwdGVyLCBBcGlBZGFwdGVyU2V0dGluZ3MgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lBcGlBZGFwdGVyJztcbmltcG9ydCB7IEFwaVNldHRpbmdzLCBCYXNlQXBpIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9CYXNlQXBpJztcbmltcG9ydCB7IFNlcnZlckFwaVJlcXVlc3QgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1NlcnZlckFwaVJlcXVlc3QnO1xuaW1wb3J0ICogYXMgcXVldWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xuXG4vLyBSYXcgc2VydmVyIEFQSVxuXG5leHBvcnQgdmFyIGFwaUFkYXB0ZXI6IElBcGlBZGFwdGVyO1xuZXhwb3J0IGludGVyZmFjZSBNb2RlIHtcbiAgICBzaWxlbnQ6IGJvb2xlYW47XG4gICAgd2FybjogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmVyQXBpU2V0dGluZ3MgZXh0ZW5kcyBBcGlTZXR0aW5ncyB7XG4gICAgb2F1dGg/OiBib29sZWFuO1xuICAgIG1vZGU/OiBNb2RlO1xuICAgIHJlc3RVcmw/OiBzdHJpbmc7XG59XG5leHBvcnQgY2xhc3MgU2VydmVyQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGFwaU1ldGhvZDogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgc2NoZW1hOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyByZXF1aXJlc1Nlc3Npb24/OiBib29sZWFuLFxuICAgICAgICBwdWJsaWMgc2V0dGluZ3M6IFNlcnZlckFwaVNldHRpbmdzID0ge30sXG4gICAgICAgIHB1YmxpYyBhZGFwdGVyU2V0dGluZ3M6IEFwaUFkYXB0ZXJTZXR0aW5ncyA9IHt9LFxuICAgICAgICBwdWJsaWMgYWx0U2Vzc2lvblBhcmFtcz86IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoYXBpTWV0aG9kLCBzZXR0aW5ncyk7XG4gICAgICAgIGFkYXB0ZXJTZXR0aW5ncy5mb3JjZUh0dHBzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZGFwdGVyU2V0dGluZ3MucmVxdWlyZXNTZXNzaW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYWRhcHRlclNldHRpbmdzLnJlcXVpcmVzU2Vzc2lvbiA9ICgpID0+IHJlcXVpcmVzU2Vzc2lvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBydW4ocGFyYW1zOiBPYmplY3QsIGV4cGxpY2l0UGFyYW1zOiBPYmplY3QpIHtcbiAgICAgICAgaWYodGhpcy5zZXR0aW5ncy5tb2RlPy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc2V0dGluZ3MubW9kZS53YXJuKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oYERlcHJlY2F0ZWQgRmVhdHVyZTogJHt0aGlzLm1ldGhvZE5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHBhcmFtc1snY2FsbGJhY2snXTtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmblJ1biA9ICgpID0+IHtcbiAgICAgICAgICAgIG5ldyBTZXJ2ZXJBcGlSZXF1ZXN0KHRoaXMsIHBhcmFtcykuc3RhcnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHBhcmFtc1snaWdub3JlQXBpUXVldWUnXSkge1xuICAgICAgICAgICAgZm5SdW4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlVXRpbHMucXVldWVGb3JFeGVjdXRpb24oJ0FQSScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBmblJ1bigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IEdTRXJyb3JzIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dTRXJyb3JzJztcbmltcG9ydCAqIGFzIGdsb2JhbEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzJztcbmltcG9ydCB7IFNlcnZlckFwaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpJztcbmltcG9ydCB7IGxvZ0NhbGwsIGFkZExvZyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lMb2dnZXInO1xuaW1wb3J0ICogYXMgZmFjZWJvb2tFeHRlcm5hbCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvRmFjZWJvb2snO1xuaW1wb3J0IHsgZ2V0QXBpIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9CYXNlQXBpJztcbmltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQge1xuICAgIGRlbEdpZ3lhU2V0dGluZ3MsXG4gICAgZ2V0R2lneWFTZXR0aW5ncyxcbiAgICBjaGVja0NvbXBsZXRlUmVnaXN0cmF0aW9uLFxuICAgIGhhbmRsZVNwZWNpYWxGaWVsZHMsXG4gICAgY29udmVydElkZW50aXRpZXNBcnJheVRvT2JqZWN0LFxuICAgIGFkZFVzZXJJbmZvVG9FdmVudCxcbn0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0ludGVybmFsRmxvd3MnO1xuaW1wb3J0ICogYXMgdmFsaWRhdGlvblV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92YWxpZGF0aW9uJztcbmltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xuaW1wb3J0ICogYXMgc2NyaXB0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3NjcmlwdCc7XG5pbXBvcnQgKiBhcyBIVFRQVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0hUVFAnO1xuaW1wb3J0IHsgSVJpc2tBc3Nlc3NtZW50SGFuZGxlciwgUmlza0Fzc2Vzc21lbnRIYW5kbGVyVGltZW91dERlY29yYXRvciwgUmlza0Fzc2Vzc21lbnRIYW5kbGVyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Jpc2tBc3Nlc3NtZW50L1Jpc2tBc3Nlc3NtZW50SGFuZGxlcic7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tICcuLi9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5pbXBvcnQge2RlZmF1bHRBcGlTY2hlbWEsIGxvZ2luTWV0aG9kcywgbG9nb3V0TWV0aG9kc30gZnJvbSBcIi4vY29uc3RzXCI7XG5kZWNsYXJlIGNvbnN0IEZCOiBhbnk7XG5cbi8vIFJhdyBzZXJ2ZXIgQVBJXG5cbmZ1bmN0aW9uIGdldFVuYXV0aG9yaXplZFVzZXJSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gb2JqZWN0VXRpbHMuY2xvbmUoe1xuICAgICAgICBzdGF0dXM6ICdGQUlMJyxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnVW5hdXRob3JpemVkIHVzZXInLFxuICAgICAgICBzdGF0dXNNZXNzYWdlOiAnVW5hdXRob3JpemVkIHVzZXInLFxuICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLlVOQVVUSE9SSVpFRF9VU0VSLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdE9LUmVzcG9uc2Uob3JpZ2luYWxSZXNwb25zZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogJ09LJyxcbiAgICAgICAgc3RhdHVzTWVzc2FnZTogJycsXG4gICAgICAgIGVycm9yQ29kZTogMCxcbiAgICAgICAgc3RhdHVzQ29kZTogMCxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcbiAgICAgICAgZXJyb3JEZXRhaWxzOiAnJyxcbiAgICAgICAgc3RhdHVzUmVhc29uOiAnJyxcbiAgICAgICAgb3JpZ2luYWxSZXNwb25zZTogb3JpZ2luYWxSZXNwb25zZSxcbiAgICB9O1xufVxudmFyIF9zZW50RmJTZXNzaW9uUGFyYW1zOiBib29sZWFuO1xuZ2xvYmFsRXZlbnRzLmFkZChcbiAgICAnb25GQkNSZWZyZXNoZWQnLFxuICAgICgpID0+IHtcbiAgICAgICAgX3NlbnRGYlNlc3Npb25QYXJhbXMgPSBmYWxzZTtcbiAgICB9LFxuICAgICdjb21wb25lbnQnLFxuKTtcbmVudW0gUHJvdmlkZXJUeXBlIHtcbiAgICBfdW5rbm93bixcbiAgICBmYWNlYm9vayxcbiAgICBsaW5rZWRpbixcbiAgICBzYW1sUHJvdmlkZXIsIC8vIGdpZ3lhIGFzIFNBTUwgU1BcbiAgICBzYW1sU2Vzc2lvbiwgLy8gZ2lneWEgYXMgU0FNTCBJRFBcbn1cbmludGVyZmFjZSBJQ29ubmVjdGVkUHJvdmlkZXIge1xuICAgIHR5cGU6IFByb3ZpZGVyVHlwZTtcbiAgICBkYXRhPzogYW55O1xuICAgIHJlbW92ZUFmdGVyPzogbnVtYmVyIHwgYm9vbGVhbjtcbn1cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJBcGlSZXF1ZXN0IHtcbiAgICBwdWJsaWMgcGFyYW1zOiBPYmplY3Q7XG4gICAgcHVibGljIG9yaWdpbmFsUGFyYW1zOiBPYmplY3Q7XG4gICAgcHJpdmF0ZSBjYWxsYmFjazogKHJlc3BvbnNlOiBPYmplY3QpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSByaXNrQXNzZXNzbWVudEhhbmRsZXI6IElSaXNrQXNzZXNzbWVudEhhbmRsZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYXBpOiBTZXJ2ZXJBcGksIHBhcmFtczogT2JqZWN0LCByaXNrQXNzZXNzbWVudEhhbmRsZXI6IElSaXNrQXNzZXNzbWVudEhhbmRsZXIgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW29iamVjdFV0aWxzLmNsb25lKHBhcmFtcyksIGFwaS5zZXR0aW5ncy5kZWZhdWx0UGFyYW1zXSk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxQYXJhbXMgPSBvYmplY3RVdGlscy5jbG9uZShwYXJhbXMpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gcGFyYW1zWydjYWxsYmFjayddO1xuICAgICAgICB0aGlzLnJpc2tBc3Nlc3NtZW50SGFuZGxlciA9IG5ldyBSaXNrQXNzZXNzbWVudEhhbmRsZXJUaW1lb3V0RGVjb3JhdG9yKHJpc2tBc3Nlc3NtZW50SGFuZGxlciB8fCBuZXcgUmlza0Fzc2Vzc21lbnRIYW5kbGVyKCkpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhcnQoKSB7XG4gICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5pc1Nlc3Npb25WYWxpZChcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLFxuICAgICAgICAgICAgYXN5bmMgKHZhbGlkU2Vzc2lvbjogYm9vbGVhbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwaS5hZGFwdGVyU2V0dGluZ3MucmVxdWlyZXNTZXNzaW9uKCkgJiYgKCF2YWxpZFNlc3Npb24gJiYgIXRoaXMuZG9lc0hhdmVBbHRTZXNzaW9uUGFyYW0oKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGAke3RoaXMuYXBpLm1ldGhvZE5hbWV9OiBtaXNzaW5nIHJlcXVpcmVkIHNlc3Npb25gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclNlcnZlckFwaVJlc3BvbnNlKGdldFVuYXV0aG9yaXplZFVzZXJSZXNwb25zZSgpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBzZXJ2ZXIgcmVxdWVzdDogJHt0aGlzLmFwaS5tZXRob2ROYW1lfWAsIHRoaXMucGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzU2Vzc2lvbkV4dGVuZGVkID0gdGhpcy5hcGkuYWRhcHRlclNldHRpbmdzLnJlcXVpcmVzU2Vzc2lvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGF3YWl0IGdpZ3lhLl8uYXBpQWRhcHRlci5zZXRHbHRleHBGcm9tU1NPKHRoaXMucGFyYW1zWydBUElLZXknXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QodmFsaWRTZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Nlc3Npb25FeHRlbmRlZCAmJiByZXNbJ2Vycm9yQ29kZSddICE9PSBHU0Vycm9ycy5VTkFVVEhPUklaRURfVVNFUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEFjY291bnRzTG9naW5FdmVudChyZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNlbmRSZXF1ZXN0KHZhbGlkU2Vzc2lvbjogYm9vbGVhbikge1xuICAgICAgICBjb25zdCByZXF1ZXN0QWRhcHRlclNldHRpbmdzID0gb2JqZWN0VXRpbHMubWVyZ2UoW1xuICAgICAgICAgICAgdGhpcy5hcGkuYWRhcHRlclNldHRpbmdzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhY2hlVGltZW91dDogdGhpcy5wYXJhbXNbJ2NhY2hlVGltZW91dCddLFxuICAgICAgICAgICAgICAgIGZvcmNlR2lneWFEb21haW46ICF2YWxpZFNlc3Npb24gJiYgdGhpcy5hcGkuYWRhcHRlclNldHRpbmdzLmZvcmNlR2lneWFEb21haW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZVJlcXVlc3QodmFsaWRTZXNzaW9uLCAocHJlc2V0UmVzcG9uc2U/OiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHJlc2V0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclNlcnZlckFwaVJlc3BvbnNlKHByZXNldFJlc3BvbnNlLCB2YWxpZFNlc3Npb24sIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgZXZlbnROYW1lOiAnYmVmb3JlUmVxdWVzdCcsIG1ldGhvZE5hbWU6IHRoaXMuYXBpLm1ldGhvZE5hbWUsIHJhd1BhcmFtczogdGhpcy5vcmlnaW5hbFBhcmFtcywgcGFyYW1zOiB0aGlzLnBhcmFtcyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kVXJsID0gdGhpcy5nZXRNZXRob2RVcmwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpLnNldHRpbmdzLm9hdXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuc2VuZE9hdXRoUmVxdWVzdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlOiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZnRlclNlcnZlckFwaVJlc3BvbnNlKHJlc3BvbnNlLCB2YWxpZFNlc3Npb24sIHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFkYXB0ZXJTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuc2VuZFJlcXVlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZTogT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTZXJ2ZXJBcGlSZXNwb25zZShyZXNwb25zZSwgdmFsaWRTZXNzaW9uLCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBZGFwdGVyU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWV0aG9kVXJsKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmFwaS5zZXR0aW5ncy5yZXN0VXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RSZXN0VXJsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpLm1ldGhvZE5hbWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RSZXN0VXJsKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gLyh7KC4qPyl9KS9nO1xuICAgICAgICBsZXQgbWF0Y2ggPSByZWdleC5leGVjKHRoaXMuYXBpLnNldHRpbmdzLnJlc3RVcmwpO1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5hcGkuc2V0dGluZ3MucmVzdFVybDtcbiAgICAgICAgd2hpbGUgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShtYXRjaFsxXSwgdGhpcy5wYXJhbXNbbWF0Y2hbMl1dID8/ICcnKTtcbiAgICAgICAgICAgIG1hdGNoID0gcmVnZXguZXhlYyh0aGlzLmFwaS5zZXR0aW5ncy5yZXN0VXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiZWZvcmVSZXF1ZXN0KHZhbGlkU2Vzc2lvbjogYm9vbGVhbiwgY2FsbGJhY2s6IChyZXNwb25zZT86IE9iamVjdCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAobG9nb3V0TWV0aG9kc1t0aGlzLmFwaS5tZXRob2ROYW1lXSkge1xuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBpbnZva2UgYW4gYWN0dWFsIGxvZ291dCBjYWxsIHRvIHRoZSBzZXJ2ZXIgaWYgc2Vzc2lvbiBpcyBub3QgdmFsaWQgb3IgaWYgaXQncyB0aGUgc3NvTG9nb3V0VXJsIHNpbmNlIHVzZXIgaXMgbG9nZ2VkIG91dCBvciBhYm91dCB0byBiZVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICghdmFsaWRTZXNzaW9uICYmICF0aGlzLnBhcmFtc1sncmVnVG9rZW4nXSkgfHxcbiAgICAgICAgICAgICAgICAoZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0xvZ291dFVybCAmJiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID09IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5zc29Mb2dvdXRVcmwpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhnZXREZWZhdWx0T0tSZXNwb25zZShudWxsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhbmRsZURlcHJlY2F0ZWRQYXJhbXMoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb2xsZWN0aW9ucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RXaXRob3V0TG9naW5CZWhhdmlvcih2YWxpZFNlc3Npb24pO1xuXG4gICAgICAgIHZhciBwcm92aWRlclBlcm1pc3Npb25zOiBzdHJpbmcgPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtc1sncHJvdmlkZXInXSArICdFeHRyYVBlcm1pc3Npb25zJ107XG4gICAgICAgIHRoaXMucGFyYW1zWydleHRyYVBlcm1pc3Npb25zJ10gPSBwcm92aWRlclBlcm1pc3Npb25zIHx8IHRoaXMucGFyYW1zWydwZXJtaXNzaW9ucyddO1xuICAgICAgICB0aGlzLmhhbmRsZVJpc2tBc3Nlc3NtZW50KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwaS5wcmVwcm9jZXNzUmVxdWVzdCh0aGlzLnBhcmFtcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3ZlcnJpZGFibGVQYXJhbXMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5vbk92ZXJyaWRhYmxlUGFyYW1zKHZhbGlkU2Vzc2lvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQYXJhbXModGhpcy5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nQ2FsbCh0aGlzLmFwaS5tZXRob2ROYW1lLCB0aGlzLm9yaWdpbmFsUGFyYW1zLCB0aGlzLm9yaWdpbmFsUGFyYW1zWydsYXN0U291cmNlJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldE92ZXJyaWRhYmxlUGFyYW1zKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICAgICAgICB2YXIgb3ZlcnJpZGFibGUgPSB7fTtcbiAgICAgICAgb2JqZWN0VXRpbHMubWVyZ2UoW292ZXJyaWRhYmxlLCB0aGlzLnBhcmFtc10pO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZG9lc0hhdmVBbHRTZXNzaW9uUGFyYW0oKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5hcGkuYWx0U2Vzc2lvblBhcmFtcykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBhbHRQYXJhbXMgPSB0aGlzLmFwaS5hbHRTZXNzaW9uUGFyYW1zLnNwbGl0KCd8Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWx0UGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXNbYWx0UGFyYW1zW2ldXSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXROb25PdmVycmlkYWJsZVBhcmFtcyh2YWxpZFNlc3Npb246IGJvb2xlYW4sIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ0FQSUtleSddICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsb2dpblRva2VuRXhwID0gZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5nZXRJdGVtKCdnbHRleHBfJyArIHRoaXMucGFyYW1zWydBUElLZXknXSk7XG4gICAgICAgICAgICBpZiAobG9naW5Ub2tlbkV4cCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2xvZ2luVG9rZW5FeHAnXSA9IGxvZ2luVG9rZW5FeHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVmVUlEID0gZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5nZXRJdGVtKCdfZ2lnUmVmVWlkXycgKyB0aGlzLnBhcmFtc1snQVBJS2V5J10pO1xuICAgICAgICBpZiAocmVmVUlEICYmICh2YWxpZFNlc3Npb24gfHwgbG9naW5NZXRob2RzW3RoaXMuYXBpLm1ldGhvZE5hbWVdKSkgdGhpcy5wYXJhbXNbJ3JlZlVJRCddID0gcmVmVUlEO1xuXG4gICAgICAgIC8vIEZvciBGQiBhdXRvIHNlc3Npb24gcmVuZXdhbCwgd2UgcGFzcyBGQiBKUyBTREsgc2Vzc2lvbiB0b2tlbiBzbyB0aGF0IGl0J2xsIHVwZGF0ZSB0aGUgc2VydmVyIHNpZGUgRkIgdG9rZW5cbiAgICAgICAgaWYgKGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vayAmJiAhX3NlbnRGYlNlc3Npb25QYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBvRmJQYXJhbXMgPSBmYWNlYm9va0V4dGVybmFsLmdldFBhcmFtcygpO1xuICAgICAgICAgICAgZm9yICh2YXIgZmJQYXJhbSBpbiBvRmJQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtc1tmYlBhcmFtXSA9IG9GYlBhcmFtc1tmYlBhcmFtXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZW50RmJTZXNzaW9uUGFyYW1zID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFwaS5tZXRob2ROYW1lLmluZGV4T2YoJ2FjY291bnRzLicpID09PSAwKSB7XG4gICAgICAgICAgICAvLyB3ZSB3YW50IHRvIGluY2x1ZGUgdXNlckluZm8gZm9yIHNvY2lhbGl6ZS5sb2dpbiBldmVudFxuICAgICAgICAgICAgaWYgKGdsb2JhbEV2ZW50cy5fYWN0aXZlTmFtZXNwYWNlc1snc29jaWFsaXplJ10gJiYgdGhpcy5wYXJhbXNbJ2luY2x1ZGVVc2VySW5mbyddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtc1snaW5jbHVkZVVzZXJJbmZvJ10gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBhIHBlbmRpbmdSZWdpc3RyYXRpb24gd2lsbCBvY2N1ciwgd2UnbGwgbmVlZCB0aGUgdXNlcidzIGRhdGEgZm9yIGNvbXBsZXRlIHJlZ2lzdHJhdGlvbiBzY3JlZW5cbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydpbmNsdWRlJ10gPSB0aGlzLnBhcmFtc1snaW5jbHVkZSddID8gdGhpcy5wYXJhbXNbJ2luY2x1ZGUnXSArICcsJyA6ICcnICsgJ3Byb2ZpbGUsZGF0YSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ2FjY291bnRzLmdldFNjaGVtYScpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydpbmNsdWRlRHluYW1pY1NjaGVtYSddID0gJ2NsaWVudE9ubHknO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXJhbXNbJ3RhcmdldEVudiddID0gJ2pzc2RrJztcblxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRGVwcmVjYXRlZFBhcmFtcygpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWydwZW5kaW5nUmVnaXN0cmF0aW9uJ10pIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydwZW5kaW5nX3JlZ2lzdHJhdGlvbiddID0gdGhpcy5wYXJhbXNbJ3BlbmRpbmdSZWdpc3RyYXRpb24nXTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtc1snbmV3VXNlcnNQZW5kaW5nUmVnaXN0cmF0aW9uJ10pIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydwZW5kaW5nX3JlZ2lzdHJhdGlvbiddID0gdGhpcy5wYXJhbXNbJ25ld1VzZXJzUGVuZGluZ1JlZ2lzdHJhdGlvbiddO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWydhbHdheXNGb3JjZUF1dGhlbnRpY2F0aW9uJ10pIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zWydmb3JjZUF1dGhlbnRpY2F0aW9uJ10gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zWyd0aW1lc3RhbXAnXSkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRFRpbWVzdGFtcCddID0gdGhpcy5wYXJhbXNbJ3RpbWVzdGFtcCddO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zWyd0aW1lc3RhbXAnXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ3NpZ25hdHVyZSddICYmIHRoaXMuYXBpLm1ldGhvZE5hbWUuaW5kZXhPZignc29jaWFsaXplLicpID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc1snVUlEU2lnJ10gPSB0aGlzLnBhcmFtc1snc2lnbmF0dXJlJ107XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wYXJhbXNbJ3NpZ25hdHVyZSddO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1snbm9uY2UnXSkge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRE5vbmNlJ10gPSB0aGlzLnBhcmFtc1snbm9uY2UnXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcmFtc1snbm9uY2UnXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ2Zvcm1hdCddICYmICF0aGlzLnBhcmFtc1snZGF0YUZvcm1hdCddKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc1snZGF0YUZvcm1hdCddID0gdGhpcy5wYXJhbXNbJ2Zvcm1hdCddO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFyYW1zWydmb3JtYXQnXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaGFuZGxlUmlza0Fzc2Vzc21lbnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmKCF0aGlzLmFwaS5zZXR0aW5ncz8ucmlza0Fzc2Vzc21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zID0gYXdhaXQgdGhpcy5yaXNrQXNzZXNzbWVudEhhbmRsZXIuZ2V0QXNzZXNzbWVudFBhcmFtZXRlcnModGhpcy5wYXJhbXMpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucGFyYW1zLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQ29sbGVjdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1sncmVjaXBpZW50cyddKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtc1sncmVjaXBpZW50cyddID0gdGhpcy5leHRyYWN0TGlzdE9mR0lHVUlEcyh0aGlzLnBhcmFtc1sncmVjaXBpZW50cyddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBhcmFtc1snZnJpZW5kcyddKSB7XG4gICAgICAgICAgICB2YXIgZnJpZW5kVUlEcyA9IHRoaXMuZXh0cmFjdExpc3RPZkdJR1VJRHModGhpcy5wYXJhbXNbJ2ZyaWVuZHMnXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXNbJ1VJRHMnXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ1VJRHMnXSArPSAnLCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhcmFtc1snVUlEcyddICs9IGZyaWVuZFVJRHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGV4dHJhY3RMaXN0T2ZHSUdVSURzKHNvdXJjZTogYW55KSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5VSUQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UuVUlEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBVSUQgPSB0aGlzLmV4dHJhY3RMaXN0T2ZHSUdVSURzKG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFVJRCAhPSBudWxsICYmIFVJRCAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaChVSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuam9pbignLCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQ29ubmVjdFdpdGhvdXRMb2dpbkJlaGF2aW9yKHZhbGlkU2Vzc2lvbjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ3NvY2lhbGl6ZS5hZGRDb25uZWN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3RCZWhhdmlvciA9IHRoaXMucGFyYW1zWydjb25uZWN0V2l0aG91dExvZ2luQmVoYXZpb3InXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29ubmVjdEJlaGF2aW9yID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RCZWhhdmlvciA9IGNvbm5lY3RCZWhhdmlvci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29ubmVjdEJlaGF2aW9yID09PSAnbG9naW5leGlzdGluZ3VzZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXNbJ2xvZ2luSWZFeGlzdHMnXSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSB1c2VyIHdhcyBsb2dnZWQgb3V0IHdlIHNob3VsZCBjYWxsIHNvY2lhbGl6ZS5sb2dpbiB3aXRoIHRlbXBvcmFyeV9hY2NvdW50PXRydWVcbiAgICAgICAgICAgIGlmICghdmFsaWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcGkgPSBnZXRBcGkoJ3NvY2lhbGl6ZS5sb2dpbicpIGFzIFNlcnZlckFwaTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdEJlaGF2aW9yICE9PSAnYWx3YXlzbG9naW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zWyd0ZW1wb3JhcnlfYWNjb3VudCddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbHRlclBhcmFtcyhwYXJhbXM6IE9iamVjdCk6IHZvaWQge1xuICAgICAgICB0aGlzLnBhcmFtcyA9IG9iamVjdFV0aWxzLmV4dHJhY3RQcm9wZXJ0aWVzKHBhcmFtcywge30sIHRoaXMuZ2V0RnVsbFNjaGVtYSgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZ1bGxTY2hlbWEoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuYXBpLnNjaGVtYSA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgICAgIGNvbnN0IGFyU2NoZW1hID0gKHRoaXMuYXBpLnNjaGVtYSArICd8JyArIGRlZmF1bHRBcGlTY2hlbWEpLnNwbGl0KCd8Jyk7XG4gICAgICAgIGlmIChhclNjaGVtYS5pbmRleE9mKCdjb250ZXh0JykgPT09IC0xICYmIHR5cGVvZiB0aGlzLnBhcmFtc1snY29udGV4dCddID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYXJTY2hlbWEucHVzaCgnY29udGV4dCcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJTY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBhclNjaGVtYVtpXTtcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdbcHJvdmlkZXJjYXBhYmlsaXR5PScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBjYXBhYmlsaXR5ID0gZmllbGROYW1lXG4gICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnPScpWzFdXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnXScpWzBdO1xuICAgICAgICAgICAgICAgIHZhciBzdWJGaWVsZE5hbWUgPSBmaWVsZE5hbWUuc3BsaXQoJ10nKVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJzID0gZ2lneWEuc29jaWFsaXplLmdldFByb3ZpZGVyc0ZvclJlcXVpcmVkQ2FwYWJpbGl0aWVzKGdpZ3lhLnNvY2lhbGl6ZS5nZXRQcm92aWRlcnNCeU5hbWUoJyonKSwgW2NhcGFiaWxpdHldKTtcbiAgICAgICAgICAgICAgICB2YXIgYXJQYXJhbXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpUHJvdmlkZXIgPSAwOyBpUHJvdmlkZXIgPCBwcm92aWRlcnMubGVuZ3RoOyBpUHJvdmlkZXIrKykge1xuICAgICAgICAgICAgICAgICAgICBhclBhcmFtcy5wdXNoKHByb3ZpZGVyc1tpUHJvdmlkZXJdLm5hbWUgKyBzdWJGaWVsZE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhclNjaGVtYVtpXSA9IGFyUGFyYW1zLmpvaW4oJ3wnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJTY2hlbWEuam9pbignfCcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcHJvY2Vzc1NlcnZlclJlc3BvbnNlKHJlc3BvbnNlOiBPYmplY3QpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlWyd1c2VySW5mbyddICYmIHRoaXMuYXBpLm1ldGhvZE5hbWUuaW5kZXhPZignYWNjb3VudHMuJykgIT09IDApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2VbJ3VzZXJJbmZvJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3VzZXJJbmZvJ10gPSBKU09OVXRpbHMucGFyc2UocmVzcG9uc2VbJ3VzZXJJbmZvJ10sIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VbJ3VzZXJJbmZvJ10pIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG9iamVjdFV0aWxzLm1lcmdlKFtyZXNwb25zZVsndXNlckluZm8nXSwgcmVzcG9uc2VdKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnZXJyb3JDb2RlJ10gPSByZXNwb25zZVsndXNlckluZm8nXVsnZXJyb3JDb2RlJ107XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlWyd1c2VySW5mbyddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlWydhY2NvdW50SW5mbyddICYmIHR5cGVvZiByZXNwb25zZVsnYWNjb3VudEluZm8nXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlWydhY2NvdW50SW5mbyddID0gSlNPTlV0aWxzLnBhcnNlKHJlc3BvbnNlWydhY2NvdW50SW5mbyddLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydhY2NvdW50SW5mbyddKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBvYmplY3RVdGlscy5tZXJnZShbcmVzcG9uc2VbJ2FjY291bnRJbmZvJ10sIHJlc3BvbnNlXSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlWydhY2NvdW50SW5mbyddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnc2V0dGluZ3MnXSAmJiB0eXBlb2YgcmVzcG9uc2VbJ3NldHRpbmdzJ10gPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnc2V0dGluZ3MnXSA9IEpTT05VdGlscy5wYXJzZShyZXNwb25zZVsnc2V0dGluZ3MnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEV4cGlyZWRTZXNzaW9uUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5hcGkubWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmRlbFVzZXJTZXR0aW5ncyc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9yaWdpbmFsUGFyYW1zWydkaXNhYmxlTG9jYWxTZXR0aW5ncyddKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbEdpZ3lhU2V0dGluZ3ModGhpcy5wYXJhbXNbJ2dyb3VwJ10pO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGdldERlZmF1bHRPS1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5nZXRVc2VySW5mbyc6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3N0YXR1cyddID0gJ09LJztcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnc3RhdHVzTWVzc2FnZSddID0gJyc7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbJ2Vycm9yQ29kZSddID0gMDtcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnc3RhdHVzQ29kZSddID0gMDtcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gPSAnJztcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnZXJyb3JEZXRhaWxzJ10gPSAnJztcbiAgICAgICAgICAgICAgICByZXNwb25zZVsnc3RhdHVzUmVhc29uJ10gPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxvZ291dCc6XG4gICAgICAgICAgICBjYXNlICdzb2NpYWxpemUubG9nb3V0JzpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGdldERlZmF1bHRPS1Jlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZnRlclNlcnZlckFwaVJlc3BvbnNlKHJlc3BvbnNlOiBPYmplY3QsIHNlbnRXaXRoVmFsaWRTZXNzaW9uOiBib29sZWFuLCBjYWxsYmFjaz86IChyZXNwb25zZTogT2JqZWN0KSA9PiB2b2lkKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc05hTihOdW1iZXIoZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWyd2ZXJpZnlMb2dpbkludGVydmFsJ10pKSAmJlxuICAgICAgICAgICAgdGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ2FjY291bnRzLnZlcmlmeUxvZ2luJyAmJlxuICAgICAgICAgICAgcmVzcG9uc2VbJ2Vycm9yQ29kZSddICE9PSBHU0Vycm9ycy5PS1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5jbGVhclNlc3Npb24oeyBBUElLZXk6IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrQ29tcGxldGVSZWdpc3RyYXRpb24ocmVzcG9uc2UsIHRoaXMub3JpZ2luYWxQYXJhbXMsIHRoaXMuYXBpLm1ldGhvZE5hbWUsIChjb21wbGV0ZVJlc3BvbnNlLCBzdXBwcmVzc0V2ZW50cz86IGJvb2xlYW4sIHJldHJ5PzogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBjb21wbGV0ZVJlc3BvbnNlO1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnByZXByb2Nlc3NTZXJ2ZXJSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuVU5BVVRIT1JJWkVEX1VTRVIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuZ2V0RXhwaXJlZFNlc3Npb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuT0sgJiYgKHNlbnRXaXRoVmFsaWRTZXNzaW9uIHx8IGxvZ2luTWV0aG9kc1t0aGlzLmFwaS5tZXRob2ROYW1lXSkpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0U3RvcmFnZSgpLnJlbW92ZUl0ZW0oJ19naWdSZWZVaWRfJyArIHRoaXMub3JpZ2luYWxQYXJhbXNbJ0FQSUtleSddKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXRob2RSZXNwb25zZShyZXNwb25zZSwgKG5ld1Jlc3BvbnNlOiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRGVmYXVsdFJlc3BvbnNlUHJvcGVydGllcyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaGFuZGxlU3BlY2lhbEZpZWxkcyhyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dEZyb21Qcm92aWRlcnNJZk5lZWRlZChyZXNwb25zZSwgcmV0cnlGcm9tUmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlGcm9tUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFJlcXVlc3Qoc2VudFdpdGhWYWxpZFNlc3Npb24pLnRoZW4oY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0V2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUV2ZW50c0Zyb21SZXNwb25zZShyZXNwb25zZSwgc2VudFdpdGhWYWxpZFNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUludGVycnVwdGlvbkV2ZW50RnJvbVJlc3BvbnNlKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgcmV0cnlpbmcgcmVxdWVzdGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUmVxdWVzdChzZW50V2l0aFZhbGlkU2Vzc2lvbikudGhlbihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGV2ZW50TmFtZTogJ2FmdGVyUmVzcG9uc2UnLCBtZXRob2ROYW1lOiB0aGlzLmFwaS5tZXRob2ROYW1lLCBmaWx0ZXJlZFBhcmFtczogdGhpcy5wYXJhbXMsIHJlc3BvbnNlOiByZXNwb25zZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRMb2coJ0NhbGxpbmcgY2FsbGJhY2sgZm9yICcgKyB0aGlzLmFwaS5tZXRob2ROYW1lICsgJyB3aXRoIHRoaXMgcmVzcG9uc2Ugb2JqZWN0JywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwaS5zZXR0aW5ncy5wb3N0cHJvY2Vzc29yKSB0aGlzLmFwaS5zZXR0aW5ncy5wb3N0cHJvY2Vzc29yKHRoaXMub3JpZ2luYWxQYXJhbXMsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGREZWZhdWx0UmVzcG9uc2VQcm9wZXJ0aWVzKHJlc3BvbnNlOiBPYmplY3QpOiBhbnkge1xuICAgICAgICBkZWxldGUgcmVzcG9uc2VbJ3N0YXR1c0NvZGUnXTtcbiAgICAgICAgZGVsZXRlIHJlc3BvbnNlWydzdGF0dXNSZWFzb24nXTtcblxuICAgICAgICByZXNwb25zZVsnZXJyb3JDb2RlJ10gPSByZXNwb25zZVsnZXJyb3JDb2RlJ10gfHwgMDtcbiAgICAgICAgcmVzcG9uc2VbJ3N0YXR1cyddID0gcmVzcG9uc2VbJ3N0YXR1cyddIHx8IChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gMCA/ICdPSycgOiAnRkFJTCcpO1xuICAgICAgICByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gPSByZXNwb25zZVsnZXJyb3JNZXNzYWdlJ10gfHwgJyc7XG4gICAgICAgIHJlc3BvbnNlWydzdGF0dXNNZXNzYWdlJ10gPSByZXNwb25zZVsnc3RhdHVzTWVzc2FnZSddIHx8IHJlc3BvbnNlWydlcnJvck1lc3NhZ2UnXTtcblxuICAgICAgICByZXNwb25zZVsncmVxdWVzdFBhcmFtcyddID0gdGhpcy5vcmlnaW5hbFBhcmFtcztcbiAgICAgICAgaWYgKHJlc3BvbnNlWydyZXF1ZXN0UGFyYW1zJ11bJ3Bhc3N3b3JkJ10pIGRlbGV0ZSByZXNwb25zZVsncmVxdWVzdFBhcmFtcyddWydwYXNzd29yZCddOyAvL3dlIGRvbid0IHdhbnQgcGFzc3dvcmRzIHRvIHJldHVybiBhcyBjbGVhcnRleHQgdG8gdGhlIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzcG9uc2VbJ2NvbnRleHQnXSA9IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2NvbnRleHQnXTtcbiAgICAgICAgdmFyIG9wZXJhdGlvbk5hbWVzcGFjZSA9IHRoaXMuYXBpLm1ldGhvZE5hbWUuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgcmVzcG9uc2VbJ29wZXJhdGlvbiddID0gb3BlcmF0aW9uTmFtZXNwYWNlID09ICdzb2NpYWxpemUnID8gdGhpcy5hcGkubWV0aG9kTmFtZS5zcGxpdCgnLicpWzFdIDogJy8nICsgdGhpcy5hcGkubWV0aG9kTmFtZTsgLy9mb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZU1ldGhvZFJlc3BvbnNlKHJlc3BvbnNlOiBPYmplY3QsIGNhbGxiYWNrOiAocmVzcG9uc2U6IE9iamVjdCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAocmVzcG9uc2VbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYXBpLm1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5zb2NpYWxMb2dpbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmxvZ2luJzpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbJ25ld1VzZXInXSA9IFN0cmluZyhyZXNwb25zZVsneF9uZXdVc2VyJ10pID09ICd0cnVlJztcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3BvbnNlWyd4X25ld1VzZXInXTtcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUubm90aWZ5TG9naW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5hZGRDb25uZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5saW5rQWNjb3VudHMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmZpbmFsaXplUmVnaXN0cmF0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5sb2dpbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnb2F1dGgudG9rZW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLnNzby5sb2dpbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMub3RwLmxvZ2luJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5hdXRoLm1hZ2ljbGluay5lbWFpbC5sb2dpbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMuYXV0aC5vdHAuZW1haWwubG9naW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmF1dGgubG9naW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLnJlZ2lzdGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUuZ2V0VXNlckluZm8nOlxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2VbJ2xvZ2luX3Rva2VuJ107XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsnZXhwaXJlc19pbiddO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2VbJ2lkJ107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWydjb2RlJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWydhdXRoQ29kZSddID0gcmVzcG9uc2VbJ2NvZGUnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsnY29kZSddO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZVsnYXV0aENvZGUnXSAmJiAhKHRoaXMuYXBpLm1ldGhvZE5hbWUgPT0gJ3NvY2lhbGl6ZS5ub3RpZnlMb2dpbicgJiYgdGhpcy5wYXJhbXNbJ2F1dGhDb2RlJ10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcjogYW55ID0gcmVzcG9uc2U7IC8vIHB1c2ggdGhlIHJlc3BvbnNlIGRvd24gaW50byB0aGUgdXNlciBmaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWyd1c2VySW5mbyddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlciA9IHJlc3BvbnNlWyd1c2VySW5mbyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVsndXNlckluZm8nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpLm1ldGhvZE5hbWUuaW5kZXhPZignYWNjb3VudHMuJykgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHsgdXNlcjogdXNlciB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFV0aWxzLmV4dHJhY3RQcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c3xzdGF0dXNNZXNzYWdlfGNhbGxJZHxlcnJvckNvZGV8ZXJyb3JNZXNzYWdlfGVycm9yRGV0YWlsc3xzZXR0aW5nc3xjb250ZXh0fFVJRFNpZ3x0aW1lc3RhbXB8VUlEU2lnbmF0dXJlfHNpZ25hdHVyZVRpbWVzdGFtcHxVSUR8cHJvZmlsZXxkYXRhfG5ld1VzZXJ8c2lnbktleXNVSURTaWduYXR1cmV8ZGF0YUNlbnRlcnxpZF90b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbJ3VzZXInXS5oYXNPd25Qcm9wZXJ0eSgnVUlEU2lnJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbJ3NpZ25hdHVyZSddID0gcmVzcG9uc2VbJ3VzZXInXS5VSURTaWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBzdXBwb3J0IGZvciBEZXByZWNhdGVkICdzaWduYXR1cmUnIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIucHJvZmlsZSkgZGVsZXRlIHVzZXIucHJvZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5kYXRhKSBkZWxldGUgdXNlci5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5zdGF0dXNNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLmNhbGxJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5lcnJvckNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHVzZXIuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1c2VyLmVycm9yRGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXNlci5jb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT0gdXNlcikgcmVzcG9uc2VbJ3VzZXInXSA9IHVzZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlci5hZ2UgIT0gJycgJiYgIWlzTmFOKHBhcnNlSW50KHVzZXIuYWdlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmFnZSA9IHBhcnNlSW50KHVzZXIuYWdlKTsgLy9mb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuc3VwcHJlc3NFdmVudHMpIHJlc3BvbnNlWydzdXBwcmVzc0V2ZW50cyddID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VyLmNhcGFiaWxpdGllcyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXBhYmlsaXRpZXNTdHJpbmcgPSB1c2VyLmNhcGFiaWxpdGllcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhcGFiaWxpdGllc1N0cmluZykgY2FwYWJpbGl0aWVzU3RyaW5nID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VyLmNhcGFiaWxpdGllcyAhPSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmNhcGFiaWxpdGllcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXBhYmlsaXRpZXNTdHJpbmcgPSBjYXBhYmlsaXRpZXNTdHJpbmcudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuY2FwYWJpbGl0aWVzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBjYXBhYmlsaXRpZXNTdHJpbmcuaW5kZXhPZignYWN0aW9ucycpID4gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyaWVuZHM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdmcmllbmRzJykgPiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW46IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdsb2dpbicpID4gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogY2FwYWJpbGl0aWVzU3RyaW5nLmluZGV4T2YoJ3N0YXR1cycpID4gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdub3RpZmljYXRpb25zJykgPiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdHM6IGNhcGFiaWxpdGllc1N0cmluZy5pbmRleE9mKCdjb250YWN0cycpID4gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvczogY2FwYWJpbGl0aWVzU3RyaW5nLmluZGV4T2YoJ3Bob3RvcycpID4gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydElkZW50aXRpZXNBcnJheVRvT2JqZWN0KHVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VyLnByb3ZpZGVycyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIucHJvdmlkZXJzID0gdXNlci5wcm92aWRlcnMuc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtc1snZ3JvdXAnXSAmJiAhcmVzcG9uc2VbJ3NldHRpbmdzJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSBnZXRHaWd5YVNldHRpbmdzKHRoaXMucGFyYW1zWydncm91cCddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsnc2V0dGluZ3MnXSA9IHNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5nZXRBdmFpbGFibGVQcm92aWRlcnMnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgb0F2YWlsYWJsZVByb3ZpZGVyczogT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2VbJ2F2YWlsYWJsZVByb3ZpZGVycyddLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvQXZhaWxhYmxlUHJvdmlkZXJzW3Jlc3BvbnNlWydhdmFpbGFibGVQcm92aWRlcnMnXVtpXS5uYW1lXSA9IHJlc3BvbnNlWydhdmFpbGFibGVQcm92aWRlcnMnXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsnYXZhaWxhYmxlUHJvdmlkZXJzJ10gPSBvQXZhaWxhYmxlUHJvdmlkZXJzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hcGkubWV0aG9kTmFtZSA9PT0gJ3NvY2lhbGl6ZS5yZW1vdmVDb25uZWN0aW9uJyAmJiByZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5nZXRVc2VySW5mbyh0aGlzLm9yaWdpbmFsUGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICh1c2VySW5mb1Jlc3BvbnNlOiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodXNlckluZm9SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2dvdXRGcm9tUHJvdmlkZXJzSWZOZWVkZWQocmVzcG9uc2U6IE9iamVjdCwgY2FsbGJhY2s6IChyZXRyeTogYm9vbGVhbikgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW1wbGVQcm92aWRlclRpbWVvdXQgPSA1MDAwOyAvLyA1c1xuICAgICAgICBjb25zdCBzYW1sUHJvdmlkZXJUaW1lb3V0ID0gMTAwMDA7IC8vIDEwc1xuXG4gICAgICAgIHZhciBlcnJvckNvZGUgPSByZXNwb25zZVsnZXJyb3JDb2RlJ107XG5cbiAgICAgICAgaWYgKGxvZ291dE1ldGhvZHNbdGhpcy5hcGkubWV0aG9kTmFtZV0gJiYgZXJyb3JDb2RlID09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICAvLyBsb2dvdXQgYWN0aXZlIHNlc3Npb24gaWYgbmVjZXNhcnlcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnbG9nb3V0QWN0aXZlU2Vzc2lvbiddKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmNsZWFyU2Vzc2lvbih0aGlzLnBhcmFtc1snQVBJS2V5J10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYXJQcm92aWRlcnMgPSBuZXcgQXJyYXk8SUNvbm5lY3RlZFByb3ZpZGVyPigpO1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyc1RpbWVvdXQgPSBzaW1wbGVQcm92aWRlclRpbWVvdXQ7IC8vIDVzIHRvIGZpbmlzaCBsb2dvdXQgZnJvbSBhbGwgcHJvdmlkZXJzXG4gICAgICAgICAgICB2YXIgd2FpdEFmdGVyUHJvdmlkZXJzID0gMDsgLy8gd2FpdCBhZnRlciBhbGwgcHJvdmlkZXJzIGNvbXBsZXRlXG5cbiAgICAgICAgICAgIC8vIGxpc3Qgc29jaWFsIHByb3ZpZGVycyB0aGF0IG5lZWRzIHRvIGJlIGRpc2NvbmVjdGVkXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJzOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VbJ2Nvbm5lY3RlZFByb3ZpZGVycyddKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzID0gcmVzcG9uc2VbJ2Nvbm5lY3RlZFByb3ZpZGVycyddLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlWydwcm92aWRlciddKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzID0gcmVzcG9uc2VbJ3Byb3ZpZGVyJ10udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm92aWRlcnMgJiYgIXZhbGlkYXRpb25VdGlscy5pc0V4cGxpY2l0RmFsc2UodGhpcy5vcmlnaW5hbFBhcmFtc1snZm9yY2VQcm92aWRlcnNMb2dvdXQnXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc29jaWFsUHJvdmlkZXJzID0gcHJvdmlkZXJzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb2NpYWxQcm92aWRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gc29jaWFsUHJvdmlkZXJzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm92aWRlclR5cGUgPSBQcm92aWRlclR5cGVbcHJvdmlkZXJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJEYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZVByb3ZpZGVyQWZ0ZXI6IG51bWJlciB8IGJvb2xlYW4gPSBzaW1wbGVQcm92aWRlclRpbWVvdXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyLmluZGV4T2YoJ3NhbWwtJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyVHlwZSA9IFByb3ZpZGVyVHlwZS5zYW1sUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEgPSBwcm92aWRlci5zdWJzdHJpbmcoJ3NhbWwtJy5sZW5ndGgpOyAvLyBzYW1sSURQXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVQcm92aWRlckFmdGVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBTQU1MIGxvZ291dCBpbmNyZWFzZSB0aGUgdGltZW91dCB0byAxNXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1RpbWVvdXQgPSBzYW1sUHJvdmlkZXJUaW1lb3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEFmdGVyUHJvdmlkZXJzID0gc2ltcGxlUHJvdmlkZXJUaW1lb3V0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYXJQcm92aWRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBwcm92aWRlclR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBZnRlcjogcmVtb3ZlUHJvdmlkZXJBZnRlcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsaXN0IGFsbCBzYW1sIHNlc3Npb25zIHRvIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVsnc2FtbENvbnRleHQnXSAmJiByZXNwb25zZVsnY29ubmVjdGVkU2FtbFNlc3Npb25zJ10pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2FtbENvbnRleHQgPSByZXNwb25zZVsnc2FtbENvbnRleHQnXTtcbiAgICAgICAgICAgICAgICB2YXIgY29ubmVjdGVkU2Vzc2lvbnMgPSByZXNwb25zZVsnY29ubmVjdGVkU2FtbFNlc3Npb25zJ10uc3BsaXQoJywnKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbm5lY3RlZFNlc3Npb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyUHJvdmlkZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogUHJvdmlkZXJUeXBlLnNhbWxTZXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbWxDb250ZXh0OiBzYW1sQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1sU2Vzc2lvbjogY29ubmVjdGVkU2Vzc2lvbnNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgU0FNTCBsb2dvdXQgaW5jcmVhc2UgdGhlIHRpbWVvdXQgdG8gMTVzXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1RpbWVvdXQgPSBzYW1sUHJvdmlkZXJUaW1lb3V0O1xuICAgICAgICAgICAgICAgICAgICB3YWl0QWZ0ZXJQcm92aWRlcnMgPSBzaW1wbGVQcm92aWRlclRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkaXNjb25uZWN0IGFsbCBmb3VuZCBwcm92aWRlcnNcbiAgICAgICAgICAgIGlmIChhclByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9nZ2VkT3V0Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja0NhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBvbkRvbmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2tDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvbkRvbmUsIHByb3ZpZGVyc1RpbWVvdXQpOyAvLyA1cyB0aW1lb3V0XG5cbiAgICAgICAgICAgICAgICB2YXIgb25Qcm92aWRlclJlc291cmNlQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlZE91dENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2dnZWRPdXRDb3VudCA9PT0gYXJQcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChvbkRvbmUsIHdhaXRBZnRlclByb3ZpZGVycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhclByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ291dEZyb21Qcm92aWRlcihhclByb3ZpZGVyc1tpXSwgb25Qcm92aWRlclJlc291cmNlQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gcHJvdmlkZXJzIGluIHRoZSBhcnJheVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuVU5WRVJJRklFRF9VU0VSICYmIHRoaXMuYXBpLm1ldGhvZE5hbWUgIT09ICdhY2NvdW50cy52ZXJpZnlMb2dpbicpIHtcbiAgICAgICAgICAgIGdpZ3lhLmFjY291bnRzLnZlcmlmeUxvZ2luKHtcbiAgICAgICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdGhpcy5vcmlnaW5hbFBhcmFtc1snaWdub3JlQXBpUXVldWUnXSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdmVyaWZ5UmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyaWZ5UmVzcG9uc2UuZXJyb3JDb2RlID09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vdCBhIGxvZ291dCBtZXRob2RcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9nb3V0RnJvbVByb3ZpZGVyKHByb3ZpZGVyOiBJQ29ubmVjdGVkUHJvdmlkZXIsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHZhciBsb2dvdXRVUkwgPSAnJztcbiAgICAgICAgdmFyIHVzZUlmcmFtZSA9IGZhbHNlO1xuICAgICAgICB2YXIgdXNlQ2FjaGVCdXN0ZXIgPSB0cnVlO1xuICAgICAgICB2YXIgc2FtbERvbWFpbiA9IGAke2dpZ3lhLl8uZ2V0QXBpRG9tYWluKCdmaWRtJyl9YDtcblxuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUHJvdmlkZXJUeXBlLmZhY2Vib29rOlxuICAgICAgICAgICAgICAgIGlmIChnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLndhaXRGb3JTZXJ2aWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6ICdmYWNlYm9vaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWNlYm9va0V4dGVybmFsLmlzTG9nZ2VkSW4gJiYgRkIubG9nb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZCLmxvZ291dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNlYm9va0V4dGVybmFsLnJlZnJlc2hTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgbGluZSBpcyBiZWNhdXNlIG9mIGEgRmFjZWJvb2sgYnVnIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyBsb2dnaW5nIGluIGFmdGVyIHlvdSBoYXZlIGxvZ2dlZC1vdXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ3MjUxMjMvZ2V0bG9naW5zdGF0dXMtcmV0dXJucy1zdGF0dXMtdW5rbm93bi13aGVuLXRyeWluZy10by1sb2dvdXQtZnJvbS1mYWNlYm9vay11c2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5yZW1vdmVJdGVtKCdmYmxvXycgKyBnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2suYXBwSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBQcm92aWRlclR5cGUuc2FtbFByb3ZpZGVyOlxuICAgICAgICAgICAgICAgIGxvZ291dFVSTCA9IFVSTFV0aWxzLmFkZFBhcmFtc1RvVVJMKCdodHRwczovLycgKyBzYW1sRG9tYWluICsgJy9zYW1sL3YyLjAvJyArIHRoaXMucGFyYW1zWydBUElLZXknXSArICcvc3AvanNzbG8nLCB7IG5hbWU6IHByb3ZpZGVyLmRhdGEgfSk7XG4gICAgICAgICAgICAgICAgdXNlSWZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1c2VDYWNoZUJ1c3RlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFByb3ZpZGVyVHlwZS5zYW1sU2Vzc2lvbjpcbiAgICAgICAgICAgICAgICBsb2dvdXRVUkwgPSBVUkxVdGlscy5hZGRQYXJhbXNUb1VSTCgnaHR0cHM6Ly8nICsgc2FtbERvbWFpbiArICcvc2FtbC92Mi4wLycgKyB0aGlzLnBhcmFtc1snQVBJS2V5J10gKyAnL2lkcC9zbG8vY29udGludWUvJywgcHJvdmlkZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgdXNlSWZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1c2VDYWNoZUJ1c3RlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvZ291dFVSTCkge1xuICAgICAgICAgICAgaWYgKHVzZUNhY2hlQnVzdGVyKSBsb2dvdXRVUkwgKz0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIHZhciByZXNvdXJjZVR5cGUgPSB1c2VJZnJhbWUgPyBzY3JpcHRVdGlscy5SZXNvdXJjZVR5cGVzLmlmcmFtZSA6IHNjcmlwdFV0aWxzLlJlc291cmNlVHlwZXMuaW1hZ2U7XG5cbiAgICAgICAgICAgIHZhciByZW1vdmVBZnRlcjtcbiAgICAgICAgICAgIC8vaWYgKHRoaXMub3JpZ2luYWxQYXJhbXNbJ3N1c3RhaW5Mb2dvdXRVUkxzJ10gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIC8vICAgIHJlbW92ZUFmdGVyID0gIXRoaXMub3JpZ2luYWxQYXJhbXNbJ3N1c3RhaW5Mb2dvdXRVUkxzJ11cbiAgICAgICAgICAgIC8vZWxzZVxuICAgICAgICAgICAgcmVtb3ZlQWZ0ZXIgPSBwcm92aWRlci5yZW1vdmVBZnRlcjtcblxuICAgICAgICAgICAgc2NyaXB0VXRpbHMudHJpZ2dlclJlc291cmNlKGxvZ291dFVSTCwgY2FsbGJhY2ssIHJlc291cmNlVHlwZSwgcmVtb3ZlQWZ0ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVFdmVudHNGcm9tUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCwgc2VudFdpdGhWYWxpZFNlc3Npb246IGJvb2xlYW4pIHtcbiAgICAgICAgdmFyIG9FdmVudDtcbiAgICAgICAgaWYgKHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYXBpLm1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5sb2dvdXQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5sb2dvdXQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS51bmxpbmtBY2NvdW50cyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmRlbGV0ZUFjY291bnQnOlxuICAgICAgICAgICAgICAgICAgICBvRXZlbnQgPSB7IGV2ZW50TmFtZTogJ2xvZ291dCxhY2NvdW50cy5sb2dvdXQnIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5saW5rQWNjb3VudHMnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5zZXRVSUQnOlxuICAgICAgICAgICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2UsIG9FdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5yZW1vdmVDb25uZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lOiAnY29ubmVjdGlvblJlbW92ZWQsZGlzY29ubmVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5wYXJhbXNbJ3Byb3ZpZGVyJ10gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFkZFVzZXJJbmZvVG9FdmVudChyZXNwb25zZSwgb0V2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmFkZENvbm5lY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbnRXaXRoVmFsaWRTZXNzaW9uICYmIHJlc3BvbnNlWyd1c2VyJ10uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5wYXJhbXNbJ3Byb3ZpZGVyJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0geyBldmVudE5hbWU6ICdjb25uZWN0aW9uQWRkZWQsY29ubmVjdCcsIHByb3ZpZGVyOiB0aGlzLnBhcmFtc1sncHJvdmlkZXInXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxpbmtBY2NvdW50cyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMuZmluYWxpemVSZWdpc3RyYXRpb24nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmxvZ2luJzpcbiAgICAgICAgICAgICAgICBjYXNlICdvYXV0aC50b2tlbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMub3RwLmxvZ2luJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5hdXRoLm1hZ2ljbGluay5lbWFpbC5sb2dpbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWNjb3VudHMuYXV0aC5vdHAuZW1haWwubG9naW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLmF1dGgubG9naW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLnJlZ2lzdGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdhY2NvdW50cy5zb2NpYWxMb2dpbic6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcmlnaW5hbFBhcmFtc1snc3VwcHJlc3NMb2dpbkV2ZW50J10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hBY2NvdW50c0xvZ2luRXZlbnQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLmZpbmFsaXplUmVnaXN0cmF0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzb2NpYWxpemUucmVnaXN0ZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NvY2lhbGl6ZS5sb2dpbic6XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VbJ3VzZXInXSAmJiAhcmVzcG9uc2VbJ2F1dGhDb2RlJ10pIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBvRXZlbnQgPSB7IGV2ZW50TmFtZTogJ2xvZ2luJyB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLnBhcmFtcz8uWydwcm92aWRlciddO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3ZpZGVyICYmIHJlc3BvbnNlWydwcm92aWRlclNlc3Npb25zJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcmVzcG9uc2VbJ3Byb3ZpZGVyU2Vzc2lvbnMnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvRXZlbnRbJ3Byb3ZpZGVyJ10gPSB0aGlzLmdldFNvY2lhbFByb3ZpZGVycyhwcm92aWRlciwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBvRXZlbnRbJ2xvZ2luTW9kZSddID0gdGhpcy5vcmlnaW5hbFBhcmFtc1snbG9naW5Nb2RlJ10gfHwgJ3N0YW5kYXJkJztcbiAgICAgICAgICAgICAgICAgICAgb0V2ZW50WyduZXdVc2VyJ10gPSByZXNwb25zZVsnbmV3VXNlciddIHx8IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVsnYXV0aENvZGUnXSkgb0V2ZW50WydhdXRoQ29kZSddID0gcmVzcG9uc2VbJ2F1dGhDb2RlJ107XG4gICAgICAgICAgICAgICAgICAgIGFkZFVzZXJJbmZvVG9FdmVudChyZXNwb25zZSwgb0V2ZW50LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbJ3VzZXInXSAmJiBwcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTb2NpYWxDb29raWVzKHByb3ZpZGVyLCByZXNwb25zZVsndXNlciddWydmaXJzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc29jaWFsaXplLm5vdGlmeUxvZ2luJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmFtc1snYXV0aENvZGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXV0aENvZGUgbWVhbnMgaXQncyBHQUNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb0V2ZW50KSBvRXZlbnQgPSB7IGV2ZW50TmFtZTogJ2xvZ2luJyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgb0V2ZW50Wydwcm92aWRlciddID0gJ3NpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlckluZm9Ub0V2ZW50KHJlc3BvbnNlLCBvRXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb0V2ZW50ID0geyBldmVudE5hbWU6ICdsb2dpbicgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdnbS5ub3RpZnlBY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goeyBldmVudE5hbWU6ICdhY3Rpb25Ob3RpZmllZCcsIGlzSW50ZXJuYWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY291bnRzLnNzby5sb2dpbic6XG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5zeW5jU3NvTG9naW4ocmVzcG9uc2VbXCJjb250ZXh0XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9naW5NZXRob2RzW3RoaXMuYXBpLm1ldGhvZE5hbWVdICYmIHRoaXMub3JpZ2luYWxQYXJhbXNbJ3JlZGlyZWN0VVJMJ10gJiYgb0V2ZW50ICYmIG9FdmVudFsndXNlciddICYmIHJlc3BvbnNlWydlcnJvckNvZGUnXSA9PSAwKSB7XG4gICAgICAgICAgICBIVFRQVXRpbHMucmVkaXJlY3QodGhpcy5vcmlnaW5hbFBhcmFtc1sncmVkaXJlY3RVUkwnXSwgW29FdmVudCwgb0V2ZW50Wyd1c2VyJ11dLCB0aGlzLm9yaWdpbmFsUGFyYW1zWydyZWRpcmVjdE1ldGhvZCddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxvZ2luIHNob3VsZCBiZSBmaXJlZCBidXQgd2UgaGF2ZSBubyBhY2NvdW50cyBmaWVsZHMuIFdlIG5lZWQgdG8gY2FsbCBnZXRBY2NvdW50SW5mbyBmb3IgdGhlIGFjY291bnRzIGV2ZW50LlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICByZXNwb25zZVsnZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuT0sgJiZcbiAgICAgICAgICAgIG9FdmVudCAmJlxuICAgICAgICAgICAgb0V2ZW50WydldmVudE5hbWUnXSA9PT0gJ2xvZ2luJyAmJlxuICAgICAgICAgICAgIXJlc3BvbnNlWydwcm9maWxlJ10gJiZcbiAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5fYWN0aXZlTmFtZXNwYWNlc1snYWNjb3VudHMnXSAmJlxuICAgICAgICAgICAgdGhpcy5hcGkubWV0aG9kTmFtZS5pbmRleE9mKCdhY2NvdW50cycpID09PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGdpZ3lhLmFjY291bnRzLmdldEFjY291bnRJbmZvKHRoaXMub3JpZ2luYWxQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiAncHJvZmlsZSxkYXRhJyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlVXNlckluZm86IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoYWNjb3VudHNSZXNwb25zZTogT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcmlnaW5hbFBhcmFtc1snc3VwcHJlc3NMb2dpbkV2ZW50J10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hBY2NvdW50c0xvZ2luRXZlbnQoYWNjb3VudHNSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob0V2ZW50ICYmIChvRXZlbnRbJ2V2ZW50TmFtZSddICE9PSAnbG9naW4nIHx8ICF0aGlzLm9yaWdpbmFsUGFyYW1zWydzdXBwcmVzc0xvZ2luRXZlbnQnXSkpIHtcbiAgICAgICAgICAgIG9FdmVudFsnY29udGV4dCddID0gdGhpcy5vcmlnaW5hbFBhcmFtc1snY29udGV4dCddO1xuICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKG9FdmVudCwgdGhpcy5vcmlnaW5hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlSW50ZXJydXB0aW9uRXZlbnRGcm9tUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCkge1xuICAgICAgICBsZXQgb0V2ZW50ID0ge307XG4gICAgICAgIHN3aXRjaCAocmVzcG9uc2VbJ2Vycm9yQ29kZSddKSB7XG4gICAgICAgICAgICBjYXNlIEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19SRUdJU1RSQVRJT046XG4gICAgICAgICAgICAgICAgb0V2ZW50WydldmVudE5hbWUnXSA9ICdhY2NvdW50cy5wZW5kaW5nUmVnaXN0cmF0aW9uJztcbiAgICAgICAgICAgICAgICBvRXZlbnRbJ3JlZ1Rva2VuJ10gPSByZXNwb25zZVsncmVnVG9rZW4nXTtcbiAgICAgICAgICAgICAgICBvRXZlbnRbJ2xvZ2luUHJvdmlkZXInXSA9IHJlc3BvbnNlWydsb2dpblByb3ZpZGVyJ107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9FdmVudFsnc291cmNlUmVxdWVzdCddID0gdGhpcy5hcGkubWV0aG9kTmFtZTtcbiAgICAgICAgb0V2ZW50WydlcnJvckNvZGUnXSA9IHJlc3BvbnNlWydlcnJvckNvZGUnXTtcbiAgICAgICAgb0V2ZW50WydlcnJvck1lc3NhZ2UnXSA9IHJlc3BvbnNlWydlcnJvck1lc3NhZ2UnXTtcbiAgICAgICAgb0V2ZW50WydlcnJvckRldGFpbHMnXSA9IHJlc3BvbnNlWydlcnJvckRldGFpbHMnXTtcbiAgICAgICAgaWYgKHJlc3BvbnNlWyd1c2VySW5mbyddKSB7XG4gICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2UsIG9FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxQYXJhbXNbJ2NvbnRleHQnXSkge1xuICAgICAgICAgICAgb0V2ZW50Wydjb250ZXh0J10gPSB0aGlzLm9yaWdpbmFsUGFyYW1zWydjb250ZXh0J107XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2gob0V2ZW50LCB0aGlzLm9yaWdpbmFsUGFyYW1zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNvY2lhbENvb2tpZXMocHJvdmlkZXI6IHN0cmluZywgZmlyc3ROYW1lOiBzdHJpbmcgPSAnJykge1xuICAgICAgICBpZiAoRmxhZ1NlcnZpY2Uuc2V0Q29va2llU2FtZVNpdGVMYXhTb2NpYWwpIHtcbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRTdG9yYWdlKCkuc2V0SXRlbSgnX2dpZ19sbHAnLCBwcm92aWRlciwgbnVsbCwgbnVsbCwge3NhbWVTaXRlOiAnTGF4J30pO1xuICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5zZXRJdGVtKCdfZ2lnX2xsdScsIGZpcnN0TmFtZSwgbnVsbCwgbnVsbCwge3NhbWVTaXRlOiAnTGF4J30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmdldFN0b3JhZ2UoKS5zZXRJdGVtKCdfZ2lnX2xscCcsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRTdG9yYWdlKCkuc2V0SXRlbSgnX2dpZ19sbHUnLCBmaXJzdE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNwYXRjaEFjY291bnRzTG9naW5FdmVudChyZXNwb25zZTogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG9BY2NvdW50c0V2ZW50ID0ge1xuICAgICAgICAgICAgZXZlbnROYW1lOiAnYWNjb3VudHMubG9naW4nLFxuICAgICAgICAgICAgcmVtZW1iZXI6IHZhbGlkYXRpb25VdGlscy5pc0V4cGxpY2l0VHJ1ZSh0aGlzLm9yaWdpbmFsUGFyYW1zWydyZW1lbWJlciddKSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiB0aGlzLmdldFByb3ZpZGVyTmFtZShyZXNwb25zZSksXG4gICAgICAgICAgICBsb2dpbk1vZGU6IHRoaXMub3JpZ2luYWxQYXJhbXNbJ2xvZ2luTW9kZSddIHx8ICdzdGFuZGFyZCcsXG4gICAgICAgIH07XG5cbiAgICAgICAgb2JqZWN0VXRpbHMuZXh0cmFjdFByb3BlcnRpZXMoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIG9BY2NvdW50c0V2ZW50LFxuICAgICAgICAgICAgJ25ld1VzZXJ8c2lnbmF0dXJlfFVJRFNpZ3x0aW1lc3RhbXB8VUlEU2lnbmF0dXJlfHNpZ25hdHVyZVRpbWVzdGFtcHxVSUR8cHJvZmlsZXxkYXRhfHNpZ25LZXlzVUlEU2lnbmF0dXJlfGRhdGFDZW50ZXJ8aWRfdG9rZW58cGFzc3dvcmQnLFxuICAgICAgICApO1xuICAgICAgICBpZiAoRmxhZ1NlcnZpY2UuZGlzcGF0Y2hMb2dpbkV2ZW50V2hlbkhhbmRsZXJBZGRlZCB8fCB0aGlzLmFwaS5tZXRob2ROYW1lID09PSAnYWNjb3VudHMuYXV0aC5tYWdpY2xpbmsuZW1haWwubG9naW4nKSB7XG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2hXaGVuSGFuZGxlckFkZGVkKG9BY2NvdW50c0V2ZW50LCB0aGlzLm9yaWdpbmFsUGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaChvQWNjb3VudHNFdmVudCwgdGhpcy5vcmlnaW5hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByb3ZpZGVyTmFtZShyZXNwb25zZTogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm92aWRlciA9IHRoaXMub3JpZ2luYWxQYXJhbXNbJ3Byb3ZpZGVyJ10gPyB0aGlzLm9yaWdpbmFsUGFyYW1zWydwcm92aWRlciddLnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgICAgICAgY29uc3QgbG9naW5Qcm92aWRlciA9IHJlc3BvbnNlWydsb2dpblByb3ZpZGVyJ10gfHwgJyc7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQcm92aWRlciAhPT0gbG9naW5Qcm92aWRlcikge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgncHJvdmlkZXIgbWlzbWF0Y2gnLCB7XG4gICAgICAgICAgICAgICAgY3VycmVudFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIGxvZ2luUHJvdmlkZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChGbGFnU2VydmljZS5zZXRQcm92aWRlckZyb21SZXNwb25zZSAmJiBsb2dpblByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9naW5Qcm92aWRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UHJvdmlkZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNvY2lhbFByb3ZpZGVycyhwcm92aWRlciwgcmVzcG9uc2U6IE9iamVjdCkge1xuICAgICAgICBpZiAoRmxhZ1NlcnZpY2Uuc2V0UHJvdmlkZXJGcm9tUmVzcG9uc2UgJiYgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlciB8fCByZXNwb25zZVsnc29jaWFsUHJvdmlkZXJzJ10gfHwgJ3NpdGUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyIHx8ICdzaXRlJztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQXBpU2V0dGluZ3MsIEJhc2VBcGkgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL0Jhc2VBcGknO1xuaW1wb3J0IHsgSURpc3Bvc2FibGUgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lEaXNwb3NhYmxlJztcbmltcG9ydCB7IElCYXNlT2JqZWN0UGFyYW0gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9CYXNlT2JqZWN0JztcbmltcG9ydCB7IFZlcnNpb25TZWxlY3RvciB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVmVyc2lvblNlbGVjdG9yJztcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XG5pbXBvcnQgeyBhZGRMb2csIGxvZ0NhbGwgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTGVnYWN5TG9nZ2VyJztcbmltcG9ydCB7IGdldFBsdWdpbkluc3RhbmNlLCBzZXRQbHVnaW5JbnN0YW5jZSwgcmVtb3ZlUGx1Z2luSW5zdGFuY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpSGVscGVycyc7XG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5pbXBvcnQgKiBhcyBxdWV1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XG5pbXBvcnQgKiBhcyBsZWdhY3lSZXBvcnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9MZWdhY3lSZXBvcnRzJztcbmltcG9ydCB7IGdldENkblJlc291cmNlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcbmltcG9ydCB7IHJlcGxhY2VQcm92aWRlckFsaWFzZXMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvUHJvdmlkZXJzJztcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xuXG5leHBvcnQgdmFyIF9fcGx1Z2luc0NvcmVMb2FkZWQgPSBmYWxzZTtcbnZhciBzb3VyY2VEYXRhUGFyYW1zOiBPYmplY3QgPSB7XG4gICAgc2hvd1JlYWN0aW9uc0JhclVJOiBbJ2JhcklEJ10sXG4gICAgc2hvd0NvbW1lbnRzVUk6IFsnY2F0ZWdvcnlJRCcsICdzdHJlYW1JRCddLFxufTtcbmV4cG9ydCBpbnRlcmZhY2UgVWlBcGlTZXR0aW5ncyBleHRlbmRzIEFwaVNldHRpbmdzIHtcbiAgICB1c2VCYXNlUGx1Z2luPzogYm9vbGVhbjtcbiAgICBhcGlOYW1lPzogc3RyaW5nO1xuICAgIHdhaXRGb3JBUElRdWV1ZT86IGJvb2xlYW47XG4gICAgc2lsZW50TW9kZT86IGJvb2xlYW47XG5cbiAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSByZW1vdmVkIGFmdGVyIExvZ2luMiBhbmQgZWRpdDIgYXJlIG1vdmVkIHRvIEJhc2VQbHVnaW5cbiAgICB1c2VOZXdNb2RhbD86IGJvb2xlYW47XG5cbiAgICAvLyBVc2VkIGJ5IHNob3dVc2VyU3RhdHVzVUkuXG4gICAgcmVxdWlyZVNlc3Npb24/OiBib29sZWFuO1xuXG4gICAgLy8gTGVnYWN5IHNldHRpbmdzXG4gICAgYWxsb3dQb3B1cD86IGJvb2xlYW47XG4gICAgZGVmYXVsdFBhcmFtcz86IE9iamVjdDtcbiAgICBkZWZhdWx0UG9wdXBQYXJhbXM/OiBPYmplY3Q7XG4gICAgcmVxdWlyZWRQYXJhbXM/OiBzdHJpbmc7XG4gICAgZG9udExvYWRQbHVnaW5zQ29yZT86IGJvb2xlYW47XG4gICAgaWdub3JlQ29udGFpbmVySWQ/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBJSW5qZWN0aW9uSW5mbyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG5hbWVzcGFjZTogc3RyaW5nO1xuICAgIG1ldGhvZE5hbWU6IHN0cmluZztcbiAgICBqc05hbWU6IHN0cmluZztcbiAgICBpbnN0YW5jZU1ldGhvZHM/OiBhbnk7XG5cbiAgICAvLyBQdWJsaWMgYXBpIGluc3RhbmNlIG1ldGhvZHMgbmFtZSwgYW5kIGEgbGlzdCBvZiBwYXJhbWV0ZXJzIG5hbWVzLlxuICAgIHB1YmxpY01ldGhvZHM/OiB7IFtwdWJsaWNNZXRob2ROYW1lOiBzdHJpbmddOiBJUHVibGljTWV0aG9kIH07XG59XG5leHBvcnQgaW50ZXJmYWNlIElQdWJsaWNNZXRob2Qge1xuICAgIGluc3RhbmNlTWV0aG9kOiBzdHJpbmc7XG4gICAgYXJnTmFtZXM6IHN0cmluZ1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBJVWlBcGlJbmZvIHtcbiAgICBuYW1lc3BhY2U6IHN0cmluZztcbiAgICBtZXRob2ROYW1lOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIElQbHVnaW5WZXJzaW9uSW5mbyB7XG4gICAgdmVyc2lvbk5hbWU6IHN0cmluZztcbiAgICBtZXRob2Q6IHN0cmluZyB8IEZ1bmN0aW9uO1xuICAgIGlzU3VwcG9ydGVkPzogKHBhcmFtczogeyBkaXJlY3RDYWxsOiBib29sZWFuIH0pID0+IGJvb2xlYW47XG4gICAgYWRkaXRpb25hbFBhcmFtcz86IHsgW2ZpZWxkOiBzdHJpbmddOiBhbnkgfTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSVBsdWdpblR5cGUge1xuICAgIG5ldyAocGFyYW1zOiBhbnksIGV4cGxpY2l0UGFyYW1zOiBhbnksIGluamVjdGlvbkluZm86IElJbmplY3Rpb25JbmZvKTogSVBsdWdpbjtcblxuICAgIC8vIFN0YXRpYyBtZXRob2QgdGhhdCBzaG91bGQgYmUgZGVmaW5lZCBvbiB0aGUgcGx1Z2luIGNsYXNzXG4gICAgaW5qZWN0aW9uSW5mbyh1aUFwaUluZm8/OiBJVWlBcGlJbmZvKTogSUluamVjdGlvbkluZm87XG59XG5leHBvcnQgaW50ZXJmYWNlIElQbHVnaW4gZXh0ZW5kcyBJRGlzcG9zYWJsZSB7XG4gICAgY29udGFpbmVySUQ6IHN0cmluZztcbiAgICBzdGFydDogKCkgPT4gdm9pZDtcbiAgICBwYXJhbXM6IElCYXNlT2JqZWN0UGFyYW07XG59XG5leHBvcnQgY2xhc3MgVWlBcGkgZXh0ZW5kcyBCYXNlQXBpIGltcGxlbWVudHMgSVVpQXBpSW5mbyB7XG4gICAgcHJpdmF0ZSBpbmplY3Rpb25JbmZvOiBJSW5qZWN0aW9uSW5mbztcbiAgICBwcml2YXRlIHBsdWdpblR5cGU6IElQbHVnaW5UeXBlO1xuICAgIHB1YmxpYyBuYW1lc3BhY2U6IHN0cmluZztcbiAgICBwdWJsaWMgY2xhc3NOYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBpbnN0YW5jZU1ldGhvZHM6IHN0cmluZ1tdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBtZXRob2ROYW1lOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBqc05hbWU6IHN0cmluZyxcbiAgICAgICAgZGVmYXVsdFBhcmFtczogT2JqZWN0ID0ge30sXG4gICAgICAgIGRlZmF1bHRQb3B1cFBhcmFtczogT2JqZWN0ID0ge30sXG4gICAgICAgIHJlcXVpcmVkUGFyYW1zOiBzdHJpbmcgPSAnJyxcbiAgICAgICAgcHVibGljIHNldHRpbmdzOiBVaUFwaVNldHRpbmdzID0ge30sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKFVpQXBpLmdldEFwaU5hbWUoanNOYW1lLCBtZXRob2ROYW1lLCBzZXR0aW5ncyksIHNldHRpbmdzKTtcbiAgICAgICAgc2V0dGluZ3MuZGVmYXVsdFBhcmFtcyA9IGRlZmF1bHRQYXJhbXMgfHwge307XG4gICAgICAgIHNldHRpbmdzLmRlZmF1bHRQb3B1cFBhcmFtcyA9IGRlZmF1bHRQb3B1cFBhcmFtcyB8fCB7fTtcbiAgICAgICAgc2V0dGluZ3MucmVxdWlyZWRQYXJhbXMgPSByZXF1aXJlZFBhcmFtcyB8fCAnJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0QXBpTmFtZShqc05hbWU6IHN0cmluZywgbWV0aG9kTmFtZTogc3RyaW5nLCBzZXR0aW5nczogVWlBcGlTZXR0aW5ncyA9IHt9KTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzLmFwaU5hbWUgfHwganNOYW1lLnNwbGl0KCcuJylbMF0gKyAnLicgKyBtZXRob2ROYW1lO1xuICAgIH1cblxuICAgIHN0YXRpYyB2ZXJzaW9uU2VsZWN0b3IobWV0aG9kTmFtZTogc3RyaW5nLCBuYW1lc3BhY2U6IHN0cmluZywgZGVmYXVsdFZlcnNpb246IHN0cmluZywgdmVyc2lvbnM6IElQbHVnaW5WZXJzaW9uSW5mb1tdLCB2ZXJzaW9uRmllbGQgPSAndmVyc2lvbicpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gbmV3IFZlcnNpb25TZWxlY3RvcihtZXRob2ROYW1lLCB2ZXJzaW9ucywgZGVmYXVsdFZlcnNpb24pO1xuICAgICAgICBmdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuJyArIG5hbWVzcGFjZSArICcuJyArIG1ldGhvZE5hbWUsICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gYXJnc1swXTtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBhcmdzWzFdO1xuICAgICAgICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBjb25maWc7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fTtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2gocGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYWxsQ29uZmlnID0gb2JqZWN0VXRpbHMubWVyZ2UoW3t9LCBjb25maWcsIHBhcmFtc10pO1xuXG4gICAgICAgICAgICBzZWxlY3Rvci5jYWxsVmVyc2lvbignJyArIGNhbGxDb25maWdbdmVyc2lvbkZpZWxkXSwgcGFyYW1zLCBhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cblxuICAgIC8vIEZvciBuZXcgcGx1Z2lucyB1c2luZyBCYXNlUGx1Z2luXG4gICAgc3RhdGljIGNyZWF0ZUFwaShcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nLFxuICAgICAgICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgICAgICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAgICAgIGpzTmFtZTogc3RyaW5nLFxuICAgICAgICBzZXR0aW5nczogVWlBcGlTZXR0aW5ncyA9IHt9LFxuICAgICAgICBpbnN0YW5jZU1ldGhvZHM/OiBzdHJpbmdbXSxcbiAgICApOiBVaUFwaSB7XG4gICAgICAgIHNldHRpbmdzLnVzZUJhc2VQbHVnaW4gPSB0cnVlO1xuXG4gICAgICAgIHZhciBhcGkgPSBuZXcgVWlBcGkobWV0aG9kTmFtZSwganNOYW1lLCBudWxsLCBudWxsLCBudWxsLCBzZXR0aW5ncyk7XG4gICAgICAgIGFwaS5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gICAgICAgIGFwaS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGFwaS5pbnN0YW5jZU1ldGhvZHMgPSBpbnN0YW5jZU1ldGhvZHMgfHwgW107XG4gICAgICAgIGFwaS5hZGRJbnN0YW5jZU1ldGhvZHNBbGlhc2VzKCk7XG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgYWRkSW5zdGFuY2VNZXRob2RzQWxpYXNlcygpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBpbnN0YW5jZSBtZXRob2RzIGFsaWFzZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmluc3RhbmNlTWV0aG9kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVJbnN0YW5jZU1ldGhvZEFsaWFzKHRoaXMuaW5zdGFuY2VNZXRob2RzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUluc3RhbmNlTWV0aG9kQWxpYXMobWV0aG9kTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS4nICsgdGhpcy5uYW1lc3BhY2UgKyAnLicgKyBtZXRob2ROYW1lLCAocGFyYW1zOiB7IG9uRXJyb3I/OiAoZSkgPT4gdm9pZCB9KSA9PiB7XG4gICAgICAgICAgICAvLy8gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhZnRlciB0aGUgcGx1Z2luIGpzIHdhcyBsb2FkZWQuXG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pbmplY3Rpb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgYWRkTG9nKCdpbnZhbGlkIGluamVjdGlvbiBpbmZvJywgdGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHB1YmxpY01ldGhvZCA9IHRoaXMuZ2V0UHVibGljTWV0aG9kKG1ldGhvZE5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBnZXRQbHVnaW5JbnN0YW5jZShwYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbyk7XG5cbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBhZGRMb2coXCJjb3VsZG4ndCBmaW5kIGluc3RhbmNlXCIsIHRoaXMsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIC8vLyBmb3IgZnV0dXJlIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgICAgICAgIC8vaWYgKHBhcmFtcy5vbkVycm9yKVxuICAgICAgICAgICAgICAgIC8vICAgIHBhcmFtcy5vbkVycm9yKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHByZXBhcmUgYXJndW1lbnRzIGZyb20gcGFyYW1zIG9iamVjdC5cbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGFycmF5VXRpbHMuZm9yRWFjaChwdWJsaWNNZXRob2QuYXJnTmFtZXMsIGFyZ05hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnTmFtZSAmJiBwYXJhbXNbYXJnTmFtZV0gIT09IHVuZGVmaW5lZCkgYXJncy5wdXNoKHBhcmFtc1thcmdOYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAoaW5zdGFuY2VbcHVibGljTWV0aG9kLmluc3RhbmNlTWV0aG9kXSBhcyBGdW5jdGlvbikuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRQdWJsaWNNZXRob2QobWV0aG9kTmFtZTogc3RyaW5nKTogSVB1YmxpY01ldGhvZCB7XG4gICAgICAgIHZhciBwdWJsaWNNZXRob2Q6IElQdWJsaWNNZXRob2Q7XG4gICAgICAgIGlmICh0aGlzLmluamVjdGlvbkluZm8ucHVibGljTWV0aG9kcykge1xuICAgICAgICAgICAgcHVibGljTWV0aG9kID0gdGhpcy5pbmplY3Rpb25JbmZvLnB1YmxpY01ldGhvZHNbbWV0aG9kTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXB1YmxpY01ldGhvZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwdWJsaWMgbWV0aG9kICcgKyBtZXRob2ROYW1lICsgJyBpcyBub3QgY29uZmlndXJlZCBmb3IgJyArIHRoaXMuaW5qZWN0aW9uSW5mby5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwdWJsaWNNZXRob2Q7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGVcbiAgICBwcmVwcm9jZXNzUmVxdWVzdChwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgc3VwZXIucHJlcHJvY2Vzc1JlcXVlc3QocGFyYW1zLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhcmFtc1snc291cmNlJ10pIHRoaXMuc2V0U291cmNlRGF0YShwYXJhbXMpO1xuXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJ1bihwYXJhbXM6IE9iamVjdCwgZXhwbGljaXRQYXJhbXM6IE9iamVjdCkge1xuICAgICAgICBpZih0aGlzLnNldHRpbmdzLnNpbGVudE1vZGUpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKGBEZXByZWNhdGVkIEZlYXR1cmU6ICR7dGhpcy5tZXRob2ROYW1lfWApO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBwYXJhbXNbJ2NhbGxiYWNrJ107XG4gICAgICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mud2FpdEZvckFQSVF1ZXVlIHx8IHBhcmFtc1snaWdub3JlQXBpUXVldWUnXSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFVJKHBhcmFtcywgZXhwbGljaXRQYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignQVBJJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRVSShwYXJhbXMsIGV4cGxpY2l0UGFyYW1zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydFVJKHBhcmFtczogT2JqZWN0LCBleHBsaWNpdFBhcmFtczogT2JqZWN0KSB7XG4gICAgICAgIHBhcmFtcyA9IG9iamVjdFV0aWxzLmNsb25lKHBhcmFtcyk7XG4gICAgICAgIHRoaXMucHJlcGFyZVBhcmFtZXRlcnMocGFyYW1zKTtcblxuICAgICAgICB0aGlzLnByZXByb2Nlc3NSZXF1ZXN0KHBhcmFtcywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gTGVnYWN5XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MudXNlQmFzZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2FkaW5nIGxlZ2FjeSBwbHVnaW5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZ2FjeVN0YXJ0VUkocGFyYW1zLCBleHBsaWNpdFBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBCYXNlUGx1Z2luXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBsb2FkaW5nIG1vZGVybiBwbHVnaW5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRQbHVnaW5KUyhwYXJhbXMsIGV4cGxpY2l0UGFyYW1zLCAobG9hZGVkRnJvbVNlcnZlcjogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdVSScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkZWRGcm9tU2VydmVyICYmIHRoaXMuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5UeXBlID0gdGhpcy5nZXRQbHVnaW5UeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmplY3Rpb25JbmZvID0gdGhpcy5wbHVnaW5UeXBlLmluamVjdGlvbkluZm8odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQbHVnaW4ocGFyYW1zLCBleHBsaWNpdFBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zWyd3YWl0Rm9yRGVidWcnXSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuU3RhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignZGVidWcnLCBmblN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXJ0UGx1Z2luKHBhcmFtczogT2JqZWN0LCBleHBsaWNpdFBhcmFtczogT2JqZWN0KSB7XG4gICAgICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdiZWZvcmVQbHVnaW5SZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICBtZXRob2ROYW1lOiB0aGlzLm1ldGhvZE5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIGV4cGxpY2l0UGFyYW1zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBwYXJhbXNbJ29yaWdpbmFsTWV0aG9kTmFtZSddIHx8IHRoaXMubWV0aG9kTmFtZTtcbiAgICAgICAgbG9nQ2FsbChtZXRob2ROYW1lLCBwYXJhbXMpO1xuICAgICAgICBsZWdhY3lSZXBvcnRzLnJlcG9ydExvYWQobWV0aG9kTmFtZSwgcGFyYW1zKTtcblxuICAgICAgICAvLyBCYXNlUGx1Z2luXG4gICAgICAgIGlmICh0aGlzLnBsdWdpblR5cGUpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBnZXRQbHVnaW5JbnN0YW5jZShwYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbyk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzICYmIHByZXZpb3VzLmRpc3Bvc2UgJiYgIXBhcmFtc1snX2FsbG93TXVsdGlwbGVJbnN0YW5jZXMnXSAmJiAhcGFyYW1zWyduZXdNb2RhbCddKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyB0aGlzLnBsdWdpblR5cGUocGFyYW1zLCBleHBsaWNpdFBhcmFtcywgdGhpcy5pbmplY3Rpb25JbmZvKTtcblxuICAgICAgICAgICAgLy8vIFRPRE86IGNvbmRpdGlvbiB0aGlzIHRvIGEgZ2xvYmFsIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIHNldFBsdWdpbkluc3RhbmNlKHBhcmFtcywgdGhpcy5pbmplY3Rpb25JbmZvLCBpbnN0YW5jZSk7XG5cbiAgICAgICAgICAgIGluc3RhbmNlLm9uRGlzcG9zZWRFdmVudCgpLmFkZCgoKSA9PiByZW1vdmVQbHVnaW5JbnN0YW5jZShwYXJhbXMsIHRoaXMuaW5qZWN0aW9uSW5mbykpO1xuXG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc3RhcnRpbmcgcGx1Z2luICR7dGhpcy5pbmplY3Rpb25JbmZvLm5hbWV9IHdpdGggcGFyYW1zYCwgaW5zdGFuY2UucGFyYW1zKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnN0YXJ0KCk7XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5jb250YWluZXJJRCkge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnN0YW5jZS5jb250YWluZXJJRCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJbJ2dpZ3lhUGx1Z2luSW5zdGFuY2UnXSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhcmFtc1snZ2V0SW5zdGFuY2UnXSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1snZ2V0SW5zdGFuY2UnXShpbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExlZ2FjeVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVuY3Rpb25zVXRpbHMuY2FsbEZ1bmN0aW9uKCdnaWd5YS4nICsgdGhpcy5qc05hbWUgKyAnLicgKyB0aGlzLm1ldGhvZE5hbWUsIFtwYXJhbXMsIHBhcmFtcywgcGFyYW1zXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRQbHVnaW5KUyhwYXJhbXM6IE9iamVjdCwgZXhwbGljaXRQYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s6IChmcm9tU2VydmVyOiBib29sZWFuKSA9PiB2b2lkKSB7XG4gICAgICAgIGlmICh0aGlzLndhc1BsdWdpbkpTTG9hZGVkKHBhcmFtcykpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBwbHVnaW4gd2FzIGFscmVhZHkgbG9hZGVkYCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwbHVnaW5CYXNlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IGNkblByZWZpeCA9IGdldENkblJlc291cmNlKCcvanMvJyk7XG4gICAgICAgICAgICBjb25zdCBqc1NlcnZpY2VOYW1lID0gJ2dpZ3lhLnNlcnZpY2VzLicgKyB0aGlzLmpzTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxhbmdBbmRWZXJzaW9uID0gKHBhcmFtc1snbGFuZyddID8gJ2xhbmc9JyArIHBhcmFtc1snbGFuZyddIDogJycpICsgYCZ2ZXJzaW9uPSR7Z2lneWEuYnVpbGQudmVyc2lvbn1gO1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luVXJsID0gY2RuUHJlZml4ICsganNTZXJ2aWNlTmFtZSArICcubWluLmpzJyArIGA/JHtsYW5nQW5kVmVyc2lvbn1gO1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luV2l0aEJhc2VVcmwgPSBjZG5QcmVmaXggKyAnZ2lneWEuc2VydmljZXMucGx1Z2lucy5iYXNlLm1pbi5qcz9zZXJ2aWNlcz0nICsganNTZXJ2aWNlTmFtZSArIGAmJHtsYW5nQW5kVmVyc2lvbn1gO1xuXG4gICAgICAgICAgICBsZXQgbG9hZFVybDogc3RyaW5nO1xuXG4gICAgICAgICAgICBpZiAoIV9fcGx1Z2luc0NvcmVMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZGVidWcoYGxvY2tpbmcgcXVldWUgdG8gZmV0Y2ggYmFzZVBsdWdpbmApO1xuICAgICAgICAgICAgICAgIGxvYWRVcmwgPSBwbHVnaW5XaXRoQmFzZVVybDtcbiAgICAgICAgICAgICAgICBfX3BsdWdpbnNDb3JlTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwbHVnaW5CYXNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLmhvbGQoJ3BsdWdpbnNKUycsICdVSScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2FkVXJsID0gcGx1Z2luVXJsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgbG9hZGluZyAke2pzU2VydmljZU5hbWV9YCk7XG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdiZWZvcmVQbHVnaW5Mb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kTmFtZTogdGhpcy5tZXRob2ROYW1lLFxuICAgICAgICAgICAgICAgICAgICBleHBsaWNpdFBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgc2NyaXB0VXRpbHMubG9hZChcbiAgICAgICAgICAgICAgICBsb2FkVXJsLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luQmFzZSkgcXVldWVVdGlscy5yZWxlYXNlKCdwbHVnaW5zSlMnLCAnVUknKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgW3BsdWdpblVybCwgcGx1Z2luV2l0aEJhc2VVcmxdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgd2FzUGx1Z2luSlNMb2FkZWQocGFyYW1zOiBPYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIGZ1bmNOYW1lID0gJ2dpZ3lhLicgKyB0aGlzLmpzTmFtZSArICcuJyArIHRoaXMubWV0aG9kTmFtZTtcbiAgICAgICAgdmFyIGZ1bGxKU05hbWUgPSAnZ2lneWEuc2VydmljZXMuJyArIHRoaXMuanNOYW1lICsgJy5qcyc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gdGhpcy5nZXRQbHVnaW5UeXBlKCk7XG4gICAgICAgICAgICB2YXIgbGFuZ09iaiA9IGdpZ3lhWydpMThuJ11bZnVsbEpTTmFtZV1bcGFyYW1zWydsYW5nJ11dO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBmdW5jICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbGFuZ09iaiAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRQbHVnaW5UeXBlKCkge1xuICAgICAgICBjb25zdCBwYXRoQWNjZXNzb3IgPSBvYmplY3RVdGlscy5leHByZXNzaW9uSGVscGVyKGdpZ3lhKTtcblxuICAgICAgICBjb25zdCBwYXRocyA9IFtcbiAgICAgICAgICAgIGBfLnBsdWdpbnMuJHt0aGlzLmNsYXNzTmFtZX1gLCAvLyBtb2Rlcm5cbiAgICAgICAgICAgIGAke3RoaXMuanNOYW1lfS4ke3RoaXMubWV0aG9kTmFtZX1gLCAvLyBsZWdhY3lcbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXRoQWNjZXNzb3IuZ2V0RmllbGQocGF0aCk7XG4gICAgICAgICAgICBpZiAodHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHNldFNvdXJjZURhdGEocGFyYW1zOiBPYmplY3QpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubWV0aG9kTmFtZSA9PSAnc29jaWFsaXplLnNob3dTaW1wbGVTaGFyZVVJJykge1xuICAgICAgICAgICAgcGFyYW1zWydzb3VyY2UnXSA9ICdzb2NpYWxpemUuc2hvd1NoYXJlVUknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zWydzb3VyY2UnXSA9IHBhcmFtc1snb3JpZ2luYWxNZXRob2ROYW1lJ10gfHwgdGhpcy5tZXRob2ROYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXJhbXNbJ3NvdXJjZURhdGEnXSAmJiBzb3VyY2VEYXRhUGFyYW1zW3RoaXMubWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2VEYXRhID0ge307XG4gICAgICAgICAgICB2YXIgYWRkZWRTb3VyY2VEYXRhOiBib29sZWFuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VEYXRhUGFyYW1zW3RoaXMubWV0aG9kTmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gc291cmNlRGF0YVBhcmFtc1t0aGlzLm1ldGhvZE5hbWVdW2ldO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXNbcGFyYW1OYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkU291cmNlRGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZURhdGFbcGFyYW1OYW1lXSA9IHBhcmFtc1twYXJhbU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZGRlZFNvdXJjZURhdGEpIHBhcmFtc1snc291cmNlRGF0YSddID0gc291cmNlRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGFyYW1zWydwbHVnaW5zU3RhY2snXSkgcGFyYW1zWydwbHVnaW5zU3RhY2snXSA9IFtdO1xuICAgICAgICBwYXJhbXNbJ3BsdWdpbnNTdGFjayddLnB1c2goeyBzb3VyY2U6IHRoaXMubWV0aG9kTmFtZSB9KTsgLy9mb3IgZGVidWdnaW5nXG4gICAgICAgIHBhcmFtc1snbGFzdFNvdXJjZSddID0gdGhpcy5tZXRob2ROYW1lO1xuICAgIH1cblxuICAgIHZhbGlkYXRlUmVxdWlyZWRQYXJhbXMocGFyYW1zOiBPYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIGFyUmVxdWlyZWRQYXJhbXMgPSB0aGlzLnNldHRpbmdzLnJlcXVpcmVkUGFyYW1zLnNwbGl0KCd8Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJSZXF1aXJlZFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlcXVpcmVkUGFyYW0gPSBhclJlcXVpcmVkUGFyYW1zW2ldO1xuICAgICAgICAgICAgaWYgKHJlcXVpcmVkUGFyYW0gIT0gJycgJiYgKHBhcmFtc1tyZXF1aXJlZFBhcmFtXSA9PSBudWxsIHx8IHBhcmFtc1tyZXF1aXJlZFBhcmFtXSA9PSAnJykpIHtcbiAgICAgICAgICAgICAgICBldmVudHMuZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcihwYXJhbXMsIHJlcXVpcmVkUGFyYW0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZXREZWZhdWx0UGFyYW1zKHBhcmFtczogT2JqZWN0KTogdm9pZCB7XG4gICAgICAgIHZhciBpc1BvcHVwID0gIXBhcmFtc1snY29udGFpbmVySUQnXSB8fCBwYXJhbXNbJ2lzUG9wdXAnXTtcbiAgICAgICAgZm9yICh2YXIgcGFyYW1OYW1lIGluIHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1twYXJhbU5hbWVdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNQb3B1cCAmJiB0aGlzLnNldHRpbmdzLmRlZmF1bHRQb3B1cFBhcmFtc1twYXJhbU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbU5hbWVdID0gdGhpcy5zZXR0aW5ncy5kZWZhdWx0UG9wdXBQYXJhbXNbcGFyYW1OYW1lXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbcGFyYW1OYW1lXSA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhcmFtc1twYXJhbU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1BvcHVwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwYXJhbU5hbWUgaW4gdGhpcy5zZXR0aW5ncy5kZWZhdWx0UG9wdXBQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtc1twYXJhbU5hbWVdKSBwYXJhbXNbcGFyYW1OYW1lXSA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdFBhcmFtc1twYXJhbU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJlcGFyZVBhcmFtZXRlcnMocGFyYW1zOiBPYmplY3QpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgICAgICAgICAgLy8gUmVwbGFjZSBwcm92aWRlciBhbGlhc2VzIHdpdGggcHJvdmlkZXIgbmFtZXNcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdwcm92aWRlcicpICE9IC0xICYmIHR5cGVvZiBwYXJhbXNba2V5XSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyhwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgZW5nbGlzaCBhcyBkZWZhdWx0IGxhbmd1YWdlXG4gICAgICAgIGlmICghcGFyYW1zWydsYW5nJ10pIHtcbiAgICAgICAgICAgIHBhcmFtc1snbGFuZyddID0gZ2lneWEudGhpc1NjcmlwdC5sYW5nLmxhbmdDb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXJhbXNbJ3NvdXJjZSddKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXJjZURhdGEocGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtc1snaXNQb3B1cCddID0gZmFsc2U7IC8vdG8gYXZvaWQgcGFyYW1zLmlzUG9wdXAgYmVpbmcgcGFzc2VkIGZyb20gVUkgd2lkZ2V0c1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9yIHBsdWdpbnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBCYXNlUGx1Z2luXG4gICAgbGVnYWN5U3RhcnRVSShwYXJhbXM6IE9iamVjdCwgZXhwbGljaXRQYXJhbXM6IE9iamVjdCkge1xuICAgICAgICB2YXIgY29udGFpbmVySUQgPSBwYXJhbXNbJ2NvbnRhaW5lcklEJ107XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmlnbm9yZUNvbnRhaW5lcklkKSB7XG4gICAgICAgICAgICBwYXJhbXNbJ2NvbnRhaW5lcklEJ10gPSAnJztcbiAgICAgICAgICAgIGNvbnRhaW5lcklEID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoKHBhcmFtc1snY29udGFpbmVySUQnXSA9PSBudWxsICYmICF0aGlzLnNldHRpbmdzLmFsbG93UG9wdXApIHx8IChwYXJhbXNbJ2NvbnRhaW5lcklEJ10gJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmFtc1snY29udGFpbmVySUQnXSkpKSB7XG4gICAgICAgICAgICBldmVudHMuZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcihwYXJhbXMsICdjb250YWluZXJJRCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzUG9wdXAgPSB0aGlzLnNldHRpbmdzLmFsbG93UG9wdXAgJiYgKCFjb250YWluZXJJRCB8fCBwYXJhbXNbJ2lzUG9wdXAnXSk7XG5cbiAgICAgICAgaWYgKGlzUG9wdXAgJiYgdGhpcy5zZXR0aW5ncy51c2VOZXdNb2RhbCkgcGFyYW1zWyd1c2VOZXdNb2RhbCddID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldERlZmF1bHRQYXJhbXMocGFyYW1zKTtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmFsbG93UG9wdXAgJiYgIWlzUG9wdXApIHtcbiAgICAgICAgICAgIERPTVV0aWxzLmNsZWFyQnlJRChjb250YWluZXJJRCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVSZXF1aXJlZFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRQbHVnaW5KUyhwYXJhbXMsIGV4cGxpY2l0UGFyYW1zLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgZm5TdGFydCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXBhcmVDb250YWluZXIocGFyYW1zLCBpc1BvcHVwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQbHVnaW4ocGFyYW1zLCBleHBsaWNpdFBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBxdWV1ZVV0aWxzLnF1ZXVlRm9yRXhlY3V0aW9uKCdVSScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zWyd3YWl0Rm9yRGVidWcnXSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBmblN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignZGVidWcnLCBmblN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJlcGFyZUNvbnRhaW5lcihwYXJhbXM6IE9iamVjdCwgaXNQb3B1cDogYm9vbGVhbiwgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlQ29udGFpbmVyKHBhcmFtcywgaXNQb3B1cCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJJRCA9IHBhcmFtc1snY29udGFpbmVySUQnXTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXI7XG5cbiAgICAgICAgICAgIGlmIChpc1BvcHVwKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVySUQgPSBET01VdGlscy5nZXRDZW50ZXJlZERpdklEKHRoaXMubWV0aG9kTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtc1snbmV3TW9kYWwnXSkgY29udGFpbmVySUQgKz0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zWydjb250YWluZXJJRCddID0gY29udGFpbmVySUQ7XG4gICAgICAgICAgICAgICAgcGFyYW1zWydpc1BvcHVwJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySUQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IERPTVV0aWxzLmNyZWF0ZVRvcExldmVsRGl2KGNvbnRhaW5lcklEKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJRCk7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGV2ZW50cy5kaXNwYXRjaEludmFsaWRQYXJhbUVycm9yKHBhcmFtcywgJ2NvbnRhaW5lcklEJyk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICB2YXIganNVcmwgPSB0aGlzLmdldFBsdWdpbkpzVXJsKHBhcmFtcyk7XG4gICAgICAgICAgICB2YXIgUmVxcyA9IGNvbnRhaW5lclsnUmVxcyddID8gY29udGFpbmVyWydSZXFzJ10gOiAoY29udGFpbmVyWydSZXFzJ10gPSBbXSk7XG4gICAgICAgICAgICB2YXIgcmlkID0gUmVxcy5sZW5ndGggKyAnQCcgKyAwICsgJ0AnICsgY29udGFpbmVySUQ7XG4gICAgICAgICAgICBwYXJhbXNbJ3JpZCddID0gcmlkO1xuICAgICAgICAgICAgdmFyIHJlcSA9IChSZXFzW1JlcXMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICByaWQ6IHJpZCxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kTmFtZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBwYXJhbXNbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgICAgICBjOiBwYXJhbXMsXG4gICAgICAgICAgICAgICAgcDogcGFyYW1zLFxuICAgICAgICAgICAgICAgIGk6IHBhcmFtcyxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IHRoaXMubWV0aG9kTmFtZSxcbiAgICAgICAgICAgICAgICBpc0hUTUw6IHRydWUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluZXIuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG5cbiAgICAgICAgICAgICAgICB2YXIgaWZyZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2lneWFfaWZyXycgKyBjb250YWluZXJJRCk7XG4gICAgICAgICAgICAgICAgaWYgKGlmcmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmcmVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWZyZWwuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBmbmNGaXhQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWZyZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXMgbmV3IG1vZGFsLCBtZWFzdXJlIHRoZSBuZXcgbW9kYWwgZGlhbG9nIHNpemUgYW5kIHNlbiBpdCB0byB0aGUgbWFzayBvcHRpb25zLlxuICAgICAgICAgICAgICAgICAgICAgICAgRE9NVXRpbHMuc2V0U2l6ZShpZnJlbCwgcGFyYW1zWyd3aWR0aCddLCBwYXJhbXNbJ2hlaWdodCddLCBpc1BvcHVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKGdpZ3lhLmxvY2FsSW5mby5pc0lFKSB7Ki8gaWZyZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsgLyp9Ki9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5zZXRTaXplKGNvbnRhaW5lciwgcGFyYW1zWyd3aWR0aCddLCBwYXJhbXNbJ2hlaWdodCddLCBpc1BvcHVwKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZm5jRml4UG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxvY2FsTWV0aG9kTmFtZSA9IHRoaXMubWV0aG9kTmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdnaWdpZCcsIChwYXJhbXNbJ3NvdXJjZSddICYmIHBhcmFtc1snc291cmNlJ10gIT0gbG9jYWxNZXRob2ROYW1lID8gcGFyYW1zWydzb3VyY2UnXSArICdfJyA6ICcnKSArIGxvY2FsTWV0aG9kTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSVBsdWdpbiwgSUluamVjdGlvbkluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpJztcblxuZXhwb3J0IHZhciBpbnN0YW5jZXM6IHsgW2NvbnRhaW5lcklEOiBzdHJpbmddOiBJUGx1Z2luIH0gPSB7fTtcbmZ1bmN0aW9uIGdldEluc3RhbmNlSWQocGFyYW1zOiBPYmplY3QsIGluamVjdGlvbkluZm86IElJbmplY3Rpb25JbmZvKTogc3RyaW5nIHtcbiAgICBpZiAocGFyYW1zWydpbnN0YW5jZUlEJ10pIHJldHVybiBwYXJhbXNbJ2luc3RhbmNlSUQnXTtcbiAgICBlbHNlIGlmIChwYXJhbXNbJ2lzUG9wdXAnXSkgcmV0dXJuICdnaWd5YS1tb2RhbC1wbHVnaW4tY29udGFpbmVyLScgKyBpbmplY3Rpb25JbmZvLm1ldGhvZE5hbWU7XG4gICAgZWxzZSBpZiAocGFyYW1zWydjb250YWluZXJJRCddKSByZXR1cm4gcGFyYW1zWydjb250YWluZXJJRCddO1xuICAgIGVsc2UgcmV0dXJuIGluamVjdGlvbkluZm8ubmFtZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbHVnaW5JbnN0YW5jZShwYXJhbXM6IE9iamVjdCwgaW5qZWN0aW9uSW5mbzogSUluamVjdGlvbkluZm8pOiBJUGx1Z2luIHtcbiAgICB2YXIgcGx1Z2luSUQgPSBnZXRJbnN0YW5jZUlkKHBhcmFtcywgaW5qZWN0aW9uSW5mbyk7XG4gICAgcmV0dXJuIGluc3RhbmNlc1twbHVnaW5JRF07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UGx1Z2luSW5zdGFuY2UocGFyYW1zOiBPYmplY3QsIGluamVjdGlvbkluZm86IElJbmplY3Rpb25JbmZvLCBpbnN0YW5jZTogSVBsdWdpbiwgb3ZlcnJpZGUgPSBmYWxzZSk6IHZvaWQge1xuICAgIHZhciBwbHVnaW5JRCA9IGdldEluc3RhbmNlSWQocGFyYW1zLCBpbmplY3Rpb25JbmZvKTtcblxuICAgIGlmICghb3ZlcnJpZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbklEID0gcGx1Z2luSUQ7XG4gICAgICAgIGZvciAodmFyIG51bVN1ZmZpeCA9IDI7IGluc3RhbmNlc1twbHVnaW5JRF07IG51bVN1ZmZpeCsrKSB7XG4gICAgICAgICAgICBwbHVnaW5JRCA9IG9yaWdpbklEICsgbnVtU3VmZml4LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJhbXNbJ2luc3RhbmNlSUQnXSA9IHBsdWdpbklEO1xuICAgIGluc3RhbmNlc1twbHVnaW5JRF0gPSBpbnN0YW5jZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQbHVnaW5JbnN0YW5jZShwYXJhbXM6IE9iamVjdCwgaW5qZWN0aW9uSW5mbzogSUluamVjdGlvbkluZm8pIHtcbiAgICBkZWxldGUgaW5zdGFuY2VzW2dldEluc3RhbmNlSWQocGFyYW1zLCBpbmplY3Rpb25JbmZvKV07XG4gICAgZGVsZXRlIHBhcmFtc1snaW5zdGFuY2VJRCddO1xufVxuIiwiaW1wb3J0ICogYXMgcXVldWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvcXVldWUnO1xuaW1wb3J0ICogYXMgZnVuY3Rpb25zVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW5Jbml0OiAoKSA9PiB2b2lkKSB7XG4gICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignVUknLCBwbHVnaW5Jbml0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hQbHVnaW4ocGx1Z2luQ2xhc3MsIG5hbWVzcGFjZSwgcGx1Z2luTmFtZSwgcHVibGljTWV0aG9kTmFtZSkge1xuICAgIGlmICghbmFtZXNwYWNlKSBuYW1lc3BhY2UgPSAnc29jaWFsaXplJztcbiAgICBpZiAoIWdpZ3lhW25hbWVzcGFjZV0pIGdpZ3lhW25hbWVzcGFjZV0gPSB7fTtcbiAgICBpZiAoIWdpZ3lhW25hbWVzcGFjZV0ucGx1Z2lucykgZ2lneWFbbmFtZXNwYWNlXS5wbHVnaW5zID0ge307XG4gICAgaWYgKCFnaWd5YVtuYW1lc3BhY2VdLnBsdWdpbnNbcGx1Z2luTmFtZV0pIGdpZ3lhW25hbWVzcGFjZV0ucGx1Z2luc1twbHVnaW5OYW1lXSA9IHsgaW5zdGFuY2VzOiBbXSB9O1xuICAgIHZhciBucyA9IGdpZ3lhW25hbWVzcGFjZV0ucGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICBpZiAoIW5zW3B1YmxpY01ldGhvZE5hbWVdKSB7XG4gICAgICAgIG5zW3B1YmxpY01ldGhvZE5hbWVdID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVmU3RyaW5nID0gJ2dpZ3lhLicgKyBuYW1lc3BhY2UgKyAnLnBsdWdpbnMuJyArIHBsdWdpbk5hbWUgKyAnLmluc3RhbmNlc1snICsgbnMuaW5zdGFuY2VzLmxlbmd0aCArICddJztcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBuZXcgcGx1Z2luQ2xhc3MocGFyYW1zLCByZWZTdHJpbmcpO1xuICAgICAgICAgICAgbnMuaW5zdGFuY2VzLnB1c2gocGx1Z2luKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocGx1Z2luQ2xhc3MuU3RhdGljQXBpKSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGx1Z2luQ2xhc3MuU3RhdGljQXBpKSB7XG4gICAgICAgICAgICB2YXIgZnVuY05hbWUgPSBwbHVnaW5DbGFzcy5TdGF0aWNBcGlbbmFtZV07XG4gICAgICAgICAgICB2YXIgZnVuYyA9IHBsdWdpbkNsYXNzW2Z1bmNOYW1lXTtcbiAgICAgICAgICAgIGZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS4nICsgbmFtZXNwYWNlICsgJy5wbHVnaW5zLicgKyBwbHVnaW5OYW1lICsgJy4nICsgbmFtZSwgZnVuYyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJUGx1Z2luVmVyc2lvbkluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpJztcbmltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcblxuZXhwb3J0IGNsYXNzIFZlcnNpb25TZWxlY3RvciB7XG4gICAgcHJpdmF0ZSBfZGVmYXVsdFZlcnNpb25JbmRleDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtZXRob2ROYW1lOiBzdHJpbmcsIHByaXZhdGUgX3ZlcnNpb25zOiBJUGx1Z2luVmVyc2lvbkluZm9bXSwgZGVmYXVsdFZlcnNpb25OYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl92ZXJzaW9ucyB8fCB0aGlzLl92ZXJzaW9ucy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IodGhpcy5tZXRob2ROYW1lICsgJzogcmVxdWlyZWQgYXQgbGVhc3Qgb25lIHZhbGlkIHZlcnNpb24nKTtcblxuICAgICAgICBpZiAoIWRlZmF1bHRWZXJzaW9uTmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdFZlcnNpb25JbmRleCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0VmVyc2lvbkluZGV4ID0gdGhpcy5maW5kVmVyc2lvbkluZGV4T3JEZWZhdWx0KGRlZmF1bHRWZXJzaW9uTmFtZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFZlcnNpb25JbmRleCA9PSAtMSkgdGhyb3cgbmV3IEVycm9yKHRoaXMubWV0aG9kTmFtZSArICc6IGRlZmF1bHQgdmVyc2lvbiBpcyBub3QgZGVmaW5lZCBhcyBhIHZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjYWxsVmVyc2lvbih2ZXJzaW9uTmFtZTogc3RyaW5nLCBwYXJhbXM6IE9iamVjdCA9IHt9LCBhcmdzOiBBcnJheTxhbnk+ID0gW3BhcmFtc10pIHtcbiAgICAgICAgdmFyIHdhbnRlZFZlcnNpb25JbmRleCA9IHRoaXMuZmluZFZlcnNpb25JbmRleE9yRGVmYXVsdCh2ZXJzaW9uTmFtZSk7XG5cbiAgICAgICAgaWYgKHdhbnRlZFZlcnNpb25JbmRleCA9PSAtMSkgdGhyb3cgRXJyb3IoXCJnaWd5YSBwbHVnaW4gdmVyc2lvbiBkb2Vzbid0IGV4aXN0XCIpO1xuXG4gICAgICAgIHZhciBzdXBwb3J0ZWRWZXJzaW9uID0gdGhpcy5maW5kU3VwcG9ydGVkVmVyc2lvbih3YW50ZWRWZXJzaW9uSW5kZXgpO1xuXG4gICAgICAgIGlmICghc3VwcG9ydGVkVmVyc2lvbikgdGhyb3cgbmV3IEVycm9yKHZlcnNpb25OYW1lICsgJzogY291bGQgbm90IGZpbmQgc3VwcG9ydGVkIHZlcnNpb24gZm9yIHRoaXMgYnJvd3NlcicpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlVmVyc2lvbk1ldGhvZChzdXBwb3J0ZWRWZXJzaW9uLCBwYXJhbXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kU3VwcG9ydGVkVmVyc2lvbihzdGFydEluZGV4OiBudW1iZXIpOiBJUGx1Z2luVmVyc2lvbkluZm8ge1xuICAgICAgICB2YXIgdmVyc2lvbnNOdW0gPSB0aGlzLl92ZXJzaW9ucy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJzaW9uc051bTsgKytpKSB7XG4gICAgICAgICAgICAvLyBnbyBjeWNsaWNseSB0aHJvdWdoIHZlcnNpb25zIGZyb20gc3RhcnQgaW5kZXhcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gdGhpcy5fdmVyc2lvbnNbKHN0YXJ0SW5kZXggLSBpICsgdmVyc2lvbnNOdW0pICUgdmVyc2lvbnNOdW1dO1xuXG4gICAgICAgICAgICBpZiAoIXZlcnNpb24uaXNTdXBwb3J0ZWQgfHwgdmVyc2lvbi5pc1N1cHBvcnRlZCh7IGRpcmVjdENhbGw6IGkgPT0gMCB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRWZXJzaW9uSW5kZXhPckRlZmF1bHQodmVyc2lvbk5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIHZhciByZXN1bHQgPSAtMTtcblxuICAgICAgICBpZiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFycmF5VXRpbHMuZmlyc3RJbmRleCh0aGlzLl92ZXJzaW9ucywgdmVyc2lvbiA9PiB2ZXJzaW9uLnZlcnNpb25OYW1lID09IHZlcnNpb25OYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHZlcnNpb24gbmFtZSBpc24ndCBnaXZlbiBvciBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGlmIChyZXN1bHQgPT0gLTEpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2RlZmF1bHRWZXJzaW9uSW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2RlZmF1bHRWZXJzaW9uSW5kZXggOiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnZva2VWZXJzaW9uTWV0aG9kKHZlcnNpb246IElQbHVnaW5WZXJzaW9uSW5mbywgcGFyYW1zOiBPYmplY3QgPSB7fSwgYXJnczogQXJyYXk8YW55PiA9IFtwYXJhbXNdKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uTWV0aG9kOiBGdW5jdGlvbjtcblxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2ZXJzaW9uLm1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHZlcnNpb25NZXRob2QgPSB2ZXJzaW9uLm1ldGhvZCBhcyBGdW5jdGlvbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgdmVyc2lvbk1ldGhvZCA9IGV2YWwodmVyc2lvbi5tZXRob2QgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ3NlbGVjdGVkTWV0aG9kTmFtZSddID0gdmVyc2lvbi5tZXRob2QgYXMgc3RyaW5nOyAvLyBkZWJ1ZyBsZWdhY3lcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IodGhpcy5tZXRob2ROYW1lICsgJyAnICsgdmVyc2lvbi52ZXJzaW9uTmFtZSArICc6IHVuc3VwcG9ydGVkIGdpZ3lhLXZlcnNpb24gbWV0aG9kJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb3B5IGFkZGl0aW9uYWwgcGFyYW1zLlxuICAgICAgICBmb3IgKHZhciBmaWVsZCBpbiB2ZXJzaW9uLmFkZGl0aW9uYWxQYXJhbXMpIHBhcmFtc1tmaWVsZF0gPSB2ZXJzaW9uLmFkZGl0aW9uYWxQYXJhbXNbZmllbGRdO1xuXG4gICAgICAgIC8vIExlZ2FjeS5cbiAgICAgICAgcGFyYW1zWydvcmlnaW5hbE1ldGhvZE5hbWUnXSA9IHRoaXMubWV0aG9kTmFtZTtcblxuICAgICAgICAvLyBHb1xuICAgICAgICB2ZXJzaW9uTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBkZWZhdWx0QXBpU2NoZW1hID0gJ2N0YWd8QVBJS2V5fGNpZHxvYXV0aF90b2tlbnxzb3VyY2V8c291cmNlRGF0YXx1c2VQb3N0fHJlZlVJRHxmYl9VSUR8ZmJfYXR8ZmJfZXhwfGVudmlyb25tZW50fG5vQXV0aHxodHRwU3RhdHVzQ29kZXMnO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRPYXV0aFNjaGVtYSA9XG4gICAgJ2N0YWd8dGVtcG9yYXJ5X2FjY291bnR8YXV0aEZsb3d8Y29ubmVjdFdpdGhvdXRMb2dpbnxwcm92aWRlcnxyZWRpcmVjdE1ldGhvZHxyZWRpcmVjdF91cml8cGVuZGluZ1JlZ2lzdHJhdGlvbnxsYW5nfHJlZ1NvdXJjZXxleHRyYVBlcm1pc3Npb25zfHNlc3Npb25FeHBpcmF0aW9ufGZvcmNlQXV0aGVudGljYXRpb258aW5jbHVkZWlSYW5rfGluY2x1ZGVBbGxJZGVudGl0aWVzfGV4dHJhRmllbGRzfGVuYWJsZWRQcm92aWRlcnN8ZGlzYWJsZWRQcm92aWRlcnN8c2lnbklEc3xvcGVuSURVc2VybmFtZXxvcGVuSURVUkx8b3BlbklEUHJvdmlkZXJMb2dvfG9wZW5JRFByb3ZpZGVyTmFtZXxmaW5hbGl6ZVJlZ2lzdHJhdGlvbnxpbmNsdWRlfGFjdGlvbkF0dHJpYnV0ZXN8cHJvZmlsZUF0dHJpYnV0ZXN8Z29vZ2xlUGxheUFwcElEfGJwX2NoYW5uZWxfdXJsfGxvZ2luSWZFeGlzdHN8aW5jbHVkZVVzZXJJbmZvfHJlZGlyZWN0VVJMfGF1dGhDb2RlT25seXxlbmFibGVQb3B1cExvY2F0aW9ufGludml0ZXxyZWdUb2tlbnxsb2dpbk1vZGV8YXBpRG9tYWlufGNvbmZsaWN0SGFuZGxpbmd8Zm9yY2VQZXJtaXNzaW9uc3xzaWduS2V5c3xkYXRhQ2VudGVyfGZvcmNlQXV0aGVudGljYXRpb24nO1xuZXhwb3J0IGNvbnN0IHBvc3RCb29rbWFya1NjaGVtYSA9XG4gICAgJ3Byb3ZpZGVyfFVSTHx1cmx8dGl0bGV8ZGVzY3JpcHRpb258dGFyZ2V0fGNpZHxBUElLZXl8c2hvcnRVUkxzfHNvdXJjZXxzb3VyY2VEYXRhfHByb3ZpZGVyS2V5fHRodW1ibmFpbFVSTHx0YWdzfHVzZXJBY3Rpb258W3Byb3ZpZGVyQ2FwYWJpbGl0eT1hY3Rpb25zXVVzZXJBY3Rpb258YWN0aW9uQXR0cmlidXRlc3xmYWNlYm9va0RpYWxvZ1R5cGUnO1xuZXhwb3J0IGNvbnN0IGxvZ2luTWV0aG9kcyA9IHtcbiAgICAnc29jaWFsaXplLmxvZ2luJzogMSxcbiAgICAnc29jaWFsaXplLmFkZENvbm5lY3Rpb24nOiAxLFxuICAgICdzb2NpYWxpemUubm90aWZ5TG9naW4nOiAxLFxuICAgICdzb2NpYWxpemUubGlua0FjY291bnRzJzogMSxcbiAgICAnYWNjb3VudHMubG9naW4nOiAxLFxuICAgICdhY2NvdW50cy5vdHAubG9naW4nOiAxLFxuICAgICdhY2NvdW50cy5hdXRoLm1hZ2ljbGluay5lbWFpbC5sb2dpbic6IDEsXG4gICAgJ2FjY291bnRzLmF1dGgub3RwLmVtYWlsLmxvZ2luJzogMSxcbiAgICAnYWNjb3VudHMuYXV0aC5sb2dpbic6IDEsXG4gICAgJ2FjY291bnRzLnNvY2lhbExvZ2luJzogMSxcbiAgICAnYWNjb3VudHMubGlua0FjY291bnRzJzogMSxcbiAgICAnYWNjb3VudHMucmVnaXN0ZXInOiAxLFxuICAgICdhY2NvdW50cy5maW5hbGl6ZVJlZ2lzdHJhdGlvbic6IDEsXG4gICAgJ2FjY291bnRzLm5vdGlmeVNvY2lhbExvZ2luJzoxXG59O1xuZXhwb3J0IGNvbnN0IGxvZ291dE1ldGhvZHMgPSB7XG4gICAgJ3NvY2lhbGl6ZS5sb2dvdXQnOiAxLFxuICAgICdhY2NvdW50cy5sb2dvdXQnOiAxLFxuICAgICdzb2NpYWxpemUuZGVsZXRlQWNjb3VudCc6IDEsXG4gICAgJ3NvY2lhbGl6ZS51bmxpbmtBY2NvdW50cyc6IDEsXG59O1xuIiwiaW1wb3J0IHtzaXRlRGF0YX0gZnJvbSAnLi4vU2VydmljZXMvU2l0ZURhdGEnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZmVycmVkTG9naW5NZXRob2QoaWRlbnRpZmllcjogc3RyaW5nKTogc3RyaW5nIHwgJycge1xuXHRcdHJldHVybiBzaXRlRGF0YS5nZXRQcmVmZXJyZWRMb2dpbk1ldGhvZChpZGVudGlmaWVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFByZWZlcnJlZExvZ2luTWV0aG9kKG1ldGhvZDogc3RyaW5nLCBpZGVudGlmaWVyOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRzaXRlRGF0YS5zZXRQcmVmZXJyZWRMb2dpbk1ldGhvZChtZXRob2QsIGlkZW50aWZpZXIpO1xufVxuXG5leHBvcnQgdHlwZSBJQXV0aEFwaXMgPSBQaWNrPHR5cGVvZiBzaXRlRGF0YSwgJ2dldFByZWZlcnJlZExvZ2luTWV0aG9kJyB8ICdzZXRQcmVmZXJyZWRMb2dpbk1ldGhvZCc+IiwiaW1wb3J0IHsgSURpc3Bvc2FibGUgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lEaXNwb3NhYmxlJztcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcbmltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcbmltcG9ydCB7IEV2ZW50V3JhcHBlciB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0V2ZW50V3JhcHBlcic7XG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IElCYXNlT2JqZWN0Q29uZmlnIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvSUJhc2VPYmplY3RDb25maWcnO1xuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xuXG4vLyBCYXNlT2JqZWN0XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJhc2VPYmplY3RQYXJhbSB7XG4gICAgb25FcnJvcj86IChlKSA9PiB2b2lkO1xufVxuZXhwb3J0IGNsYXNzIEJhc2VPYmplY3Q8UCBleHRlbmRzIElCYXNlT2JqZWN0UGFyYW0+IGltcGxlbWVudHMgSURpc3Bvc2FibGUge1xuICAgIC8vLyBTdGF0aWNcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZUNvdW50ZXIgPSAwO1xuICAgIHB1YmxpYyBzdGF0aWMgTk9UX0lNUExFTUVOVEVEX0VSUk9SID0gJ0Fic3RyYWN0IG1ldGhvZCBub3QgaW1wbGVtZW50ZWQnO1xuXG4gICAgLy8vIFByb3ZpZGVyc1xuICAgIHByaXZhdGUgX2xvZ2dlciA9IGdpZ3lhLmxvZ2dlcjtcbiAgICBwcml2YXRlIF9ldmVudERpc3BhdGNoZXIgPSAoYXJncywgd2lkZ2V0KSA9PiBldmVudHMuZGlzcGF0Y2hGb3JXaWRnZXQoYXJncywgd2lkZ2V0KTtcbiAgICBwcml2YXRlIF9lcnJvckRpc3BhdGNoZXIgPSBnaWd5YS5ldmVudHM7XG4gICAgcHJpdmF0ZSBfZ2xvYmFsRXZlbnRzTWFuYWdlciA9IGdpZ3lhLmV2ZW50cy5nbG9iYWw7XG4gICAgcHJvdGVjdGVkIF9pc0Rpc3Bvc2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLy8gTWVtYmVyc1xuICAgIHByaXZhdGUgX2V2ZW50V3JhcHBlcnM6IGFycmF5VXRpbHMuSU1hcDxFdmVudFdyYXBwZXI8RnVuY3Rpb24+PiA9IHt9O1xuICAgIHByb3RlY3RlZCBfZ2xvYmFsRXZlbnRIYW5kbGVyczogeyBbbmFtZTogc3RyaW5nXTogQXJyYXk8Z2xvYmFsRXZlbnRzLklFdmVudEhhbmRsZXJJbmZvPiB9ID0ge307XG5cbiAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuXG4gICAgLy8vIEV2ZW50c1xuICAgIHB1YmxpYyBvbkVycm9yRXZlbnQoKTogRXZlbnRXcmFwcGVyPChlKSA9PiB2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV2ZW50PChlKSA9PiB2b2lkPignb25FcnJvcicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkRpc3Bvc2VkRXZlbnQoKTogRXZlbnRXcmFwcGVyPCgpID0+IHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXZlbnQ8KCkgPT4gdm9pZD4oJ29uRGlzcG9zZWQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzcGF0Y2hHbG9iYWxFdmVudChldmVudE9iaikge1xuICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goZXZlbnRPYmopO1xuICAgIH1cblxuICAgIC8vLyBNZXRob2RzXG4gICAgY29uc3RydWN0b3IocHVibGljIHBhcmFtcz86IFAsIHB1YmxpYyBleHBsaWNpdFBhcmFtcz86IFAsIHZhbGlkYXRlUGFyYW1zOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9pZCA9ICsrQmFzZU9iamVjdC5pbnN0YW5jZUNvdW50ZXI7XG5cbiAgICAgICAgLy8gQ2xvbmUgcGFyYW1zIHRvIGF2b2lkIG1vZGlmeWluZyBvcmlnaW5hbHMuXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zID8gb2JqZWN0VXRpbHMuY2xvbmUocGFyYW1zKSA6IHt9O1xuICAgICAgICB0aGlzLmV4cGxpY2l0UGFyYW1zID0gZXhwbGljaXRQYXJhbXMgPyBvYmplY3RVdGlscy5jbG9uZShleHBsaWNpdFBhcmFtcykgOiB7fTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBwYXJhbXMuXG4gICAgICAgIGlmICh2YWxpZGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVBhcmFtcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29weSBwcm9wZXJ0aWVzIHRvIG9iamVjdCBpdHNlbGYuXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGFyYW1zIGFzIGFueSkge1xuICAgICAgICAgICAgaWYgKEJhc2VPYmplY3RbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBCYXNlT2JqZWN0W25hbWVdID0gcGFyYW1zW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JbJ25hbWUnXSB8fCB0aGlzLmdldEZ1bmN0aW9uTmFtZSh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZ1bmN0aW9uTmFtZShmdW4pIHtcbiAgICAgICAgdmFyIHJldCA9IGZ1bi50b1N0cmluZygpO1xuICAgICAgICByZXQgPSByZXQuc3Vic3RyKCdmdW5jdGlvbiAnLmxlbmd0aCk7XG4gICAgICAgIHJldCA9IHJldC5zdWJzdHIoMCwgcmV0LmluZGV4T2YoJygnKSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLy8vIEFic3RyYWN0IG1ldGhvZHNcbiAgICBwcm90ZWN0ZWQgZ2V0Q29uZmlnKCk6IElCYXNlT2JqZWN0Q29uZmlnPFA+IHtcbiAgICAgICAgdGhpcy5lcnJvcihCYXNlT2JqZWN0Lk5PVF9JTVBMRU1FTlRFRF9FUlJPUiwgR1NFcnJvcnMuTk9UX1NVUFBPUlRFRCk7XG4gICAgICAgIHJldHVybiA8SUJhc2VPYmplY3RDb25maWc8UD4+e307XG4gICAgfVxuXG4gICAgLy8vIFZpcnR1YWwgbWV0aG9kc1xuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGUoKSArICcgJyArIHRoaXMuaWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cblxuICAgIHB1YmxpYyB3YXJuKG1zZzogc3RyaW5nLCBlPzogYW55KSB7XG4gICAgICAgIHZhciB3YXJuTXNnID0gdGhpcy5pZCgpICsgJyAnICsgdGhpcy5nZXRUeXBlKCkgKyAnIC0gJyArIG1zZztcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmluZm8od2Fybk1zZywgZSk7IC8vIGFkZCBtZXNzYWdlIHRvIGdpZ3lhIGRlYnVnIGxvZ1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBlcnJvcihtc2c6IHN0cmluZywgZXJyb3JDb2RlOiBHU0Vycm9ycyA9IEdTRXJyb3JzLkNMSUVOVF9MT0csIGU/OiBhbnkpIHtcbiAgICAgICAgdmFyIGVycm9ySW5mbyA9IHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiBlcnJvckNvZGUsXG4gICAgICAgICAgICBlcnJvckRldGFpbHM6IHRoaXMuaWQoKSxcbiAgICAgICAgICAgIGluZm86IGUsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53YXJuKG1zZywgZXJyb3JJbmZvKTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2Vycm9yJywgZXJyb3JJbmZvKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMocmVxUGFyYW1zPzogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFyZXFQYXJhbXMpIHJlcVBhcmFtcyA9IHRoaXMuZ2V0Q29uZmlnKCkucmVxdWlyZWRQYXJhbXMgfHwgW107XG5cbiAgICAgICAgLy8gQ29tcGxldGUgcGFyYW1zIHdpdGggZGVmYXVsdC5cbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29uZmlnKCkuZGVmYXVsdFBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShbdGhpcy5nZXRDb25maWcoKS5kZWZhdWx0UGFyYW1zLCB0aGlzLnBhcmFtc10pIGFzIFA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWlzc2luZ1BhcmFtcyA9IFtdO1xuXG4gICAgICAgIC8vIENoZWNrIGV4aXN0ZW5jZSBvZiByZXF1aXJlZCBwYXJhbXNcbiAgICAgICAgaWYgKHJlcVBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlcVBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXFQYXJhbXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtID0gcmVxUGFyYW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1zW3BhcmFtXSkgbWlzc2luZ1BhcmFtcy5wdXNoKHBhcmFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlzc2luZ1BhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoSW52YWxpZFBhcmFtRXJyb3IobWlzc2luZ1BhcmFtc1swXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLy8gRXZlbnRzIG1ldGhvZHNcblxuICAgIHByb3RlY3RlZCBkaXNwYXRjaEV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBhcmdzOiBhbnkgPSB7fSkge1xuICAgICAgICBhcmdzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgLy9hcmdzLnNlbmRlciA9IHRoaXM7IC8vIFRPRE8gbWVtb3J5IGxlYWsgZHVlIHRvIHNlbmRlciBjb250YWluaW5nIHJlZnJlbmNlcyB0byBkb21cbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50RGlzcGF0Y2hlcihhcmdzLCB0aGlzLnBhcmFtcyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRpc3BhdGNoRXJyb3JGcm9tUmVzcG9uc2UocmVzcG9uc2U6IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gZXZlbnRzLmRpc3BhdGNoRXJyb3JGcm9tUmVzcG9uc2UodGhpcy5wYXJhbXMsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcihwYXJhbU5hbWU6IHN0cmluZykge1xuICAgICAgICBldmVudHMuZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcih0aGlzLnBhcmFtcywgcGFyYW1OYW1lKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0RXZlbnQ8VCBleHRlbmRzIEZ1bmN0aW9uPihldmVudE5hbWU6IHN0cmluZyk6IEV2ZW50V3JhcHBlcjxUPiB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRXcmFwcGVyc1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1zW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtc1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEodGhpcy5wYXJhbXNbZXZlbnROYW1lXSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zW2V2ZW50TmFtZV0gPSBbdGhpcy5wYXJhbXNbZXZlbnROYW1lXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ldmVudFdyYXBwZXJzW2V2ZW50TmFtZV0gPSBuZXcgRXZlbnRXcmFwcGVyPFQ+KHRoaXMucGFyYW1zW2V2ZW50TmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8RXZlbnRXcmFwcGVyPFQ+PnRoaXMuX2V2ZW50V3JhcHBlcnNbZXZlbnROYW1lXTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkR2xvYmFsRXZlbnRIYW5kbGVycyhoYW5kbGVyczogYXJyYXlVdGlscy5JTWFwPChlOiBnbG9iYWxFdmVudHMuSUV2ZW50T2JqZWN0KSA9PiB2b2lkPikge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHRoaXMuYWRkR2xvYmFsRXZlbnRIYW5kbGVyKG5hbWUsIGhhbmRsZXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhZGRHbG9iYWxFdmVudEhhbmRsZXIobmFtZTogc3RyaW5nLCBoYW5kbGVyOiAoZTogZ2xvYmFsRXZlbnRzLklFdmVudE9iamVjdCkgPT4gdm9pZCwgY29udGV4dCA9IG51bGwsIG5hbWVzcGFjZSA9ICdzb2NpYWxpemUnKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXSkgdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXSA9IFtdO1xuXG4gICAgICAgIHZhciByZWdpc3RlcmVkSGFuZGxlciA9IGdsb2JhbEV2ZW50cy5hZGQobmFtZSwgaGFuZGxlciwgJ2NvbXBvbmVudCcsIGNvbnRleHQsIG5hbWVzcGFjZSwgdGhpcy5wYXJhbXMpO1xuICAgICAgICB0aGlzLl9nbG9iYWxFdmVudEhhbmRsZXJzW25hbWVdLnB1c2gocmVnaXN0ZXJlZEhhbmRsZXIpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCByZW1vdmVHbG9iYWxFdmVudEhhbmRsZXJzKGhhbmRsZXJzOiBhcnJheVV0aWxzLklNYXA8RnVuY3Rpb24+KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgdGhpcy5yZW1vdmVHbG9iYWxFdmVudEhhbmRsZXIobmFtZSwgaGFuZGxlcnNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vIEV4Y2VwdCAnbmFtZScsIGFsbCBhcmd1bWVudHMgYXJlIGZvciBiYXNlIHBsdWdpbiBzdXBwb3J0Li4uIHJlYWxseSBuZWVkZWQ/XG4gICAgcHJvdGVjdGVkIHJlbW92ZUdsb2JhbEV2ZW50SGFuZGxlcihuYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uLCBjb250ZXh0ID0gbnVsbCwgbmFtZXNwYWNlID0gJ3NvY2lhbGl6ZScpOiB2b2lkIHtcbiAgICAgICAgdmFyIGFyciA9IHRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnNbbmFtZV07XG4gICAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVySW5mb0luZGV4ID0gYXJyYXlVdGlscy5maXJzdEluZGV4KGFyciwgaSA9PiBpLmhhbmRsZXIgPT0gaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVySW5mb0luZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckluZm8gPSBhcnJbaGFuZGxlckluZm9JbmRleF07XG4gICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLnJlbW92ZShoYW5kbGVySW5mby5mdWxsRXZlbnROYW1lLCBoYW5kbGVySW5mbyk7XG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShoYW5kbGVySW5mb0luZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcmVwYXJlQ2FsbGJhY2soY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX2lzRGlzcG9zZWQpIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLy8gSURpc3Bvc2FibGUgaW1wbGVtZW50YXRpb25cblxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuX2dsb2JhbEV2ZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9nbG9iYWxFdmVudEhhbmRsZXJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLl9nbG9iYWxFdmVudEhhbmRsZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXJJbmZvID0gdGhpcy5fZ2xvYmFsRXZlbnRIYW5kbGVyc1tuYW1lXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLnJlbW92ZShldmVudEhhbmRsZXJJbmZvLmZ1bGxFdmVudE5hbWUsIGV2ZW50SGFuZGxlckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9nbG9iYWxFdmVudEhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuX2V2ZW50V3JhcHBlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB7fSBhcyBQO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcblxuICAgICAgICAvLyB0aGlzLmRpc3BhdGNoRXZlbnQoXCJvbkRpc3Bvc2VkXCIpOyAvLyBUT0RPIGZpeCBtZW1vcnkgbGVhayBmcm9tIGl0XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEV2ZW50V3JhcHBlcjxUIGV4dGVuZHMgRnVuY3Rpb24+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9oYW5kbGVyczogQXJyYXk8VD4gPSBbXSkge31cblxuICAgIHB1YmxpYyBhZGQoaGFuZGxlcjogVCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUoaGFuZGxlcjogVCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9oYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IElCYXNlT2JqZWN0UGFyYW0gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQmFzZU9iamVjdC9CYXNlT2JqZWN0JztcblxuZXhwb3J0IGVudW0gRGV2aWNlVHlwZXMge1xuICAgIF91bmRlZmluZWQsXG4gICAgZGVza3RvcCxcbiAgICBtb2JpbGUsXG4gICAgYXV0byxcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUJhc2VPYmplY3RDb25maWc8UCBleHRlbmRzIElCYXNlT2JqZWN0UGFyYW0+IHtcbiAgICAvLyBNZXJnZWQgZnJvbSBJSW5qZWN0aW9uSW5mb1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICAgIG1ldGhvZE5hbWU/OiBzdHJpbmc7XG4gICAganNOYW1lPzogc3RyaW5nO1xuICAgIGRlZmF1bHREZXZpY2VUeXBlPzogRGV2aWNlVHlwZXM7XG5cbiAgICAvLyBEZWZhdWx0IHBhcmFtcyB0aGF0IHdpbGwgYmUgbWVyZ2VkIHRvIHRoZSBmaW5hbCBwYXJhbXMgb2JqZWN0XG4gICAgZGVmYXVsdFBhcmFtczogUDtcblxuICAgIC8vIFJlcXVpcmVkIHBhcmFtcy4gSWYgb25lIG9mIHRoZXNlIGlzbid0IHByb3ZpZGVkIChhbmQgaXNuJ3QgaW4gdGhlIGRlZmF1bHRQYXJhbXMpLCBhbiBlcnJvciB3aWxsIGJlIGludm9rZWQuXG4gICAgcmVxdWlyZWRQYXJhbXM6IEFycmF5PHN0cmluZz47XG59XG4iLCJpbXBvcnQgKiBhcyBxdWV1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9xdWV1ZSc7XG5pbXBvcnQgKiBhcyBldmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V2ZW50cyc7XG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCAqIGFzIHNjcmlwdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xuaW1wb3J0IHtnZXRDZG5SZXNvdXJjZX0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQge2dldEdpZ3lhU2NyaXB0RWxlbWVudH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2dpZ3lhU2NyaXB0RWwnO1xuaW1wb3J0ICogYXMgVVJMVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VSTCc7XG5pbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XG5pbXBvcnQge0lBcGlBZGFwdGVySW5pdFNldHRpbmdzfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lBcGlBZGFwdGVyJztcbmltcG9ydCAqIGFzIGZhY2Vib29rRXh0ZXJuYWwgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0ZhY2Vib29rJztcbmltcG9ydCAqIGFzIGdvb2dsZVBsdXNFeHRlcm5hbCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvR29vZ2xlUGx1cyc7XG5pbXBvcnQge2NoZWNrQ29tcGxldGVSZWdpc3RyYXRpb259IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcm5hbEZsb3dzJztcbmltcG9ydCB7bG9jYWxJbmZvfSBmcm9tICcuL0xvY2FsSW5mbyc7XG5pbXBvcnQge2dldFNka0NvbmZpZywgZ2V0U3NvQ29udGV4dH0gZnJvbSAnLi9hcGlCb290c3RyYXAnO1xuaW1wb3J0IHtzZXRTc29Db250ZXh0fSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy5BZGFwdGVycy5XZWIvYXBwL0V4dGVybmFsTWV0aG9kcy9jZW50cmFsaXplZFNTTyc7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tICcuL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcblxuZXhwb3J0IHZhciBwYXJzZVNjcmlwdFJldHJpZXMgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZ2lneWEubG9nZ2VyLmdyb3VwKCd3ZWJzZGsgcm9vdCcpO1xuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBwYXJ0bmVyIHNldHRpbmdzOmAsIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncyk7XG4gICAgZ2lneWEubG9nZ2VyLmluZm8oYGxvY2FsIGluZm86YCwgbG9jYWxJbmZvKTtcblxuICAgIGNvbnN0IGJvb3RzdHJhcExvZyA9IGdpZ3lhLmxvZ2dlci5ncm91cCgnYm9vdHN0cmFwIHdlYnNkaycpO1xuXG4gICAgcXVldWVVdGlscy5ob2xkKCdib290c3RyYXAnLCAnQVBJJyk7XG5cbiAgICAvLyBkZXRlY3RpbmcgdW5zdXBwb3J0ZWQgYnJvd3NlcnNcbiAgICBpZiAoXG4gICAgICAgIChsb2NhbEluZm8uaXNJRTYgfHwgbG9jYWxJbmZvLmlzSUU3IHx8IGxvY2FsSW5mby5pc0lFOCB8fCBsb2NhbEluZm8uaXNJRTkgfHwgbG9jYWxJbmZvLmlzSUUxMCkgJiZcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUubG9nICE9ICd1bmRlZmluZWQnXG4gICAgKVxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIFwiR2lneWE6IEl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIEludGVybmV0IEV4cGxvcmVyLiBUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVwZ3JhZGUgdG8gYSBuZXdlciB2ZXJzaW9uIG9mIElFLlwiLFxuICAgICAgICApO1xuICAgIC8vIGdpZ3lhLmdpZ3lhLmxvZ2dlci53YXJuIHdpdGggZm9yY2UgcGFyYW0/XG5cbiAgICBwYXJzZVNjcmlwdEVsZW1lbnQoYXN5bmMgKGlzQ29udGV4dFJlcGxhY2VkKSA9PiB7XG4gICAgICAgIGNvbnN0IHNka0NvbmZpZyA9IGF3YWl0IGdldFNka0NvbmZpZygpO1xuICAgICAgICBnaWd5YS5fLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGZsYWdzOiBzZGtDb25maWcuZmxhZ3MsXG4gICAgICAgICAgICBwbHVnaW5zOiBzZGtDb25maWcucGx1Z2lucyxcbiAgICAgICAgICAgIGFwaTogc2RrQ29uZmlnLmFwaSxcbiAgICAgICAgICAgIGhvc3RlZFBhZ2VzRG9tYWluOiBzZGtDb25maWcuaG9zdGVkUGFnZXNEb21haW4sXG4gICAgICAgICAgICB0b2dnbGVzOiB7XG4gICAgICAgICAgICAgICAgbGlua0FjY291bnRWMjogc2RrQ29uZmlnLnRvZ2dsZXM/LmxpbmtBY2NvdW50VjIsXG4gICAgICAgICAgICAgICAgaHR0cFN0YXR1c0NvZGVzOiBzZGtDb25maWcudG9nZ2xlcz8uaHR0cFN0YXR1c0NvZGVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uc2VudDoge1xuICAgICAgICAgICAgICAgIGhhc0xpY2Vuc2U6IHNka0NvbmZpZy5oYXNDb25zZW50TGljZW5zZSA/PyBmYWxzZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzQ29udGV4dFJlcGxhY2VkKSB7XG4gICAgICAgICAgICByZXBsYWNlQ29udGV4dChzZGtDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50TWFwID0gZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydjdXN0b21FdmVudE1hcCddO1xuICAgICAgICBpZiAoY3VzdG9tRXZlbnRNYXApIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBhZGRpbmcgY3VzdG9tIGV2ZW50IG1hcGApOyAvLywgY3VzdG9tRXZlbnRNYXApO1xuICAgICAgICAgICAgZXZlbnRzLmFkZE1hcChjdXN0b21FdmVudE1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICBnaWd5YS5sb2dnZXIuZ3JvdXAoJ2luaXQgYXBpIGFkYXB0ZXInKTtcbiAgICAgICAgaW5pdEFwaUFkYXB0ZXIoKCkgPT4ge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmdyb3VwRW5kKCdpbml0IGFwaSBhZGFwdGVyJyk7XG4gICAgICAgICAgICBnaWd5YS5pc1JlYWR5ID0gdHJ1ZTsgLy8gaW5kaWNhdGUgYm9vdHN0cmFwIHByb2Nlc3MgaGFzIGZpbmlzaCAtIGdpZ3lhIGlzIHJlYWR5XG5cbiAgICAgICAgICAgIC8vIFRyaWdnZXIgb25HaWd5YVNlcnZpY2VSZWFkeSBib3VuZCB0byB3aW5kb3cgc2NvcGUuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uR2lneWFTZXJ2aWNlUmVhZHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbygnaW52b2tlIGxvY2FsIG9uR2lneWFTZXJ2aWNlUmVhZHkgZXZlbnQnKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkdpZ3lhU2VydmljZVJlYWR5KCdzb2NpYWxpemUnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKGBnaWd5YTogZXJyb3Igd2hpbGUgaW52b2tpbmcgb25HaWd5YVNlcnZpY2VSZWFkeWAsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyaWdnZXIgb25HaWd5YVNlcnZpY2VSZWFkeSBib3VuZCB0byBnbG9iYWwgY29uZmlndXJhdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgY29tbW9ubHkgdXNlZCB3aGVuIGNsaWVudHMgd2FudCB0byBleGVjdXRlIGNvZGUgZnJvbSB3aXRoaW4gdGhlIHNlcnZlci1zaWRlIGdsb2JhbCBjb25mLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ29uR2lneWFTZXJ2aWNlUmVhZHknXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKFwiaW52b2tlIGdsb2JhbGNvbmYncyBvbkdpZ3lhU2VydmljZVJlYWR5IGV2ZW50XCIpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydvbkdpZ3lhU2VydmljZVJlYWR5J10oJ3NvY2lhbGl6ZScpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oYGdpZ3lhOiBlcnJvciB3aGlsZSBpbnZva2luZyBvbkdpZ3lhU2VydmljZVJlYWR5IGluamVjdGVkIGZyb20gc2VydmVyYCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGVja1JldHVybkZyb21SZWRpcmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcXVldWVVdGlscy5yZWxlYXNlKCdib290c3RyYXAnLCAnQVBJJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxvY2FsSW5mby5pc05hdGl2ZU1vYmlsZUFwcCkge1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RFeHRlcm5hbFNka3MoKTtcbiAgICAgICAgICAgICAgICAgICAgYXV0b0xvZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS50cmFja1JlZmVycmFscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDAwLCAvLyAxcyBkZWxheSB0byBhbGxvdyBwYXJ0bmVycyB0byBhZGQgY2lkIHBhcmFtIHRvIHRoZSByZWZlcnJhbCByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJvb3RzdHJhcExvZy5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB3YXJuT25VbnN1cHBvcnRlZEJyb3dzZXIoKTtcblxuICAgICAgICBsb2FkT21uaXR1cmUoKTtcbiAgICAgICAgbG9hZEFCVGVzdGluZygpO1xuXG4gICAgICAgIHZhciByZXBvcnREYXRhID0geyBzcmVmOiBkb2N1bWVudC5yZWZlcnJlcj8uc3Vic3RyKDAsMTAwMCkgfTtcbiAgICAgICAgaWYgKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnYWN0aW9uQ291bnRlclBhdGgnXSkgcmVwb3J0RGF0YVsnYWN0aW9uQ291bnRlclBhdGgnXSA9IGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnYWN0aW9uQ291bnRlclBhdGgnXTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3YXJuT25VbnN1cHBvcnRlZEJyb3dzZXIoKSB7XG4gICAgLyppZiAobG9jYWxJbmZvLmlzQW5kcm9pZEJyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5fLnNob3dNZXNzYWdlVUkoe1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uVGV4dDogJ1Vuc3VwcG9ydGVkIEJyb3dzZXInLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhlIGFuZHJvaWQgYnJvd3NlciBjb250YWlucyBhIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdHkgYW5kIGlzIG5vdCBzdXBwb3J0ZWQsIFN3aXRjaCB0byBnb29nbGUgY2hyb20gb3IgZmlyZWZveCB0byBnZXQgdGhlIGZ1bGwgdmVyc2lvbiBvZiB0aGUgc2l0ZS4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9Ki9cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQUJUZXN0aW5nKCkge1xuICAgIGlmIChnaWd5YS5hYlRlc3RpbmcpIHtcbiAgICAgICAgZm9yIChjb25zdCBhYlRlc3RTZXJ2aWNlS2V5IGluIGdpZ3lhLmFiVGVzdGluZykge1xuICAgICAgICAgICAgaWYgKGFiVGVzdFNlcnZpY2VLZXkgPT09ICdvcHRpbWl6ZWx5Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFiVGVzdEl0ZW0gPSBnaWd5YS5hYlRlc3RpbmdbYWJUZXN0U2VydmljZUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoYWJUZXN0SXRlbS5zZXJ2aWNlUGFyYW1zICYmIGFiVGVzdEl0ZW0uc2VydmljZVBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgnYXBpS2V5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHRoZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1clBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpc0Rpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHBhdGggaXMgZGlzYWJsZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhYlRlc3RJdGVtLmRpc2FibGVkUGF0aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWJUZXN0SXRlbS5kaXNhYmxlZFBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFiVGVzdEl0ZW0uZGlzYWJsZWRQYXRoc1tpXS5pbmRleE9mKGN1clBhdGgpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBtYXRjaCBvbiB0aGUgcGF0aCB0byBsb2FkIHRoZSBzZXJ2aWNlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWJUZXN0SXRlbS5lbmFibGVkUGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyUGF0aC5pbmRleE9mKGFiVGVzdEl0ZW0uZW5hYmxlZFBhdGhzW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFV0aWxzLmxvYWQoJy8vY2RuLm9wdGltaXplbHkuY29tL2pzLycgKyBhYlRlc3RJdGVtLnNlcnZpY2VQYXJhbXNbJ2FwaUtleSddICsgJy5qcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFydERlYnVnSWZOZWVkZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICBpZiAoIWxvY2FsSW5mby5pc05hdGl2ZU1vYmlsZUFwcCAmJiBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0U3RvcmFnZSgpLmdldEl0ZW0oJ2dpZ19kZWJ1ZycpID09ICcxJykge1xuICAgICAgICBnaWd5YS5zb2NpYWxpemUuc2hvd0RlYnVnVUkoe1xuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsXG4gICAgICAgICAgICB3YWl0Rm9yRGVidWc6IGZhbHNlLFxuICAgICAgICAgICAgb25Mb2FkOiBjYWxsYmFjayxcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZE9tbml0dXJlKCkge1xuICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93WydnaWd5YV9vbW5pdHVyZV9jb25mJ10gIT0gJ3VuZGVmaW5lZCcpIHNjcmlwdFV0aWxzLmxvYWQoZ2V0Q2RuUmVzb3VyY2UoJy9qcy9HZW5lc2lzRXhjaGFuZ2VfR2lneWEubWluLmpzJykpO1xuICAgIH0pO1xufVxuY29uc3QgZGVmYXVsdExhbmcgPSAnZW4tVVMnO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGFuZyhsYW5nOiBzdHJpbmcgPSBkZWZhdWx0TGFuZyk6IGdpZ3lhLkxhbmcge1xuXG4gICAgY29uc3Qgb3JpZ2luYWxMYW5nID0gbGFuZy5yZXBsYWNlKCdlbi1VUycsICdlbicpO1xuICAgIGxhbmcgPSBsYW5nLnJlcGxhY2UoJ18nLCAnLScpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICB2YXIgc2VnbWVudHMgPSBsYW5nLnNwbGl0KCctJyk7XG4gICAgdmFyIGxhbmdDb2RlID0gc2VnbWVudHNbMF07XG4gICAgdmFyIGNvdW50cnlDb2RlO1xuXG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY291bnRyeUNvZGUgPSBzZWdtZW50c1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudHJ5Q29kZSA9IGxhbmdDb2RlO1xuICAgIH1cblxuICAgIGNvdW50cnlDb2RlID0gY291bnRyeUNvZGUudG9VcHBlckNhc2UoKTtcblxuICAgIHZhciBzaG9ydExhbmc7XG5cbiAgICBzd2l0Y2ggKGxhbmcpIHtcbiAgICAgICAgY2FzZSAnZXMtbXgnOlxuICAgICAgICAgICAgc2hvcnRMYW5nID0gbGFuZztcbiAgICAgICAgICAgIGNvdW50cnlDb2RlID0gJ0VTJzsgLy8gRkIgZG9lc24ndCBzdXBwb3J0IGVzLW14IGJ1dCB3ZSBkb1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3B0LWJyJzpcbiAgICAgICAgY2FzZSAnemgtY24nOlxuICAgICAgICBjYXNlICd6aC1oayc6XG4gICAgICAgIGNhc2UgJ3poLXR3JzpcbiAgICAgICAgY2FzZSAndGUtc3QnOlxuICAgICAgICBjYXNlICdmci1pbmYnOlxuICAgICAgICBjYXNlICdkZS1pbmYnOlxuICAgICAgICBjYXNlICdlcy1pbmYnOlxuICAgICAgICBjYXNlICdubC1pbmYnOlxuICAgICAgICBjYXNlICdsdC1sdCc6XG4gICAgICAgIGNhc2UgJ2x2LWx2JzpcbiAgICAgICAgY2FzZSAnZXQtZWUnOlxuICAgICAgICAgICAgc2hvcnRMYW5nID0gbGFuZztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc2hvcnRMYW5nID0gbGFuZ0NvZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnVsbDogbGFuZ0NvZGUgKyAnLScgKyBjb3VudHJ5Q29kZSxcbiAgICAgICAgbGFuZ0NvZGU6IHNob3J0TGFuZyxcbiAgICAgICAgY291bnRyeUNvZGU6IGNvdW50cnlDb2RlLFxuICAgICAgICBvcmlnaW5hbExhbmdcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlU2NyaXB0RWxlbWVudChjYWxsYmFjazogKGlzQ29udGV4dFJlcGxhY2VkOiBib29sZWFuKSA9PiB2b2lkKSB7XG4gICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGdldEdpZ3lhU2NyaXB0RWxlbWVudCgpO1xuXG4gICAgaWYgKHNjcmlwdEVsZW1lbnQgJiYgIXdpbmRvd1snX19naWdfaGlkZXNjcmlwdCddKSB7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBwYXJzaW5nIGdpZ3lhIHNjcmlwdGApO1xuXG4gICAgICAgIGNvbnN0IFVSTFBhcmFtcyA9IFVSTFV0aWxzLmdldFBhcmFtc0Zyb21VUkwoc2NyaXB0RWxlbWVudC5zcmMsIHRydWUpIHx8IHt9O1xuXG4gICAgICAgIC8vIExvb2sgZm9yIHNpdGUgZ3JvdXAgY29uZmlndXJhdGlvbiwgaW5qZWN0ZWQgaW50byBwYXJ0bmVyU2V0dGluZ3MuXG4gICAgICAgIGNvbnN0IHNpdGVHcm91cEdsb2JhbENvbmYgPSBKU09OVXRpbHMuZGVzZXJpYWxpemUoZ2lneWEucGFydG5lclNldHRpbmdzLnNpdGVHcm91cEdsb2JhbENvbmYpIHx8IHt9O1xuXG4gICAgICAgIC8vIExvb2sgZm9yIHNpdGUgY29uZmlndXJhdGlvbiwgaW5qZWN0ZWQgaW50byBwYXJ0bmVyU2V0dGluZ3MuXG4gICAgICAgIGNvbnN0IHNpdGVHbG9iYWxDb25mID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5nbG9iYWxDb25mLCB7fSwgeyBzaXRlR3JvdXBHbG9iYWxDb25mIH0pIHx8IHt9O1xuXG4gICAgICAgIC8vIFBhcnNlIHNjcmlwdCBjb25maWd1cmF0aW9uIGZyb20gSlNPTiBvYmplY3QgaW5zaWRlIHRoZSBHaWd5YSBTREsgc2NyaXB0IHRhZy5cbiAgICAgICAgLy8gSlNPTi5kZXNlcmlhbGl6ZSB3aWxsIG5ldmVyIHRocm93IGFuIGV4Y2VwdGlvbiBhbmQgY2FuIHBhcnNlIEphdmFTY3JpcHQgb2JqZWN0cyxcbiAgICAgICAgLy8gaW5jbHVkaW5nIHVucXVvdGVkIGtleXMsIGZ1bmN0aW9ucywgYW5kIHZhcmlhYmxlIHJlZmVyZW5jZXMuXG4gICAgICAgIGNvbnN0IHNjcmlwdENvbmYgPSBKU09OVXRpbHMuZGVzZXJpYWxpemUoc2NyaXB0RWxlbWVudC5pbm5lckhUTUwpIHx8IHt9O1xuXG4gICAgICAgIC8vIExvb2sgZm9yIF9fZ2lneWFDb25mLCBhIGdsb2JhbCBvYmplY3QgdGhhdCBjYW4gc2V0IGJlZm9yZSBnaWd5YS5qcyBpcyBsb2FkZWQuXG4gICAgICAgIGNvbnN0IF9fZ2lneWFDb25mID0gd2luZG93WydfX2dpZ3lhQ29uZiddIHx8IHt9O1xuICAgICAgICBnaWd5YS50aGlzU2NyaXB0ID0ge1xuICAgICAgICAgICAgc2NyaXB0RWxlbWVudDogc2NyaXB0RWxlbWVudCxcbiAgICAgICAgICAgIHByb3RvY29sOiBzY3JpcHRFbGVtZW50LnNyYy5pbmRleE9mKCdodHRwczonKSA9PT0gMCA/ICdodHRwcycgOiAnaHR0cCcsXG4gICAgICAgICAgICBiYXNlRG9tYWluOiBzY3JpcHRFbGVtZW50LnNyYy5zcGxpdCgnLycpWzJdLFxuICAgICAgICAgICAgQVBJS2V5OiBVUkxQYXJhbXNbJ2FwaWtleSddLFxuICAgICAgICAgICAgbGFuZzogcGFyc2VMYW5nKFVSTFBhcmFtc1snbGFuZyddIHx8IF9fZ2lneWFDb25mWydsYW5nJ10gfHwgc2NyaXB0Q29uZlsnbGFuZyddIHx8IHNpdGVHbG9iYWxDb25mWydsYW5nJ10gfHwgc2l0ZUdyb3VwR2xvYmFsQ29uZlsnbGFuZyddKSxcbiAgICAgICAgICAgIGdsb2JhbENvbmY6IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS5wYXJ0bmVyU2V0dGluZ3MucGx1Z2lucyB8fCB7fSwgc2l0ZUdyb3VwR2xvYmFsQ29uZiwgc2l0ZUdsb2JhbENvbmYsIHNjcmlwdENvbmYsIF9fZ2lneWFDb25mXSwgZmFsc2UpLFxuICAgICAgICAgICAgVVJMUGFyYW1zOiBVUkxQYXJhbXMsXG4gICAgICAgIH07XG4gICAgICAgIGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnbGFuZyddID0gZ2lneWEudGhpc1NjcmlwdC5sYW5nLmxhbmdDb2RlO1xuXG4gICAgICAgIC8vIFdhcm4gaWYgQVBJIGtleSB3YXNuJ3QgcGFzc2VkIGluIFVSTCBwYXJhbXMuXG4gICAgICAgIC8vIElFOSBzdXBwb3J0IC0gY2hlY2sgZm9yIGNvbnNvbGUud2Fybi5cbiAgICAgICAgaWYgKCFnaWd5YS50aGlzU2NyaXB0LkFQSUtleSAmJiB0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJyoqKiogV0FSTklORyAtIExvYWRpbmcgc29jaWFsaXplLmpzIHdpdGhvdXQgYW4gQVBJS2V5IHBhcmFtZXRlciBpcyB1bnN1cHBvcnRlZCBhbmQgbWF5IHJlc3VsdCBpbiBhbiB1bmV4cGVjdGVkIGJlaGF2aW9yLiAgKioqKicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydBUElLZXknXSA9IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzQ29udGV4dFJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgIGlmKHNob3VsZFJlcGxhY2VDb250ZXh0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGF3YWl0IGdldENvbnRleHQoKTtcbiAgICAgICAgICAgIGlmIChjdHg/LmFwaUtleSkge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKGBBUElLZXkgY2hhbmdlZC4gdXNpbmcgQVBJS2V5OiAke2N0eC5hcGlLZXl9YCk7XG4gICAgICAgICAgICAgICAgZ2lneWEuYXBpS2V5ID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkgPSBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ0FQSUtleSddID0gY3R4LmFwaUtleTtcbiAgICAgICAgICAgICAgICBpc0NvbnRleHRSZXBsYWNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTc29Db250ZXh0KGN0eCk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhpc0NvbnRleHRSZXBsYWNlZCk7XG4gICAgfSBlbHNlIGlmIChwYXJzZVNjcmlwdFJldHJpZXMgPCAxMCkge1xuICAgICAgICAvLyBJbiBzb21lIHJhcmUgY2FzZXMsIElFIGZhaWxzIHRvIGZpbmQgdGhlIHNjcmlwdCBlbGVtZW50LiBSZXRyeSBzY3JpcHQgcGFyc2luZyBldmVyeSAyMDBtcy5cbiAgICAgICAgLy8gTm8gc2NyaXB0IGVsZW1lbnQgd2lsbCBjYXVzZSB1cyB0byBub3Qga25vdyB3aGF0IHRoZSBhcGlrZXkgaXMgYW5kIHJldHJpZXZlIHRoZSBsb2dpbiB0b2tlbi5cbiAgICAgICAgcGFyc2VTY3JpcHRSZXRyaWVzKys7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHBhcnNlU2NyaXB0RWxlbWVudChjYWxsYmFjayk7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2lneWEudGhpc1NjcmlwdCA9IHtcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBwcm90b2NvbDogbG9jYWxJbmZvLnByb3RvY29sLFxuICAgICAgICAgICAgYmFzZURvbWFpbjogJ2h0dHBzOi8vY2Rucy5naWd5YS5jb20nLFxuICAgICAgICAgICAgQVBJS2V5OiAnJyxcbiAgICAgICAgICAgIGxhbmc6IHBhcnNlTGFuZygnJyksXG4gICAgICAgICAgICBnbG9iYWxDb25mOiB7fSxcbiAgICAgICAgICAgIFVSTFBhcmFtczoge30sXG4gICAgICAgIH07XG4gICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdEFwaUFkYXB0ZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBhZGFwdGVyU2V0dGluZ3MgPSB3aW5kb3dbJ19fZ2lnQVBJQWRhcHRlclNldHRpbmdzJ10gYXMgSUFwaUFkYXB0ZXJJbml0U2V0dGluZ3N8dW5kZWZpbmVkO1xuICAgIGNvbnN0IGFkYXB0ZXJOYW1lID0gZ2V0QWRhcHRlclR5cGUoYWRhcHRlclNldHRpbmdzKTtcbiAgICBsb2NhbEluZm8uaXNOYXRpdmVNb2JpbGVBcHAgPSBhZGFwdGVyTmFtZSA9PT0gJ21vYmlsZSc7XG5cbiAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc2VsZWN0aW5nIGFwaSBhZGFwdGVyOiAke2FkYXB0ZXJOYW1lfWApO1xuICAgIGdpZ3lhLl8uYXBpQWRhcHRlciA9IGdpZ3lhLl8uYXBpQWRhcHRlcnNbYWRhcHRlck5hbWVdLm5ld0FwaUFkYXB0ZXIoYWRhcHRlclNldHRpbmdzKTtcblxuICAgIGZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5hdXRoLmxvZ2luVG9rZW4uZ2V0VG9rZW5QYXJhbScsIGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRUb2tlblBhcmFtKTtcblxuICAgIHN0YXJ0RGVidWdJZk5lZWRlZCgoKSA9PiB7XG4gICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5pbml0KGNhbGxiYWNrLCAzKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhdXRvTG9naW4oKSB7XG4gICAgaWYgKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZlsnYXV0b0xvZ2luJ10pIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oJ3RyaWdnZXJpbmcgYXV0by1sb2dpbicpO1xuICAgICAgICBmYWNlYm9va0V4dGVybmFsLmF1dG9Mb2dpbigpO1xuICAgICAgICBnb29nbGVQbHVzRXh0ZXJuYWwuYXV0b0xvZ2luKCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV0dXJuRnJvbVJlZGlyZWN0KGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgIC8vIENoZWNrIGlmIGNvbWluZyBiYWNrIGZyb20gYXV0aGZsb3cgcmVkaXJlY3Qgd2l0aCBwZW5kaW5nIGVycm9yXG4gICAgdmFyIG9VUkxQYXJhbXMgPSBnaWd5YS51dGlscy5VUkwuZ2V0UGFyYW1zRnJvbVVSTChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcblxuICAgIGlmIChvVVJMUGFyYW1zWydtb2RlJ10gJiYgb1VSTFBhcmFtc1snbW9kZSddID09PSAnZXJyb3InKSB7XG4gICAgICAgIGdpZ3lhLmV2ZW50cy5nbG9iYWwuZGlzcGF0Y2hXaGVuSGFuZGxlcnNBZGRlZChbJ2FjY291bnRzLmVycm9yJywgJ3NvY2lhbGl6ZS5lcnJvciddLCBvVVJMUGFyYW1zKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2UgaWYgKG9VUkxQYXJhbXNbJ2Vycm9yQ29kZSddICYmIG9VUkxQYXJhbXNbJ3JlZ1Rva2VuJ10pIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLmluZm8oYHJldHVybmVkIGZyb20gcmVkaXJlY3Qgd2l0aCByZWdUb2tlbiAoZXJyb3JDb2RlOiAke29VUkxQYXJhbXNbJ2Vycm9yQ29kZSddfSlgKTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZVJlZ2lzdHJhdGlvbihvVVJMUGFyYW1zLCBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsICcnLCAoKSA9PiBjYWxsYmFjaygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RFeHRlcm5hbFNka3MoKSB7XG4gICAgcXVldWVVdGlscy5xdWV1ZUZvckV4ZWN1dGlvbignQVBJJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uc1V0aWxzLmludm9rZU9uUGFnZUxvYWQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vaykge1xuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5pbmZvKCdsb2FkaW5nIGZhY2Vib29rIHNkaycpO1xuICAgICAgICAgICAgICAgIGZhY2Vib29rRXh0ZXJuYWwubG9hZChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2lneWEucHJvdmlkZXJzQ29uZmlnLmdvb2dsZVBsdXMpIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbygnbG9hZGluZyBnb29nbGUgcGx1cyBzZGsnKTtcbiAgICAgICAgICAgICAgICBnb29nbGVQbHVzRXh0ZXJuYWwubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldEFkYXB0ZXJUeXBlKGFkYXB0ZXJTZXR0aW5ncyA9IHdpbmRvd1snX19naWdBUElBZGFwdGVyU2V0dGluZ3MnXSBhcyBJQXBpQWRhcHRlckluaXRTZXR0aW5nc3x1bmRlZmluZWQpIHtcbiAgICBsZXQgYWRhcHRlck5hbWU6ICd3ZWInfCdtb2JpbGUnfHVuZGVmaW5lZDtcbiAgICBpZiAoYWRhcHRlclNldHRpbmdzXG4gICAgICAgICYmIGFkYXB0ZXJTZXR0aW5ncy5nZXRBUElLZXkoKSA9PT0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXkpIHtcbiAgICAgICAgYWRhcHRlck5hbWUgPSBhZGFwdGVyU2V0dGluZ3MuZ2V0QWRhcHRlck5hbWUoKSBhcyAnd2ViJ3wnbW9iaWxlJ3x1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXJOYW1lIHx8ICd3ZWInO1xufVxuZnVuY3Rpb24gc2hvdWxkUmVwbGFjZUNvbnRleHQoKSB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gZ2lneWEudXRpbHMuVVJMLmdldFBhcmFtc0Zyb21VUkwoZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgcmV0dXJuICh1cmxQYXJhbXNbJ2dpZ19zc29Ub2tlbiddKVxufVxuXG5mdW5jdGlvbiByZXBsYWNlQ29udGV4dChzZGtDb25maWcpIHtcbiAgICBPYmplY3QuYXNzaWduKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgc2RrQ29uZmlnLnBsdWdpbnMpO1xuICAgIGlmIChGbGFnU2VydmljZS5vdmVycmlkZUFsbENoaWxkQ29udGV4dCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5wbHVnaW5zLCBzZGtDb25maWcucGx1Z2lucyk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZ2lneWEucGFydG5lclNldHRpbmdzLCBzZGtDb25maWcuY2FwdGNoYSk7XG4gICAgICAgIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5iYXNlRG9tYWlucyA9IHNka0NvbmZpZy5hcGkuYmFzZURvbWFpbnMuam9pbignLCcpXG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBnaWd5YS51dGlscy5VUkwuZ2V0UGFyYW1zRnJvbVVSTChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcbiAgICBjb25zdCBzc29Ub2tlbiA9IHVybFBhcmFtc1snZ2lnX3Nzb1Rva2VuJ107XG4gICAgaWYgKHVybFBhcmFtc1snc2NvcGUnXSA9PT0gJ2RldmljZV9zc28nKSB7XG4gICAgICAgIHJldHVybiBnaWd5YS5maWRtLm9pZGMub3AuZ2V0Q29udGV4dCh7XG4gICAgICAgICAgICBvcEtleTogZ2lneWEucGFydG5lclNldHRpbmdzLnNzb0tleSxcbiAgICAgICAgICAgIHNzb190b2tlbjogc3NvVG9rZW5cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldFNzb0NvbnRleHQoc3NvVG9rZW4pO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgZ2xvYmFsRXZlbnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HbG9iYWxFdmVudHMnO1xuaW1wb3J0ICogYXMgdmFsaWRhdGlvblV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92YWxpZGF0aW9uJztcbmltcG9ydCAqIGFzIGZhY2Vib29rRXh0ZXJuYWwgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL0ZhY2Vib29rJztcbmltcG9ydCAqIGFzIGdvb2dsZVBsdXNFeHRlcm5hbCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvR29vZ2xlUGx1cyc7XG5pbXBvcnQgKiBhcyBPcGVuZ3JhcGggZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V4dGVybmFsSW50ZWdyYXRpb25zL09wZW5ncmFwaCc7XG5pbXBvcnQgKiBhcyB3aW5VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvd2luJztcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuaW1wb3J0ICogYXMgc3RyaW5nVXRpbHNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nVXRpbHMnO1xuaW1wb3J0ICogYXMga2V5VmFsdWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5VmFsdWUnO1xuaW1wb3J0ICogYXMgbGVnYWN5UmVwb3J0cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTGVnYWN5UmVwb3J0cyc7XG5pbXBvcnQgeyBsb2dDYWxsIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlcic7XG5pbXBvcnQgeyBhZGRVc2VySW5mb1RvRXZlbnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcbmltcG9ydCB7IGdldENkblJlc291cmNlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQgeyBHU0Vycm9ycyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycyc7XG5pbXBvcnQgKiBhcyBIVFRQVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0hUVFAnO1xuaW1wb3J0ICogYXMgZnVuY3Rpb25zVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgY29va2llVXRpbHMgZnJvbSBcInNyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9jb29raWVcIjtcbmltcG9ydCB7Z2V0fSBmcm9tICcuLi8uLi8uLi9HaWd5YS5Kcy5BZGFwdGVycy5XZWIvYXBwL1Rva2VuU3RvcmUnO1xuaW1wb3J0IHtnZXRQcmVmZXJyZWRMb2dpbk1ldGhvZCwgc2V0UHJlZmVycmVkTG9naW5NZXRob2R9IGZyb20gJy4uL0F1dGhlbnRpY2F0aW9uL0F1dGhBcGlzJ1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSAnLi4vU2VydmljZXMvRmxhZ1NlcnZpY2UnO1xuaW1wb3J0IHtwb3N0Qm9va21hcmtTY2hlbWF9IGZyb20gXCIuLi9BUEkvY29uc3RzXCI7XG5pbXBvcnQge3Bhc3NrZXlMb2dpbiwgcmVnaXN0ZXJQYXNza2V5fSBmcm9tICcuLi9QYXNza2V5L1Bhc3NrZXlBcGlzJztcblxuLy8gY2xpZW50IHNpZGUgb25seSBBUElzXG5leHBvcnQgY29uc3QgYm9va21hcmtTaXplID0ge1xuICAgIGZhY2Vib29rOiB7IHc6IDY0MCwgaDogMzcwIH0sXG4gICAgdHdpdHRlcjogeyB3OiA4ODAsIGg6IDUzMCArIDU1IH0sXG4gICAgbWVzc2VuZ2VyOiB7IHc6IDcxMCwgaDogODUwICsgNTUgfSxcbiAgICBsaW5rZWRpbjogeyB3OiA1NjAsIGg6IDUwMCB9LFxuICAgIHlhaG9vYm9va21hcmtzOiB7IHc6IDg0MCwgaDogOTIwICsgNTUgfSxcbiAgICBkaWdnOiB7IHc6IDEwMTAsIGg6IDk5MCArIDU1IH0sXG4gICAgZ29vZ2xlYm9va21hcmtzOiB7IHc6IDcxMCwgaDogODUwICsgNTUgfSxcbiAgICBtaXhpOiB7IHc6IDY0MCwgaDogNDcwIH0sXG4gICAgZ29vZ2xlcGx1czogeyB3OiA0OTYsIGg6IDQyMCB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBzb2NpYWxpemVBZGRFdmVudEhhbmRsZXJzKC4uLnJlc3QpIHtcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xuICAgIHZhciBuYW1lc3BhY2UgPSBwYXJhbXNbJ25hbWVzcGFjZSddID8gcGFyYW1zWyduYW1lc3BhY2UnXSA6ICdzb2NpYWxpemUnO1xuXG4gICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHBhcmFtcykge1xuICAgICAgICBpZiAoZXZlbnROYW1lLmluZGV4T2YoJ29uJykgPT0gMCkgZ2xvYmFsRXZlbnRzLmFkZChldmVudE5hbWUsIHBhcmFtc1tldmVudE5hbWVdLCBwYXJhbXNbJ2xpc3RlbmVyVHlwZSddLCBwYXJhbXNbJ2NvbnRleHQnXSwgbmFtZXNwYWNlLCBwYXJhbXMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtc1snY2FsbGJhY2snXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBhcmFtc1snY2FsbGJhY2snXSh7XG4gICAgICAgICAgICBzdGF0dXM6ICdPSycsXG4gICAgICAgICAgICBzdGF0dXNNZXNzYWdlOiAnJyxcbiAgICAgICAgICAgIGVycm9yQ29kZTogMCxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJycsXG4gICAgICAgICAgICBvcGVyYXRpb246ICdhZGRFdmVudEhhbmRsZXJzJyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWNjb3VudHNBZGRFdmVudEhhbmRsZXJzKC4uLnJlc3QpIHtcbiAgICBzb2NpYWxpemVBZGRFdmVudEhhbmRsZXJzKG9iamVjdFV0aWxzLm1lcmdlKFtyZXN0LCB7IG5hbWVzcGFjZTogJ2FjY291bnRzJyB9XSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XG4gICAgY29uc3QgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgYXJndW1lbnRzXSk7XG4gICAgZ2lneWEuc29jaWFsaXplLmdldFVzZXJJbmZvKHBhcmFtcywge1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24odXNlckluZm9SZXNwb25zZTogT2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gdXNlckluZm9SZXNwb25zZVsndXNlciddO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7IGxvZ2dlZEluOiB1c2VyID8gdmFsaWRhdGlvblV0aWxzLmlzRXhwbGljaXRUcnVlKHVzZXJbJ2lzTG9nZ2VkSW4nXSkgOiBmYWxzZSB9O1xuICAgICAgICAgICAgb2JqZWN0VXRpbHMuZXh0cmFjdFByb3BlcnRpZXModXNlckluZm9SZXNwb25zZSwgcmVzcG9uc2UsICdzdGF0dXN8c3RhdHVzTWVzc2FnZXxjYWxsSWR8ZXJyb3JDb2RlfGVycm9yTWVzc2FnZXxlcnJvckRldGFpbHN8Y29udGV4dCcpO1xuICAgICAgICAgICAgaWYgKHBhcmFtc1snY2FsbGJhY2snXSkgcGFyYW1zWydjYWxsYmFjayddKHJlc3BvbnNlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yU2VydmljZSgpIHtcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgYXJndW1lbnRzXSk7XG4gICAgdmFyIHNlcnZpY2UgPSBwYXJhbXNbJ3NlcnZpY2UnXTtcbiAgICBpZiAoIXNlcnZpY2UpIHJldHVybjtcbiAgICBzZXJ2aWNlID0gc2VydmljZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBjYWxsYmFjayA9IHBhcmFtc1snY2FsbGJhY2snXTtcblxuICAgIGlmIChzZXJ2aWNlID09ICdmYmNvbm5lY3QnIHx8IHNlcnZpY2UgPT0gJ2ZhY2Vib29rJykge1xuICAgICAgICBpZiAoIWZhY2Vib29rRXh0ZXJuYWwuaXNMb2FkZWQoKSkge1xuICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLmFkZEV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgICAgICAgeyBsaXN0ZW5lclR5cGU6ICdjb21wb25lbnQnIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbkZhY2Vib29rTG9hZGVkOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogcGFyYW1zWydjb250ZXh0J10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayh7IGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZXJ2aWNlID09ICdnb29nbGVwbHVzJykge1xuICAgICAgICBpZiAoIWdvb2dsZVBsdXNFeHRlcm5hbC5pc0xvYWRlZCgpKSB7XG4gICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuYWRkRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICAgICAgICB7IGxpc3RlbmVyVHlwZTogJ2NvbXBvbmVudCcgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uR29vZ2xlUGx1c0xvYWRlZDogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhcmFtc1snY29udGV4dCddLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soeyBjb250ZXh0OiBwYXJhbXNbJ2NvbnRleHQnXSB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0Qm9va21hcmsoLi4ucmVzdCkge1xuICAgIC8vIE1lcmdlIHBhcmFtcyB3aXRoIGdsb2JhbCBwYXJhbXMuXG4gICAgY29uc3QgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xuICAgIGlmICghcGFyYW1zWydBUElLZXknXSkge1xuICAgICAgICBwYXJhbXNbJ0FQSUtleSddID0gZ2lneWEudGhpc1NjcmlwdC5BUElLZXk7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB3aGl0ZWxpc3RlZCBwYXJhbXMuXG4gICAgY29uc3QgcmVxdWVzdFBhcmFtcyA9IHt9O1xuICAgIG9iamVjdFV0aWxzLmV4dHJhY3RQcm9wZXJ0aWVzKFtwYXJhbXNdLCByZXF1ZXN0UGFyYW1zLCBwb3N0Qm9va21hcmtTY2hlbWEpO1xuXG4gICAgLy8gQWNjZXB0IFVSTCBvciB1cmwgYXMgcGFyYW1ldGVyLCBidXQgc3RhbmRhcmRpemUgdG8gXCJ1cmxcIiBhcyBkb2N1bWVudGVkLlxuICAgIGlmICghcmVxdWVzdFBhcmFtc1sndXJsJ10gJiYgcmVxdWVzdFBhcmFtc1snVVJMJ10pIHtcbiAgICAgICAgcmVxdWVzdFBhcmFtc1sndXJsJ10gPSByZXF1ZXN0UGFyYW1zWydVUkwnXTtcbiAgICAgICAgZGVsZXRlIHJlcXVlc3RQYXJhbXNbJ1VSTCddO1xuICAgIH1cblxuICAgIC8vIFBhc3MgSlMgU0RLIHZlcnNpb24gYXMgcGFyYW0uXG4gICAgcmVxdWVzdFBhcmFtc1snc2RrJ10gPSAnanNfJyArIGdpZ3lhLmJ1aWxkLnZlcnNpb247XG5cbiAgICAvLyBEZWZhdWx0IHVybCB0byBvZzp1cmwgaWYgbm90IHBhc3NlZCBhcyBwYXJhbSBhbmQgdXNlckFjdGlvbiBwYXNzZWQuXG4gICAgaWYgKCFyZXF1ZXN0UGFyYW1zWyd1cmwnXSAmJiByZXF1ZXN0UGFyYW1zWyd1c2VyQWN0aW9uJ10gJiYgIXJlcXVlc3RQYXJhbXNbJ3VzZXJBY3Rpb24nXVsnbGlua0JhY2snXSkge1xuICAgICAgICBjb25zdCBtZXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZXRhJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ3Byb3BlcnR5JykgPT09ICdvZzp1cmwnICYmIG1ldGFzW2ldLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFBhcmFtc1sndXJsJ10gPSBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdXJsIHRvIGN1cnJlbnQgcGFnZSBpZiB1c2VyQWN0aW9uIHBhc3NlZC5cbiAgICBpZiAoIXJlcXVlc3RQYXJhbXNbJ3VybCddICYmIChyZXF1ZXN0UGFyYW1zWyd1c2VyQWN0aW9uJ10gJiYgIXJlcXVlc3RQYXJhbXNbJ3VzZXJBY3Rpb24nXVsnbGlua0JhY2snXSkpIHtcbiAgICAgICAgcmVxdWVzdFBhcmFtc1sndXJsJ10gPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIH1cblxuICAgIC8vIFByb3ZpZGVyIG5hbWUgYWx3YXlzIGxvd2VyY2FzZS5cbiAgICByZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID0gcmVxdWVzdFBhcmFtc1sncHJvdmlkZXInXSA/IChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddICsgJycpLnRvTG93ZXJDYXNlKCkgOiAnJztcblxuICAgIC8vIERlZmF1bHQgcHJvdmlkZXJLZXkgdG8gZmI6YXBwX2lkIG1ldGEgdGFnLlxuICAgIGlmIChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID09PSAnZmFjZWJvb2snKSB7XG4gICAgICAgIHJlcXVlc3RQYXJhbXNbJ3Byb3ZpZGVyS2V5J10gPSBPcGVuZ3JhcGguZ2V0TWV0YVRhZygnZmI6YXBwX2lkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZ21pZFRpY2tldCA9IGF3YWl0IGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRHbWlkVGlja2V0KCk7XG5cbiAgICAvLyBnbWlkVGlja2V0IGlzIG5lZWRlZCBpZiAzcmQgcGFydHkgY29va2llcyBhcmUgYmxvY2tlZC5cbiAgICBpZiAoZ21pZFRpY2tldCkge1xuICAgICAgICByZXF1ZXN0UGFyYW1zWydnbWlkVGlja2V0J10gPSBnbWlkVGlja2V0O1xuICAgIH1cblxuICAgIC8vIEZpbmQgcHJvdmlkZXItc3BlY2lmaWMgd2luZG93IHNpemUgKGRvZXMgbm90IGFsd2F5cyBleGlzdCkuXG4gICAgY29uc3QgZGVmYXVsdFNpemUgPSBnaWd5YS5fLmJvb2ttYXJrU2l6ZVtyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddXSB8fCB7fTtcblxuICAgIC8vIExvb2sgZm9yIHVzZXItcHJvdmlkZWQgcG9wdXAgZGltZW5zaW9ucyBhbmQgcG9zaXRpb24uXG4gICAgY29uc3Qgd2luZG93T3B0aW9uczogd2luVXRpbHMuV2luZG93T3B0aW9ucyA9IHtcbiAgICAgICAgd2lkdGg6IHBhcmFtc1sncG9wdXBXaWR0aCddIHx8IGRlZmF1bHRTaXplLncsXG4gICAgICAgIGhlaWdodDogcGFyYW1zWydwb3B1cEhlaWdodCddIHx8IGRlZmF1bHRTaXplLmgsXG4gICAgICAgIHRvcDogcGFyYW1zWydwb3B1cFBvc2l0aW9uWSddLFxuICAgICAgICBsZWZ0OiBwYXJhbXNbJ3BvcHVwUG9zaXRpb25YJ10sXG4gICAgICAgIG1lbnViYXI6IDAsXG4gICAgICAgIHJlc2l6YWJsZTogMSxcbiAgICAgICAgc2Nyb2xsYmFyczogMSxcbiAgICB9O1xuXG4gICAgLy8gQWxsb3cgbG9jYXRpb24vdG9vbGJhciB0byBiZSB0b2dnbGVkIG9uLlxuICAgIGlmIChwYXJhbXNbJ2VuYWJsZVBvcHVwTG9jYXRpb24nXSkge1xuICAgICAgICB3aW5kb3dPcHRpb25zLmxvY2F0aW9uID0gMTtcbiAgICAgICAgd2luZG93T3B0aW9ucy50b29sYmFyID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3dPcHRpb25zLnRvb2xiYXIgPSAwO1xuICAgIH1cblxuICAgIC8vQWRkIGxvZ2luX3Rva2VuIHRvIHJlcXVlc3RcbiAgICBjb25zdCB0b2tlblN0b3JlID0gZ2lneWEuXy5hcGlBZGFwdGVyc1snd2ViJ10gPyBnaWd5YS5fLmFwaUFkYXB0ZXJzWyd3ZWInXS50b2tlblN0b3JlIDogdW5kZWZpbmVkO1xuICAgIGlmICh0b2tlblN0b3JlKSB7XG4gICAgICAgIHJlcXVlc3RQYXJhbXNbJ2xvZ2luX3Rva2VuJ10gPSBnaWd5YS5fLmFwaUFkYXB0ZXJzLndlYi50b2tlblN0b3JlLmdldCgpO1xuICAgIH1cblxuICAgIC8vIFJlc3BlY3QgY3VzdG9tIEFQSSBkb21haW4gcHJlZml4LlxuICAgIGxldCBmaW5hbFVSTDogc3RyaW5nO1xuICAgIGlmIChyZXF1ZXN0UGFyYW1zWydwcm92aWRlciddID09PSAndHdpdHRlcicgJiYgbG9jYWxJbmZvLmlzSU9TKSB7XG4gICAgICAgIGNvbnN0IHVzZXJBY3Rpb24gPSByZXF1ZXN0UGFyYW1zWyd1c2VyQWN0aW9uJ10gfHwge307XG5cbiAgICAgICAgLy8gRGlyZWN0IGxpbmsgdG8gVHdpdHRlciB0byBwcmV2ZW50IGJsYW5rIHBhZ2Ugb24gU2FmYXJpIGlPUyAtIHNlZSAjNDIwMjAuXG4gICAgICAgIGNvbnN0IHFzID0ge1xuICAgICAgICAgICAgdXJsOiB1c2VyQWN0aW9uWydsaW5rQmFjayddIHx8IHJlcXVlc3RQYXJhbXNbJ3VybCddLFxuICAgICAgICAgICAgdGV4dDogdXNlckFjdGlvblsndGl0bGUnXSB8fCByZXF1ZXN0UGFyYW1zWyd0aXRsZSddLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cmxUZW1wbGF0ZSA9ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD97MH0nO1xuICAgICAgICBmaW5hbFVSTCA9IHN0cmluZ1V0aWxzVXRpbHMuZm9ybWF0KHVybFRlbXBsYXRlLCBrZXlWYWx1ZVV0aWxzLnNlcmlhbGl6ZShxcykpO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZURhdGEgPSBwYXJhbXNbJ3NvdXJjZURhdGEnXSA/IG9iamVjdFV0aWxzLmNsb25lKHBhcmFtc1snc291cmNlRGF0YSddKSA6IHt9O1xuICAgICAgICBzb3VyY2VEYXRhLnByb3ZpZGVyID0gcmVxdWVzdFBhcmFtc1sncHJvdmlkZXInXTtcbiAgICAgICAgc291cmNlRGF0YS51cmwgPSBxcy51cmw7XG4gICAgICAgIGxlZ2FjeVJlcG9ydHMucmVwb3J0KCdzaGFyZScsIHBhcmFtc1snQVBJS2V5J10sIHBhcmFtc1snY2lkJ10sIHBhcmFtc1snc291cmNlJ10sIHNvdXJjZURhdGEsIHsgdGFnczogcGFyYW1zWyd0YWdzJ10gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcXMgPSBrZXlWYWx1ZVV0aWxzLnNlcmlhbGl6ZShyZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgY29uc3QgdXJsVGVtcGxhdGUgPSBgaHR0cHM6Ly8ke2dpZ3lhLl8uZ2V0QXBpRG9tYWluKCdzb2NpYWxpemUnKX0vZ3MvYm9va21hcmsuYXNweD97MH1gO1xuICAgICAgICBmaW5hbFVSTCA9IHN0cmluZ1V0aWxzVXRpbHMuZm9ybWF0KHVybFRlbXBsYXRlLCBxcyk7XG4gICAgfVxuXG4gICAgLy8gRGlzcGF0Y2ggYW5kIGxvZyBldmVudC5cbiAgICBsb2dDYWxsKCdwb3N0Qm9va21hcmsnLCByZXF1ZXN0UGFyYW1zKTtcbiAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xuICAgICAgICBldmVudE5hbWU6ICdiZWZvcmVSZXF1ZXN0JyxcbiAgICAgICAgbWV0aG9kTmFtZTogJ3NvY2lhbGl6ZS5wb3N0Qm9va21hcmsnLFxuICAgICAgICByYXdQYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgcGFyYW1zOiByZXF1ZXN0UGFyYW1zLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgd2luZG93TmFtZSA9IHJlcXVlc3RQYXJhbXNbJ3Byb3ZpZGVyJ10gPT09ICd3aGF0c2FwcCcgPyAnX3NlbGYnIDogJ2dzX2Jvb2ttYXJrXycgKyByZXF1ZXN0UGFyYW1zWydwcm92aWRlciddO1xuXG4gICAgLy8gT3BlbiB3aW5kb3cuXG4gICAgd2luVXRpbHMub3BlbihmaW5hbFVSTCwgd2luZG93TmFtZSwgd2luZG93T3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVmcmVzaFVJKC4uLnJlc3QpIHtcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xuICAgIHZhciBvcmlnaW5hbENhbGxiYWNrID0gcGFyYW1zWydjYWxsYmFjayddO1xuICAgIGdpZ3lhLnNvY2lhbGl6ZS5nZXRVc2VySW5mbyhwYXJhbXMsIHtcbiAgICAgICAgY2FsbGJhY2s6IHJlcyA9PiB7XG4gICAgICAgICAgICB2YXIgb0V2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2xvZ2luJyxcbiAgICAgICAgICAgICAgICBpc0ludGVybmFsOiB0cnVlLCAvLyBXaGVuIHJlZnJlc2hpbmcsIG5vdGlmeSBvbmx5IHBsdWdpbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocGFyYW1zWydwcm92aWRlciddKSBvRXZlbnRbJ3Byb3ZpZGVyJ10gPSBwYXJhbXNbJ3Byb3ZpZGVyJ107XG4gICAgICAgICAgICBhZGRVc2VySW5mb1RvRXZlbnQocmVzLCBvRXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHBhcmFtc1snY29udGV4dCddKSBvRXZlbnRbJ2NvbnRleHQnXSA9IHBhcmFtc1snY29udGV4dCddO1xuICAgICAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKG9FdmVudCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsQ2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgb3JpZ2luYWxDYWxsYmFjayhyZXMpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrUmVmZXJyYWxzKC4uLnJlc3QpIHtcbiAgICBjb25zdCBvUmVmZXJyZXJzID0ge1xuICAgICAgICAvL2RvbWFpbjpwcm92aWRlclxuICAgICAgICAnZGlnZy5jb20nOiAnZGlnZycsXG4gICAgICAgICdzdHVtYmxldXBvbi5jb20nOiAnc3R1bWJsZXVwb24nLFxuICAgICAgICAndGVjaG5vcmF0aS5jb20nOiAndGVjaG5vcmF0aScsXG4gICAgICAgICd0LmNvJzogJ3R3aXR0ZXInLFxuICAgICAgICAncGx1cy51cmwuZ29vZ2xlLmNvbSc6ICdnb29nbGVQbHVzJyxcbiAgICAgICAgJ2ZhY2Vib29rLmNvbSc6ICdmYWNlYm9vaycsXG4gICAgICAgICdsaW5rZWRpbi5jb20nOiAnbGlua2VkSW4nLFxuICAgICAgICAncGludGVyZXN0LmNvbSc6ICdwaW50ZXJlc3QnLFxuICAgICAgICAnbWl4aS5qcCc6ICdtaXhpJyxcbiAgICAgICAgJ2IuaGF0ZW5hLm5lLmpwJzogJ2hhdGVuYScsXG4gICAgICAgICdsaW5lLm1lJzogJ2xpbmUnLFxuICAgIH07XG4gICAgbGV0IHJlcG9ydGVkUmVmZXJyYWxzO1xuICAgIGNvbnN0IHBhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIHJlc3RdKTtcbiAgICBjb25zdCBsaW5rQmFja0V2ZW50OiBnbG9iYWxFdmVudHMuSUxpbmtCYWNrRXZlbnQgPSB7XG4gICAgICAgIGV2ZW50TmFtZTogJ2xpbmtiYWNrJyxcbiAgICAgICAgQ0lEOiBwYXJhbXNbJ2NpZCddLFxuICAgIH07XG5cbiAgICB2YXIgVVJMUGFyYW1zID0ge307XG4gICAgdmFyIGZhcmdtZW50UGFyYW1zID0ge307XG4gICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpICE9IC0xKSB7XG4gICAgICAgIGZhcmdtZW50UGFyYW1zID0ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZShkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMV0pO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgIT0gLTEpIHtcbiAgICAgICAgVVJMUGFyYW1zID0ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZShkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMV0uc3BsaXQoJyMnKVswXSk7XG4gICAgfVxuXG4gICAgZ2lneWEuc29jaWFsaXplLnVwZGF0ZVJlZlVJRChwYXJhbXNbJ0FQSUtleSddLCBmYXJnbWVudFBhcmFtcywgVVJMUGFyYW1zKTtcblxuICAgIHZhciBndXMgPSBmYXJnbWVudFBhcmFtc1snX2d1cyddICE9IG51bGwgfHwgVVJMUGFyYW1zWydfZ3VzJ10gIT0gbnVsbDsgLy8gX2d1cyBtZWFucyBpdCdzIHJlcG9ydGVkIGJ5IHNvYy5saSAoR2lneWEgVXJsIFNob3J0bmVyKSBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlcG9ydCBpdCBhZ2FpblxuICAgIGlmIChndXMpIHtcbiAgICAgICAgbGlua0JhY2tFdmVudC5DSUQgPSBmYXJnbWVudFBhcmFtc1snX2d1Y2lkJ10gfHwgVVJMUGFyYW1zWydfZ3VjaWQnXTtcbiAgICAgICAgbGlua0JhY2tFdmVudC5zaG9ydENvZGUgPSBmYXJnbWVudFBhcmFtc1snX2dzYyddIHx8IFVSTFBhcmFtc1snX2dzYyddO1xuICAgICAgICBsaW5rQmFja0V2ZW50LnByb3ZpZGVyID0gZmFyZ21lbnRQYXJhbXNbJ19ndXAnXSB8fCBVUkxQYXJhbXNbJ19ndXAnXTtcbiAgICB9XG5cbiAgICBpZiAoIXJlcG9ydGVkUmVmZXJyYWxzKSB7XG4gICAgICAgIHZhciBzb3VyY2U7XG4gICAgICAgIHZhciByZXBvcnRQYXJhbXMgPSB7XG4gICAgICAgICAgICB1cmw6IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICByZWY6IGRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoVVJMUGFyYW1zWydmYl9yZWYnXSkge1xuICAgICAgICAgICAgLy8gZnJvbSBzaGFyZWJhclVJIGZhY2Vib29rLWxpa2UgYW5kIGZhY2Vib29rLXNlbmQgYnV0dG9uc1xuICAgICAgICAgICAgdmFyIGZiUGFyYW1zID0ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZShVUkxQYXJhbXNbJ2ZiX3JlZiddLCAnOicpO1xuICAgICAgICAgICAgcmVwb3J0UGFyYW1zWyd1dWlkJ10gPSBmYlBhcmFtc1sndXUnXTtcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtc1snc24nXSA9IGZiUGFyYW1zWydwJ107XG4gICAgICAgICAgICBzb3VyY2UgPSBmYlBhcmFtc1sncyddO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnJlZmVycmVyICYmIGRvY3VtZW50LnJlZmVycmVyLmluZGV4T2YoJzovLycpICE9IC0xKSB7XG4gICAgICAgICAgICB2YXIgcmVmZXJyaW5nRG9tYWluID0gZG9jdW1lbnQucmVmZXJyZXIuc3BsaXQoJzovLycpWzFdLnNwbGl0KCcvJylbMF07XG4gICAgICAgICAgICBpZiAocmVmZXJyaW5nRG9tYWluLmluZGV4T2YoJ3d3dy4nKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVmZXJyaW5nRG9tYWluID0gcmVmZXJyaW5nRG9tYWluLnNwbGl0KCd3d3cuJylbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvUmVmZXJyZXJzW3JlZmVycmluZ0RvbWFpbl0pIHtcbiAgICAgICAgICAgICAgICBsaW5rQmFja0V2ZW50LnByb3ZpZGVyID0gcmVwb3J0UGFyYW1zWydzbiddID0gb1JlZmVycmVyc1tyZWZlcnJpbmdEb21haW5dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkcmVzc0JhclNoYXJlcyAod2l0aCBoYXNoIHBhcmFtZXRlcnMpXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFyZXBvcnRQYXJhbXNbJ3NuJ10gJiZcbiAgICAgICAgICAgICghZG9jdW1lbnQucmVmZXJyZXIgfHwgKGRvY3VtZW50LnJlZmVycmVyLmluZGV4T2YoJ2h0dHA6Ly9zb2MubGknKSA9PSAtMSAmJiBkb2N1bWVudC5yZWZlcnJlci5pbmRleE9mKCdodHRwczovL3Noci5ncycpID09IC0xKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgYXJIYXNoU2VncyA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyNndWlkPScpO1xuICAgICAgICAgICAgaWYgKGFySGFzaFNlZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNoVVVJRCA9IGFySGFzaFNlZ3NbMV0uc3BsaXQoJyMnKVswXS5zcGxpdCgnJicpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChoYXNoVVVJRCAhPSBnaWd5YS5fLmFwaUFkYXB0ZXIuZ2V0VG9rZW5QYXJhbShwYXJhbXNbJ0FQSUtleSddLCAnVVVJRCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydFBhcmFtc1snc24nXSA9ICdBZGRyZXNzQmFyU2hhcmVzJztcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0UGFyYW1zWyd1dWlkJ10gPSBoYXNoVVVJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc2hVVUlEID09ICdfJykgZGVsZXRlIHJlcG9ydFBhcmFtc1sndXVpZCddO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZXBsYWNlKCcjJyk7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2FjeVJlcG9ydHMudHJhY2tBZGRyZXNzQmFyU2hhcmVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydFBhcmFtcy51cmwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gX2dpZ1JlZlVpZF88QVBJS2V5PiBjb29raWUgaXMgdXNlZCB0byByZXBvcnQgdGhlIHJlZmVycmluZyB1dWlkIHdoZW4gdGhlIG5leHQgcmVxdWVzdCBvZiBhIGxvZ2dlZCBpbiB1c2VyIHdpbGwgZ28gb3V0IChmb3IgZ20gcG9pbnRzKVxuICAgICAgICBpZiAocmVwb3J0UGFyYW1zWyd1dWlkJ10pIHtcbiAgICAgICAgICAgIHNldEdpZ1JlZlVpZENvb2tpZShwYXJhbXNbJ0FQSUtleSddLCByZXBvcnRQYXJhbXNbJ3V1aWQnXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVwb3J0UGFyYW1zWydzbiddICYmICFndXMpIGxlZ2FjeVJlcG9ydHMucmVwb3J0KCdsaW5rYmFjaycsIHBhcmFtc1snQVBJS2V5J10sIHBhcmFtc1snY2lkJ10sIHNvdXJjZSwgbnVsbCwgcmVwb3J0UGFyYW1zKTtcblxuICAgICAgICBpZiAocmVwb3J0UGFyYW1zWydzbiddIHx8IGd1cykgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKG9iamVjdFV0aWxzLnJlbW92ZVVuZGVmaW5lZChsaW5rQmFja0V2ZW50KSk7XG5cbiAgICAgICAgcmVwb3J0ZWRSZWZlcnJhbHMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtc1snY2FsbGJhY2snXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBwYXJhbXNbJ2NhbGxiYWNrJ10oe1xuICAgICAgICAgICAgc3RhdHVzOiAnT0snLFxuICAgICAgICAgICAgc3RhdHVzTWVzc2FnZTogJycsXG4gICAgICAgICAgICBvcGVyYXRpb246ICd0cmFja1JlZmVycmFscycsXG4gICAgICAgICAgICBjb250ZXh0OiBwYXJhbXNbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJycsXG4gICAgICAgICAgICBlcnJvckNvZGU6IDAsXG4gICAgICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJlZlVJRChhcGlLZXksIGZyYWdtZW50UGFyYW1zLCBVUkxQYXJhbXMpIHtcbiAgICBpZiAoIWFwaUtleSkgYXBpS2V5ID0gZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydBUElLZXknXTtcbiAgICBpZiAoIWZyYWdtZW50UGFyYW1zKSB7XG4gICAgICAgIGZyYWdtZW50UGFyYW1zID0ge307XG4gICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJyMnKSAhPSAtMSkge1xuICAgICAgICAgICAgZnJhZ21lbnRQYXJhbXMgPSBrZXlWYWx1ZVV0aWxzLmRlc2VyaWFsaXplKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVsxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIVVSTFBhcmFtcykge1xuICAgICAgICBVUkxQYXJhbXMgPSB7fTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignPycpICE9IC0xKSB7XG4gICAgICAgICAgICBVUkxQYXJhbXMgPSBrZXlWYWx1ZVV0aWxzLmRlc2VyaWFsaXplKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKVsxXS5zcGxpdCgnIycpWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudFBhcmFtc1snZ3VpZCddICYmIGZyYWdtZW50UGFyYW1zWydndWlkJ10gIT0gJ18nKSB7XG4gICAgICAgIHNldEdpZ1JlZlVpZENvb2tpZShhcGlLZXksIGZyYWdtZW50UGFyYW1zWydndWlkJ10pO1xuICAgIH1cblxuICAgIHZhciByZWZVdWlkID0gZnJhZ21lbnRQYXJhbXNbJ19naWd1dWlkJ10gfHwgVVJMUGFyYW1zWydfZ2lndXVpZCddO1xuICAgIGlmIChyZWZVdWlkKSB7XG4gICAgICAgIHNldEdpZ1JlZlVpZENvb2tpZShhcGlLZXksIHJlZlV1aWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEdpZ1JlZlVpZENvb2tpZShhcGlLZXksIHZhbHVlKSB7XG4gICAgaWYgKEZsYWdTZXJ2aWNlLnNldENvb2tpZVNhbWVTaXRlTGF4TG93UHJpb3JpdHkpIHtcbiAgICAgICAgY29va2llVXRpbHMuc2V0KHRoaXMuZ2V0R2lnUmVmVWlkQ29va2llS2V5KGFwaUtleSksIHZhbHVlLCBudWxsLCBudWxsLCBudWxsLCAnTGF4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29va2llVXRpbHMuc2V0KHRoaXMuZ2V0R2lnUmVmVWlkQ29va2llS2V5KGFwaUtleSksIHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlVUkoLi4ucmVzdCkge1xuICAgIHZhciBwYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShbZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCByZXN0XSk7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXNbJ2NhbGxiYWNrJ10gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgb1Jlc3BvbnNlID0ge1xuICAgICAgICAgICAgc3RhdHVzOiAnT0snLFxuICAgICAgICAgICAgc3RhdHVzTWVzc2FnZTogJycsXG4gICAgICAgICAgICBvcGVyYXRpb246ICdoaWRlVUknLFxuICAgICAgICAgICAgY29udGV4dDogcGFyYW1zWydjb250ZXh0J10sXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiAwLFxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXNbJ2NhbGxiYWNrJ10ob1Jlc3BvbnNlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3VibWl0VXNlckZvcm0oLi4ucmVzdCkge1xuICAgIHZhciBvVXNlckRhdGEgPSB7fTtcbiAgICB2YXIgcGFyYW1zID0gb2JqZWN0VXRpbHMubWVyZ2UoW2dpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgcmVzdF0pO1xuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyYW1zWydmb3JtJ10pO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgICB2YXIgYXJGb3JtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKHBhcmFtc1snZm9ybSddKTtcbiAgICAgICAgaWYgKGFyRm9ybXMgJiYgYXJGb3Jtcy5sZW5ndGggPiAwKSBwYXJhbXNbJ2Zvcm0nXSA9IGFyRm9ybXNbMF07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybVsnZWxlbWVudHMnXS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWwgPSBmb3JtWydlbGVtZW50cyddW2ldO1xuICAgICAgICBpZiAoZWwubmFtZSkge1xuICAgICAgICAgICAgdmFyIGFyTmFtZVNlZ21lbnRzID0gZWwubmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgdmFyIG9DdXJyZW50U2VnbWVudCA9IG9Vc2VyRGF0YTtcbiAgICAgICAgICAgIGZvciAodmFyIGlTZWdtZW50ID0gMDsgaVNlZ21lbnQgPCBhck5hbWVTZWdtZW50cy5sZW5ndGggLSAxOyBpU2VnbWVudCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNTZWdtZW50ID0gYXJOYW1lU2VnbWVudHNbaVNlZ21lbnRdO1xuICAgICAgICAgICAgICAgIGlmICghb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSkgb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSA9IHt9O1xuICAgICAgICAgICAgICAgIG9DdXJyZW50U2VnbWVudCA9IG9DdXJyZW50U2VnbWVudFtzU2VnbWVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvQ3VycmVudFNlZ21lbnRbYXJOYW1lU2VnbWVudHNbYXJOYW1lU2VnbWVudHMubGVuZ3RoIC0gMV1dID0gZWwudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1zWydkYXRhJ10gPSBvVXNlckRhdGE7XG4gICAgZ2lneWEuZ2NzLnNldFVzZXJEYXRhKHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvdmlkZXJTaGFyZUNvdW50cyguLi5yZXN0KSB7XG4gICAgdmFyIHBhcmFtcyA9IG9iamVjdFV0aWxzLm1lcmdlKFtnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYsIHJlc3RdKTtcbiAgICBzY3JpcHRVdGlscy5sb2FkKFxuICAgICAgICBnZXRDZG5SZXNvdXJjZSgnL2pzL2dpZ3lhLnNlcnZpY2VzLnNvY2lhbGl6ZS5wbHVnaW5zLnNoYXJlQ291bnRzLm1pbi5qcycpLFxuICAgICAgICBudWxsLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdpZ3lhLnNvY2lhbGl6ZS5wbHVnaW5zLnNoYXJlQ291bnRzLmdldFByb3ZpZGVyU2hhcmVDb3VudHMocGFyYW1zKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZSxcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EZWxlZ2F0ZUFkbWluSGFuZGxlcihwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICBwYXJhbXMgPSB7fTtcbiAgICB9XG4gICAgY29uc3QgbXlXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuXG4gICAgcGFyYW1zWydjYWxsYmFjayddID0gcmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgIT09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICBteVdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMub25FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5vbkVycm9yKHJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlcy50YXJnZXRVcmwgfHwgIXJlcy5pZF90b2tlbikge1xuICAgICAgICAgICAgbXlXaW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5lcnJvcihgYWNjb3VudHMuYjJiLmRlbGVnYXRlZEFkbWluTG9naW4gLSBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtc2AsIHsgdGFyZ2V0VVJMOiByZXMudGFyZ2V0VXJsLCBpZF90b2tlbjogcmVzLmlkX3Rva2VuIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgSFRUUFV0aWxzLnJlZGlyZWN0KHJlcy50YXJnZXRVcmwsIFt7IGlkX3Rva2VuOiByZXMuaWRfdG9rZW4gfV0sIHJlc1snbWV0aG9kJ10gPyByZXNbJ21ldGhvZCddIDogJ1BPU1QnLCB1bmRlZmluZWQsIG15V2luZG93LmRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZ2lneWEuYWNjb3VudHMuYjJiLmRlbGVnYXRlZEFkbWluTG9naW4ocGFyYW1zKTtcbn1cblxuZnVuY3Rpb24gZ2V0R2lnUmVmVWlkQ29va2llS2V5KGFwaUtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGBfZ2lnUmVmVWlkXyR7YXBpS2V5fWA7XG59XG5cbmdpZ3lhLnNvY2lhbGl6ZS51cGRhdGVSZWZVSUQgPSB1cGRhdGVSZWZVSUQ7XG5naWd5YS5zb2NpYWxpemUuaGlkZVVJID0gaGlkZVVJO1xuZ2lneWEuZ2NzLnN1Ym1pdFVzZXJGb3JtID0gc3VibWl0VXNlckZvcm07XG5naWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJTaGFyZUNvdW50cyA9IGdldFByb3ZpZGVyU2hhcmVDb3VudHM7XG5naWd5YS5zb2NpYWxpemUuYWRkRXZlbnRIYW5kbGVycyA9IHNvY2lhbGl6ZUFkZEV2ZW50SGFuZGxlcnM7XG5naWd5YS5hY2NvdW50cy5hZGRFdmVudEhhbmRsZXJzID0gYWNjb3VudHNBZGRFdmVudEhhbmRsZXJzO1xuZ2lneWEuc29jaWFsaXplLmlzTG9nZ2VkSW4gPSBpc0xvZ2dlZEluO1xuZ2lneWEuc29jaWFsaXplLndhaXRGb3JTZXJ2aWNlID0gd2FpdEZvclNlcnZpY2U7XG5naWd5YS5zb2NpYWxpemUucG9zdEJvb2ttYXJrID0gcG9zdEJvb2ttYXJrO1xuZ2lneWEuc29jaWFsaXplLnJlZnJlc2hVSSA9IHJlZnJlc2hVSTtcbmdpZ3lhLnNvY2lhbGl6ZS50cmFja1JlZmVycmFscyA9IHRyYWNrUmVmZXJyYWxzO1xuXG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuYWNjb3VudHMuYjJiLm9wZW5EZWxlZ2F0ZWRBZG1pbkxvZ2luJywgb3BlbkRlbGVnYXRlQWRtaW5IYW5kbGVyKTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5hY2NvdW50cy5zZXRTU09Ub2tlbicsIGdpZ3lhLnNldFNTT1Rva2VuKTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5nZXRMb2dpblRva2VuJywgZ2V0KTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5hY2NvdW50cy5hdXRoLmZpZG8ucmVnaXN0ZXInLCByZWdpc3RlclBhc3NrZXkpO1xuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLmFjY291bnRzLmF1dGguZmlkby5sb2dpbicsIHBhc3NrZXlMb2dpbik7XG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuYWNjb3VudHMuYXV0aC5nZXRQcmVmZXJyZWRMb2dpbk1ldGhvZCcsIGdldFByZWZlcnJlZExvZ2luTWV0aG9kKTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5hY2NvdW50cy5hdXRoLnNldFByZWZlcnJlZExvZ2luTWV0aG9kJywgc2V0UHJlZmVycmVkTG9naW5NZXRob2QpO1xuIiwiaW1wb3J0IHtVcml9IGZyb20gJy4uL1V0aWxzL1VyaSc7XG5pbXBvcnQge3JlZGlyZWN0fSBmcm9tICcuLi9VdGlscy9IVFRQJztcblxuZXhwb3J0IGludGVyZmFjZSBJU1NPQ29udGV4dCB7XG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgcnBDb250ZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElHZXRDb250ZXh0UGFyYW1zIHtcbiAgICBvcEtleTogc3RyaW5nO1xuICAgIHNzb190b2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDb250aW51ZVBhcmFtcyB7XG4gICAgb3BLZXk6IHN0cmluZztcbiAgICBjb250ZXh0OiBzdHJpbmc7XG4gICAgbG9naW5fdG9rZW46IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmNsYXNzIE9pZGNPcEFwaSB7XG4gICAgcHVibGljIGFzeW5jIGdldENvbnRleHQoe29wS2V5LCAuLi5wYXJhbXN9OiBJR2V0Q29udGV4dFBhcmFtcyk6IFByb21pc2U8SVNTT0NvbnRleHQ+IHtcbiAgICAgICAgcmV0dXJuIFVyaS5wYXJzZShgJHtPaWRjT3BBcGkuYmFzZVVybChvcEtleSl9L3Nzby9nZXRDb250ZXh0YClcbiAgICAgICAgICAgIC5hZGRUb1NlYXJjaChwYXJhbXMpXG4gICAgICAgICAgICAuZmV0Y2g8SVNTT0NvbnRleHQ+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZGlyZWN0VG9Db250aW51ZSh7b3BLZXksIC4uLnBhcmFtc306IElDb250aW51ZVBhcmFtcykge1xuICAgICAgICByZWRpcmVjdChgJHtPaWRjT3BBcGkuYmFzZVVybChvcEtleSl9L2F1dGhvcml6ZS9jb250aW51ZWAsIFtwYXJhbXNdLCAnR0VUJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYmFzZVVybChvcEtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgYXBpRG9tYWluRmFjdG9yeSA9IGdpZ3lhLl8uZ2V0QXBpRG9tYWluID8/IGdpZ3lhLl8uYXBpRG9tYWluRmFjdG9yeSgpO1xuICAgICAgICByZXR1cm4gYGh0dHBzOi8vJHthcGlEb21haW5GYWN0b3J5KCdmaWRtJyl9L29pZGMvb3AvdjEuMC8ke29wS2V5fWA7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qgb3AgPSBuZXcgT2lkY09wQXBpKCk7XG4iLCJpbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcbmltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0IHtyZWRpcmVjdH0gZnJvbSAnLi4vVXRpbHMvSFRUUCc7XG5pbXBvcnQge2dldExvZ2luVG9rZW5FeHBpcmF0aW9ufSBmcm9tICcuLi8uLi8uLi8uLi9maWRtL0dpZ3lhLkpzLlNhbWxQcm94eS9hcHAvdXRpbHMnO1xuaW1wb3J0IHtHU0Vycm9yc30gZnJvbSAnLi4vR1NFcnJvcnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbml0U1NPUGFyYW1zIHtcbiAgICBzcE5hbWU6IHN0cmluZzsgLy8gdGhlIG5hbWUgb2YgdGhlIFNQIHRvIFNTTyB0by5cbiAgICByZWRpcmVjdFVSTDogc3RyaW5nOyAvLyBhIFVSTCB0aGF0IHRoZSBTUCB3aWxsIHJlZGlyZWN0IHRvIGF0IHRoZSBlbmQgb2YgdGhlIFNTTy4gVGhpcyBpcyB1c3VhbGx5IHRoZSBsYW5kaW5nIHBhZ2Ugb24gdGhlIFNQIHRoYXQgaXMgcmVxdWVzdGVkLlxuXG59XG5leHBvcnQgaW50ZXJmYWNlIElDb250aW51ZVNTT1BhcmFtcyB7XG59XG5leHBvcnQgaW50ZXJmYWNlIElMb2dvdXRTU09QYXJhbXMge1xufVxuZXhwb3J0IGludGVyZmFjZSBJQ2FuY2VsU1NPUGFyYW1zIHtcbiAgICBzdGF0dXNDb2RlIDogc3RyaW5nO1xuICAgIGNhbmNlbENvZGUgOiBudW1iZXI7XG59XG5mdW5jdGlvbiBnZXRQcm94eVVybCgpIHtcbiAgICBjb25zdCB1cmw6IHN0cmluZyB8IHVuZGVmaW5lZCA9IGdpZ3lhLnNhbWxDb25maWcgJiYgZ2lneWEuc2FtbENvbmZpZy5wcm94eVBhZ2VVUkw7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgZ2lneWEubG9nZ2VyLndhcm4oJ21pc3NpbmcgcHJveHkgcGFnZSB1cmwnKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U1NPKHBhcmFtczogSUluaXRTU09QYXJhbXMsIHByb3h5ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGxvZ2luVG9rZW5FeHAgPSBnZXRMb2dpblRva2VuRXhwaXJhdGlvbihnaWd5YS5hcGlLZXkpO1xuICAgIGlmKCFwcm94eSkge1xuICAgICAgICBjb25zdCBsb2dpblRva2VuID0gZ2lneWEuZ2V0TG9naW5Ub2tlbigpO1xuICAgICAgICByZXR1cm4gcmVkaXJlY3RUb1NhbWxFbmRQb2ludCgnaWRwL3Nzby9pbml0Jywge2xvZ2luVG9rZW4sIGxvZ2luVG9rZW5FeHAsIC4uLnBhcmFtc30pO1xuICAgIH1cbiAgICBjb25zdCBwcm94eVBhZ2UgPSBnZXRQcm94eVVybCgpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gVVJMVXRpbHMuYWRkUGFyYW1zVG9VUkwoXG4gICAgICAgIHByb3h5UGFnZSxcbiAgICAgICAgb2JqZWN0VXRpbHMubWVyZ2UoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZGU6ICdpbml0U1NPJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7bG9naW5Ub2tlbkV4cCwgLi4ucGFyYW1zfSxcbiAgICAgICAgXSksXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZVNTTyhwYXJhbXM6IElDb250aW51ZVNTT1BhcmFtcyA9IHt9LCBwcm94eSA9IHRydWUpIHtcbiAgICBjb25zdCBhcmdzID0gVVJMVXRpbHMuZ2V0UGFyYW1zRnJvbVVSTChsb2NhdGlvbi5ocmVmKTtcbiAgICBjb25zdCBzYW1sQ29udGV4dCA9IGFyZ3NbJ3NhbWxDb250ZXh0J107XG4gICAgY29uc3QgbG9naW5Ub2tlbkV4cCA9IGdldExvZ2luVG9rZW5FeHBpcmF0aW9uKGdpZ3lhLmFwaUtleSk7XG4gICAgaWYoIXByb3h5KSB7XG4gICAgICAgIGNvbnN0IGxvZ2luVG9rZW4gPSBnaWd5YS5nZXRMb2dpblRva2VuKCk7XG4gICAgICAgIHJldHVybiByZWRpcmVjdFRvU2FtbEVuZFBvaW50KCdpZHAvc3NvL2NvbnRpbnVlJywge2xvZ2luVG9rZW4sIHNhbWxDb250ZXh0LCBsb2dpblRva2VuRXhwLCAuLi5wYXJhbXN9KTtcbiAgICB9XG4gICAgY29uc3QgcHJveHlQYWdlID0gZ2V0UHJveHlVcmwoKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFVSTFV0aWxzLmFkZFBhcmFtc1RvVVJMKHByb3h5UGFnZSwge1xuICAgICAgICBtb2RlOiAnYWZ0ZXJMb2dpbicsXG4gICAgICAgIHNhbWxDb250ZXh0LFxuICAgICAgICBsb2dpblRva2VuRXhwXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsU1NPKHBhcmFtczogSUNhbmNlbFNTT1BhcmFtcywgcHJveHkgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJncyA9IFVSTFV0aWxzLmdldFBhcmFtc0Zyb21VUkwobG9jYXRpb24uaHJlZik7XG4gICAgY29uc3Qgc2FtbENvbnRleHQgPSBhcmdzWydzYW1sQ29udGV4dCddO1xuICAgIGlmKCFwcm94eSkge1xuICAgICAgICByZXR1cm4gcmVkaXJlY3RUb1NhbWxFbmRQb2ludCgnaWRwL3Nzby9jYW5jZWwnLCB7XG4gICAgICAgICAgICBzYW1sQ29udGV4dCxcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIGNhbmNlbENvZGU6IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMuY2FuY2VsQ29kZSksXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLnN0YXR1c0NvZGUpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBwcm94eVBhZ2UgPSBnZXRQcm94eVVybCgpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gVVJMVXRpbHMuYWRkUGFyYW1zVG9VUkwocHJveHlQYWdlLCB7XG4gICAgICAgIG1vZGU6ICdjYW5jZWwnLFxuICAgICAgICBzYW1sQ29udGV4dCxcbiAgICAgICAgY2FuY2VsQ29kZTogcGFyYW1zPy5jYW5jZWxDb2RlLFxuICAgICAgICBzdGF0dXNDb2RlOiBwYXJhbXM/LnN0YXR1c0NvZGUsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9nb3V0U1NPKHBhcmFtczogSUxvZ291dFNTT1BhcmFtcywgcHJveHkgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJncyA9IFVSTFV0aWxzLmdldFBhcmFtc0Zyb21VUkwobG9jYXRpb24uaHJlZik7XG4gICAgY29uc3Qgc2FtbENvbnRleHQgPSBhcmdzWydzYW1sQ29udGV4dCddO1xuXG4gICAgY29uc3Qgb25Mb2dvdXRSZXNwb25zZSA9IHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMuZXJyb3JDb2RlID09PSBHU0Vycm9ycy5PSyAmJiAhcHJveHkpIHtcbiAgICAgICAgICAgIHJldHVybiByZWRpcmVjdFRvU2FtbEVuZFBvaW50KCdpZHAvc2xvL2ZpbmFsaXplJywge1xuICAgICAgICAgICAgICAgIHNhbWxDb250ZXh0LFxuICAgICAgICAgICAgICAgIC4uLnBhcmFtc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm94eVBhZ2UgPSBnZXRQcm94eVVybCgpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFVSTFV0aWxzLmFkZFBhcmFtc1RvVVJMKHByb3h5UGFnZSwge1xuICAgICAgICAgICAgbW9kZTogJ2xvZ291dCcsXG4gICAgICAgICAgICBzYW1sQ29udGV4dFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZ2lneWEuc29jaWFsaXplLmxvZ291dCh7XG4gICAgICAgIGNhbGxiYWNrOiBvbkxvZ291dFJlc3BvbnNlLFxuICAgICAgICBzYW1sQ29udGV4dDogc2FtbENvbnRleHQsXG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZGlyZWN0VG9TYW1sRW5kUG9pbnQoZW5kUG9pbnQ6IHN0cmluZywgcGFyYW1zOiBhbnkgPSB7fSkge1xuICAgIC8vIHJlZGlyZWN0cyB0byBhbiBpbnRlcm5hbCBzYW1sIGVuZHBvaW50IHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnNcbiAgICBjb25zdCBkb21haW4gPSBnaWd5YS5fLmdldEFwaURvbWFpbignZmlkbScpO1xuXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vJHtkb21haW59L3NhbWwvdjIuMC8ke2dpZ3lhLmFwaUtleX0vJHtlbmRQb2ludH1gO1xuXG4gICAgY29uc3QgZ21pZFRpY2tldCA9IGF3YWl0IGdpZ3lhLl8uYXBpQWRhcHRlci5nZXRHbWlkVGlja2V0KCk7XG4gICAgaWYgKGdtaWRUaWNrZXQpIHBhcmFtcy5nbWlkVGlja2V0ID0gZ21pZFRpY2tldDtcblxuICAgIHJlZGlyZWN0KHVybCwgW3BhcmFtc10pO1xufVxuIiwiLy8gR2xvYmFsIGFuZCB3aWRnZXQgZXZlbnRzIGhhbmRsaW5nXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RXZlbnRNYXBzID0gZ2lneWEuZGVmYXVsdEV2ZW50TWFwcyB8fCBbXTtcbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0IHsgR1NFcnJvcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xuaW1wb3J0IHsgYWRkTG9nIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlcic7XG5pbXBvcnQgeyBoYW5kbGVTcGVjaWFsRmllbGRzIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0ludGVybmFsRmxvd3MnO1xuaW1wb3J0ICogYXMgYXJyYXlVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYXJyYXknO1xuaW1wb3J0ICogYXMgdGVtcGxhdGVzVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3RlbXBsYXRlcyc7XG5cbmZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlck5hbWUoZXZlbnROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChldmVudE5hbWUuc3Vic3RyaW5nKDAsIDIpID09PSAnb24nKSB7XG4gICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdvbicgKyBldmVudE5hbWUuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBldmVudE5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1hcChtYXApIHtcbiAgICBnaWd5YS5kZWZhdWx0RXZlbnRNYXBzLnNwbGljZSgwLCAwLCBtYXApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hFcnJvckZyb21SZXNwb25zZSh3aWRnZXRQYXJhbXMsIHJlc3BvbnNlLCBhZGRpdGlvbmFsUHJvcGVydGllcz8pIHtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgIHJlc3BvbnNlID0ge307XG4gICAgfVxuICAgIGxldCByID0gcmVzcG9uc2U7XG4gICAgaWYgKHIucmVzcG9uc2UpIHtcbiAgICAgICAgciA9IHIucmVzcG9uc2U7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50T2JqID0ge1xuICAgICAgICBldmVudE5hbWU6ICdlcnJvcicsXG4gICAgICAgIHN0YXR1czogci5zdGF0dXMgPyByLnN0YXR1cyA6ICdGQUlMJyxcbiAgICAgICAgc3RhdHVzTWVzc2FnZTogci5zdGF0dXNNZXNzYWdlID8gci5zdGF0dXNNZXNzYWdlIDogJ0dlbmVyYWwgU2VydmVyIEVycm9yJyxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiByLmVycm9yTWVzc2FnZSA/IHIuZXJyb3JNZXNzYWdlIDogJ0dlbmVyYWwgU2VydmVyIEVycm9yJyxcbiAgICAgICAgZXJyb3JEZXRhaWxzOiByLmVycm9yRGV0YWlscyA/IHIuZXJyb3JEZXRhaWxzIDogJycsXG4gICAgICAgIGVycm9yQ29kZTogci5lcnJvckNvZGUgPyByLmVycm9yQ29kZSA6IDUwMDAwMSxcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgIH07XG4gICAgb2JqZWN0VXRpbHMuYWRkKGV2ZW50T2JqLCBhZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gICAgcmV0dXJuIGRpc3BhdGNoRm9yV2lkZ2V0KGV2ZW50T2JqLCB3aWRnZXRQYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hJbnZhbGlkUGFyYW1FcnJvcih3aWRnZXRQYXJhbXMsIHBhcmFtTmFtZSkge1xuICAgIGNvbnN0IGV2dDogYW55ID0geyBldmVudE5hbWU6ICdlcnJvcicgfTtcbiAgICBpZiAodHlwZW9mIHdpZGdldFBhcmFtc1twYXJhbU5hbWVdID09ICd1bmRlZmluZWQnIHx8IHdpZGdldFBhcmFtc1twYXJhbU5hbWVdID09IG51bGwpIHtcbiAgICAgICAgZXZ0LmVycm9yQ29kZSA9IEdTRXJyb3JzLk1JU1NJTkdfUkVRVUlSRURfUEFSQU1FVEVSO1xuICAgICAgICBldnQuZXJyb3JNZXNzYWdlID0gJ01pc3NpbmdfcmVxdWlyZWRfcGFyYW1ldGVyICgnICsgcGFyYW1OYW1lICsgJyknO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGV2dC5lcnJvckNvZGUgPSBHU0Vycm9ycy5JTlZBTElEX1BBUkFNRVRFUl9WQUxVRTtcbiAgICAgICAgZXZ0LmVycm9yTWVzc2FnZSA9ICdJbnZhbGlkX3BhcmFtZXRlcl92YWx1ZSAoJyArIHBhcmFtTmFtZSArICcpJztcbiAgICB9XG4gICAgZXZ0LnN0YXR1cyA9IGV2dC5lcnJvckNvZGU7XG4gICAgZXZ0LnN0YXR1c01lc3NhZ2UgPSBldnQuZXJyb3JNZXNzYWdlO1xuICAgIGRpc3BhdGNoRm9yV2lkZ2V0KGV2dCwgd2lkZ2V0UGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoRm9yV2lkZ2V0KGUsIHdpZGdldFBhcmFtcykge1xuICAgIGlmICghZSB8fCAhZS5ldmVudE5hbWUpIHJldHVybjtcbiAgICBjb25zdCBldmVudE5hbWUgPSBlLmV2ZW50TmFtZTtcbiAgICBhZGRMb2coJ0Rpc3BhdGNoaW5nIHdpZGdldCBldmVudCBcIicgKyBldmVudE5hbWUgKyAnXCIgZm9yICcgKyB3aWRnZXRQYXJhbXMubGFzdFNvdXJjZSArICcgd2l0aCB0aGlzIGV2ZW50IG9iamVjdCcsIGUpO1xuXG4gICAgLy9naWd5YS5zb2NpYWxpemUuX0FkanVzdFJlc3BvbnNlU3RhdHVzKGV2ZW50T2JqKTtcblxuICAgIGhhbmRsZVNwZWNpYWxGaWVsZHMoZSk7XG5cbiAgICBjb25zdCBhckV2ZW50cyA9IGV2ZW50TmFtZS5zcGxpdCgnLCcpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhckV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBhckV2ZW50c1tpXTtcblxuICAgICAgICBjb25zdCBldmVudEhhbmRsZXJOYW1lID0gZ2V0RXZlbnRIYW5kbGVyTmFtZShldmVudE5hbWUpO1xuXG4gICAgICAgIGlmICh3aWRnZXRQYXJhbXMpIHtcbiAgICAgICAgICAgIGlmICh3aWRnZXRQYXJhbXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIGUuY29udGV4dCA9IHdpZGdldFBhcmFtcy5jb250ZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGUuc291cmNlID0gd2lkZ2V0UGFyYW1zLnNvdXJjZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpZGdldFBhcmFtcy5zb3VyY2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgZS5zb3VyY2VEYXRhID0gd2lkZ2V0UGFyYW1zLnNvdXJjZURhdGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3aWRnZXRQYXJhbXMuY29udGFpbmVySUQpIHtcbiAgICAgICAgICAgICAgICBlLnNvdXJjZUNvbnRhaW5lcklEID0gd2lkZ2V0UGFyYW1zLmNvbnRhaW5lcklEO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2lkZ2V0UGFyYW1zLmluc3RhbmNlSUQpIHtcbiAgICAgICAgICAgICAgICBlLmluc3RhbmNlSUQgPSB3aWRnZXRQYXJhbXMuaW5zdGFuY2VJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWRnZXRQYXJhbXNbZXZlbnRIYW5kbGVyTmFtZV0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRpc3BhdGNoRXZlbnRPYmplY3Qod2lkZ2V0UGFyYW1zW2V2ZW50SGFuZGxlck5hbWVdLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudE5hbWUuaW5kZXhPZignbG9naW4nKSA9PSAtMSAmJiBldmVudE5hbWUuaW5kZXhPZignbG9nb3V0JykgPT0gLTEgJiYgZXZlbnROYW1lICE9ICdjb25uZWN0aW9uUmVtb3ZlZCcgJiYgZXZlbnROYW1lICE9ICdjb25uZWN0aW9uQWRkZWQnKSB7XG4gICAgICAgICAgICBfZGlzcGF0Y2hGcm9tTWFwcyhlKTtcbiAgICAgICAgICAgIGNvbnN0IEdlbmVzaXNFeGNoYW5nZV9HaWd5YSA9IHdpbmRvd1snR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhJ107XG4gICAgICAgICAgICBjb25zdCBnaWd5YV9vbW5pdHVyZV9jb25mID0gd2luZG93WydnaWd5YV9vbW5pdHVyZV9jb25mJ107XG4gICAgICAgICAgICBjb25zdCBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jID0gd2luZG93WydteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jJ107XG4gICAgICAgICAgICBpZiAodHlwZW9mIEdlbmVzaXNFeGNoYW5nZV9HaWd5YSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2lneWFfb21uaXR1cmVfY29uZiAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlID0gbmV3IEdlbmVzaXNFeGNoYW5nZV9HaWd5YShnaWd5YV9vbW5pdHVyZV9jb25mKTtcbiAgICAgICAgICAgICAgICBnZS5wcm9jZXNzQWN0aW9uKGUpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jKGdpZ3lhX29tbml0dXJlX2NvbmYsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50T2JqZWN0KGhhbmRsZXJzLCBlKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXJzID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXJzKGUpO1xuICAgICAgICB9IGVsc2UgaWYgKCEoaGFuZGxlcnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGFkZExvZygnTm90IGEgZnVuY3Rpb24gb3IgZnVuY3Rpb24gYXJyYXkgcmVnaXN0ZXJlZCB0byBldmVudCcsIGhhbmRsZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5VXRpbHMuZm9yRWFjaCg8RnVuY3Rpb25bXT5oYW5kbGVycywgaGFuZGxlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRMb2coJ05vdCBhIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgdG8gZXZlbnQ6ICcgKyBoYW5kbGVyLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLyBUT0RPOiBub3QgY29sbGVjdGluZyByZXN1bHRzLi4gc2hvdWxkIGl0P1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgYWRkTG9nKCdFcnJvciBpbnZva2luZyBmdW5jdGlvbiByZWdpc3RlcmVkIHRvIGV2ZW50JywgaGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZGlzcGF0Y2hGcm9tTWFwcyhldnQsIGlzR2xvYmFsID0gZmFsc2UpIHtcbiAgICBjb25zdCBhckRpc3BhdGNoID0gW107XG4gICAgbGV0IHN0b3AgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdpZ3lhLmRlZmF1bHRFdmVudE1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWFwID0gZ2lneWEuZGVmYXVsdEV2ZW50TWFwc1tpXS5ldmVudE1hcDtcbiAgICAgICAgY29uc3QgZGVmYXVsdE1ldGhvZCA9IGdpZ3lhLmRlZmF1bHRFdmVudE1hcHNbaV0uZGVmYXVsdE1ldGhvZDtcbiAgICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCBtYXAubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9GaWVsZCA9IG1hcFt1XTtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZEFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGlmICghb0ZpZWxkLmFyZ3MpIG9GaWVsZC5hcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpQXJnID0gMDsgaUFyZyA8IG9GaWVsZC5hcmdzLmxlbmd0aDsgaUFyZysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9GaWVsZC5hcmdzW2lBcmddID09ICckZXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZEFyZ3MucHVzaChldnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZEFyZ3MucHVzaCh0ZW1wbGF0ZXNVdGlscy5maWxsKG9GaWVsZC5hcmdzW2lBcmddLCBldnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzRXZlbnRzID0gJywnICsgb0ZpZWxkLmV2ZW50cy50b0xvd2VyQ2FzZSgpICsgJywnO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNFdmVudHMuaW5kZXhPZignLCosJykgIT0gLTEgfHxcbiAgICAgICAgICAgICAgICAoKHNFdmVudHMuaW5kZXhPZignLCcgKyAnb24nICsgZXZ0LmV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICsgJywnKSAhPSAtMSB8fCBzRXZlbnRzLmluZGV4T2YoJywnICsgZXZ0LmV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICsgJywnKSAhPSAtMSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCghZXZ0LnNvdXJjZSAmJiAhb0ZpZWxkLnNvdXJjZXMpIHx8ICFvRmllbGQuc291cmNlcyB8fCBvRmllbGQuc291cmNlcy5pbmRleE9mKGV2dC5zb3VyY2UpICE9IC0xKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyRGlzcGF0Y2gucHVzaChvRmllbGQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IG9GaWVsZC5tZXRob2QgPyBvRmllbGQubWV0aG9kIDogZGVmYXVsdE1ldGhvZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2QuYXBwbHkodGhpcywgcHJvY2Vzc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRMb2coXCJFcnJvciBpbnZva2luZyBmdW5jdGlvbiByZWdpc3RlcmVkIHRvIGV2ZW50cyBtYXAncyBtZXRob2RcIiwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9GaWVsZC5vdmVycmlkZSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0b3ApIGJyZWFrO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgZ2xvYmFsRXZlbnRzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HbG9iYWxFdmVudHMnO1xuaW1wb3J0ICogYXMgRE9NVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTSc7XG5pbXBvcnQgKiBhcyBzY3JpcHRVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuXG4vLyBGYWNlYm9vayBpbnRlZ3JhdGlvblxuZGVjbGFyZSB2YXIgRkI7XG52YXIgX3dhaXRpbmdGb3JTZXJ2aWNlOiBGdW5jdGlvbltdID0gW107XG5leHBvcnQgdmFyIGluaXRpYWxpemVkVGltZTogRGF0ZTtcbmV4cG9ydCB2YXIgaXNMb2dnZWRJbiA9IGZhbHNlO1xuZXhwb3J0IHZhciBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTG9hZGVkKCkge1xuICAgIHJldHVybiBpbml0aWFsaXplZFRpbWUgIT0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5vQXBwSUQpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWRUaW1lKSByZXR1cm47XG4gICAgaW5pdGlhbGl6ZWRUaW1lID0gbnVsbDtcbiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlZnJlc2hTZXNzaW9uKCk7XG4gICAgfSwgNDUgKiA2MCAqIDEwMDApO1xuICAgIHdpbmRvd1snZmJBc3luY0luaXQnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb0luaXQgPSBvYmplY3RVdGlscy5jbG9uZShnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ2ZhY2Vib29rSW5pdFBhcmFtcyddKTtcbiAgICAgICAgaWYgKCFvSW5pdCkgb0luaXQgPSB7fTtcblxuICAgICAgICBpZiAoZ2lneWEucHJvdmlkZXJzQ29uZmlnLmZhY2Vib29rKSB7XG4gICAgICAgICAgICBvSW5pdC5hcHBJZCA9IGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5mYWNlYm9vay5hcHBJRDtcbiAgICAgICAgICAgIG9Jbml0LnZlcnNpb24gPSBnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2sudmVyc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9Jbml0LnZlcnNpb24gPSAndjEuMCc7IC8vIG9ubHkgdjEuMCBhbGxvd3MgaW5pdCB3aXRob3V0IGFuIGFwcElkXG4gICAgICAgIH1cblxuICAgICAgICBvSW5pdC5zdGF0dXMgPSBmYWxzZTsgLy8gSXQncyBiZXR0ZXIgdG8gZ2V0IGxvZ2luIHN0YXR1cyBtYW51YWxseSBzbyB0aGF0IHdlIGNvdWxkIGRpc3BhdGNoIHRoZSBmYWNlYm9va0xvYWRlZCBldmVudCBvbmx5IGFmdGVyIHdlIGhhdmUgdGhlIEZCIHNlc3Npb24gcGFyYW1zLlxuICAgICAgICBvSW5pdC5jb29raWUgPSB0cnVlO1xuICAgICAgICBvSW5pdC54ZmJtbCA9IHRydWU7XG4gICAgICAgIG9Jbml0Lm9hdXRoID0gdHJ1ZTtcblxuICAgICAgICBGQi5pbml0KG9Jbml0KTtcblxuICAgICAgICBpZiAobm9BcHBJRCAhPSB0cnVlKSB7XG4gICAgICAgICAgICBGQi5nZXRMb2dpblN0YXR1cyhmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVkVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSByZXNwb25zZS5zdGF0dXMgPT0gJ2Nvbm5lY3RlZCc7XG4gICAgICAgICAgICAgICAgaXNMb2dnZWRJbiA9IHJlc3BvbnNlLnN0YXR1cyAhPSAndW5rbm93bic7XG5cbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6ICdmYWNlYm9va0xvYWRlZCcsXG4gICAgICAgICAgICAgICAgICAgIGlzTG9nZ2VkSW46IGlzTG9nZ2VkSW4sXG4gICAgICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiBpc0Nvbm5lY3RlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUuYWRkRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICAgICAgICAgICAgeyBsaXN0ZW5lclR5cGU6ICdjb21wb25lbnQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyRGVzY3JpcHRpb246ICdsaXN0ZW5lciBmb3IgdXBkYXRpbmcgRmFjZWJvb2sgQ29ubmVjdCBzZXNzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTG9naW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db25uZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTG9nb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbml0aWFsaXplZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2ZhY2Vib29rTG9hZGVkJyxcbiAgICAgICAgICAgICAgICBpc0xvZ2dlZEluOiBpc0xvZ2dlZEluLFxuICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkOiBpc0Nvbm5lY3RlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGl2RmJSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2RmJSb290LmlkID0gJ2ZiLXJvb3QnO1xuICAgIERPTVV0aWxzLmFwcGVuZFRvQm9keShkaXZGYlJvb3QpO1xuICAgIHNjcmlwdFV0aWxzLmxvYWQoXG4gICAgICAgIGxvY2FsSW5mby5wcm90b2NvbCArICc6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC8nICsgZ2lneWEudGhpc1NjcmlwdC5sYW5nLmZ1bGwucmVwbGFjZSgnLScsICdfJykgKyAnL3Nkay5qcycsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID09ICdub25lJykge1xuICAgICAgICAgICAgICAgIC8vIGZhY2Vib29rIGJ1ZyAod2hlbiB0aGVyZXMgYSBmYl94ZF9mcmFnbWVudCBpbiB0aGUgcGFnZSBVUkwpIC0gRmFjZWJvb2sgd2lsbCBub3QgbG9hZCBpbiB0aGlzIHNjZW5hcmlvLlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoU2Vzc2lvbigpIHtcbiAgICBpZiAodHlwZW9mIEZCID09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICB2YXIgZm5jQ2FsbGJhY2sgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpbml0aWFsaXplZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpc0Nvbm5lY3RlZCA9IHJlc3BvbnNlLnN0YXR1cyA9PSAnY29ubmVjdGVkJztcbiAgICAgICAgaXNMb2dnZWRJbiA9IHJlc3BvbnNlLnN0YXR1cyAhPSAndW5rbm93bic7XG4gICAgICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaCh7IGV2ZW50TmFtZTogJ0ZCQ1JlZnJlc2hlZCcgfSk7XG4gICAgfTtcblxuICAgIGlmIChnaWd5YS5wcm92aWRlcnNDb25maWcuZmFjZWJvb2sgJiYgZ2lneWEucHJvdmlkZXJzQ29uZmlnLmZhY2Vib29rLmFwcElEICYmIEZCICYmIEZCLmdldExvZ2luU3RhdHVzKSB7XG4gICAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZuY0NhbGxiYWNrLCB0cnVlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmV0cnlQZW5kaW5nKCkge1xuICAgIHZhciBjYWxsYmFja3MgPSBfd2FpdGluZ0ZvclNlcnZpY2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2FsbGJhY2tzW2ldKCk7XG4gICAgfVxuICAgIF93YWl0aW5nRm9yU2VydmljZSA9IFtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJ1bldoZW5Mb2FkZWQoY2FsbGJhY2spIHtcbiAgICBfd2FpdGluZ0ZvclNlcnZpY2UucHVzaChjYWxsYmFjayk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1zKCkge1xuICAgIHZhciBvVGFyZ2V0ID0ge307XG4gICAgaWYgKHR5cGVvZiBGQiAhPSAndW5kZWZpbmVkJyAmJiBGQi5nZXRBdXRoUmVzcG9uc2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vRkIgcG9vciBvYXV0aCBpbXBsZW1lbnRhdGlvbiBmYWlscyBzb21ldGltZXNcbiAgICAgICAgICAgIHZhciBhdXRoUmVzcG9uc2UgPSBGQi5nZXRBdXRoUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIGlmIChhdXRoUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0aFJlc3BvbnNlLnVzZXJJRCAhPSBudWxsKSBvVGFyZ2V0WydmYl9VSUQnXSA9IGF1dGhSZXNwb25zZS51c2VySUQ7XG4gICAgICAgICAgICAgICAgaWYgKGF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlbiAhPSBudWxsKSBvVGFyZ2V0WydmYl9hdCddID0gYXV0aFJlc3BvbnNlLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgICAgIGlmIChhdXRoUmVzcG9uc2UuZXhwaXJlc0luICE9IG51bGwpIG9UYXJnZXRbJ2ZiX2V4cCddID0gYXV0aFJlc3BvbnNlLmV4cGlyZXNJbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuICAgIHJldHVybiBvVGFyZ2V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9Mb2dpbigpIHtcbiAgICBnaWd5YS5zb2NpYWxpemUud2FpdEZvclNlcnZpY2Uoe1xuICAgICAgICBzZXJ2aWNlOiAnZmFjZWJvb2snLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVyLmlzU2Vzc2lvblZhbGlkKGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZiwgaXNWYWxpZCA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZiU2Vzc2lvbiA9IGdldFBhcmFtcygpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCAmJiBmYlNlc3Npb24gJiYgZmJTZXNzaW9uWydmYl9hdCddICYmICFnaWd5YS5fLmF1dG9Mb2dpbkluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuXy5hdXRvTG9naW5JblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEuc29jaWFsaXplLm5vdGlmeUxvZ2luKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ1NvdXJjZTogJ2F1dG9Mb2dpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlclNlc3Npb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZWJvb2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFRva2VuOiBmYlNlc3Npb25bJ2ZiX2F0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRXhwaXJlc0luOiBmYlNlc3Npb25bJ2ZiX2V4cCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiIsImltcG9ydCAqIGFzIGdsb2JhbEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzJztcblxuLy8gRmFjZWJvb2sgaW50ZWdyYXRpb25cbmRlY2xhcmUgdmFyIGdhcGk7XG5leHBvcnQgdmFyIGluaXRpYWxpemVkVGltZTogRGF0ZTtcbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRlZCgpIHtcbiAgICByZXR1cm4gaW5pdGlhbGl6ZWRUaW1lICE9IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZCgpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWRUaW1lKSByZXR1cm47XG4gICAgaWYgKCFnaWd5YS5wcm92aWRlcnNDb25maWcuZ29vZ2xlUGx1cykgcmV0dXJuO1xuICAgIGluaXRpYWxpemVkVGltZSA9IG51bGw7XG4gICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgcG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgIHBvLmFzeW5jID0gdHJ1ZTtcbiAgICB3aW5kb3dbJ19fZ2lneWFfaGFuZGxlQ2xpZW50TG9hZCddID0gKCkgPT4gdGhpcy5oYW5kbGVDbGllbnRMb2FkKCk7XG4gICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qcz9vbmxvYWQ9X19naWd5YV9oYW5kbGVDbGllbnRMb2FkJztcbiAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBvLCBzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDbGllbnRMb2FkKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGRlbGV0ZSB3aW5kb3dbJ19fZ2lneWFfaGFuZGxlQ2xpZW50TG9hZCddO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgd2luZG93WydfX2dpZ3lhX2hhbmRsZUNsaWVudExvYWQnXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWRUaW1lID0gbmV3IERhdGUoKTtcblxuICAgIGdsb2JhbEV2ZW50cy5kaXNwYXRjaCh7XG4gICAgICAgIGV2ZW50TmFtZTogJ2dvb2dsZVBsdXNMb2FkZWQnLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hTZXNzaW9uKCkge1xuICAgIGlmICh0eXBlb2YgZ2FwaSA9PSAndW5kZWZpbmVkJykgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9Mb2dpbigpIHtcbiAgICBnaWd5YS5zb2NpYWxpemUud2FpdEZvclNlcnZpY2Uoe1xuICAgICAgICBzZXJ2aWNlOiAnZ29vZ2xlUGx1cycsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIuaXNTZXNzaW9uVmFsaWQoZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mLCBpc1ZhbGlkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2FwaS5hdXRoLmF1dGhvcml6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IGdpZ3lhLnByb3ZpZGVyc0NvbmZpZy5nb29nbGVQbHVzLmNsaWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiBnaWd5YS5wcm92aWRlcnNDb25maWcuZ29vZ2xlUGx1cy5zY29wZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6ICd0b2tlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4gJiYgIWdpZ3lhLl8uYXV0b0xvZ2luSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5fLmF1dG9Mb2dpbkluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaWd5YS5zb2NpYWxpemUubm90aWZ5TG9naW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnU291cmNlOiAnYXV0b0xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyU2Vzc2lvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb29nbGVQbHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4iLCIvLyBPcGVuZ3JhcGggdXRpbHNcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFUYWcob2dUYWdOYW1lKSB7XG4gICAgdmFyIG1ldGFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21ldGEnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ3Byb3BlcnR5JykgPT0gb2dUYWdOYW1lICYmIG1ldGFzW2ldLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0YXNbaV0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBY3Rpdml0eVR5cGUsIEVycm9yRXZlbnRIYW5kbGVyLCBFdmVudEhhbmRsZXIsIElGbG93UGFyYW1zIH0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IHsgcXVldWVGb3JFeGVjdXRpb24gfSBmcm9tIFwiLi4vVXRpbHMvcXVldWVcIjtcbmltcG9ydCB7IEluaXRBY3Rpdml0eSB9IGZyb20gXCIuL2FjdGl2aXRpZXMvSW5pdEFjdGl2aXR5XCI7XG5pbXBvcnQgeyBBY3Rpdml0eUxpYnJhcnkgfSBmcm9tIFwiLi9hY3Rpdml0aWVzL0FjdGl2aXR5TGlicmFyeVwiO1xuaW1wb3J0IHsgU2NyZWVuU2V0QWN0aXZpdHkgfSBmcm9tIFwiLi9hY3Rpdml0aWVzL1NjcmVlblNldEFjdGl2aXR5XCI7XG5pbXBvcnQgeyBFdmVudEFjdGl2aXR5IH0gZnJvbSBcIi4vYWN0aXZpdGllcy9FdmVudEFjdGl2aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBGbG93IHtcbiAgcHVibGljIGV2ZW50TWFwOiBNYXA8c3RyaW5nLCBFdmVudEhhbmRsZXI+O1xuICBwdWJsaWMgZXJyb3JIYW5kbGVyPzogRXJyb3JFdmVudEhhbmRsZXI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGlkZW50aXR5Rmxvd0lkOiBzdHJpbmcsIHB1YmxpYyBmbG93UGFyYW1zPzogSUZsb3dQYXJhbXMsIHByaXZhdGUgb25Db21wbGV0ZT86ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLmV2ZW50TWFwID0gbmV3IE1hcDxzdHJpbmcsIEV2ZW50SGFuZGxlcj4oKTtcbiAgfVxuXG4gIHB1YmxpYyBvbihldmVudE5hbWU6IHN0cmluZywgZXZlbnRIYW5kbGVyOiBFdmVudEhhbmRsZXIpOiBGbG93IHtcbiAgICB0aGlzLmV2ZW50TWFwLnNldChldmVudE5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgZXJyb3IoZXZlbnRIYW5kbGVyOiBFcnJvckV2ZW50SGFuZGxlcik6IEZsb3cge1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gZXZlbnRIYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGUoKSB7XG4gICAgaWYgKEFjdGl2aXR5TGlicmFyeS5pc0VtcHR5KCkpIHtcbiAgICAgIEFjdGl2aXR5TGlicmFyeS5yZWdpc3RlckFjdGl2aXR5KEFjdGl2aXR5VHlwZS5TY3JlZW5TZXQsIFNjcmVlblNldEFjdGl2aXR5KTtcbiAgICAgIEFjdGl2aXR5TGlicmFyeS5yZWdpc3RlckFjdGl2aXR5KEFjdGl2aXR5VHlwZS5FdmVudCwgRXZlbnRBY3Rpdml0eSk7XG4gICAgfVxuICAgIHF1ZXVlRm9yRXhlY3V0aW9uKFwiQVBJXCIsICgpID0+IHtcbiAgICAgIG5ldyBJbml0QWN0aXZpdHkodGhpcywgbnVsbCkucnVuKCk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZmluaXNoKCkge1xuICAgIHRoaXMub25Db21wbGV0ZSAmJiB0aGlzLm9uQ29tcGxldGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxvdyhmbG93SWQ6IHN0cmluZywgcGFyYW1zPzogSUZsb3dQYXJhbXMsIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkKSB7XG4gIHJldHVybiBuZXcgRmxvdyhmbG93SWQsIHBhcmFtcywgb25Db21wbGV0ZSk7XG59XG4iLCJpbXBvcnQge0Jhc2VBY3Rpdml0eX0gZnJvbSAnLi9CYXNlQWN0aXZpdHknO1xuaW1wb3J0IHtBY3Rpdml0eVR5cGUsIElGbG93UmVzcG9uc2V9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHtGbG93fSBmcm9tICcuLi9GbG93JztcblxudHlwZSBBY3Rpdml0eSA9IHsgbmV3IChmbG93OiBGbG93LCBwYXJhbXM6IElGbG93UmVzcG9uc2UpOiBCYXNlQWN0aXZpdHkgfTtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXR5TGlicmFyeSB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgYWN0aXZpdHlNYXAgPSBuZXcgTWFwPEFjdGl2aXR5VHlwZSwgQWN0aXZpdHk+KCk7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3Rpdml0eU1hcCkubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyQWN0aXZpdHkodHlwZTogQWN0aXZpdHlUeXBlLCBhY3Rpdml0eTogQWN0aXZpdHkpIHtcbiAgICAgICAgdGhpcy5hY3Rpdml0eU1hcC5zZXQodHlwZSwgYWN0aXZpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QWN0aXZpdHkoZmxvdzogRmxvdywgcGFyYW1zPzogSUZsb3dSZXNwb25zZSk6IEJhc2VBY3Rpdml0eSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2aXR5TWFwLmhhcyhwYXJhbXM/LmFjdGl2aXR5VHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IEFjdGl2aXR5ID0gdGhpcy5hY3Rpdml0eU1hcC5nZXQocGFyYW1zLmFjdGl2aXR5VHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2aXR5KGZsb3csIHBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyB0b2tlblN0b3JlIGZyb20gJy4uLy4uLy4uLy4uL0dpZ3lhLkpzLkFkYXB0ZXJzLldlYi9hcHAvVG9rZW5TdG9yZSc7XG5pbXBvcnQge1JlcXVlc3RQcm92aWRlcn0gZnJvbSAnc3JjL2NvcmUvQXBpU2VydmljZS9hcHAvUmVxdWVzdFByb3ZpZGVyJztcbmltcG9ydCB7SUZsb3dSZXNwb25zZX0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQge0FjdGl2aXR5TGlicmFyeX0gZnJvbSAnLi9BY3Rpdml0eUxpYnJhcnknO1xuaW1wb3J0IHtHU0Vycm9yc30gZnJvbSAnLi4vLi4vR1NFcnJvcnMnO1xuaW1wb3J0IHtGbG93fSBmcm9tICcuLi9GbG93JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VBY3Rpdml0eSB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGZsb3c6IEZsb3csXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHBhcmFtczogSUZsb3dSZXNwb25zZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIF9yZXF1ZXN0UHJvdmlkZXIgPSBuZXcgUmVxdWVzdFByb3ZpZGVyKCkpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgYXN5bmMgcnVuKCk7XG5cbiAgICBwdWJsaWMgYXN5bmMgbmV4dCh1cmw6IHN0cmluZykgeyAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZmV0Y2godXJsKTtcblxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgIC8vIFdoZW4gcmVzcG9uc2UgaXMgbnVsbCBpdCBtZWFucyBubyBhY3Rpdml0eSB0byBydW4gbmV4dCwgc28gZmxvdyBjb25zaWRlcmVkIGFzIGRvbmVcbiAgICAgICAgICB0aGlzLmZsb3cuZmluaXNoKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm9yQ29kZSA9PT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gQWN0aXZpdHlMaWJyYXJ5LmdldEFjdGl2aXR5KHRoaXMuZmxvdywgcmVzdWx0KTtcblxuICAgICAgICAgICAgYWN0aXZpdHkgPyBhY3Rpdml0eS5ydW4oKSA6IHRoaXMuZmxvdy5maW5pc2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmxvdy5lcnJvckhhbmRsZXIocmVzdWx0KTsgICAgICAgICBcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldFJlcXVlc3RQYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5O1xuICAgICAgICBjb25zdCBsb2dpblRva2VuID0gdG9rZW5TdG9yZS5nZXQoYXBpS2V5KTtcblxuICAgICAgICBsZXQgcGFyYW1zID0ge307XG4gICAgICAgIHBhcmFtc1snQVBJS2V5J10gPSBhcGlLZXk7XG5cbiAgICAgICAgaWYgKGxvZ2luVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGxvZ2luVG9rZW5FeHAgPSB0b2tlblN0b3JlLmdldEdsdGV4cENvb2tpZShhcGlLZXkpO1xuICAgICAgICAgICAgaWYgKGxvZ2luVG9rZW5FeHAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbJ2xvZ2luVG9rZW5FeHAnXSA9IGxvZ2luVG9rZW5FeHA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtc1snbG9naW5fdG9rZW4nXSA9IGxvZ2luVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zWydhdXRoTW9kZSddID0gJ2Nvb2tpZSc7XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgYXN5bmMgZmV0Y2godXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBjb25zdCBiYXNlRG9tYWluID0gYGh0dHBzOi8vJHtnaWd5YS5fLmdldEFwaURvbWFpbignYWNjb3VudHMnKX1gO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVxdWVzdFByb3ZpZGVyLnNlbmQoYmFzZURvbWFpbiwgYHdvcmtmbG93JHt1cmx9YCwgdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCksIHt9LCB7fSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ0Zsb3cgcmVxdWVzdCBmYWlsJywge3VybCwgZX0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0Jhc2VBY3Rpdml0eX0gZnJvbSAnLi9CYXNlQWN0aXZpdHknO1xuaW1wb3J0IHtBY3Rpdml0eVR5cGV9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHtBY3Rpdml0eUxpYnJhcnl9IGZyb20gJy4vQWN0aXZpdHlMaWJyYXJ5JztcblxuZXhwb3J0IGNsYXNzIEV2ZW50QWN0aXZpdHkgZXh0ZW5kcyBCYXNlQWN0aXZpdHkge1xuICAgIHB1YmxpYyBhc3luYyBydW4oKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmZsb3cuZXZlbnRNYXAuZ2V0KHRoaXMucGFyYW1zLmV2ZW50TmFtZSk7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIoe1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6IHRoaXMucGFyYW1zLmV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dEZWZpbml0aW9uSWQ6IHRoaXMuZmxvdy5pZGVudGl0eUZsb3dJZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmFmdGVyRXZlbnRVcmwgJiYgdGhpcy5uZXh0KHRoaXMucGFyYW1zLmFmdGVyRXZlbnRVcmwpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmxvdy5lcnJvckhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkFjdGl2aXR5TGlicmFyeS5yZWdpc3RlckFjdGl2aXR5KEFjdGl2aXR5VHlwZS5FdmVudCwgRXZlbnRBY3Rpdml0eSk7XG4iLCJpbXBvcnQge0Jhc2VBY3Rpdml0eX0gZnJvbSAnLi9CYXNlQWN0aXZpdHknO1xuXG5leHBvcnQgY2xhc3MgSW5pdEFjdGl2aXR5IGV4dGVuZHMgQmFzZUFjdGl2aXR5IHtcbiAgICBwdWJsaWMgYXN5bmMgcnVuKCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5leHQoYC9ydW50aW1lL3YxL3dvcmtmbG93RGVmaW5pdGlvbnMvJHt0aGlzLmZsb3cuaWRlbnRpdHlGbG93SWR9L2Rpc3BhdGNoYCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtCYXNlQWN0aXZpdHl9IGZyb20gJy4vQmFzZUFjdGl2aXR5JztcbmltcG9ydCB7QWN0aXZpdHlUeXBlfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7R1NFcnJvcnN9IGZyb20gJy4uLy4uL0dTRXJyb3JzJztcbmltcG9ydCB7QWN0aXZpdHlMaWJyYXJ5fSBmcm9tICcuL0FjdGl2aXR5TGlicmFyeSc7XG5cbmV4cG9ydCBjbGFzcyBTY3JlZW5TZXRBY3Rpdml0eSBleHRlbmRzIEJhc2VBY3Rpdml0eSB7XG4gICAgcHVibGljIGFzeW5jIHJ1bigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmFtcy5zY3JlZW5TZXQgfHwgIXRoaXMucGFyYW1zLnN0YXJ0U2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2lneWEuYWNjb3VudHMuc2hvd1NjcmVlblNldCh7XG4gICAgICAgICAgICAuLi50aGlzLmZsb3cuZmxvd1BhcmFtcz8uc2NyZWVuU2V0UGFyYW1zLFxuICAgICAgICAgICAgc2NyZWVuU2V0OiB0aGlzLnBhcmFtcy5zY3JlZW5TZXQsXG4gICAgICAgICAgICBzdGFydFNjcmVlbjogdGhpcy5wYXJhbXMuc3RhcnRTY3JlZW4sXG4gICAgICAgICAgICBvbkFmdGVyU3VibWl0OiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucmVzcG9uc2U/LmVycm9yQ29kZSA9PT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMub25TdWJtaXRVcmwgJiYgdGhpcy5uZXh0KHRoaXMucGFyYW1zLm9uU3VibWl0VXJsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsb3cuZXJyb3JIYW5kbGVyKGV2ZW50LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuQWN0aXZpdHlMaWJyYXJ5LnJlZ2lzdGVyQWN0aXZpdHkoQWN0aXZpdHlUeXBlLlNjcmVlblNldCwgU2NyZWVuU2V0QWN0aXZpdHkpO1xuIiwiaW1wb3J0IHtJR2lneWFSZXNwb25zZX0gZnJvbSAnLi4vLi4vLi4vLi4vYWNjb3VudHMvR2lneWEuSlMuUGx1Z2luLnNjcmVlblNldDIvYXBwL1NjcmVlblNldFBsdWdpbic7XG5cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlciA9IChldmVudERhdGE6IElFdmVudERhdGEpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBFcnJvckV2ZW50SGFuZGxlciA9IChlcnJvckRhdGE6IGFueSkgPT4gdm9pZDtcblxuZXhwb3J0IGVudW0gQWN0aXZpdHlUeXBlIHtcbiAgICBFdmVudCA9ICdFdmVudCcsXG4gICAgU2NyZWVuU2V0ID0gJ1NjcmVlblNldCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmxvd1Jlc3BvbnNlIGV4dGVuZHMgSUdpZ3lhUmVzcG9uc2Uge1xuICAgIGFjdGl2aXR5VHlwZTogQWN0aXZpdHlUeXBlO1xuICAgIHdvcmtmbG93RGVmaW5pdGlvbklkOiBzdHJpbmc7XG4gICAgcmVzcG9uc2VUZXh0Pzogc3RyaW5nO1xuICAgIHNjcmVlblNldD86IHN0cmluZztcbiAgICBzdGFydFNjcmVlbj86IHN0cmluZztcbiAgICBldmVudE5hbWU/OiBzdHJpbmc7XG4gICAgb25TdWJtaXRVcmw/OiBzdHJpbmc7XG4gICAgYWZ0ZXJFdmVudFVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnREYXRhIHtcbiAgICB3b3JrZmxvd0RlZmluaXRpb25JZDogc3RyaW5nO1xuICAgIGV2ZW50TmFtZTogc3RyaW5nO1xuICAgIGRhdGE/OiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZsb3dQYXJhbXN7XG4gICAgc2NyZWVuU2V0UGFyYW1zPzphbnk7XG59IiwiZXhwb3J0IGNvbnN0IGVudW0gR1NFcnJvcnMge1xuICAgIE9LID0gMCxcbiAgICBEYXRhX1BlbmRpbmcgPSAxMDAwMDEsIC8vIERhdGEgaXMgc3RpbGwgYmVpbmcgcHJvY2Vzc2VkLCBxdWVyeSBhZ2FpbiBmb3IgdGhlIHJlc3BvbnNlXG4gICAgTkVUV09SS19FUlJPUiA9IDUwMDAyNixcbiAgICBEQVRBX1BFTkRJTkcgPSAxMDAwMDEsIC8vIERhdGEgaXMgc3RpbGwgYmVpbmcgcHJvY2Vzc2VkLCBxdWVyeSBhZ2FpbiBmb3IgdGhlIHJlc3BvbnNlXG4gICAgT1BFUkFUSU9OX0NBTkNFTEVEID0gMjAwMDAxLCAvLyB1c2VyIGNhbmNlbGVkLCBpbiBsb2dpbiBwcm9jZXNzXG4gICAgUEVSTUlTU0lPTl9HUkFOVEVEID0gMjAwMDAyLCAvLyBJbm5lciBjb2RlXG4gICAgUEVSTUlTU0lPTl9OT1RfR1JBTlRFRCA9IDIwMDAwMywgLy8gSW5uZXIgY29kZVxuICAgIFJFRElSRUNUID0gMjAwMDA0LCAvLyBJbm5lciBjb2RlXG4gICAgTkVXX1VTRVIgPSAyMDAwMDUsIC8vIElubmVyIGNvZGVcbiAgICBPUEVSQVRJT05fRE9ORSA9IDIwMDAwNiwgLy8gSW5uZXIgY29kZVxuICAgIFVQREFURV9VU0VSID0gMjAwMDA3LCAvLyBJbm5lciBjb2RlXG4gICAgT0tfV0lUSF9FUlJPUlMgPSAyMDAwMDgsIC8vIEZvciByZXBvcnRzIC0gd2hlbiB3ZSByZXR1cm4gb2sgdG8gY2xpZW50IGJ1dCBoYWQgYWNjZXB0YWJsZSBlcnJvcnMgKHRoYXQgd2Ugd2FudCB0byBrbm93IGFib3V0KSBvbiB0aGUgd2F5XG4gICAgQUNDT1VOVFNfTElOS0VEID0gMjAwMDA5LCAvLyBBZnRlciBsaW5raWduIGFjY291dG5zIHZpYSBsb2dpbiwgcmV0dXJuIHRoaXMgZXJyb3IgY29kZVxuICAgIE9LX1dJVEhfRVJST1JfTE9HSU5fSURFTlRJRklFUl9FWElTVFMgPSAyMDAwMTAsIC8vIEZvciBzZXRBY2NvdW50SW5mbyB1c2luZyB0aGUgY29uZmxpY3RIYW5kbGluZyBwYXJhbSAtIHByb2ZpbGUgd2FzIHNhdmVkLCBidXQgdGhlIGVtYWlsIGNvbmZsaWN0cyB3aXRoIGFub3RoZXIgdXNlclxuICAgIEFDQ09VTlRfUEVORElOR19SRUdJU1RSQVRJT04gPSAyMDYwMDEsIC8vIEZvciBhY2NvdW50cyBBUEksXG4gICAgQUNDT1VOVF9QRU5ESU5HX1ZFUklGSUNBVElPTiA9IDIwNjAwMiwgLy8gRm9yIGFjY291bnRzIEFQSTsgY29uc2lkZXIgbW92aW5nIHRvIDQwM3h4eCBzZWN0aW9uIGluIHRoZSBmdXR1cmUuXG4gICAgQUNDT1VOVF9NSVNTSU5HX0xPR0lOSUQgPSAyMDYwMDMsIC8vIEZvciBhY2NvdW50cyBBUElcbiAgICBJREVOVElUWV9BTFJFQURZX0FTU0lHTkVEID0gMjA2MDA0LCAvLyBGb3IgaW1wb3J0IGFjY291bnRzIEFQSVxuICAgIEFGVEVSX0VNQUlMX1ZFUklGSUNBVElPTiA9IDIwNjAwNSxcbiAgICBQRU5ESU5HX0NPREVfVkVSSUZJQ0FUSU9OID0gMjA2MDA2LFxuICAgIENMSUVOVF9MT0cgPSAzMDAwMDEsIC8vIGludGVybmFsLCBmb3IgcmVwb3J0aW5nIGVyb3JycyBpbiBjbGllbnQgU0RLU1xuICAgIElOVkFMSURfREFUQV9DRU5URVIgPSAzMDEwMDEsIC8vIFwiSW52YWxpZCBkYXRhLWNlbnRlclwiLiB3aXRoIGVycm9yIGRldGFpbHMgb2Y6IFwiVGhpcyBBUEkga2V5IGlzIHNlcnZlZCBieSBhbm90aGVyIGRhdGEgY2VudGVyXCIuXG4gICAgSU5WQUxJRF9SRVFVRVNUX0ZPUk1BVCA9IDQwMDAwMSwgLy8gY291bGQgYmUgYWxsIGtpbmQgb2YgZXJyb3JzIHdpdGggd3JvbmcgcmVxdWVzdCAobm9uIHNlY3VyZSB3aGVuIHNob3VsZCBiZSBzZWN1cmUsIHdyb25nIGF1dGhlbnRpY2F0aW9uIGhlYWRlcilcbiAgICBNSVNTSU5HX1JFUVVJUkVEX1BBUkFNRVRFUiA9IDQwMDAwMixcbiAgICBVTklRVUVfSURFTlRJRklFUl9FWElTVFMgPSA0MDAwMDMsXG4gICAgSU5WQUxJRF9QQVJBTUVURVJfRk9STUFUID0gNDAwMDA0LFxuICAgIElOVkFMSURfUEFSQU1FVEVSX1ZBTFVFID0gNDAwMDA2LFxuICAgIERVUExJQ0FURV9WQUxVRSA9IDQwMDAwNyxcbiAgICBJTlZBTElEX0FVVEhFTlRJQ0FUSU9OX0hFQURFUiA9IDQwMDAwOCwgLy8gT0F1dGgyXG4gICAgVkFMSURBVElPTl9FUlJPUiA9IDQwMDAwOSwgLy8gSW4gYWNjb3VudHMucmVnaXN0ZXIsIHdoZW5ldmVyIHRoZXJlIGlzIGEgdmFsaWRhdGlvbiBlcnJvclxuICAgIElOVkFMSURfUkVESVJFQ1RfVVJJID0gNDAwMDExLCAvLyBPQXV0aDJcbiAgICBJTlZBTElEX1JFU1BPTlNFX1RZUEUgPSA0MDAwMTIsIC8vIE9BdXRoMlxuICAgIFVOU1VQUE9SVEVEX0dSQU5UX1RZUEUgPSA0MDAwMTMsIC8vIE9BdXRoMlxuICAgIElOVkFMSURfR1JBTlQgPSA0MDAwMTQsIC8vIE9BdXRoMlxuICAgIENPREVfRVhQSVJFRCA9IDQwMDAxNSwgLy8gT0F1dGgyXG4gICAgU0NIRU1BX1ZBTElEQVRJT05fRkFJTEVEID0gNDAwMDIwLFxuICAgIENBUFRDSEFfVkVSSUZJQ0FUSU9OX0ZBSUxFRCA9IDQwMDAyMSxcbiAgICBVTklRVUVfSU5ERVhfVkFMSURBVElPTl9FUlJPUiA9IDQwMDAyMixcbiAgICBJTlZBTElEX1RZUEVfVkFMSURBVElPTl9FUlJPUiA9IDQwMDAyMyxcbiAgICBEWU5BTUlDX0ZJRUxEU19WQUxJREFUSU9OX0VSUk9SID0gNDAwMDI0LFxuICAgIFdSSVRFX0FDQ0VTU19WQUxJREFUSU9OX0VSUk9SID0gNDAwMDI1LFxuICAgIElOVkFMSURfRk9STUFUX1ZBTElEQVRJT05fRVJST1IgPSA0MDAwMjYsXG4gICAgUkVRVUlSRURfVkFMVUVfVkFMSURBVElPTl9FUlJPUiA9IDQwMDAyNyxcbiAgICBFTUFJTF9OT1RfVkVSSUZJRUQgPSA0MDAwMjgsXG4gICAgU0NIRU1BX0NPTkZMSUNUX0VSUk9SID0gNDAwMDI5LCAvLyBUbyBoYW5kbGUgVXNlciBzdG9yeSAzNDMzMC4gSW1wcm92ZSBFbGFzdGljU2VhcmNoTWFwcGluZ0V4Y2VwdGlvbiBoYW5kbGluZyBpbiBEUy5JbmRleE9iamVjdFxuICAgIE9QRVJBVElPTl9OT1RfQUxMT1dFRCA9IDQwMDAzMCwgLy8gVXNlciBzdG9yeSAzNDMxMSAtIElmIGFkZENvbm5lY3Rpb24gaXMgY2FsbGVkIHJldHVybiBhbiBlcnJvciAoXCJvcGVyYXRpb24gbm90IGFsbG93ZWQgZm9yIHRoaXMgYWNjb3VudFwiLCA0MDBYWFggZXJyb3IpLlxuICAgIFNFQ1VSSVRZX1ZFUklGSUNBVElPTl9GQUlMRUQgPSA0MDAwNTAsXG4gICAgSU5WQUxJRF9BUElLRVlfUEFSQU1FVEVSID0gNDAwMDkzLFxuICAgIE5PVF9TVVBQT1JURUQgPSA0MDAwOTYsIC8vIHRoZSBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IGFueSBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBwcm92aWRlcnNcbiAgICBVTlNVUFBPUlRFRF9VU0VSX0FHRU5UID0gNDAwMDk3LCAvL1xuICAgIE5PX1BST1ZJREVSUyA9IDQwMDEwMCwgLy8gY2xpZW50P1xuICAgIFBPUFVQX0JMT0NLRUQgPSA0MDAxMDEsIC8vIGNsaWVudFxuICAgIElOVkFMSURfRVZFTlRfSEFORExFUiA9IDQwMDEwMiwgLy8gY2xpZW50XG4gICAgSU5WQUxJRF9DT05UQUlORVJJRCA9IDQwMDEwMywgLy8gY2xpZW50XG4gICAgTk9UX0NPTk5FQ1RFRCA9IDQwMDEwNiwgLy8gdXNlciBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSByZXF1aXJlZCBuZXR3b3JrIG9yIHRvIGFueSBuZXR3b3JrXG4gICAgSU5WQUxJRF9TSVRFX0RPTUFJTiA9IDQwMDEyMCwgLy8gdGhlIGN1cnJlbnQgZG9tYWluIGRvZXMgbm90IG1hdGNoIHRoZSBkb21haW4gY29uZmlndXJlZCBmb3IgdGhlIGFwaSBrZXlcbiAgICBQUk9WSURFUl9DT05GSUdVUkFUSU9OX0VSUk9SID0gNDAwMTIyLCAvLyB0aGUgY3VycmVudCBkb21haW4gZG9lcyBub3QgbWF0Y2ggdGhlIGRvbWFpbiBjb25maWd1cmVkIGZvciB0aGUgYXBpIGtleVxuICAgIExJTUlUX1JFQUNIRUQgPSA0MDAxMjQsIC8vIEdhbWVNZWNoYW5pY3MgLSBDYXAgd2FzIHJlYWNoZWRcbiAgICBGUkVRVUVOQ1lfTElNSVRfUkVBQ0hFRCA9IDQwMDEyNSwgLy8gQ29tbWVudHMvRmVlZCAtIFNwYW0gQ2FwcyB3YXMgcmVhY2hlZFxuICAgIElOVkFMSURfQUNUSU9OID0gNDAwMTI2LCAvLyBHYW1lTWVjaGFuaWNzIC0gSW52YWxpZCBhY3Rpb24uIFRyaWdnZXJlZCBhY3Rpb24gY2FuJ3QgYmUgaW5pdGlhdGVkIGV4dGVybmFsbHlcbiAgICBJTlNVRkZJQ0lFTlRfUE9JTlRTX1RPX1JFREVFTSA9IDQwMDEyNywgLy8gR2FtZU1lY2hhbmljcyAtIEluc3VmZmljaWVudF9wb2ludHNfdG9fcmVkZWVtXG4gICAgU0lHTkFUVVJFX1RJTUVTVEFNUF9FWFBJUkVEID0gNDAwMTI4LCAvLyB0aGUgdGltZXN0YW1wIGluc2lkZSB0aGUgc2lnbmF0dXJlIGlzIGV4cGlyZWRcbiAgICBFcnJvcl9EdXJpbmdfRXh0ZW5zaW9uc19PcGVyYXRpb24gPSA0MDAzMDIsXG4gICAgRXh0ZW5zaW9uX1BvaW50X0N1c3RvbV9FcnJvciA9IDQwMDMwMywgLy8gRXh0ZW5zaW9uIHBvaW50IHJldHVybiBhIHVzZXJGYWNpbmdFcnJvck1lc3NhZ2VcbiAgICBJTlZBTElEX1BPTElDWV9DT05GSUdVUkFUSU9OID0gNDAxMDAwLCAvLyBQb2xpY3kgY29uZmlndXJhdGlvbiBpcyBpbnZhbGlkIChpLmUuIHByZXZlbnQgcmVnaXRyYXRpb24pXG4gICAgU1VTUEVDVEVEX1NQQU0gPSA0MDEwMTAsIC8vIFNvbWVvbmUgaXMgdHJ5aW5nIHRvIHVzZSBHaWd5YSB0byBzZW5kIGEgZW1haWwgd2l0aCBhIFVSTCB0aGF0IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgY2xpZW50J3MgZG9tYWluczsgc3VzcGVjdGVkIHNwYW0uXG4gICAgTE9HSU5fRkFJTEVEX0NBUFRDSEFfUkVRVUlSRUQgPSA0MDEwMjAsIC8vIGFjY291bnRzLmxvZ2luIC0gY2FwdGNoYSByZXF1aXJlZFxuICAgIFJFUVVFU1RfRkFJTEVEX0NBUFRDSEFfUkVRVUlSRUQgPSA0MDEwMjMsIC8vIGFjY291bnRzLmxvZ2luIC0gY2FwdGNoYSByZXF1aXJlZFxuICAgIExPR0lOX0ZBSUxFRF9XUk9OR19DQVBUQ0hBID0gNDAxMDIxLCAvLyBhY2NvdW50cy5sb2dpbiAtIHdyb25nIGNhcHRjaGEgY29kZVxuICAgIE9MRF9QQVNTV09SRF9VU0VEID0gNDAxMDMwLCAvLyBUaGUgdXNlciBwcm92aWRlZCBoaXMgcHJldmlvdXMgcGFzc3dvcmQsIG5vdCB0aGUgY3VycmVudCBvbmVcbiAgICBGT1JCSURERU4gPSA0MDMwMDAsXG4gICAgSU5WQUxJRF9TRVNTSU9OX1RPS0VOID0gNDAzMDAxLCAvLyBpbnRlcm5hbFxuICAgIFJFUVVFU1RfSEFTX0VYUElSRUQgPSA0MDMwMDIsIC8vIHRoZSB0aW1lc3RhbXAgb3IgZXhwaXJhdGlvbiBvZiB0aGUgdG9rZW4gdXNlZCBleGNlZWRlZCB0aGUgYWxsb3dlZCB0aW1lIHdpbmRvd1xuICAgIElOVkFMSURfUkVRVUVTVF9TSUdOQVRVUkUgPSA0MDMwMDMsXG4gICAgRFVQTElDQVRFX05PTkNFID0gNDAzMDA0LFxuICAgIFVOQVVUSE9SSVpFRF9VU0VSID0gNDAzMDA1LCAvLyB0aGUgdXNlciBpZCBwYXNzZWQgaXMgbm90IHZhbGlkIGZvciB0aGlzIHNpdGVcbiAgICBTRU5TSVRJVkVfREFUQV9TRU5UX09WRVJfSFRUUCA9IDQwMzAwNiwgLy8gd2hlbiBzZW5kaW5nIHRoZSBzZWNyZXQga2V5IGluIFJFU1QgaXQgaGFzIHRvIGJlIG92ZXIgSFRUUFNcbiAgICBQRVJNSVNTSU9OX0RFTklFRCA9IDQwMzAwNywgLy8gQ29tbWVudHMgc2VydmVyIC0gUGVybWlzc2lvbiBkZW5pZWQgKHJlYWRPbmx5LG1vZGVyYXRpb24gc2l0ZSkuXG4gICAgSU5WQUxJRF9PUEVOSURfVVJMID0gNDAzMDA4LCAvLyBjYW5ub3QgZmluZCBhbiBvcGVuSWQgZW5kcG9pbnQgb24gdGhlIHVybCBvciB1c2VybmFtZSBnaXZlbiBmb3Igb3BlbklkIGxvZ2luXG4gICAgUFJPVklERVJfU0VTU0lPTl9FWFBJUkVEID0gNDAzMDA5LCAvLyB0aGUgdXNlciBzZXNzaW9uIGZvciB0aGlzIHByb3ZpZGVyIGlzIGV4cGlyZWRcbiAgICBJTlZBTElEX1NFQ1JFVCA9IDQwMzAxMCwgLy8gdGhlIHJlcXVlc3QgaGFzIGFuIGludmFsaWQgc2VjcmV0IGtleVxuICAgIFNFU1NJT05fSEFTX0VYUElSRUQgPSA0MDMwMTEsIC8vIHRoZSBzZXNzaW9uIGZvciB0aGlzIHVzZXIgaGFzIGV4cGlyZWRcbiAgICBOT19WQUxJRF9TRVNTSU9OID0gNDAzMDEyLCAvLyByZXF1ZXN0ZWQgdXNlciBoYXMgbm8gdmFsaWQgc2Vzc2lvblxuICAgIFVOVkVSSUZJRURfVVNFUiA9IDQwMzAxMywgLy8gdGhlIHVzZXIgaXMgbm90IHZlcmlmaWVkIGluIFNTTyBzZXNzaW9uXG4gICAgTUlTU0lOR19SRVFVRVNUX1JFRkVSUkVSID0gNDAzMDE1LCAvLyB3ZSBjYW4ndCB2YWxpZGF0ZSB0aGUgcmVxdWVzdCBiZWNhdXNlIHRoZSByZWZlcnJlciBoZWFkZXIgaXMgbWlzc2luZ1xuICAgIFVORVhQRUNURURfUFJPVklERVJfVVNFUiA9IDQwMzAxNywgLy8gdGhlIGxvZ2dlZCBpbiB1c2VyIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBvbmUgZXhwZWN0ZWRcbiAgICBQRVJNSVNTSU9OX05PVF9SRVFVRVNURUQgPSA0MDMwMjIsIC8vIHRoZSBhY3Rpb24gbmVlZHMgYSB1c2VyIHBlcm1pc3Npb24gYW5kIGl0IHdhcyBub3QgcmVxdWVzdGVkXG4gICAgTk9fVVNFUl9QRVJNSVNTSU9OID0gNDAzMDIzLCAvLyB0aGUgYWN0aW9uIG5lZWRzIGEgdXNlciBwZXJtaXNzaW9uIGFuZCB3ZSBkb24ndCBoYXZlIG9uZVxuICAgIFBST1ZJREVSX0xJTUlUX1JFQUNIRUQgPSA0MDMwMjQsIC8vIHRoZSBwcm92aWRlciBsaW1pdCBmb3IgdGhpcyBhY3Rpb24gd2FzIGV4Y2VlZGVkXG4gICAgSU5WQUxJRF9UT0tFTiA9IDQwMzAyNSwgLy8gT0F1dGgyXG4gICAgVU5BVVRIT1JJWkVEX0FDQ0VTU19FUlJPUiA9IDQwMzAyNiwgLy8gQ2FsbHMgdG8gYWNjb3VudHMuaXNBdmFpbGFibGVMb2dpbklEIFdoZW4gcHJldmVudExvZ2luSURIYXJ2ZXN0aW5nID0gdHJ1ZSBzaG91bGQgcmV0dXJuIGFuIGFwcHJvcHJpYXRlIDQwM3h4eCB1bmF1dGhvcml6ZWQgYWNjZXNzIGVycm9yLlxuICAgIERJRkZFUkVOVF9VU0VSX0ZPUl9SRUFVVEggPSA0MDMwMjcsIC8vIERpZmZlcmVudCB1c2VyIHRyaWVkIHRvIHJlLWF1dGhvcml6ZS5cbiAgICBTRVNTSU9OX0VYUElSRURfUkVUUlkgPSA0MDMwMzAsIC8vIElubmVyIGNvZGUgLSB3aGVuIHRoZSBmYWNlYm9vayBzZXNzaW9uIGlzIGV4cGlyZWQgYW5kIHRoZSBjbGllbnQgd2FpdHMgZm9yIEZCIG9uIHBhZ2UgdG8gbG9hZFxuICAgIEFQUFJPVkVEX0JZX01PREVSQVRPUiA9IDQwMzAzMSwgLy8gY29tbWVudHMgLSBjYW50IGZsYWcgY29tbWVudCwgaXQgd2FzIGFwcHJvdmVkIGJ5IHRoZSBtb2RlcmF0b3IgYWxyZWFkeS5cbiAgICBUT0tFTl9IQVNfUkVORVdFRCA9IDQwMzAzMiwgLy8gdGhlIHRva2VuIGlzIG5vIGxvbmdlciB2YWxpZCwgYnV0IHdlIGhhdmUgbmV3IHRva2VuIHRvIHByb3ZpZGVcbiAgICBOT19VU0VSX0NPT0tJRSA9IDQwMzAzNSwgLy8gbm8gdXNlciBjb29raWVcbiAgICBVTkFVVEhPUklaRURfUEFSVE5FUiA9IDQwMzAzNiwgLy8gcGFydG5lciBpcyBkaXNhYmxlZFxuICAgIFBPU1RfREVOSUVEID0gNDAzMDM3LCAvLyBDb21tZW50cyBzZXJ2ZXIgLSBQb3N0IGRlbmllZCB3aGVuIHRoZSB1c2VyIHRyaWVkIHRvIHJldmlldyB0d2ljZS5cbiAgICBOT19MT0dJTl9USUNLRVQgPSA0MDMwNDAsIC8vIG5vIGxvZ2luIHRpY2tldCBpbiBjYWxsYmFjayB1cmxcbiAgICBBQ0NPVU5UX0RJU0FCTEVEID0gNDAzMDQxLCAvLyBGb3IgYWNjb3VudHMgLSB3aGVuIGdzLmFjY291bnRzLklzQWN0aXZlPWZhbHNlXG4gICAgSU5WQUxJRF9MT0dJTklEID0gNDAzMDQyLCAvLyBGb3IgYWNjb3VudHMgLSB3aGVuIHRyeWluZyB0byBsb2dpbiB3aXRoIGEgbG9naW5JRCB0aGF0IGRvIG5vdCBleGlzdHNcbiAgICBMT0dJTl9JREVOVElGSUVSX0VYSVNUUyA9IDQwMzA0MywgLy8gRm9yIGFjY291bnQ6IElmIHByb3ZpZGVyRW1haWwgaXMgZGVmaW5lZCBhcyBhIGxvZ2luSWRlbnRpZmllciBpbiB0aGUgcG9saWN5LCBhbmQgdGhlIGVtYWlsIGFkZHJlc3MgcmVjZWl2ZWQgZnJvbSB0aGUgcHJvdmlkZXIgZXhpc3RzIGluIHRoZSBncy5sb2dpbklkZW50aWZpZXJzIGNvbGxlY3Rpb24gYnV0IGFzc29jaWF0ZWQgd2l0aCBhIGRpZmZlcmVudCBVVUlEIHRoYW4gdGhlIGN1cnJlbnQgdXNlciwgdGhlbiByZXR1cm4gXCJMb2dpbiBpZGVudGlmaWVyIGV4aXN0c1wiIGVycm9yIGNvZGUgKDQwM3h4eCkuXG4gICAgVU5ERVJBR0VfVVNFUiA9IDQwMzA0NCwgLy8gRm9yIENPUFBBIGNvbXBsaWFuY2UgKENoaWxkcmVuJ3MgT25saW5lIFByaXZhY3kgUHJvdGVjdGlvbiBBY3QpXG4gICAgSU5WQUxJRF9TSVRFX0NPTkZJR1VSQVRJT05fRVJST1IgPSA0MDMwNDUsIC8vIEZvciBhY2NvdW50cyAtIHNpdGUgRFMgaXMgZW5hYmxlZCB0aG91Z2ggbm8gRFNTaXplIHdhcyBjb25maWd1cmVkLlxuICAgIExPR0lOSURfRE9FU19OT1RfRVhJU1QgPSA0MDMwNDcsIC8vIEZvciBhY2NvdW50cyAtIHdoZW4gdHJ5aW5nIHRvIHJlc2V0IHBhc3N3b3JkIHdpdGggYSBsb2dpbklEIHRoYXQgZG8gbm90IGV4aXN0c1xuICAgIEFQSV9SQVRFX0xJTUlUX0VYQ0VFREVEID0gNDAzMDQ4LFxuICAgIFBFTkRJTkdfUEFTU1dPUkRfQ0hBTkdFID0gNDAzMTAwLCAvLyBUaGUgdXNlcidzIHBhc3N3b3JkIG5lZWRzIHRvIGJlIGNoYW5nZWRcbiAgICBBQ0NPVU5UX1BFTkRJTkdfVEZBX1ZFUklGSUNBVElPTiA9IDQwMzEwMSxcbiAgICBBQ0NPVU5UX1BFTkRJTkdfVEZBX1JFR0lTVFJBVElPTiA9IDQwMzEwMixcbiAgICBBQ0NPVU5UX1BFTkRJTkdfUkVDRU5UX0xPR0lOID0gNDAzMTEwLFxuICAgIEFDQ09VTlRfVEVNUE9SQVJJTFlfTE9DS0VEX09VVCA9IDQwMzEyMCwgLy8gVG9vIG1hbnkgbG9naW4gYXR0ZW1wdHM7IGFjY291bnQgbG9ja2VkLW91dFxuICAgIFJFRFVOREFOVF9PUEVSQVRJT04gPSA0MDMyMDAsIC8vIFRoZSBjbGllbnQgcGVyZm9ybWVkIGFuIG9wZXJhdGlvbiB0aGF0IGlzIHJlZHVuZGFudFxuICAgIElOVkFMSURfQVBQTElDQVRJT05fSUQgPSA0MDMyMDEsIC8vIFRoZSBhcHAgaWQgcHJvdmlkZWQgaXMgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSBjb25maWd1cmVkIGZvciB0aGUgc2l0ZVxuICAgIE5PVF9GT1VORCA9IDQwNDAwMCwgLy8gQ29tbWVudHMgc2VydmVyIC0gQ2F0ZWdvcnkgbm90IGZvdW5kLiBBY2NvdW50cyAtIGVtYWlsIHZlcmlmaWNhdGlvbiBmYWlsZWQsIHV1aWQgbm90IGZvdW5kLlxuICAgIEZSSUVORF9OT1RfRk9VTkQgPSA0MDQwMDEsIC8vIHRoZSB1c2VyIGlkIHByb3ZpZGVkIGFzIGEgdGFyZ2V0IGlzIG5vdCBhIGZyaWVuZCBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICAgIENBVEVHT1JZX05PVF9GT1VORCA9IDQwNDAwMiwgLy8gQ29tbWVudHMgc2VydmVyIC0gQ2F0ZWdvcnkgbm90IGZvdW5kLlxuICAgIFVJRF9OT1RfRk9VTkQgPSA0MDQwMDMsXG4gICAgUkVTT1VSQ0VfTk9UX0ZPVU5EID0gNDA0MDA0LCAvLyBDbGllbnQgc2lkZSAtIGltYWdlIG5vdCBmb3VuZCBhZnRlciB1cGxvYWRcbiAgICBJTlZBTElEX0FQSV9NRVRIT0QgPSA0MDUwMDEsIC8vIGludGVybmFsIGZvciBvdXIgSlMgQVBJXG4gICAgSURFTlRJVFlfRVhJU1RTID0gNDA5MDAxLCAvLyB3aGVuIHRyeWluZyB0byBjb25uZWN0IHRvIGEgcHJvdmlkZXIgdGhhdCBpcyBhbHJlYWR5IGNvbm5lY3RlZCBvciBsaW5rIHRvIGFuIGFscmVhZHkgbGlua2VkIGFjY291bnRcbiAgICBHT05FID0gNDEwMDAwLCAvLyBSZXNvdXJjZSBubyBsb25nZXIgYXZhaWxhYmxlLiBEYXRhIEtleSBTZXJ2ZXIgLSBrZXkgcmV2b2tlZC9leHBpcmVkLlxuICAgIFJFUVVFU1RfRU5USVRZX1RPT19MQVJHRSA9IDQxMzAwMSwgLy8gQ29tbWVudHMgc2VydmVyIC0gUmVxdWVzdCB0byBsYXJnZVxuICAgIENPTU1FTlRfVEVYVF9UT09fTEFSR0UgPSA0MTMwMDIsIC8vIENvbW1lbnRzIHNlcnZlciAtIENvbW1lbnQgVGV4dCB0byBsYXJnZS5cbiAgICBPQkpFQ1RfVE9PX0xBUkdFID0gNDEzMDAzLCAvLyBEYXRhU3RvcmUgb2JqZWN0IGlzIHRvbyBsYXJnZVxuICAgIFBST0ZJTEVfUEhPVE9fVE9PX0xBUkdFID0gNDEzMDA0LCAvLyBQcm9maWxlIHBob3RvIGlzIHRvbyBsYXJnZSwgZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgY29udGVudCBsZW5ndGhcbiAgICBSRVFVRVNUX1VSSV9UT09fTE9ORyA9IDQxNDAwMCwgLy9UaGUgVVJJIHByb3ZpZGVkIHdhcyB0b28gbG9uZyBmb3IgdGhlIHNlcnZlciB0byBwcm9jZXNzLlxuICAgIE1JU1NJTkdfVVNFUl9QSE9UTyA9IDQwOTAxMCwgLy8gRXJyb3IgLSBtaXNzaW5nIHVzZXIgcGhvdG9cbiAgICBDT1VOVEVSX05PVF9SRUdJU1RFUkVEID0gNDA5MDExLCAvLyBDb3VudGVyIG5vdCByZWdpc3RlcmVkXG4gICAgSU5WQUxJRF9HTUlEX1RJQ0tFVCA9IDQwOTAxMiwgLy8gZ21pZCB0aWNrZXQgaXMgbm90IHZhbGlkXG4gICAgU0FNTF9NQVBQRURfQVRUUklCVVRFX05PVF9GT1VORCA9IDQwOTAxMywgLy8gVXNlZCB3aGVuIG1hcHBlZCBhdHRyaWJ1dGUgdmFsdWUgZm9yIHByb3ZpZGVyVUlEIGNhbm5vdCBiZSByZXRyZWl2ZWRcbiAgICBTQU1MX0NFUlRJRklDQVRFX05PVF9GT1VORCA9IDQwOTAxNCwgLy8gVXNlZCB3aGVuIFNBTUwgY2VydGlmaWNhdGUgY291bGQgbm90IGJlIHJldHJlaXZlZC5cbiAgICBTQU1MX01FU1NBR0VfTk9UX0ZPVU5EID0gNDA5MDE1LCAvLyBVc2VkIHdoZW4gY2FjaGVkIFNBTUwgbWVzc2FnZSBjb3VsZCBub3QgYmUgcmV0cmVpdmVkLlxuICAgIEdFTkVSQUxfU0VSVkVSX0VSUk9SID0gNTAwMDAxLFxuICAgIFNFUlZFUl9MT0dJTl9FUlJPUiA9IDUwMDAwMiwgLy8gZ2VuZXJhbCBlcnJvciBkdXJpbmcgdGhlIGxvZ2luIHByb2Nlc3NcbiAgICBERUZBVUxUX0FQUExJQ0FUSU9OX0NPTkZJR1VSQVRJT05fRVJST1IgPSA1MDAwMDMsIC8vIEZvciBtdWx0aXBsZSBEQyAtIHdoZW4gbm8gZGVmYXVsdCBhcHBsaWNhdGlvbiBjYW4gYmUgZm91bmQgaW4gRGVmYXVsdEFwcGxpY2F0aW9ucy5jb25maWcuIFdpdGggZXJyb3IgZGV0YWlscyBvZjogXCJEZWZhdWx0IGFwcGxpY2F0aW9uIGlzbid0IGNvbmZpZ3VyZWQgZm9yIGRhdGFDZW50ZXJcIlxuICAgIFNFU1NJT05fTUlHUkFUSU9OX0VSUk9SID0gNTAwMDE0LCAvLyBlcnJvciBpbiBtaWdyYXRpbmcgb2xkIHRvIG5ldyBmYWNlYm9vayBzZXNzaW9uXG4gICAgUFJPVklERVJfRVJST1IgPSA1MDAwMjMsIC8vIGdlbmVyYWwgZXJyb3IgZnJvbSB0aGUgcHJvdmlkZXJcbiAgICBEQVRBQkFTRV9FUlJPUiA9IDUwMDAyOCxcbiAgICBVU0VSTkFNRV9SRVFVSVJFRCA9IDUwMDAyOSwgLy8gSW5uZXIgY29kZVxuICAgIE5PX1BST1ZJREVSX0FQUExJQ0FUSU9OID0gNTAwMDMxLCAvLyB0aGUgYXBwbGljYXRpb24gZm9yIHRoaXMgcHJvdmlkZXIgaXMgbm90IGRlZmluZWQgZm9yIHRoaXMgc2l0ZVxuICAgIExPQURfRkFJTEVEID0gNTAwMDMyLCAvLyBjbGllbnQgZXJyb3JcbiAgICBJTlZBTElEX0VOVklST05NRU5UX0NPTkZJRyA9IDUwMDAzMywgLy8gSW4gY2FzZSB0aGVyZSBpcyBubyB0YXJnZXQgZW52aXJvbm1lbnQgaW4gdGhlIGNvbmZpZyBmaWxlIHdlJ2QgcmV0dXJuIHdpdGggIGludmFsaWRfZW52aXJvbm1lbnRfY29uZmlnIGVycm9yLlxuICAgIEVSUk9SX0RVUklOR19CQUNLRU5EX09QRVJBVElPTiA9IDUwMDAzNCxcbiAgICBUSU1FT1VUID0gNTA0MDAxLCAvLyBvdXRnb2luZyByZXF1ZXN0IGhhZCB0aW1lZCBvdXRcbiAgICBDTElFTlRUSU1FT1VUID0gNTA0MDAyLCAvLyBGb3Igc2VydmVyIFNES3MgLSBhIGNsaWVudCBzaWRlIHRpbWVvdXRcbiAgICBJTlZBTElEX1VSTCA9IDQwNDAwNCwgLy8gZW1iZWQubHkgNDA0IGVycm9yIG1lc3NhZ2UgLSB1cmwgaXMgbm90IHZhbGlkXG4gICAgTUVESUFfSVRFTVNfTk9UX1NVUFBPUlRFRCA9IDQwMTAwMSwgLy8gTWVkaWEgaXRlbXMgYSBub3QgYWxsb3dlZCBmb3IgdGhpcyBjYXRlZ29yeVxuICAgIE1JU1NJTkdfRVJST1JfQ09ERSA9IDU5OTk5OSxcbiAgICBUSElTX0FVVEhFTlRJQ0FUSU9OX01FVEhPRF9JU19DVVJSRU5UTFlfRElTQUJMRUQgID0gNDAzMzAwLFxuICAgIEZPUkNFX0xJTktfTE9HSU5fSURFTlRJRklFUl9FWElTVFMgPSA0MDkwMDMsXG4gICAgUEFTU0tFWV9BVVRIRU5USUNBVE9SX1JFR0lTVEVSRUQgPSA0MDAxMzAsXG4gICAgUEFTU0tFWV9BQk9SVEVEID0gNDAwMTMxLFxuICAgIFBBU1NLRVlfRVJST1IgPSA1MDAxMzFcbn1cbmV4cG9ydCBjb25zdCBlbnVtIEdTRXJyb3JEZXRhaWxzIHtcbiAgICBOb25lID0gMCxcbiAgICBTYW1lX3Bhc3N3b3JkID0gMTAwMDAxLCAvLyBSZXNldCBQYXNzd29yZCAtIFwiJ29sZFBhc3N3b3JkJyBjYW5ub3QgYmUgdGhlIHNhbWUgYXMgJ25ld1Bhc3N3b3JkJ1wiXG4gICAgSW52YWxpZF9wYXNzd29yZCA9IDEwMDAwMiwgLy8gUmVzZXQgUGFzc3dvcmQgLSBjdXJyZW50IHBhc3N3b3JkIGlzIHdyb25nL2ludmFsaWRcbiAgICBJbnZhbGlkX2NvdW50ZXJzX3F1ZXJ5X3dpdGhfY3Vyc29yID0gMTAwMDAzLFxufVxuIiwiaW1wb3J0ICogYXMgRVM2UHJvbWlzZSBmcm9tICdlczYtcHJvbWlzZSdcblxuT2JqZWN0LmFzc2lnbihnaWd5YSwgeyBQcm9taXNlOiBFUzZQcm9taXNlIH0pO1xuIiwiaW1wb3J0ICogYXMgYXJyYXlVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYXJyYXknO1xuaW1wb3J0IHsgYWRkTG9nIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlcic7XG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcbmltcG9ydCB7IGhhbmRsZVNwZWNpYWxGaWVsZHMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvSW50ZXJuYWxGbG93cyc7XG5pbXBvcnQgKiBhcyBldmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0V2ZW50cyc7XG5cbmZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlck5hbWUoZXZlbnROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChldmVudE5hbWUuc3Vic3RyaW5nKDAsIDIpID09PSAnb24nKSB7XG4gICAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdvbicgKyBldmVudE5hbWUuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBldmVudE5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUxpbmtCYWNrRXZlbnQge1xuICAgIGV2ZW50TmFtZTogc3RyaW5nO1xuICAgIHByb3ZpZGVyPzogc3RyaW5nO1xuICAgIENJRDogc3RyaW5nO1xuICAgIHNob3J0Q29kZT86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50T2JqZWN0IHt9XG5leHBvcnQgaW50ZXJmYWNlIElFdmVudEhhbmRsZXJJbmZvIHtcbiAgICBoYW5kbGVyOiAoZTogSUV2ZW50T2JqZWN0KSA9PiB2b2lkO1xuICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgY29udGV4dD86IE9iamVjdDtcbiAgICBwYXJhbXM/OiBPYmplY3Q7XG4gICAgZnVsbEV2ZW50TmFtZT86IHN0cmluZztcbn1cbmNvbnN0IF9ldmVudEhhbmRsZXJzOiB7IFtmdWxsRXZlbnROYW1lOiBzdHJpbmddOiBBcnJheTxJRXZlbnRIYW5kbGVySW5mbz4gfSA9IHt9O1xuY29uc3QgX3BlbmRpbmdFdmVudHMgPSB7fTtcbmV4cG9ydCBjb25zdCBfYWN0aXZlTmFtZXNwYWNlcyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChldmVudE5hbWU6IHN0cmluZywgZXZlbnRIYW5kbGVyOiAoZTogSUV2ZW50T2JqZWN0KSA9PiB2b2lkLCB0eXBlID0gJ290aGVyJywgY29udGV4dD8sIG5hbWVzcGFjZSA9ICdzb2NpYWxpemUnLCBwYXJhbXM/KTogSUV2ZW50SGFuZGxlckluZm8ge1xuICAgIGNvbnN0IGZ1bGxFdmVudE5hbWUgPSBuYW1lc3BhY2UgKyAnXycgKyBnZXRFdmVudEhhbmRsZXJOYW1lKGV2ZW50TmFtZSk7XG5cbiAgICBpZiAoIV9ldmVudEhhbmRsZXJzW2Z1bGxFdmVudE5hbWVdKSB7XG4gICAgICAgIF9ldmVudEhhbmRsZXJzW2Z1bGxFdmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVnaXN0ZXJlZEhhbmRsZXI6IElFdmVudEhhbmRsZXJJbmZvID0ge1xuICAgICAgICBoYW5kbGVyOiBldmVudEhhbmRsZXIsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICBmdWxsRXZlbnROYW1lOiBmdWxsRXZlbnROYW1lLFxuICAgIH07XG5cbiAgICBfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXS5wdXNoKHJlZ2lzdGVyZWRIYW5kbGVyKTtcblxuICAgIGlmICghdGhpcy5fYWN0aXZlTmFtZXNwYWNlc1tuYW1lc3BhY2VdICYmIGdpZ3lhLl8uYXBpQWRhcHRlcikge1xuICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXIucmVnaXN0ZXJGb3JOYW1lc3BhY2VFdmVudHMobmFtZXNwYWNlKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlTmFtZXNwYWNlc1tuYW1lc3BhY2VdID0gMTtcblxuICAgIGNvbnN0IHBlbmRpbmdFdmVudHMgPSBfcGVuZGluZ0V2ZW50c1tmdWxsRXZlbnROYW1lXTtcbiAgICBpZiAocGVuZGluZ0V2ZW50cyAmJiB0eXBlID09ICdvdGhlcicpIHtcbiAgICAgICAgX3BlbmRpbmdFdmVudHNbZnVsbEV2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZW5kaW5nRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gcGVuZGluZ0V2ZW50c1tpXTtcbiAgICAgICAgICAgIGRpc3BhdGNoUmVnaXN0ZXJlZEhhbmRsZXJzKGUuZXZlbnRPYmosIGUucGFyYW1zLCBlLnByZVByb2Nlc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZ2lzdGVyZWRIYW5kbGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShmdWxsRXZlbnROYW1lLCByZWdpc3RlcmVkSGFuZGxlcikge1xuICAgIGlmIChfZXZlbnRIYW5kbGVyc1tmdWxsRXZlbnROYW1lXSkge1xuICAgICAgICBhcnJheVV0aWxzLnJlbW92ZUJ5VmFsdWUoX2V2ZW50SGFuZGxlcnNbZnVsbEV2ZW50TmFtZV0sIHJlZ2lzdGVyZWRIYW5kbGVyKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnRPYmo6IGFueSwgcGFyYW1zPyk6IG51bWJlciB7XG4gICAgbGV0IGRpc3BhdGNoZWQgPSAwO1xuICAgIGNvbnN0IGlzSW50ZXJuYWwgPSBldmVudE9iai5pc0ludGVybmFsOyAvL2ludGVybmFsIGV2ZW50IHNob3VsZCBiZSBkaXNwYXRjaGVkIHRvIHdpZGdldHMvY29tcG9uZW50cyBvbmx5LlxuICAgIGNvbnN0IGV2ZW50TmFtZUFyciA9IGV2ZW50T2JqWydldmVudE5hbWUnXS5zcGxpdCgnLCcpO1xuICAgIGFkZExvZygnRGlzcGF0Y2hpbmcgZ2xvYmFsIGV2ZW50IFwiJyArIGV2ZW50T2JqWydldmVudE5hbWUnXSArICdcIiB3aXRoIHRoaXMgZXZlbnQgb2JqZWN0JywgZXZlbnRPYmopO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudE5hbWVBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lU2VncyA9IGV2ZW50TmFtZUFycltpXS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCBuYW1lc3BhY2UgPSBldmVudE5hbWVTZWdzLmxlbmd0aCA+IDEgPyBldmVudE5hbWVTZWdzLnNoaWZ0KCkgOiAnc29jaWFsaXplJztcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lU2Vnc1swXTtcblxuICAgICAgICBjb25zdCBldmVudEhhbmRsZXJOYW1lID0gZ2V0RXZlbnRIYW5kbGVyTmFtZShldmVudE5hbWUpO1xuICAgICAgICBjb25zdCBmdWxsRXZlbnROYW1lID0gbmFtZXNwYWNlICsgJ18nICsgZXZlbnRIYW5kbGVyTmFtZTtcbiAgICAgICAgY29uc3QgZXZlbnRIYW5kbGVycyA9IG9iamVjdFV0aWxzLmNsb25lKF9ldmVudEhhbmRsZXJzW2Z1bGxFdmVudE5hbWVdKSB8fCBbXTtcbiAgICAgICAgY29uc3QgYmFzZUV2ZW50T2JqID0gb2JqZWN0VXRpbHMuY2xvbmUoZXZlbnRPYmopO1xuICAgICAgICBiYXNlRXZlbnRPYmpbJ2lzR2xvYmFsJ10gPSB0cnVlO1xuICAgICAgICBiYXNlRXZlbnRPYmouZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICBiYXNlRXZlbnRPYmouZnVsbEV2ZW50TmFtZSA9IGV2ZW50TmFtZUFycltpXTtcbiAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5zb3VyY2UpIGJhc2VFdmVudE9iai5zb3VyY2UgPSBwYXJhbXMuc291cmNlO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5zb3VyY2VEYXRhKSBiYXNlRXZlbnRPYmouc291cmNlRGF0YSA9IHBhcmFtcy5zb3VyY2VEYXRhO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5jb250ZXh0KSBiYXNlRXZlbnRPYmouY29udGV4dCA9IHBhcmFtcy5jb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgTGlzdGVuZXJUeXBlcyA9IFsnY29tcG9uZW50J107XG4gICAgICAgIGlmICghaXNJbnRlcm5hbCkgTGlzdGVuZXJUeXBlcy5wdXNoKCdvdGhlcicpO1xuICAgICAgICBmb3IgKGxldCBpTGlzdGVuZXJUeXBlID0gMDsgaUxpc3RlbmVyVHlwZSA8IExpc3RlbmVyVHlwZXMubGVuZ3RoOyBpTGlzdGVuZXJUeXBlKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyVHlwZSA9IExpc3RlbmVyVHlwZXNbaUxpc3RlbmVyVHlwZV07XG4gICAgICAgICAgICBmb3IgKGxldCBpSGFuZGxlciA9IDA7IGlIYW5kbGVyIDwgZXZlbnRIYW5kbGVycy5sZW5ndGg7IGlIYW5kbGVyKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvSGFuZGxlcjogSUV2ZW50SGFuZGxlckluZm8gPSBldmVudEhhbmRsZXJzW2lIYW5kbGVyXTsgLy97dHlwZTogJ290aGVyJywgaGFuZGxlcjpmdW5jdGlvbiwgY29udGV4dDogb2JqZWN0fVxuICAgICAgICAgICAgICAgIGlmIChvSGFuZGxlci50eXBlID09IGxpc3RlbmVyVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudE9iakNvcHkgPSBvYmplY3RVdGlscy5jbG9uZShiYXNlRXZlbnRPYmopO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqQ29weVsnY29udGV4dCddICYmIG9IYW5kbGVyLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50T2JqQ29weVsnY29udGV4dCddID0gb0hhbmRsZXJbJ2NvbnRleHQnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50T2JqQ29weVsnY29udGV4dCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRPYmpDb3B5Wydjb250ZXh0J107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9jb250ZXh0IGlzIG5vdyB0YWtlbiBmcm9tIHRoZSBjYWxsIHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnRcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJUeXBlICE9PSAnY29tcG9uZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3BlY2lhbEZpZWxkcyhldmVudE9iakNvcHkpOyAvLyBNYWtlIHN1cmUgcmV0dXJuZWQgZmllbGRzIHN1Y2ggYXMgZnJpZW5kcyBhcmUgcmV0dXJuZWQgYXMgY29sbGVjdGlvbnMuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBGZWF0dXJlICMzNDUyMlxuICAgICAgICAgICAgICAgICAgICBpZiAob0hhbmRsZXIucGFyYW1zICYmIG9IYW5kbGVyLnBhcmFtc1snc2lnbktleSddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE9iakNvcHlbJ1VJRFNpZ25hdHVyZSddID0gZXZlbnRPYmpbJ3NpZ25LZXlzVUlEU2lnbmF0dXJlJ11bb0hhbmRsZXIucGFyYW1zWydzaWduS2V5J11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50T2JqQ29weVsnc2lnbktleXNVSURTaWduYXR1cmUnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvSGFuZGxlci5oYW5kbGVyKGV2ZW50T2JqQ29weSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRMb2coJ0Vycm9yIHdoaWxlIHRyeWluZyB0byBpbnZva2UgXCInICsgZXZlbnRPYmpbJ2V2ZW50TmFtZSddICsgJ1wiIGdsb2JhbCBldmVudCBoYW5kbGVyJywgZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNJbnRlcm5hbCkge1xuICAgICAgICAgICAgZXZlbnRzLl9kaXNwYXRjaEZyb21NYXBzKGJhc2VFdmVudE9iaiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhID0gd2luZG93WydHZW5lc2lzRXhjaGFuZ2VfR2lneWEnXTtcbiAgICAgICAgY29uc3QgZ2lneWFfb21uaXR1cmVfY29uZiA9IHdpbmRvd1snZ2lneWFfb21uaXR1cmVfY29uZiddO1xuICAgICAgICBjb25zdCBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jID0gd2luZG93WydteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jJ107XG4gICAgICAgIGlmICghaXNJbnRlcm5hbCAmJiB0eXBlb2YgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnaWd5YV9vbW5pdHVyZV9jb25mICE9ICd1bmRlZmluZWQnICYmIG5hbWVzcGFjZSA9PSAnc29jaWFsaXplJykge1xuICAgICAgICAgICAgY29uc3QgZ2UgPSBuZXcgR2VuZXNpc0V4Y2hhbmdlX0dpZ3lhKGdpZ3lhX29tbml0dXJlX2NvbmYpO1xuICAgICAgICAgICAgZ2UucHJvY2Vzc0FjdGlvbihiYXNlRXZlbnRPYmopO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBteU9tbml0dXJlSW50ZWdyYXRpb25GdW5jICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgbXlPbW5pdHVyZUludGVncmF0aW9uRnVuYyhnaWd5YV9vbW5pdHVyZV9jb25mLCBiYXNlRXZlbnRPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpc3BhdGNoZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaFdoZW5IYW5kbGVyQWRkZWQoZXZlbnRPYmo6IE9iamVjdCwgcGFyYW1zOiBPYmplY3QgPSB7fSwgcHJlUHJvY2Vzcz86IChldmVudE9iajogT2JqZWN0LCBjYWxsYmFjazogRnVuY3Rpb24pID0+IHZvaWQpIHtcbiAgICBjb25zdCBldmVudE5hbWVTZWdzID0gZXZlbnRPYmpbJ2V2ZW50TmFtZSddLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgbmFtZXNwYWNlID0gZXZlbnROYW1lU2Vncy5sZW5ndGggPiAxID8gZXZlbnROYW1lU2Vncy5zaGlmdCgpIDogJ3NvY2lhbGl6ZSc7XG4gICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lU2Vnc1swXTtcblxuICAgIGRpc3BhdGNoUmVnaXN0ZXJlZEhhbmRsZXJzKGV2ZW50T2JqLCBwYXJhbXMsIHByZVByb2Nlc3MsIChkaXNwYXRjaGVkOiBudW1iZXIpID0+IHtcbiAgICAgICAgLy8gSWYgbm8gaGFuZGxlcnMgd2VyZSBkaXNwYXRjaGVkLCB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBoYW5kbGVyIHRvIGJlIGFkZGVkXG4gICAgICAgIGlmIChkaXNwYXRjaGVkID09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50SGFuZGxlck5hbWUgPSAnb24nICsgZXZlbnROYW1lLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgZXZlbnROYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxFdmVudE5hbWUgPSBuYW1lc3BhY2UgKyAnXycgKyBldmVudEhhbmRsZXJOYW1lO1xuICAgICAgICAgICAgaWYgKCFfcGVuZGluZ0V2ZW50c1tmdWxsRXZlbnROYW1lXSkgX3BlbmRpbmdFdmVudHNbZnVsbEV2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgICAgIF9wZW5kaW5nRXZlbnRzW2Z1bGxFdmVudE5hbWVdLnB1c2goeyBldmVudE9iajogZXZlbnRPYmosIHBhcmFtczogcGFyYW1zLCBwcmVQcm9jZXNzOiBwcmVQcm9jZXNzIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaFdoZW5IYW5kbGVyc0FkZGVkKGV2ZW50TmFtZXM6IEFycmF5PHN0cmluZz4sIGV2ZW50T2JqOiBPYmplY3QsIHBhcmFtczogT2JqZWN0ID0ge30sIHByZVByb2Nlc3M/OiAoZXZlbnRPYmo6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB2b2lkKSB7XG4gICAgZm9yIChjb25zdCBldmVudE5hbWUgb2YgZXZlbnROYW1lcykge1xuICAgICAgICBkaXNwYXRjaFdoZW5IYW5kbGVyQWRkZWQoe2V2ZW50TmFtZSwgLi4uZXZlbnRPYmp9LCBwYXJhbXMsIHByZVByb2Nlc3MpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hSZWdpc3RlcmVkSGFuZGxlcnMoZXZlbnRPYmo6IE9iamVjdCwgcGFyYW1zOiBPYmplY3QsIHByZVByb2Nlc3M6IEZ1bmN0aW9uLCBjYWxsYmFjaz86IChkaXNwYXRjaGVkOiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICBjb25zdCBmbkRpc3BhdGNoID0gKGU6IE9iamVjdCkgPT4ge1xuICAgICAgICBsZXQgZGlzcGF0Y2hlZCA9IDA7XG5cbiAgICAgICAgaWYgKCFlWydjYW5jZWwnXSkge1xuICAgICAgICAgICAgZGlzcGF0Y2hlZCA9IGRpc3BhdGNoKGUsIHBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRpc3BhdGNoZWQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChwcmVQcm9jZXNzKSB7XG4gICAgICAgIHByZVByb2Nlc3MoZXZlbnRPYmosIGZuRGlzcGF0Y2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZuRGlzcGF0Y2goZXZlbnRPYmopO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50c0Zvck9wZXJhdGlvbihvcGVyYXRpb24pIHtcbiAgICBjb25zdCBhY3RpdmVMb2dpbkV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKG9wZXJhdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2xvZ2luJykgIT0gLTEpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZU5hbWVzcGFjZXMuc29jaWFsaXplKSBhY3RpdmVMb2dpbkV2ZW50cy5wdXNoKCdzb2NpYWxpemUubG9naW4nKTtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZU5hbWVzcGFjZXMuYWNjb3VudHMpIGFjdGl2ZUxvZ2luRXZlbnRzLnB1c2goJ2FjY291bnRzLmxvZ2luJyk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhZGRjb25uZWN0aW9uJykgIT0gLTEpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZU5hbWVzcGFjZXMuc29jaWFsaXplKSBhY3RpdmVMb2dpbkV2ZW50cy5wdXNoKCdzb2NpYWxpemUuY29ubmVjdGlvbkFkZGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGl2ZUxvZ2luRXZlbnRzLmpvaW4oJywnKTtcbn1cbiIsImltcG9ydCB7IEdTRXJyb3JzIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dTRXJyb3JzJztcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuaW1wb3J0ICogYXMgdG9rZW5TdG9yZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy5BZGFwdGVycy5XZWIvYXBwL1Rva2VuU3RvcmUnO1xuaW1wb3J0ICogYXMgbG9jYWxTdG9yYWdlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZSc7XG5pbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XG5pbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcblxuZXhwb3J0IGVudW0gTWVzc2FnaW5nTWV0aG9kIHtcbiAgICBMb2NhbFN0b3JhZ2VMaXN0ZW5lcixcbiAgICBQb3N0TWVzc2FnZSxcbiAgICBGbGFzaCxcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NvbXBsZXRlUmVnaXN0cmF0aW9uKFxuICAgIHJlczogT2JqZWN0LFxuICAgIHBhcmFtczogT2JqZWN0LFxuICAgIG1ldGhvZE5hbWU6IHN0cmluZyxcbiAgICBjYWxsYmFjazogKHJlc3BvbnNlLCBzdXBwcmVzc0V2ZW50cz86IGJvb2xlYW4sIHJldHJ5PzogYm9vbGVhbikgPT4gdm9pZCxcbikge1xuICAgIHZhciBzY3JlZW5TZXQ7XG4gICAgdmFyIHJldHJ5O1xuICAgIHZhciBwZW5kaW5nID0gZmFsc2U7XG4gICAgbGV0IHByb3ZpZGVyU2Vzc2lvbkluZm87XG4gICAgaWYgKHJlc1snZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuQUZURVJfRU1BSUxfVkVSSUZJQ0FUSU9OKSB7XG4gICAgICAgIC8vIEhhbmRsZSBhdXRvTG9naW4gZnJvbSByZWdpc3RyYXRpb24gbGlua1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbygnZmluYWxpemluZyByZWdpc3RyYXRpb24gYWZ0ZXIgZW1haWwgdmVyaWZpY2F0aW9uJyk7XG4gICAgICAgIHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBnaWd5YS5hY2NvdW50cy5maW5hbGl6ZVJlZ2lzdHJhdGlvbih7XG4gICAgICAgICAgICByZWdUb2tlbjogcmVzWydyZWdUb2tlbiddLFxuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsIC8vIGJlY2F1c2UgYm9vdHN0cmFwIG1heSBub3QgaGF2ZSBmaW5pc2hlZCB5ZXRcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgICAhcGFyYW1zWydpZ25vcmVJbnRlcnJ1cHRpb25zJ10gJiZcbiAgICAgICAgIXBhcmFtc1snZG9udEhhbmRsZVNjcmVlblNldCddICYmXG4gICAgICAgICgoKHJlc1sncmVnVG9rZW4nXSB8fCBwYXJhbXNbJ3JlZ1Rva2VuJ10pICYmIC8vIGhhcyByZWdUb2tlblxuICAgICAgICAgICAgKHJlc1snZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuT0tfV0lUSF9FUlJPUl9MT0dJTl9JREVOVElGSUVSX0VYSVNUUyB8fCAvLyBzb2NpYWxMb2dpbi9zZXRBY2NvdW50SW5mbyBzYXZlZCB3aXRoIGxvZ2luSUQgZXhpc3QgZXJyb3JcbiAgICAgICAgICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkZPUkNFX0xJTktfTE9HSU5fSURFTlRJRklFUl9FWElTVFMgfHwgLy9mb3JjZUxpbmtpbmcgbG9naW5JZCBleGlzdHNcbiAgICAgICAgICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkxPR0lOX0lERU5USUZJRVJfRVhJU1RTKSkgfHwgLy8gbG9naW5JRCBleGlzdHNcbiAgICAgICAgcmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5BQ0NPVU5UX1BFTkRJTkdfUkVHSVNUUkFUSU9OIHx8IC8vIHBlbmRpbmcgcmVnaXN0cmF0aW9uXG4gICAgICAgIHJlc1snZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuQUNDT1VOVF9QRU5ESU5HX1ZFUklGSUNBVElPTiB8fCAvLyBwZW5kaW5nIGVtYWlsIHZlcmlmaWNhdGlvblxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfTUlTU0lOR19MT0dJTklEIHx8IC8vIHBlbmRpbmcgTG9naW5JRFxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19URkFfVkVSSUZJQ0FUSU9OIHx8IC8vIHBlbmRpbmcgVEZBIHZlcmlmaWNhdGlvblxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19URkFfUkVHSVNUUkFUSU9OIHx8IC8vIHBlbmRpbmcgVEZBIHJlZ2lzdHJhdGlvblxuICAgICAgICByZXNbJ2Vycm9yQ29kZSddID09IEdTRXJyb3JzLkFDQ09VTlRfUEVORElOR19SRUNFTlRfTE9HSU4gfHwgLy8gcGVuZGluZyByZWNlbnQgbG9naW5cbiAgICAgICAgcmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5QRU5ESU5HX1BBU1NXT1JEX0NIQU5HRSB8fCAvLyBwZW5kaW5nIHBhc3N3b3JkIGNoYW5nZVxuICAgICAgICAgICAgcmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5QRU5ESU5HX0NPREVfVkVSSUZJQ0FUSU9OKSAvLyBwZW5kaW5nIGNvZGUgdmVyaWZpY2F0aW9uXG4gICAgKSB7XG4gICAgICAgIGlmKHJlc1snZXJyb3JDb2RlJ10gPT0gR1NFcnJvcnMuRk9SQ0VfTElOS19MT0dJTl9JREVOVElGSUVSX0VYSVNUUykge1xuICAgICAgICAgICAgcHJvdmlkZXJTZXNzaW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHJlc1snYWNjZXNzX3Rva2VuJ10sXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IHJlc1sncHJvdmlkZXInXSxcbiAgICAgICAgICAgICAgICBwcm92aWRlcl91aWQ6IHJlc1sncHJvdmlkZXJfdWlkJ10sXG4gICAgICAgICAgICAgICAgaWRUb2tlbjogcmVzWydpZF90b2tlbiddLFxuICAgICAgICAgICAgICAgIGNvZGU6cmVzWydjb2RlJ10sXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IHJlc1snbGFzdE5hbWUnXSxcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHJlc1snZmlyc3ROYW1lJ10sXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld01vZGFsO1xuICAgICAgICBpZiAocmVzWydlcnJvckNvZGUnXSA9PSBHU0Vycm9ycy5BQ0NPVU5UX1BFTkRJTkdfUkVDRU5UX0xPR0lOKSB7XG4gICAgICAgICAgICByZXRyeSA9IHRydWU7XG4gICAgICAgICAgICBuZXdNb2RhbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtc1snZGVmYXVsdE1vYmlsZVJlZ1NjcmVlblNldCddICYmIGxvY2FsSW5mby5pc01vYmlsZSkge1xuICAgICAgICAgICAgc2NyZWVuU2V0ID0gcGFyYW1zWydkZWZhdWx0TW9iaWxlUmVnU2NyZWVuU2V0J107XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zWydkZWZhdWx0UmVnU2NyZWVuU2V0J10pIHtcbiAgICAgICAgICAgIHNjcmVlblNldCA9IHBhcmFtc1snZGVmYXVsdFJlZ1NjcmVlblNldCddO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNjcmVlblNldCkge1xuICAgICAgICBnaWd5YS5sb2dnZXIuaW5mbyhgc2hvd2luZyBzY3JlZW5zZXQgJyR7c2NyZWVuU2V0fScgZm9yIGVycm9yQ29kZSAke3Jlc1snZXJyb3JDb2RlJ119YCk7XG4gICAgICAgIGdpZ3lhLmxvZ2dlci5ncm91cChzY3JlZW5TZXQpO1xuXG4gICAgICAgIGdpZ3lhLmFjY291bnRzLnNob3dTY3JlZW5TZXQoe1xuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsIC8vIGJlY2F1c2UgYm9vdHN0cmFwIG1heSBub3QgaGF2ZSBmaW5pc2hlZCB5ZXRcbiAgICAgICAgICAgIG5ld01vZGFsLFxuICAgICAgICAgICAgc2NyZWVuU2V0LFxuICAgICAgICAgICAgaW5pdGlhbE1ldGhvZDogbWV0aG9kTmFtZSxcbiAgICAgICAgICAgIGluaXRpYWxSZXNwb25zZTogcmVzLFxuICAgICAgICAgICAgc3VwcHJlc3NMb2dpbkV2ZW50OiBwYXJhbXNbJ3N1cHByZXNzTG9naW5FdmVudCddLFxuICAgICAgICAgICAgcHJvdmlkZXJTZXNzaW9uSW5mbyxcbiAgICAgICAgICAgIG9uRXJyb3I6IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25IaWRlOiBlID0+IHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZ3JvdXBFbmQoc2NyZWVuU2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoZS5yZWFzb24gPT09ICdmaW5pc2hlZCcgJiYgZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5mbzogZS51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhzdWNjZXNzUmVzcG9uc2UsIHRydWUsIHJldHJ5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIXBlbmRpbmcpIHtcbiAgICAgICAgY2FsbGJhY2socmVzKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tHcm91cEludml0YXRpb24ocGFyYW1zOiBhbnkpIHtcbiAgICBpZiAoIXBhcmFtcy5pbnZpdGF0aW9uSWQpIHtcbiAgICAgICAgZ2lneWEuZXZlbnRzLmdsb2JhbC5kaXNwYXRjaFdoZW5IYW5kbGVyc0FkZGVkKFsnYWNjb3VudHMuZXJyb3InLCAnc29jaWFsaXplLmVycm9yJ10sIHtcbiAgICAgICAgICAgIHN0YXR1czogJ01JU1NJTkdfUkVRVUlSRURfUEFSQU1FVEVSJyxcbiAgICAgICAgICAgIHN0YXR1c01lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcjogaW52aXRhdGlvbklkJyxcbiAgICAgICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuTUlTU0lOR19SRVFVSVJFRF9QQVJBTUVURVIsXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcjogaW52aXRhdGlvbklkJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgY29uZmlybWF0aW9uID0gYXdhaXQgY29uZmlybUdyb3VwSW52aXRhdGlvbihwYXJhbXMuaW52aXRhdGlvbklkKTtcbiAgICBpZiAoIWNvbmZpcm1hdGlvbi50b2tlbikge1xuICAgICAgICBnaWd5YS5ldmVudHMuZ2xvYmFsLmRpc3BhdGNoV2hlbkhhbmRsZXJzQWRkZWQoWydhY2NvdW50cy5lcnJvcicsICdzb2NpYWxpemUuZXJyb3InXSwgY29uZmlybWF0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHRva2VuU3RvcmUuZ2V0KCkgPT09IG51bGwpIHtcbiAgICAgICAgZ2lneWEuYWNjb3VudHMuYWRkRXZlbnRIYW5kbGVycyh7XG4gICAgICAgICAgICBvbkxvZ2luOiBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgIGF3YWl0IGZpbmFsaXplR3JvdXBJbnZpdGF0aW9uKGNvbmZpcm1hdGlvbi50b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzY3JlZW5TZXQgPSBsb2NhbEluZm8uaXNNb2JpbGUgPyBnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYuZGVmYXVsdE1vYmlsZVJlZ1NjcmVlblNldCA6IGdpZ3lhLnRoaXNTY3JpcHQuZ2xvYmFsQ29uZi5kZWZhdWx0UmVnU2NyZWVuU2V0O1xuICAgICAgICBnaWd5YS5hY2NvdW50cy5zaG93U2NyZWVuU2V0KHtcbiAgICAgICAgICAgIGlnbm9yZUFwaVF1ZXVlOiB0cnVlLCAvLyBiZWNhdXNlIGJvb3RzdHJhcCBtYXkgbm90IGhhdmUgZmluaXNoZWQgeWV0XG4gICAgICAgICAgICBzY3JlZW5TZXRcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgZmluYWxpemVHcm91cEludml0YXRpb24oY29uZmlybWF0aW9uLnRva2VuKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBjb25maXJtR3JvdXBJbnZpdGF0aW9uKGludml0YXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGdpZ3lhLmFjY291bnRzLmdyb3Vwcy5pbnZpdGF0aW9uQ29uZmlybSh7XG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSwgLy8gYmVjYXVzZSBib290c3RyYXAgbWF5IG5vdCBoYXZlIGZpbmlzaGVkIHlldFxuICAgICAgICAgICAgaW52aXRhdGlvbklkLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHJlc29sdmVcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBmaW5hbGl6ZUdyb3VwSW52aXRhdGlvbih0b2tlbjogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBnaWd5YS5hY2NvdW50cy5ncm91cHMuZmluYWxpemVJbnZpdGF0aW9uKHtcbiAgICAgICAgICAgIGlnbm9yZUFwaVF1ZXVlOiB0cnVlLCAvLyBiZWNhdXNlIGJvb3RzdHJhcCBtYXkgbm90IGhhdmUgZmluaXNoZWQgeWV0XG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIGNhbGxiYWNrOiByZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JDb2RlICE9PSBHU0Vycm9ycy5PSykge1xuICAgICAgICAgICAgICAgICAgICBnaWd5YS5ldmVudHMuZ2xvYmFsLmRpc3BhdGNoV2hlbkhhbmRsZXJzQWRkZWQoWydhY2NvdW50cy5lcnJvcicsICdzb2NpYWxpemUuZXJyb3InXSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnaWd5YS5ldmVudHMuZ2xvYmFsLmRpc3BhdGNoV2hlbkhhbmRsZXJzQWRkZWQoXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2FjY291bnRzLmZpbmFsaXplR3JvdXBJbnZpdGF0aW9uJywgJ3NvY2lhbGl6ZS5maW5hbGl6ZUdyb3VwSW52aXRhdGlvbiddLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpZ3lhU2V0dGluZ3MoZ3JvdXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZ2lneWFTZXR0aW5ncyA9IGxvY2FsU3RvcmFnZVV0aWxzLmdldE9iamVjdCgnZ2lneWFTZXR0aW5ncycpO1xuICAgIHJldHVybiBKU09OVXRpbHMuc2VyaWFsaXplKGdpZ3lhU2V0dGluZ3NbZ3JvdXBdKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRHaWd5YVNldHRpbmdzKGdyb3VwOiBzdHJpbmcsIHNldHRpbmdzOiBPYmplY3QpOiB2b2lkIHtcbiAgICBjb25zdCBnaWd5YVNldHRpbmdzID0gbG9jYWxTdG9yYWdlVXRpbHMuZ2V0T2JqZWN0KCdnaWd5YVNldHRpbmdzJywgeyBbZ3JvdXBdOiB7fSB9KTtcbiAgICBmb3IgKHZhciBwIGluIHNldHRpbmdzKSB7XG4gICAgICAgIGdpZ3lhU2V0dGluZ3NbZ3JvdXBdW3BdID0gc2V0dGluZ3NbcF07XG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZVV0aWxzLnNldEl0ZW0oJ2dpZ3lhU2V0dGluZ3MnLCBKU09OVXRpbHMuc2VyaWFsaXplKGdpZ3lhU2V0dGluZ3MpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWxHaWd5YVNldHRpbmdzKGdyb3VwOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIWdyb3VwKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZVV0aWxzLnJlbW92ZUl0ZW0oJ2dpZ3lhU2V0dGluZ3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBnaWd5YVNldHRpbmdzID0gbG9jYWxTdG9yYWdlVXRpbHMuZ2V0T2JqZWN0KCdnaWd5YVNldHRpbmdzJyk7XG4gICAgICAgIGlmIChnaWd5YVNldHRpbmdzKSB7XG4gICAgICAgICAgICBkZWxldGUgZ2lneWFTZXR0aW5nc1tncm91cF07XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VVdGlscy5zZXRJdGVtKCdnaWd5YVNldHRpbmdzJywgSlNPTlV0aWxzLnNlcmlhbGl6ZShnaWd5YVNldHRpbmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU3BlY2lhbEZpZWxkcyhvKSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSBnaWd5YS5zb2NpYWxpemUuQ29sbGVjdGlvbjtcbiAgICB2YXIgdG9UeXBlZCA9IGZ1bmN0aW9uKGFyciwgY3Rvcikge1xuICAgICAgICB2YXIgb2FyciA9IFtdO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBlbCA9IGFycltpXTtcbiAgICAgICAgd2hpbGUgKGVsKSB7XG4gICAgICAgICAgICBvYXJyLnB1c2gobmV3IGN0b3IoZWwpKTtcbiAgICAgICAgICAgIGlmIChvYXJyW2ldLmlkZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICBjb252ZXJ0SWRlbnRpdGllc0FycmF5VG9PYmplY3Qob2FycltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbCA9IGFyclsrK2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYXJyO1xuICAgIH07XG5cbiAgICBpZiAoby5waG90b3MpIG8ucGhvdG9zID0gbmV3IGNvbGxlY3Rpb24oby5waG90b3MsICdwaG90b0lEJyk7XG4gICAgaWYgKG8uYWxidW1zKSBvLmFsYnVtcyA9IG5ldyBjb2xsZWN0aW9uKG8uYWxidW1zLCAnYWxidW1JRCcpO1xuICAgIGlmIChvLmNvbnRhY3RzKSBvLmNvbnRhY3RzID0gbmV3IGNvbGxlY3Rpb24odG9UeXBlZChvLmNvbnRhY3RzLCBnaWd5YS5zb2NpYWxpemUuQ29udGFjdCksICdlbWFpbCcpO1xuICAgIGlmIChvLmZyaWVuZCkgby5mcmllbmQgPSBuZXcgY29sbGVjdGlvbih0b1R5cGVkKG8uZnJpZW5kLCBnaWd5YS5zb2NpYWxpemUuRnJpZW5kKSwgJ1VJRCcpO1xuXG4gICAgaWYgKG8udXNlcikgby51c2VyID0gbmV3IGdpZ3lhLnNvY2lhbGl6ZS5Vc2VyKG8udXNlcik7XG5cbiAgICBpZiAoby5mcmllbmRzICYmIG8uZnJpZW5kcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhciBhclVJRHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvLmZyaWVuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyVUlEcy5wdXNoKG8uZnJpZW5kc1tpXS5VSUQpO1xuICAgICAgICB9XG4gICAgICAgIG8uVUlEcyA9IGFyVUlEcy5qb2luKCcsJyk7XG5cbiAgICAgICAgby5mcmllbmRzID0gbmV3IGNvbGxlY3Rpb24odG9UeXBlZChvLmZyaWVuZHMsIGdpZ3lhLnNvY2lhbGl6ZS5GcmllbmQpLCAnVUlEJyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRJZGVudGl0aWVzQXJyYXlUb09iamVjdChvKSB7XG4gICAgaWYgKG8uaWRlbnRpdGllcyA9PSBudWxsKSB7XG4gICAgICAgIG8uaWRlbnRpdGllcyA9IHt9O1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmlkZW50aXRpZXMuY29uc3RydWN0b3IgIT0gQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaWRlbnRpdGllc0FycmF5ID0gby5pZGVudGl0aWVzO1xuICAgIG8uaWRlbnRpdGllcyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRlbnRpdGllc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG8uaWRlbnRpdGllc1tpZGVudGl0aWVzQXJyYXlbaV0ucHJvdmlkZXJdID0gbmV3IGdpZ3lhLnNvY2lhbGl6ZS5JZGVudGl0eShpZGVudGl0aWVzQXJyYXlbaV0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRVc2VySW5mb1RvRXZlbnQocmVzcG9uc2U6IE9iamVjdCwgdGFyZ2V0T2JqZWN0OiBPYmplY3QsIGFkZExvZ2luUHJvcGVydGllcz86IGJvb2xlYW4sIHVzZUJhc2VQaG90b1VSTD86IHN0cmluZykge1xuICAgIHZhciBvVXNlciA9IHJlc3BvbnNlWyd1c2VyJ10gfHwgcmVzcG9uc2VbJ3VzZXJJbmZvJ107XG4gICAgaWYgKHRhcmdldE9iamVjdCA9PSBudWxsKSB0YXJnZXRPYmplY3QgPSB7fTtcbiAgICBpZiAob1VzZXIgIT0gbnVsbCkge1xuICAgICAgICB0YXJnZXRPYmplY3RbJ3VzZXInXSA9IG9iamVjdFV0aWxzLmNsb25lKG9Vc2VyKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlWydpc0xvZ2dlZEluJ10gIT0gbnVsbCkgdGFyZ2V0T2JqZWN0Wyd1c2VyJ11bJ2lzTG9nZ2VkSW4nXSA9IHJlc3BvbnNlWydpc0xvZ2dlZEluJ107XG4gICAgICAgIGlmIChyZXNwb25zZVsnaXNTaXRlVUlEJ10gIT0gbnVsbCkgdGFyZ2V0T2JqZWN0Wyd1c2VyJ11bJ2lzU2l0ZVVJRCddID0gcmVzcG9uc2VbJ2lzU2l0ZVVJRCddO1xuICAgICAgICBpZiAocmVzcG9uc2VbJ2lSYW5rJ10gIT0gbnVsbCkgdGFyZ2V0T2JqZWN0Wyd1c2VyJ11bJ2lSYW5rJ10gPSByZXNwb25zZVsnaVJhbmsnXTtcbiAgICB9XG5cbiAgICBpZiAoYWRkTG9naW5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIG9iamVjdFV0aWxzLmV4dHJhY3RQcm9wZXJ0aWVzKHJlc3BvbnNlLCB0YXJnZXRPYmplY3QsICdzaWduYXR1cmV8VUlEU2lnfHRpbWVzdGFtcHxVSURTaWduYXR1cmV8c2lnbmF0dXJlVGltZXN0YW1wfFVJRHxzaWduS2V5c1VJRFNpZ25hdHVyZXxkYXRhQ2VudGVyfGlkX3Rva2VufGdyb3VwcycpO1xuICAgICAgICBpZiAodGFyZ2V0T2JqZWN0Wyd1c2VyJ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGFyZ2V0T2JqZWN0WydVSUQnXSA9IG9Vc2VyLlVJRDtcbiAgICAgICAgICAgIHRhcmdldE9iamVjdFsnaXNTaXRlVUlEJ10gPSBvVXNlci5pc1NpdGVVSUQ7XG4gICAgICAgICAgICAvLyBpc1NpdGVVSUQgaXMgdGVtcG9yYXJ5IGZvciBodHRwczovL2dpZ3lhLm15LnNhbGVzZm9yY2UuY29tLzUwMDQwMDAwMDBUM3FjWlxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRPYmplY3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VuZEVtYWlsTmF0aXZlKHBhcmFtczogT2JqZWN0KSB7XG4gICAgdmFyIHVzZXJBY3Rpb24gPSBwYXJhbXNbJ3VzZXJBY3Rpb24nXSB8fCB7fTtcbiAgICB2YXIgc3ViamVjdCA9IHVzZXJBY3Rpb25bJ3RpdGxlJ10gfHwgJyc7XG4gICAgdmFyIGJvZHkgPSB1c2VyQWN0aW9uWydsaW5rQmFjayddIHx8ICcnO1xuICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSAnbWFpbHRvOj90bz0mc3ViamVjdD0nICsgVVJMVXRpbHMuVVJMRW5jb2RlKHN1YmplY3QpICsgJyZib2R5PScgKyBVUkxVdGlscy5VUkxFbmNvZGUoYm9keSk7XG4gICAgZ2lneWEuc29jaWFsaXplLnNlbmRFbWFpbChwYXJhbXMsIHsgZG9udFNlbmRFbWFpbDogdHJ1ZSB9KTsgLy8gVG8gcmVwb3J0IHRoYXQgc2VuZCB3aXRob3V0IHNlbmRpbmcgaXRcbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCAqIGFzIGFycmF5VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2FycmF5JztcbmltcG9ydCAqIGFzIHNjcmlwdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zY3JpcHQnO1xuaW1wb3J0IHsgZ2V0Q2RuUmVzb3VyY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0IGNvb2tpZVV0aWxzIGZyb20gXCIuL1V0aWxzL2Nvb2tpZVwiO1xuZXhwb3J0IHZhciBDT05TT0xFX0xPR19MRVZFTFM6IHN0cmluZ1tdID0gWydkZWJ1ZycsICdpbmZvJywgJ2xvZycsICd3YXJuJywgJ2Vycm9yJ107XG5leHBvcnQgdmFyIHNlbGVjdGVkQ29uc29sZUxvZ0xldmVsczogc3RyaW5nW10gPSBbXTtcbmV4cG9ydCB2YXIgX2xvZyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICBjb29raWVVdGlscy5zZXQoJ19naWdfZGJnQ29uc29sZV9sb2cnLCAnMScsIG51bGwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgY29va2llVXRpbHMuc2V0KCdfZ2lnX2RiZ0NvbnNvbGVfbG9nJywgJzAnLCBudWxsKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfaXNFbmFibGVkKCkge1xuICAgIHZhciBpc01hbnVhbGx5RW5hYmxlZCA9ICFnaWd5YS5sb2NhbEluZm8uaXNOYXRpdmVNb2JpbGVBcHAgJiYgY29va2llVXRpbHMuZ2V0KCdfZ2lnX2RiZ0NvbnNvbGVfbG9nJyk7XG4gICAgaWYgKHR5cGVvZiBpc01hbnVhbGx5RW5hYmxlZCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNNYW51YWxseUVuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaXNNYW51YWxseUVuYWJsZWQgPT09ICcxJztcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZWN0ZWRDb25zb2xlTG9nTGV2ZWxzLmxlbmd0aCA+IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkTG9nKHRpdGxlOiBzdHJpbmcsIG9iajogYW55LCB3cml0ZVRvQ29uc29sZSA9IGZhbHNlKSB7XG4gICAgaWYgKF9pc0VuYWJsZWQoKSB8fCB3cml0ZVRvQ29uc29sZSkge1xuICAgICAgICB2YXIgc0xvZyA9IHRpdGxlO1xuXG4gICAgICAgIG9iaiA9IG9iamVjdFV0aWxzLmNsb25lKG9iaiwgdHJ1ZSwgZmFsc2UsIDQsIG51bGwsIHRydWUpO1xuXG4gICAgICAgIGlmIChvYmogIT0gbnVsbCkgc0xvZyArPSAnOicgKyAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyA/ICdcXG4nIDogJycpICsgSlNPTlV0aWxzLnNlcmlhbGl6ZShvYmosIHRydWUsIHRydWUpO1xuXG4gICAgICAgIGlmICh3cml0ZVRvQ29uc29sZSAmJiAodHlwZW9mIGNvbnNvbGUgPT0gJ29iamVjdCcgJiYgY29uc29sZS5sb2cpKSBjb25zb2xlLmxvZyhzTG9nKTtcblxuICAgICAgICBpZiAoX2lzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBfbG9nLnB1c2goc0xvZyk7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpZ3lhX2xvZycpICE9IG51bGwgJiYgc2hvdykgc2hvdygpO1xuXG4gICAgICAgICAgICB2YXIgbG9nVHlwZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGFycmF5VXRpbHMuaW5kZXhPZihDT05TT0xFX0xPR19MRVZFTFMsIHRpdGxlKSAhPSAtMSkgbG9nVHlwZSA9IHRpdGxlO1xuICAgICAgICAgICAgZWxzZSBsb2dUeXBlID0gJ2xvZyc7XG5cbiAgICAgICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlci5vbkpTTG9nKGxvZ1R5cGUsIHNMb2cpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0NhbGwobmFtZSwgcGFyYW1zLCBsYXN0U291cmNlPykge1xuICAgIGlmICghbGFzdFNvdXJjZSkgbGFzdFNvdXJjZSA9IHBhcmFtcy5sYXN0U291cmNlO1xuICAgIGFkZExvZyhcbiAgICAgICAgJ0NhbGxpbmcgJyArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgIChsYXN0U291cmNlICYmIGxhc3RTb3VyY2UgIT0gbmFtZSA/ICcgZm9yICcgKyBsYXN0U291cmNlIDogJycpICtcbiAgICAgICAgICAgIChwYXJhbXMuc291cmNlICYmIGxhc3RTb3VyY2UgIT0gcGFyYW1zLnNvdXJjZSA/ICcgaW5pdGlhdGVkIGZyb20gJyArIHBhcmFtcy5zb3VyY2UgOiAnJykgK1xuICAgICAgICAgICAgJyB3aXRoIHRoZXNlIHBhcmFtcycsXG4gICAgICAgIHBhcmFtcyxcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIHNjcmlwdFV0aWxzLmxvYWQoXG4gICAgICAgIGdldENkblJlc291cmNlKCcvanMvZ2lneWEuc2VydmljZXMuc29jaWFsaXplLnBsdWdpbnMubG9nLm1pbi5qcycpLFxuICAgICAgICBudWxsLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNob3dDb25maWcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZSxcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3dMb2coKSB7XG4gICAgc2NyaXB0VXRpbHMubG9hZChcbiAgICAgICAgZ2V0Q2RuUmVzb3VyY2UoJy9qcy9naWd5YS5zZXJ2aWNlcy5zb2NpYWxpemUucGx1Z2lucy5sb2cubWluLmpzJyksXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICB9LFxuICAgICAgICB0cnVlLFxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdygpIHt9XG5leHBvcnQgZnVuY3Rpb24gc2hvd0NvbmZpZygpIHt9XG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuZGVidWcnLCBkZWJ1Zyk7XG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcblxuLy8gUmVwb3J0cyB0byBzZXJ2ZXJcbmV4cG9ydCBpbnRlcmZhY2UgUmVwb3J0IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdGltZTogc3RyaW5nO1xuICAgIHNvdXJjZT86IHN0cmluZztcbiAgICBzb3VyY2VEYXRhPzogT2JqZWN0O1xuICAgIHJlcG9ydERhdGE/OiBPYmplY3Q7XG4gICAgY2lkPzogc3RyaW5nO1xufVxuZXhwb3J0IHZhciBxdWV1ZTogUmVwb3J0W107XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tBZGRyZXNzQmFyU2hhcmVzKCkge1xuICAgIGlmIChnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ3RyYWNrQWRkcmVzc0JhclNoYXJlcyddKSB7XG4gICAgICAgIHZhciB1dWlkID0gZ2lneWEuXy5hcGlBZGFwdGVyLmdldFRva2VuUGFyYW0oZ2lneWEudGhpc1NjcmlwdC5BUElLZXksICdVVUlEJyk7XG4gICAgICAgIHZhciBhckZyYWdtZW50ID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpO1xuICAgICAgICBpZiAoYXJGcmFnbWVudC5sZW5ndGggPT0gMSB8fCBhckZyYWdtZW50WzFdID09ICcnIHx8IGFyRnJhZ21lbnRbMV0gPT0gJ2d1aWQ9XycpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlcGxhY2UoJyNndWlkPScgKyAodXVpZCA/IHV1aWQgOiAnXycpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZXBvcnQoZXZlbnQsIEFQSUtleSwgY2lkLCBzb3VyY2UsIHNvdXJjZURhdGEsIHBhcmFtcyA9IHt9LCBpZ25vcmVRdWV1ZSA9IGZhbHNlKSB7XG4gICAgdmFyIHJlcG9ydCA9IG9iamVjdFV0aWxzLnJlbW92ZVVuZGVmaW5lZCh7XG4gICAgICAgIG5hbWU6IGV2ZW50LFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpLFxuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgc291cmNlRGF0YTogc291cmNlRGF0YSxcbiAgICAgICAgcmVwb3J0RGF0YTogcGFyYW1zLFxuICAgICAgICBjaWQ6IGNpZCxcbiAgICB9KSBhcyBSZXBvcnQ7XG5cbiAgICBpZiAoIWlnbm9yZVF1ZXVlKSB7XG4gICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gW107XG5cbiAgICAgICAgcXVldWUucHVzaChyZXBvcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhcnJheSA9IFtyZXBvcnRdO1xuICAgICAgICBnaWd5YS5nc2NvdW50ZXJzLnNlbmRSZXBvcnQoe1xuICAgICAgICAgICAgcmVwb3J0czogYXJyYXksXG4gICAgICAgICAgICBub0F1dGg6ICFpc0F1dGhEYXRhUmVxdWlyZWQoYXJyYXkpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzZXRJbnRlcnZhbChzZW5kUmVwb3J0cywgNTAwMCk7XG59XG5mdW5jdGlvbiBzZW5kUmVwb3J0cygpIHtcbiAgICB3aGlsZSAocXVldWUgJiYgcXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgYmF0Y2ggPSBvYmplY3RVdGlscy5jbG9uZShxdWV1ZS5zcGxpY2UoMCwgNSksIHRydWUsIHRydWUpO1xuICAgICAgICBnaWd5YS5nc2NvdW50ZXJzLnNlbmRSZXBvcnQoe1xuICAgICAgICAgICAgcmVwb3J0czogYmF0Y2gsXG4gICAgICAgICAgICBub0F1dGg6ICFpc0F1dGhEYXRhUmVxdWlyZWQoYmF0Y2gpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0F1dGhEYXRhUmVxdWlyZWQocmVwb3J0cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwb3J0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmVwb3J0OiBSZXBvcnQgPSByZXBvcnRzW2ldO1xuICAgICAgICBpZiAoKHJlcG9ydC5uYW1lICE9PSAnbG9hZGMnICYmIHJlcG9ydC5uYW1lICE9PSAnbG9hZCcpIHx8IChyZXBvcnQubmFtZSA9PT0gJ2xvYWRjJyAmJiByZXBvcnQucmVwb3J0RGF0YSAmJiByZXBvcnQucmVwb3J0RGF0YVsnYWN0aW9uQ291bnRlclBhdGgnXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydExvYWQobWV0aG9kTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMuX3JlcG9ydGVkTG9hZCkge1xuICAgICAgICBwYXJhbXMuX3JlcG9ydGVkTG9hZCA9IHRydWU7XG4gICAgICAgIHZhciBldmVudCA9ICdsb2FkJztcbiAgICAgICAgaWYgKG1ldGhvZE5hbWUgPT0gJ2dpZ3lhLnNvY2lhbGl6ZS5wbHVnaW5zLnJlYWN0aW9ucy5zaG93UmVhY3Rpb25zQmFyVUknKSByZXR1cm47IC8vcmVhY3Rpb25zQmFyVUkgcmVwb3J0cyBsb2FkIHdpdGggZ2V0UmVhY3Rpb25zQ291bnRcbiAgICAgICAgaWYgKG1ldGhvZE5hbWUgPT0gJ2dpZ3lhLnNvY2lhbGl6ZS5wbHVnaW5zLnNpbXBsZXNoYXJlLnNob3dTaW1wbGVTaGFyZVVJJykge1xuICAgICAgICAgICAgZXZlbnQgPSAnbG9hZFNpbXBsZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmVwb3J0KGV2ZW50LCBwYXJhbXMuQVBJS2V5LCBwYXJhbXMuY2lkLCBwYXJhbXMuc291cmNlLCBwYXJhbXMuc291cmNlRGF0YSk7XG4gICAgfVxufVxuIiwiLy8gTG9jYWwgZW52aXJvbm1lbnQgaW5mbyAoYnJvd3NlciwgY2FwYWJpbGl0aWVzLCBob3N0aW5nIGRvbWFpbilcblxuZGVjbGFyZSBjb25zdCBBY3RpdmVYT2JqZWN0OiBhbnk7XG5cbnZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgdmFyIGxvY2FsSW5mbyA9IHtcbiAgICBiYXNlRG9tYWluOiAnJywgLy8gY2FsY3VsYXRlZCBsYXRlciBvblxuICAgIGlzQnJvd3NlclN1cHBvcnRzRmlsZXNBUEk6ICgoKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgRmlsZVJlYWRlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgRmlsZVJlYWRlciA9PT0gJ29iamVjdCc7XG4gICAgfSkoKSxcbiAgICBpbml0VGltZTogbmV3IERhdGUoKSxcbiAgICB2ZXJzaW9uOiAwLCAvL1RPRE9cbiAgICBwYWdlRG9tYWluOiBkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICBwcm90b2NvbDogZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT0gJ2h0dHA6JyA/ICdodHRwJyA6ICdodHRwcycsXG4gICAgdXNlckFnZW50OiB1c2VyQWdlbnQsXG4gICAgaXNXaW46IHVzZXJBZ2VudC5pbmRleE9mKCd3aW4nKSAhPSAtMSxcbiAgICBpc0lFOiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZScpICE9IC0xIHx8ICh1c2VyQWdlbnQuaW5kZXhPZignbW96aWxsYScpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCd0cmlkZW50JykgIT0gLTEpLFxuICAgIGlzSUU2OiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSA2LicpICE9IC0xLFxuICAgIGlzSUU3OiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSA3LicpICE9IC0xLFxuICAgIGlzSUU4OiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSA4LicpICE9IC0xLFxuICAgIGlzSUU5OiB1c2VyQWdlbnQuaW5kZXhPZignbXNpZSA5LicpICE9IC0xLFxuICAgIGlzSUUxMDogdXNlckFnZW50LmluZGV4T2YoJ21zaWUgMTAuJykgIT0gLTEsXG4gICAgaXNJRTExOiB1c2VyQWdlbnQuaW5kZXhPZignbW96aWxsYScpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCd0cmlkZW50LzcuMCcpICE9IC0xLFxuICAgIGlzRWRnZUxlZ2FjeTogdXNlckFnZW50LmluZGV4T2YoJ2VkZ2UnKSAhPSAtMSxcbiAgICBpc0VkZ2U6IFJlZ0V4cCgvZWRnKD8hZSkvKS50ZXN0KHVzZXJBZ2VudCksXG4gICAgaXNJT1M6IHVzZXJBZ2VudC5pbmRleE9mKCdpcGhvbmUnKSAhPSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignaXBhZCcpICE9IC0xIHx8IHVzZXJBZ2VudC5pbmRleE9mKCdpcG9kJykgIT0gLTEsXG4gICAgaXNTYWZhcmk1MzQ6IHVzZXJBZ2VudC5pbmRleE9mKCdzYWZhcmkvNTM0JykgIT0gLTEsXG4gICAgaXNXZUNoYXQ6IHVzZXJBZ2VudC5pbmRleE9mKCdtaWNyb21lc3NlbmdlcicpICE9IC0xLFxuICAgIGlvc1ZlcnNpb246IChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhcHBsZXdlYmtpdCcpICE9IC0xICYmIHVzZXJBZ2VudC5pbmRleE9mKCd2ZXJzaW9uLycpICE9IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodXNlckFnZW50LnNwbGl0KCd2ZXJzaW9uLycpWzFdLnNwbGl0KCcgJylbMF0pO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIDA7XG4gICAgfSkoKSxcbiAgICBpc0FuZHJvaWQ6IHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT0gLTEsXG4gICAgaXNBbmRyb2lkQnJvd3NlcjogKHVzZXJBZ2VudCA9PiB7XG4gICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignbW96aWxsYS81LjAnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkIDQnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhcHBsZXdlYmtpdCcpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignd2luZG93cyBwaG9uZScpICE9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIFNwZWNpYWwgdXNlciBhZ2VudHMgZm91bmQgc28gZmFyIHRoYXQgdmlvbGF0ZSB0aGUgZXhpc3RhbmNlIG9mIGNocm9tZSBydWxlXG4gICAgICAgIC8vIEJ1ZyAzODM2NyBBbmRyb2lkIEJyb3dzZXI6IE1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjIuMjsgZW4tdXM7IFNBTVNVTkcgR1QtSTk1MDAgQnVpbGQvSkRRMzkpIEFwcGxlV2ViS2l0LzUzNS4xOSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMS4wIENocm9tZS8xOC4wLjEwMjUuMzA4IE1vYmlsZSBTYWZhcmkvNTM1LjE5XG4gICAgICAgIC8vIEJ1ZyA0MDIwOSBDaHJvbWUgQnJvd3NlcjogTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMi4yOyBTQU1TVU5HIFNHVC1JNzQ3IEJ1aWxkL0tPVDQ5SCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzM5LjAuMjE3MS45MyBNb2JpbGUgU2FmYXJpLzUzNy4zNlxuICAgICAgICAvLyBXaW5kb3dzIFBob25lIEJyb3dzZXI6IE1vemlsbGEvNS4wIChNb2JpbGU7IFdpbmRvd3MgUGhvbmUgOC4xOyBBbmRyb2lkIDQuMDsgQVJNOyBUcmlkZW50LzcuMDsgVG91Y2g7IHJ2OjExLjA7IElFTW9iaWxlLzExLjA7IE5PS0lBOyBMdW1pYSA5MjApIGxpa2UgaVBob25lIE9TIDdfMF8zIE1hYyBPUyBYIEFwcGxlV2ViS2l0LzUzNyAoS0hUTUwsIGxpa2UgR2Vja28pIE1vYmlsZSBTYWZhcmkvNTM3XG4gICAgICAgIC8vIENocm9tZSBCcm93c2VyOiBNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4yLjI7IGVuLWdiOyBTQU1TVU5HIEdULUk5NTAwIEJ1aWxkL0tPVDQ5SCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xLjUgQ2hyb21lLzI4LjAuMTUwMC45NCBNb2JpbGUgU2FmYXJpLzUzNy4zNlxuXG4gICAgICAgIHZhciBjaHJvbWVJbmZvID0gL2Nocm9tZVxcLyhcXGQrKS8uZXhlYyh1c2VyQWdlbnQpO1xuXG4gICAgICAgIGlmICghY2hyb21lSW5mbykgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgdmFyIGNocm9tZVZlcnNpb24gPSBwYXJzZUludChjaHJvbWVJbmZvWzFdKTtcblxuICAgICAgICByZXR1cm4gY2hyb21lVmVyc2lvbiA8IDIwO1xuICAgIH0pKHVzZXJBZ2VudCksXG4gICAgY3VycmVudEJyb3dzZXI6ICcnLFxuICAgIGFuZHJvaWRWZXJzaW9uOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICE9IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh1c2VyQWdlbnQuc2xpY2UodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSArIDgpKTtcbiAgICAgICAgfSBlbHNlIHJldHVybiAwO1xuICAgIH0pKCksXG4gICAgaXNDaHJvbWU6IHVzZXJBZ2VudC5pbmRleE9mKCdjaHJvbWUnKSAhPSAtMSAmJiB1c2VyQWdlbnQuaW5kZXhPZignZWRnJykgPT0gLTEsIC8vIGVkZ2UgYnJvd3NlciBhbHNvIHVzZXMgQ2hyb21lIGluIGl0cyBVQSBzdHJpbmcuXG4gICAgaXNHb29nbGVCb3Q6IHVzZXJBZ2VudC5pbmRleE9mKCdnb29nbGVib3QnKSAhPSAtMSxcbiAgICBpc0ZGOiB1c2VyQWdlbnQuaW5kZXhPZignZmlyZWZveCcpICE9IC0xLFxuICAgIGlzT3BlcmE6IHVzZXJBZ2VudC5pbmRleE9mKCdvcGVyYScpICE9IC0xLFxuICAgIGlzU2FmYXJpOlxuICAgICAgICBuYXZpZ2F0b3IuYXBwVmVyc2lvbiAmJlxuICAgICAgICBuYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ3NhZmFyaScpICE9IC0xICYmXG4gICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT0gLTEgJiZcbiAgICAgICAgdXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSA9PSAtMSxcbiAgICBpc0lPU1dlYlZpZXc6IC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICBpc0lPU0Nocm9tZTogdXNlckFnZW50LmluZGV4T2YoJ2NyaW9zJykgIT0gLTEsXG4gICAgaXNNQUM6IG5hdmlnYXRvci5hcHBWZXJzaW9uICYmIG5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignbWFjJykgIT0gLTEsXG4gICAgaXNXaW5kb3dzUGhvbmU6IHVzZXJBZ2VudC5pbmRleE9mKCd3aW5kb3dzIHBob25lJykgIT0gLTEsXG4gICAgaXNGYWNlYm9va0Jyb3dzZXI6IHVzZXJBZ2VudC5pbmRleE9mKCdmYmFuJykgIT0gLTEgfHwgdXNlckFnZW50LmluZGV4T2YoJ2ZiYXYnKSAhPSAtMSxcbiAgICBzdXBwb3J0c1Bvc3RNZXNzYWdlOiB3aW5kb3cucG9zdE1lc3NhZ2UgIT0gbnVsbCAmJiAodXNlckFnZW50LmluZGV4T2YoJ21zaWUnKSA9PSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignaWVtb2JpbGUnKSAhPSAtMSksXG4gICAgc3VwcG9ydHNMb2NhbFN0b3JhZ2U6IGZhbHNlLFxuICAgIHN1cHBvcnRzU2Vzc2lvblN0b3JhZ2U6IGZhbHNlLFxuICAgIHN1cHBvcnRzRmxhc2g6ICgoKSA9PiB7XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTk4MjQ1L2hvdy1jYW4taS1kZXRlY3QtaWYtZmxhc2gtaXMtaW5zdGFsbGVkLWFuZC1pZi1ub3QtZGlzcGxheS1hLWhpZGRlbi1kaXYtdGhhdC1pbmZcbiAgICAgICAgbGV0IHN1cHBvcnRzRmxhc2ggPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWltZVR5cGVzICYmXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLm1pbWVUeXBlc1snYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnXSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubWltZVR5cGVzWydhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCddLmVuYWJsZWRQbHVnaW5cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHN1cHBvcnRzRmxhc2ggPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmbyA9IG5ldyBBY3RpdmVYT2JqZWN0KCdTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaCcpO1xuICAgICAgICAgICAgICAgIGlmIChmbykge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c0ZsYXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHJldHVybiBzdXBwb3J0c0ZsYXNoO1xuICAgIH0pKCksXG4gICAgcXVpcmtzTW9kZTogZG9jdW1lbnQuY29tcGF0TW9kZSA9PSAnQmFja0NvbXBhdCcgJiYgdXNlckFnZW50LmluZGV4T2YoJ21zaWUnKSAhPSAtMSxcbiAgICBiYWNrQ29tcGF0OiBkb2N1bWVudC5jb21wYXRNb2RlID09ICdCYWNrQ29tcGF0JyxcbiAgICAvLyBUT0RPOiBBZGQgaXNUYWJsZXQgZnVuY3Rpb24gZm9yIGRldmljZXMgbm9uLU1vYmlsZVxuICAgIGlzTW9iaWxlOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb2JpbGVDbGllbnRzID0gW1xuICAgICAgICAgICAgJ2lwaG9uZScsXG4gICAgICAgICAgICAnaXBvZCcsXG4gICAgICAgICAgICAnYW5kcm9pZCcsXG4gICAgICAgICAgICAnbWlkcCcsXG4gICAgICAgICAgICAnMjQweDMyMCcsXG4gICAgICAgICAgICAnYmxhY2tiZXJyeScsXG4gICAgICAgICAgICAnbmV0ZnJvbnQnLFxuICAgICAgICAgICAgJ25va2lhJyxcbiAgICAgICAgICAgICdwYW5hc29uaWMnLFxuICAgICAgICAgICAgJ3BvcnRhbG1tbScsXG4gICAgICAgICAgICAnc2hhcnAnLFxuICAgICAgICAgICAgJ3NpZS0nLFxuICAgICAgICAgICAgJ3Nvbnllcmljc3NvbicsXG4gICAgICAgICAgICAnc3ltYmlhbicsXG4gICAgICAgICAgICAnd2luZG93cyBjZScsXG4gICAgICAgICAgICAnYmVucScsXG4gICAgICAgICAgICAnbWRhJyxcbiAgICAgICAgICAgICdtb3QtJyxcbiAgICAgICAgICAgICdvcGVyYSBtaW5pJyxcbiAgICAgICAgICAgICdwaGlsaXBzJyxcbiAgICAgICAgICAgICdwb2NrZXQgcGMnLFxuICAgICAgICAgICAgJ3NhZ2VtJyxcbiAgICAgICAgICAgICdzYW1zdW5nJyxcbiAgICAgICAgICAgICdodGMnLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKHZhciBpIGluIG1vYmlsZUNsaWVudHMpIHtcbiAgICAgICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZihtb2JpbGVDbGllbnRzW2ldKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSgpLFxuICAgIGlzTW9iaWxlQXBwOiAoKCkgPT4ge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKVxuICAgICAgICAgICAgLy8gZm9yIG9sZCBJRVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBtZXRhVGFnczogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWV0YScpIGFzIGFueTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFUYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobWV0YVRhZ3NbaV0uZ2V0QXR0cmlidXRlKCduYW1lJykgPT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gbWV0YVRhZ3NbaV0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGVudCAmJiBjb250ZW50LmluZGV4T2YoJ3dpZHRoPWRldmljZS13aWR0aCcpICE9PSAtMSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKSxcbiAgICBpc05hdGl2ZU1vYmlsZUFwcDogZmFsc2UsIC8vIHdpbGwgY2hhbmdlIGlmIG1vYmlsZSBhZGFwdGVyIHdpbGwgbG9hZCBbaW4gaXRzICdpbml0JyBtZXRob2RdLlxuICAgIGlzVG91Y2g6IChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdylcbiAgICAgICAgICAgIC8vIHdvcmtzIG9uIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGlmICgnb25tc2dlc3R1cmVjaGFuZ2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgLy8gd29ya3Mgb24gaWUxMFxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVybWluZSBpZiBJRSBpcyBvcGVuIGluIG1ldHJvIG1vZGUuIE1ldHJvIGRvZXNuJ3QgYWxsb3cgYWN0aXZlWCwgdGhhdCdzIHRoZSBiZXN0IHRlc3QgYXZhaWxhYmxlIGFzIG9mIElFMTEuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ldyBBY3RpdmVYT2JqZWN0KCdodG1sZmlsZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSgpLFxuICAgIGlzT25MaW5lOiAoKSA9PiBuYXZpZ2F0b3Iub25MaW5lLFxuICAgIG1lc3NhZ2luZ01ldGhvZDogMVxufTtcbmNvbnN0IGlzU3RvcmFnZUVuYWJsZWQgPSAoc3RvcmFnZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB3aW5kb3dbc3RvcmFnZU5hbWVdO1xuICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ19naWdfbG9jYWxTdG9yYWdlX3Rlc3QnO1xuICAgICAgICBjb25zdCB0ZXN0VmFsdWUgPSAnanVzdCBjaGVja2luZyBmb3IgbG9jYWxTdG9yYWdlJztcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHRlc3ROYW1lLCB0ZXN0VmFsdWUpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzdG9yYWdlLmdldEl0ZW0odGVzdE5hbWUpID09PSB0ZXN0VmFsdWU7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0TmFtZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gUmVhc29uczpcbiAgICAgICAgLy8gLSBJbnNpZGUgM3JkIHBhcnR5IEFQSSBwcm94eSBpRnJhbWUuXG4gICAgICAgIC8vIC0gU2FmYXJpIGluIGluY29nbml0byBtb2RlIHdpbGwgZXJyb3Igd2l0aCBcInF1b3RhIGV4Y2VlZGVkXCIuXG4gICAgICAgIC8vIC0gQ2hyb21lIHdpdGggM3JkIHBhcnR5IGNvb2tpZXMgZGlzYWJsZWQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB5b3UgYWNjZXNzIHRoZSB3aW5kb3cubG9jYWxTdG9yYWdlIG9iamVjdCBpbiBBTlkgd2F5LlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbmxvY2FsSW5mby5zdXBwb3J0c0xvY2FsU3RvcmFnZSA9IGlzU3RvcmFnZUVuYWJsZWQoJ2xvY2FsU3RvcmFnZScpO1xubG9jYWxJbmZvLnN1cHBvcnRzU2Vzc2lvblN0b3JhZ2UgPSBpc1N0b3JhZ2VFbmFibGVkKCdzZXNzaW9uU3RvcmFnZScpO1xubG9jYWxJbmZvLmlzTUFDID0gbG9jYWxJbmZvLmlzTUFDICYmICFsb2NhbEluZm8uaXNJT1M7XG52YXIgb3MgPSBsb2NhbEluZm8uaXNXaW5cbiAgICA/ICd3aW5kb3dzJ1xuICAgIDogbG9jYWxJbmZvLmlzV2luZG93c1Bob25lXG4gICAgICAgID8gJ3dpbnBob25lJ1xuICAgICAgICA6IGxvY2FsSW5mby5pc0lPU1xuICAgICAgICAgICAgPyAnaW9zLXYnICsgbG9jYWxJbmZvLmlvc1ZlcnNpb25cbiAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzTUFDXG4gICAgICAgICAgICAgICAgPyAnbWFjJ1xuICAgICAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzQW5kcm9pZFxuICAgICAgICAgICAgICAgICAgICA/ICdhbmRyb2lkJ1xuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuaWYgKG9zKSBvcyArPSAnICc7XG52YXIgYnJvd3NlciA9IGxvY2FsSW5mby5pc0Nocm9tZVxuICAgID8gJ2Nocm9tZSdcbiAgICA6IGxvY2FsSW5mby5pc0ZGXG4gICAgICAgID8gJ2ZpcmVmb3gnXG4gICAgICAgIDogbG9jYWxJbmZvLmlzU2FmYXJpXG4gICAgICAgICAgICA/ICdzYWZhcmknXG4gICAgICAgICAgICA6IGxvY2FsSW5mby5pc0VkZ2VcbiAgICAgICAgICAgICAgICA/ICdlZGdlJ1xuICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNFZGdlTGVnYWN5XG4gICAgICAgICAgICAgICAgPyAnZWRnZSBsZWdhY3knXG4gICAgICAgICAgICAgICAgOiBsb2NhbEluZm8uaXNJRTExXG4gICAgICAgICAgICAgICAgICAgID8gJ2llMTEnXG4gICAgICAgICAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzSUUxMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnaWUxMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzSUU5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnaWU5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbG9jYWxJbmZvLmlzSUU4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2llOCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbmxvY2FsSW5mby5jdXJyZW50QnJvd3NlciA9IG9zICsgYnJvd3NlcjtcblxudHlwZSBCYXR0ZXJ5SW5mbyA9IHtcbiAgICBjaGFyZ2luZzogYm9vbGVhbjtcbiAgICBjaGFyZ2luZ1RpbWU6IG51bWJlcjtcbiAgICBkaXNjaGFyZ2luZ1RpbWU6IG51bWJlcjtcbiAgICBsZXZlbDogbnVtYmVyO1xufTtcbnR5cGUgUGx1Z2luID0ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBmaWxlbmFtZTogc3RyaW5nO1xuICAgIGxlbmd0aDogbnVtYmVyO1xufTtcbmV4cG9ydCBjbGFzcyBDbGllbnRGZWF0dXJlIHtcbiAgICBwdWJsaWMgdXNlckFnZW50Pzogc3RyaW5nO1xuICAgIHB1YmxpYyBwbHVnaW5zPzogUGx1Z2luW107XG4gICAgcHVibGljIGxvY2FsVGltZT86IHN0cmluZztcbiAgICBwdWJsaWMgdGltZXpvbmVPZmZzZXQ/OiBudW1iZXI7XG4gICAgcHVibGljIHBlcm1pc3Npb25TdGF0dXM/OiB7IHN0YXRlOiBzdHJpbmcgfTtcbiAgICBwdWJsaWMgd2ViZHJpdmVyPzogYm9vbGVhbjtcbiAgICBwdWJsaWMgYmF0dGVyeUluZm8/OiBCYXR0ZXJ5SW5mbztcbiAgICBwdWJsaWMgZmVhdHVyZXM/OiBbbnVtYmVyLCBzdHJpbmcsIGJvb2xlYW4sIGJvb2xlYW5dO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBuYXZpZ2F0b3I6IE5hdmlnYXRvciA9IGdpZ3lhLl8uV2luZG93UHJvdmlkZXIubmF2aWdhdG9yKCksXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBzY3JlZW46IFNjcmVlbiA9IGdpZ3lhLl8uV2luZG93UHJvdmlkZXIuc2NyZWVuKCkpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0RGF0YSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY29sbGVjdERhdGEoKSB7XG4gICAgICAgIHRoaXMudXNlckFnZW50ID0gdGhpcy5uYXZpZ2F0b3I/LnVzZXJBZ2VudDtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gQXJyYXkuZnJvbSh0aGlzLm5hdmlnYXRvcj8ucGx1Z2lucyB8fCBbXSkubWFwKCh7bmFtZSwgZmlsZW5hbWUsIGxlbmd0aH0pID0+ICh7IG5hbWUsIGZpbGVuYW1lLCBsZW5ndGggfSkpO1xuICAgICAgICB0aGlzLmxvY2FsVGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgICAgIHRoaXMudGltZXpvbmVPZmZzZXQgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBhd2FpdCB0aGlzLm5hdmlnYXRvcj8ucGVybWlzc2lvbnM/LnF1ZXJ5KHsgbmFtZTonbm90aWZpY2F0aW9ucycgfSk7XG4gICAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zdCB7c3RhdGV9ID0gcGVybWlzc2lvblN0YXR1cztcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblN0YXR1cyA9IHtzdGF0ZX07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53ZWJkcml2ZXIgPSB0aGlzLm5hdmlnYXRvcj8ud2ViZHJpdmVyO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGJhdHRlcnlJbmZvID0gdGhpcy5uYXZpZ2F0b3IuZ2V0QmF0dGVyeSAmJiBhd2FpdCB0aGlzLm5hdmlnYXRvci5nZXRCYXR0ZXJ5KCk7XG4gICAgICAgIGlmIChiYXR0ZXJ5SW5mbykge1xuICAgICAgICAgICAgY29uc3Qge2NoYXJnaW5nLCBjaGFyZ2luZ1RpbWUsIGRpc2NoYXJnaW5nVGltZSwgbGV2ZWx9ID0gYmF0dGVyeUluZm87XG4gICAgICAgICAgICB0aGlzLmJhdHRlcnlJbmZvID0ge2NoYXJnaW5nLCBjaGFyZ2luZ1RpbWUsIGRpc2NoYXJnaW5nVGltZSwgbGV2ZWx9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmVhdHVyZXMgPSBbXG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRvcj8ubWF4VG91Y2hQb2ludHMgfHwgdGhpcy5uYXZpZ2F0b3I/Lm1zTWF4VG91Y2hQb2ludHMsXG4gICAgICAgICAgICBgJHt0aGlzLnNjcmVlbi53aWR0aH18JHt0aGlzLnNjcmVlbi5oZWlnaHR9fCR7dGhpcy5zY3JlZW4uY29sb3JEZXB0aH1gLFxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0b3IuamF2YUVuYWJsZWQoKSxcbiAgICAgICAgICAgICdzZW5kQmVhY29uJyBpbiB0aGlzLm5hdmlnYXRvclxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgSUxvZ2dlckNvbmZpZyxcbiAgICBMb2dMZXZlbCxcbiAgICBDbGllbnRNdXRlTGV2ZWwsXG4gICAgTG9nVGhlbWUsXG4gICAgR3JvdXBCZWhhdmlvcixcbiAgICBJTG9nZ2VyLFxuICAgIElMb2dHcm91cCxcbiAgICBHaWdHbG9iYWwsXG4gICAgSUZvcm1hdHRlZExvZ0FyZ3MsXG4gICAgSUdyb3VwQ2xvc2VyLFxuICAgIElMb2dGdW5jLFxufSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0UmVxUGFyYW1WYWx1ZSwgZ2V0UGFyYW1WYWx1ZSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9zdHJpbmdQYXJhbXMnO1xuXG5leHBvcnQgY29uc3QgZ2lnRXJyb3JSZXBvcnQgPSAnZ2lnRXJyb3JSZXBvcnQnO1xuY29uc3QgZGVmYXVsdExvZ2dlckNvbmZpZzogSUxvZ2dlckNvbmZpZyA9IHtcbiAgICBsb2dMZXZlbDogTG9nTGV2ZWwuZGlzYWJsZWQsXG4gICAgY2xpZW50TXV0ZUxldmVsOiBDbGllbnRNdXRlTGV2ZWwubm9uZSxcbiAgICBsb2dUaGVtZTogTG9nVGhlbWUuZGFyayxcbn07XG5jb25zdCB0aGVtZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nW10gfSA9IHtcbiAgICBbTG9nVGhlbWUubm9uZV06IFsnJ10sXG4gICAgW0xvZ1RoZW1lLmRhcmtdOiBbXG4gICAgICAgICczOGY2ODknLFxuICAgICAgICAnMDA5RkQ0JyxcbiAgICAgICAgJ2IzODFiMycsXG4gICAgICAgICc3MWI2ZWYnLFxuICAgICAgICAnNjRjMTYyJyxcbiAgICAgICAgJzk3N2JkOCcsXG4gICAgICAgICdkMTY4YTQnLFxuICAgICAgICAnNGM3MWQyJyxcbiAgICAgICAgJzg0YjQ2NicsXG4gICAgICAgICc3ZDYzOGEnLFxuICAgICAgICAnNzk5ZmI3JyxcbiAgICAgICAgJzhmZGY5OCcsXG4gICAgICAgICdkYzc3NjcnLFxuICAgICAgICAnMGE3MGY1JyxcbiAgICAgICAgJzM4YjE1OScsXG4gICAgICAgICdhZjcyMWInLFxuICAgICAgICAnYmZhZjZmJyxcbiAgICBdLFxuICAgIFtMb2dUaGVtZS5saWdodF06IFtcbiAgICAgICAgJzQwODA2QScsXG4gICAgICAgICcwMDM2MzYnLFxuICAgICAgICAnOUI1OUI2JyxcbiAgICAgICAgJ0RCMEE1QicsXG4gICAgICAgICc3OTI4QTEnLFxuICAgICAgICAnNTIyMDMyJyxcbiAgICAgICAgJzAwMDBFMCcsXG4gICAgICAgICcwMDIwMkEnLFxuICAgICAgICAnMDAwMDM2JyxcbiAgICAgICAgJzAwNTU1NScsXG4gICAgICAgICcxRDc4MUQnLFxuICAgICAgICAnNEY1QTY1JyxcbiAgICAgICAgJzc2NUFCMCcsXG4gICAgICAgICcwMDAwMDAnLFxuICAgICAgICAnM0MxMzYyJyxcbiAgICAgICAgJzAwMDA2MCcsXG4gICAgICAgICc1OTFENzcnLFxuICAgIF0sXG59O1xuY29uc3Qgc2VsZkxvZ3NDc3M6IHN0cmluZyA9ICdjb2xvcjogI2IwYjBiMGIwOyc7XG5jb25zdCBub0NzcyA9ICcnO1xuY29uc3Qgc2V2ZXJpdHlUaHJlc2hvbGQ6IExvZ0xldmVsID0gTG9nTGV2ZWwud2FybjtcbmNvbnN0IGRlZmF1bHRHcm91cEJlaGF2aW9yOiBHcm91cEJlaGF2aW9yID0gR3JvdXBCZWhhdmlvci5jb2xsYXBzZWQ7XG5jb25zdCBub29wTG9nZ2VyRm4gPSAobWVzc2FnZTogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHt9O1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VMb2dnZXIgaW1wbGVtZW50cyBJTG9nZ2VyIHtcbiAgICBwcml2YXRlIF9jb25maWc6IElMb2dnZXJDb25maWc7XG4gICAgcHJpdmF0ZSBfZ3JvdXBzU3RhY2s6IElMb2dHcm91cFtdID0gW107XG4gICAgcHJpdmF0ZSBfY3VyckNvbG9ySWR4OiBudW1iZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29uc29sZTogQ29uc29sZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZmlnS2V5OiBzdHJpbmcgPSAnZ2lnX2xvZ2dlckNvbmZpZyc7XG5cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocHJvdGVjdGVkIF9nbG9iYWw6IEdpZ0dsb2JhbCkge1xuICAgICAgICB0aGlzLl9jb25zb2xlID0gdGhpcy5fZ2xvYmFsLmNvbnNvbGU7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5vdmVycmlkZUNsaWVudExvZ3MoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCByZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgaW5jbHVkZVN0YWNrPzogYm9vbGVhbik7XG5cbiAgICBwdWJsaWMgZ2V0Q29uZmlnKCk6IElMb2dnZXJDb25maWcge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnID1cbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRMb2dnZXJDb25maWdGcm9tSGFzaCgpIHx8IC8vIGlubmVyIGZyYW1lcyByZWFkcyBjb25maWcgZnJvbSBoYXNoXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkTG9nZ2VyQ29uZmlnRnJvbUNvb2tpZSgpIHx8IC8vIHRvcCBmcmFtZXMgcmVhZHMgY29uZmlnIGZyb20gY29va2llXG4gICAgICAgICAgICAgICAgZGVmYXVsdExvZ2dlckNvbmZpZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25maWcoKS5sb2dMZXZlbCA+IExvZ0xldmVsLmRpc2FibGVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGxvZ0xldmVsKCk6IExvZ0xldmVsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29uZmlnKCkubG9nTGV2ZWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgcGFsZXR0ZSgpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGVtZXNbdGhpcy5nZXRDb25maWcoKS5sb2dUaGVtZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROZXh0Q29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29uZmlnKCkubG9nVGhlbWUgPT09IExvZ1RoZW1lLm5vbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VyckNvbG9ySWR4ID49IHRoaXMucGFsZXR0ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJDb2xvcklkeCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAjJHt0aGlzLnBhbGV0dGVbdGhpcy5fY3VyckNvbG9ySWR4KytdfWA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgY3VycmVudEdyb3VwKCk6IElMb2dHcm91cCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cHNTdGFja1t0aGlzLl9ncm91cHNTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRMb2dnZXJDb25maWdGcm9tSGFzaCgpOiBJTG9nZ2VyQ29uZmlnIHtcbiAgICAgICAgbGV0IHJlczogSUxvZ2dlckNvbmZpZyA9IG51bGw7XG4gICAgICAgIGNvbnN0IGxvZ2dlckNvbmZpZ1N0ciA9IGdldFJlcVBhcmFtVmFsdWUobG9jYXRpb24uaGFzaCwgdGhpcy5jb25maWdLZXkpO1xuICAgICAgICBpZiAobG9nZ2VyQ29uZmlnU3RyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGxvZ2dlckNvbmZpZ1N0cikpIGFzIElMb2dnZXJDb25maWc7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0dpZ3lhXTogZXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBwYXJzZSBsb2dnZXIgY29uZmlnIGZyb20gaGFzaGAsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkTG9nZ2VyQ29uZmlnRnJvbUNvb2tpZSgpOiBJTG9nZ2VyQ29uZmlnIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXM6IElMb2dnZXJDb25maWcgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgY29va2llID0gZ2V0UGFyYW1WYWx1ZShkb2N1bWVudC5jb29raWUsIHRoaXMuY29uZmlnS2V5LCAnOycpO1xuICAgICAgICAgICAgaWYgKGNvb2tpZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IEpTT04ucGFyc2UoY29va2llKSBhcyBJTG9nZ2VyQ29uZmlnO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0dpZ3lhXTogZXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBwYXJzZSBsb2dnZXIgY29uZmlnIGZyb20gY29va2llYCwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gaU9TIDEwIHdlYnZpZXcgdGhyb3dzIGluIHNvbWUgc2NlbmFyaW9zXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRMb2dnZXJDb25maWdDb29raWUobG9nZ2VyQ29uZmlnOiBJTG9nZ2VyQ29uZmlnKSB7XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke3RoaXMuY29uZmlnS2V5fT0ke0pTT04uc3RyaW5naWZ5KGxvZ2dlckNvbmZpZyl9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG92ZXJyaWRlQ2xpZW50TG9ncygpIHtcbiAgICAgICAgbGV0IFByb3h5ID0gdGhpcy5fZ2xvYmFsWydQcm94eSddO1xuXG4gICAgICAgIGlmICghUHJveHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5nZXRDb25maWcoKS5jbGllbnRNdXRlTGV2ZWwpIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgIGNhc2UgQ2xpZW50TXV0ZUxldmVsLm5vbmU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgbmF0aXZlIGNvbnNvbGUgd2l0aCBhIGR1bW15XG4gICAgICAgICAgICBjYXNlIENsaWVudE11dGVMZXZlbC5hbGw6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmFsLmNvbnNvbGUgPSBuZXcgUHJveHkodGhpcy5fZ2xvYmFsLmNvbnNvbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBub29wTG9nZ2VyRm4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIHRoZSBncm91cCBhcGkgYW5kIG91dHB1dCBhIHByZWZpeGVkIGNsaWVudCBsb2dcbiAgICAgICAgICAgIGNhc2UgQ2xpZW50TXV0ZUxldmVsLm5vcm1hbDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2xvYmFsLmNvbnNvbGUgPSBuZXcgUHJveHkodGhpcy5fZ2xvYmFsLmNvbnNvbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAodGFyZ2V0OiBhbnksIHByb3BlcnR5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbJ2dyb3VwJywgJ2dyb3VwQ29sbGFwc2VkJywgJ2dyb3VwRW5kJ10uaW5kZXhPZihwcm9wZXJ0eSkgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoLi4uYXJncykgPT4gdGhpcy5fY29uc29sZS5sb2coYGNsaWVudCBoYXMgY2FsbGVkIGNvbnNvbGUuJHtwcm9wZXJ0eX1gLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGFyZ2V0W3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Rm9ybWF0dGVkTG9nQXJncyh0ZXh0OiBzdHJpbmcgPSAnJywgbG9nR3JvdXA6IElMb2dHcm91cCA9IHRoaXMuY3VycmVudEdyb3VwKTogSUZvcm1hdHRlZExvZ0FyZ3Mge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogbG9nR3JvdXAgPyBgJWPilogke3RleHR9YCA6IGAlYyR7dGV4dH1gLFxuICAgICAgICAgICAgY3NzOiBsb2dHcm91cCA/IGBjb2xvcjogJHtsb2dHcm91cC5jb2xvcn07YCA6ICcnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdG9yZUhhbmdpbmdHcm91cHMoaGFuZ2luZ0dyb3VwczogSUxvZ0dyb3VwW10pIHtcbiAgICAgICAgLy8gcmVzdG9yZSBncm91cHMgc3RhY2sgYWZ0ZXIgYSBwYXJlbnQgZ3JvdXAgaGFzIGVuZGVkXG4gICAgICAgIHdoaWxlIChoYW5naW5nR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVzdG9yZSB0aGUgZ3JvdXBzIHN0YWNrXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGhhbmdpbmdHcm91cHMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2dyb3Vwc1N0YWNrLnB1c2goZ3JvdXApO1xuXG4gICAgICAgICAgICAvLyBpbmRpY2F0ZSBncm91cCBoYXMgYmVlbiByZXN0b3JlZFxuICAgICAgICAgICAgY29uc3QgbG9nQXJncyA9IHRoaXMuZ2V0Rm9ybWF0dGVkTG9nQXJncyhgICVjW1JFU1RPUkVEIC0gJHtncm91cC5ncm91cFRpdGxlfV1gKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnNvbGUuZ3JvdXBDb2xsYXBzZWQobG9nQXJncy50ZXh0LCBsb2dBcmdzLmNzcywgc2VsZkxvZ3NDc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmRHcm91cChncm91cDogSUxvZ0dyb3VwKSB7XG4gICAgICAgIGNvbnN0IGxvZ0FyZ3MgPSB0aGlzLmdldEZvcm1hdHRlZExvZ0FyZ3MoYCBbRU5EIC0gJHtncm91cC5ncm91cFRpdGxlfV1gLCBncm91cCk7XG4gICAgICAgIHRoaXMuX2NvbnNvbGUubG9nKGxvZ0FyZ3MudGV4dCwgbG9nQXJncy5jc3MpO1xuICAgICAgICB0aGlzLl9jb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2coc2V2ZXJpdHk6IExvZ0xldmVsKTogSUxvZ0Z1bmMge1xuICAgICAgICAvLyBsb2cgaWYgb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgLy8gWzFdIGxvZ2dpbmcgaXMgZW5hYmxlZCBhbmQgdGhlIGxvZydzIHNldmVyaXR5IGlzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gdGhlIGNvbmZpZ3VyZWQgbG9nTGV2ZWxcbiAgICAgICAgLy8gWzJdIHNldmVyaXR5IGlzIGdyZWF0ZXIgdGhhbiB0aGUgdGhyZXNob2xkIGJ1dCB0aGUgY29uZmlndXJlZCBsb2dMZXZlbCBpcyBub3QgZ3JlYXRlciB0aGFuIHRoZSB0aHJlc2hvbGRcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHRoaXMuaXNFbmFibGVkICYmIHNldmVyaXR5ID49IHRoaXMubG9nTGV2ZWwpIHx8IC8vIGxvZ1xuICAgICAgICAgICAgKHNldmVyaXR5ID49IHNldmVyaXR5VGhyZXNob2xkICYmIHRoaXMubG9nTGV2ZWwgPCBzZXZlcml0eVRocmVzaG9sZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgbG9nIGxldmVsXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbExvZ0xldmVsID0gTG9nTGV2ZWxbc2V2ZXJpdHldO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZExvZ0xldmVsID1cbiAgICAgICAgICAgICAgICBzZXZlcml0eSA9PT0gTG9nTGV2ZWwuZGVidWdcbiAgICAgICAgICAgICAgICAgICAgPyBMb2dMZXZlbFtMb2dMZXZlbC5pbmZvXSAvLyB1c2luZyBjb25zb2xlLmluZm8gZm9yIGRlYnVnIGxldmVsXG4gICAgICAgICAgICAgICAgICAgIDogb3JpZ2luYWxMb2dMZXZlbDtcblxuICAgICAgICAgICAgLy8gZ2V0IGZvcm1hdHRlZCBhcmdzIGFuZCByZXR1cm4gdGhlIGJvdW5kIGxvZyBmdW5jdGlvblxuICAgICAgICAgICAgY29uc3QgbG9nQXJncyA9IHRoaXMuZ2V0Rm9ybWF0dGVkTG9nQXJncyhgICVjWyR7b3JpZ2luYWxMb2dMZXZlbH1dYCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uc29sZVtub3JtYWxpemVkTG9nTGV2ZWxdLmJpbmQodGhpcy5fY29uc29sZSwgbG9nQXJncy50ZXh0LCBsb2dBcmdzLmNzcywgc2V2ZXJpdHkgPD0gTG9nTGV2ZWwuaW5mbyA/IHNlbGZMb2dzQ3NzIDogbm9Dc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vb3BMb2dnZXJGbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEpzb25Gcm9tRXJyb3IoZXJyOiBFcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogZXJyLm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnIuc3RhY2ssXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlcnJvclBhcnNlcihkZXRhaWxzOiB7W2tleTogc3RyaW5nXTogYW55fSkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSAoaywgdikgPT4gdiBpbnN0YW5jZW9mIEVycm9yID8gdGhpcy5nZXRKc29uRnJvbUVycm9yKHYpIDogdjtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGV0YWlscywgZm9ybWF0dGVyKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkZWJ1ZygpOiBJTG9nRnVuYyB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhMb2dMZXZlbC5kZWJ1Zyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpbmZvKCk6IElMb2dGdW5jIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKExvZ0xldmVsLmluZm8pO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2FybigpOiBJTG9nRnVuYyB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhMb2dMZXZlbC53YXJuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGVycm9yKCk6IElMb2dGdW5jIHtcbiAgICAgICAgcmV0dXJuIChtZXNzYWdlOiBhbnksIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogdm9pZCA9PiB7XG4gICAgICAgICAgICBpZiAoZGV0YWlscyAmJiB0eXBlb2YgZGV0YWlscyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gdGhpcy5lcnJvclBhcnNlcihkZXRhaWxzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sb2coTG9nTGV2ZWwuZXJyb3IpLmFwcGx5KHRoaXMsIFttZXNzYWdlXS5jb25jYXQoW2RldGFpbHNdKSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydChtZXNzYWdlLCBkZXRhaWxzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ3JvdXAoZ3JvdXBUaXRsZTogc3RyaW5nLCBjb2xsYXBzZWQ6IGJvb2xlYW4gPSBkZWZhdWx0R3JvdXBCZWhhdmlvciA9PT0gR3JvdXBCZWhhdmlvci5jb2xsYXBzZWQpOiBJR3JvdXBDbG9zZXIge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5nZXROZXh0Q29sb3IoKTtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTG9nID0gKC4uLmFyZ3MpID0+IChjb2xsYXBzZWQgPyB0aGlzLl9jb25zb2xlLmdyb3VwQ29sbGFwc2VkKC4uLmFyZ3MpIDogdGhpcy5fY29uc29sZS5ncm91cCguLi5hcmdzKSk7XG4gICAgICAgICAgICB0aGlzLl9ncm91cHNTdGFjay5wdXNoKHsgZ3JvdXBUaXRsZSwgY29sb3IgfSk7XG4gICAgICAgICAgICBjb25zdCBsb2dBcmdzID0gdGhpcy5nZXRGb3JtYXR0ZWRMb2dBcmdzKGAgW1NUQVJUIC0gJHtncm91cFRpdGxlfV1gKTtcbiAgICAgICAgICAgIGdyb3VwTG9nKGxvZ0FyZ3MudGV4dCwgbG9nQXJncy5jc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmQ6ICgpID0+IHRoaXMuZ3JvdXBFbmQoZ3JvdXBUaXRsZSksXG4gICAgICAgICAgICBlbmRXaGVuOiAoZG9uZTogUHJvbWlzZTxhbnk+IHwgKCgpID0+IHZvaWQgfCBQcm9taXNlPGFueT4pKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkb25lID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IGRvbmUoKSBhcyBQcm9taXNlPGFueT4gfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRvbmUgJiYgZG9uZS50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUudGhlbigoKSA9PiB0aGlzLmdyb3VwRW5kKGdyb3VwVGl0bGUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzeW5jXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBFbmQoZ3JvdXBUaXRsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ3JvdXBFbmQoZ3JvdXBUaXRsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgaGFuZ2luZ0dyb3VwczogSUxvZ0dyb3VwW10gPSBbXTtcbiAgICAgICAgICAgIGxldCBjdXJyR3JvdXAgPSB0aGlzLl9ncm91cHNTdGFjay5wb3AoKTsgLy8gZ2V0IHRoZSBjdXJyZW50IGFjdGl2ZSBncm91cFxuXG4gICAgICAgICAgICAvLyB3aGlsZSB0aGUgY3VycmVudCBncm91cCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIG9uZSB0aGF0IHdlIHdhbnQgdG8gZW5kIGFuZCB3ZSBoYXZlIG90aGVyIGdyb3VwcyBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgIHdoaWxlIChjdXJyR3JvdXAuZ3JvdXBUaXRsZSAhPT0gZ3JvdXBUaXRsZSAmJiB0aGlzLl9ncm91cHNTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBoYW5naW5nR3JvdXBzLnVuc2hpZnQoY3Vyckdyb3VwKTsgLy8gWzFdIHB1c2ggaXQgdGhlIGN1cnJlbnQgZ3JvdXAgaW50byB0aGUgdGVtcCAnaGFuZ2luZyBncm91cHMnIHN0YWNrXG4gICAgICAgICAgICAgICAgY3Vyckdyb3VwID0gdGhpcy5fZ3JvdXBzU3RhY2sucG9wKCk7IC8vIFsyXSBnZXQgdGhlIG5leHQgZ3JvdXAgaW4gc3RhY2tcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25zb2xlLmdyb3VwRW5kKCk7IC8vIFszXSBncm91cEVuZCBmb3IgZWFjaCBncm91cCB0aGF0IGlzIG5vdCB0aGUgY3VycmVudCBncm91cFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBlbmQgdGhlIGdyb3VwXG4gICAgICAgICAgICB0aGlzLmVuZEdyb3VwKGN1cnJHcm91cCk7XG5cbiAgICAgICAgICAgIC8vIHJlc3VtZSBjaGlsZCBncm91cHNcbiAgICAgICAgICAgIGlmIChoYW5naW5nR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZUhhbmdpbmdHcm91cHMoaGFuZ2luZ0dyb3Vwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlKGxvZ0xldmVsID0gTG9nTGV2ZWwuaW5mbywgY2xpZW50TXV0ZUxldmVsID0gQ2xpZW50TXV0ZUxldmVsLm5vcm1hbCwgbG9nVGhlbWUgPSBMb2dUaGVtZS5kYXJrKSB7XG4gICAgICAgIHRoaXMuc2V0TG9nZ2VyQ29uZmlnQ29va2llKHsgbG9nTGV2ZWwsIGNsaWVudE11dGVMZXZlbCwgbG9nVGhlbWUgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0TG9nZ2VyQ29uZmlnQ29va2llKHtcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5kaXNhYmxlZCxcbiAgICAgICAgICAgIGNsaWVudE11dGVMZXZlbDogZGVmYXVsdExvZ2dlckNvbmZpZy5jbGllbnRNdXRlTGV2ZWwsXG4gICAgICAgICAgICBsb2dUaGVtZTogZGVmYXVsdExvZ2dlckNvbmZpZy5sb2dUaGVtZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUxvZ2dlciwgZ2lnRXJyb3JSZXBvcnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2Jhc2VMb2dnZXInO1xuaW1wb3J0IHsgR2lnR2xvYmFsIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFJlcVBhcmFtVmFsdWUgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nUGFyYW1zJztcblxuZXhwb3J0IGNsYXNzIElGcmFtZUxvZ2dlciBleHRlbmRzIEJhc2VMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfZ2xvYmFsOiBHaWdHbG9iYWwgPSB3aW5kb3cpIHtcbiAgICAgICAgc3VwZXIoX2dsb2JhbCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGluY2x1ZGVTdGFjazogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gc2VuZCB0aGUgcmVwb3J0IGZyb20gdGhlIHRvcCBmcmFtZVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB0b3AgZnJhbWUgb3JpZ2luXG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgY29uc3QgZG9tYWluID0gZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCAnb3JpZ2luJykgfHwgZ2V0UmVxUGFyYW1WYWx1ZShsb2NhdGlvbi5oYXNoLCAnZCcpO1xuICAgICAgICAgICAgaWYoIWRvbWFpbikgcmV0dXJuO1xuICAgICAgICAgICAgYS5ocmVmID0gZG9tYWluO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0T3JpZ2luID0gYCR7YS5wcm90b2NvbH0vLyR7YS5ob3N0bmFtZX0ke2EucG9ydCA/IGA6JHthLnBvcnR9YCA6ICcnfWA7XG5cbiAgICAgICAgICAgIC8vIHBvc3QgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5fZ2xvYmFsLnRvcC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7IHR5cGU6IGdpZ0Vycm9yUmVwb3J0LCBtZXNzYWdlLCBkZXRhaWxzLCBpbmNsdWRlU3RhY2sgfSksIHRhcmdldE9yaWdpbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIEdpZ0dsb2JhbCB7XG4gICAgY29uc29sZTogQ29uc29sZTtcbiAgICBQcm94eT86IGFueTtcbiAgICBhZGRFdmVudExpc3RlbmVyPzogYW55O1xuICAgIHRvcD86IGFueTtcbn1cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgICBkaXNhYmxlZCA9IDAsXG4gICAgZGVidWcsXG4gICAgaW5mbyxcbiAgICB3YXJuLFxuICAgIGVycm9yLFxufVxuZXhwb3J0IGNvbnN0IGVudW0gQ2xpZW50TXV0ZUxldmVsIHtcbiAgICBub25lID0gMCxcbiAgICBub3JtYWwsXG4gICAgYWxsLFxufVxuZXhwb3J0IGNvbnN0IGVudW0gTG9nVGhlbWUge1xuICAgIG5vbmUgPSAwLFxuICAgIGRhcmssXG4gICAgbGlnaHQsXG59XG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXJDb25maWcge1xuICAgIGxvZ0xldmVsOiBMb2dMZXZlbDtcbiAgICBjbGllbnRNdXRlTGV2ZWw6IENsaWVudE11dGVMZXZlbDtcbiAgICBsb2dUaGVtZTogTG9nVGhlbWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIElMb2dHcm91cCB7XG4gICAgZ3JvdXBUaXRsZTogc3RyaW5nO1xuICAgIGNvbG9yOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIElGb3JtYXR0ZWRMb2dBcmdzIHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgY3NzOiBzdHJpbmc7XG59XG5leHBvcnQgY29uc3QgZW51bSBHcm91cEJlaGF2aW9yIHtcbiAgICBleHBhbmRlZCA9IDAsXG4gICAgY29sbGFwc2VkLFxufVxuZXhwb3J0IGludGVyZmFjZSBJR3JvdXBDbG9zZXIge1xuICAgIGVuZCgpOiB2b2lkO1xuICAgIGVuZFdoZW4oZG9uZVdoZW46IFByb21pc2U8YW55PiB8ICgoKSA9PiB2b2lkIHwgUHJvbWlzZTxhbnk+KSk6IHZvaWQ7XG59XG5leHBvcnQgdHlwZSBJTG9nRnVuYyA9IChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBJTG9nZ2VyIHtcbiAgICBkaXNhYmxlKCk6IHZvaWQ7XG4gICAgZW5hYmxlKGxvZ0xldmVsPzogTG9nTGV2ZWwsIGNsaWVudE11dGVMZXZlbD86IENsaWVudE11dGVMZXZlbCwgbG9nVGhlbWU/OiBMb2dUaGVtZSk6IHZvaWQ7XG4gICAgZ3JvdXAoZ3JvdXBUaXRsZTogc3RyaW5nLCBjb2xsYXBzZWQ/OiBib29sZWFuKTogSUdyb3VwQ2xvc2VyO1xuICAgIGdyb3VwRW5kKGdyb3VwVGl0bGU6IHN0cmluZyk6IHZvaWQ7XG4gICAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQ7XG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogdm9pZDtcbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkO1xuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlscz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkO1xuICAgIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9LCBpbmNsdWRlU3RhY2s/OiBib29sZWFuKTogdm9pZDtcbiAgICBnZXRDb25maWcoKTogSUxvZ2dlckNvbmZpZztcbiAgICBpc0VuYWJsZWQ6IGJvb2xlYW47XG4gICAgY29uZmlnS2V5OiBzdHJpbmc7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gbG9nZ2VySnNvbnAoZW5kcG9pbnQ6IHN0cmluZywgcGFyYW1zOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQuc3JjID0gYCR7ZW5kcG9pbnR9PyR7cGFyYW1zfWA7XG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcblxuICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0ucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufVxuIiwiaW1wb3J0IHsgUGFyZW50TG9nZ2VyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9wYXJlbnRMb2dnZXInO1xuaW1wb3J0IHsgSUZyYW1lTG9nZ2VyIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pRnJhbWVMb2dnZXInO1xuXG5pZighZ2lneWEubG9nZ2VyKSB7XG4gICAgT2JqZWN0LmFzc2lnbihnaWd5YSwge2xvZ2dlcjogIHdpbmRvdyA9PT0gd2luZG93LnRvcCA/IG5ldyBQYXJlbnRMb2dnZXIoKSA6IG5ldyBJRnJhbWVMb2dnZXIoKX0pO1xufVxuIiwiaW1wb3J0IHsgQmFzZUxvZ2dlciwgZ2lnRXJyb3JSZXBvcnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL2Jhc2VMb2dnZXInO1xuaW1wb3J0IHsgR2lnR2xvYmFsIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9pbnRlcmZhY2VzJztcbmltcG9ydCB7IGxvZ2dlckpzb25wIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvZ2dlci9sb2dnZXJKc29ucCc7XG5pbXBvcnQgeyBnZXRHaWd5YVNjcmlwdEVsZW1lbnQgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2lneWFTY3JpcHRFbCc7XG5pbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuaW1wb3J0IHtVcml9IGZyb20gXCIuLi9VdGlscy9VcmlcIjtcblxuZXhwb3J0IGNsYXNzIFBhcmVudExvZ2dlciBleHRlbmRzIEJhc2VMb2dnZXIge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2lzRXJyb3JSZXBvcnRlcjogYm9vbGVhbjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ndWlkOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIF9nbG9iYWw6IEdpZ0dsb2JhbCA9IHdpbmRvdyxcbiAgICAgICAgcHJpdmF0ZSBfZXJyb3JSZXBvcnRDb25maWc6IHsgZW5hYmxlZDogYm9vbGVhbjsgcHJvYmFiaWxpdHk6IG51bWJlciB9ID0gZ2lneWEuZXJyb3JSZXBvcnQsXG4gICAgICAgIHByaXZhdGUgX2NhbmFyeUNvbmZpZzogeyBpc0FjdGl2ZTogYm9vbGVhbiB9ID0gZ2lneWEuY2FuYXJ5LFxuICAgICAgICBwcml2YXRlIF9yYW5kb20gPSAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTAwLFxuICAgICAgICBwcml2YXRlIF9qc29ucCA9IGxvZ2dlckpzb25wLFxuICAgICkge1xuICAgICAgICBzdXBlcihfZ2xvYmFsKTtcblxuICAgICAgICBjb25zdCBlcnJvclJlcG9ydEVuYWJsZWQgPSB0aGlzLl9lcnJvclJlcG9ydENvbmZpZyAmJiB0aGlzLl9lcnJvclJlcG9ydENvbmZpZy5lbmFibGVkO1xuICAgICAgICBjb25zdCBydW5uaW5nQXNDYW5hcnkgPSB0aGlzLl9jYW5hcnlDb25maWcgJiYgdGhpcy5fY2FuYXJ5Q29uZmlnLmlzQWN0aXZlO1xuICAgICAgICBjb25zdCBlbnJvbGxlZFRvUmVwb3J0RXJyb3JzID0gdGhpcy5lbnJvbGxFcnJvclJlcG9ydGluZygpO1xuXG4gICAgICAgIGlmIChlcnJvclJlcG9ydEVuYWJsZWQgJiYgKHJ1bm5pbmdBc0NhbmFyeSB8fCBlbnJvbGxlZFRvUmVwb3J0RXJyb3JzKSkge1xuICAgICAgICAgICAgdGhpcy5faXNFcnJvclJlcG9ydGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBNZXNzYWdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2d1aWQgPSB0aGlzLmdlbmVyYXRlR1VJRCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGVucm9sbEVycm9yUmVwb3J0aW5nKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2Vycm9yUmVwb3J0Q29uZmlnICYmIHRoaXMuX2Vycm9yUmVwb3J0Q29uZmlnLnByb2JhYmlsaXR5KSA+PSB0aGlzLl9yYW5kb20oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwTWVzc2FnZUxpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCBlcnJvclJlcG9ydE1lc3NhZ2VMaXN0ZW5lciA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRjID0gZ2lneWEuZGF0YUNlbnRlcjtcbiAgICAgICAgICAgIGNvbnN0IGdpZ3lhRG9tYWluID0gZ2lneWEuZGVmYXVsdEFwaURvbWFpbi5yZXBsYWNlKC9cXC4vZywgJy4nKTsgLy8gcmVwbGFjZSBhbGwgJy4nIHdpdGggJ1xcLidcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRPcmlnaW5SZWdleCA9IG5ldyBSZWdFeHAoYGNkbnM/XFwuJHtkY31cXC4ke2dpZ3lhRG9tYWlufSRgKTtcblxuICAgICAgICAgICAgaWYgKCFldmVudC5vcmlnaW4ubWF0Y2goYWxsb3dlZE9yaWdpblJlZ2V4KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBnaWdFcnJvclJlcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydChkYXRhLm1lc3NhZ2UsIGRhdGEuZGV0YWlscywgZGF0YS5pbmNsdWRlU3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9IC8vIHVuZXhwZWN0ZWQgZXZlbnQuZGF0YVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXJyb3JSZXBvcnRNZXNzYWdlTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEFwaUtleSgpIHtcbiAgICAgICAgbGV0IGFwaUtleSA9IGdpZ3lhWyd0aGlzU2NyaXB0J10gJiYgZ2lneWFbJ3RoaXNTY3JpcHQnXS5BUElLZXk7XG5cbiAgICAgICAgaWYgKCFhcGlLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1lbnQgPSBnZXRHaWd5YVNjcmlwdEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IFVSTFBhcmFtcyA9IFVSTFV0aWxzLmdldFBhcmFtc0Zyb21VUkwoc2NyaXB0RWxlbWVudCAmJiBzY3JpcHRFbGVtZW50LnNyYywgdHJ1ZSkgfHwge307XG4gICAgICAgICAgICBhcGlLZXkgPSBVUkxQYXJhbXNbJ2FwaWtleSddO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFwaUtleTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVJlcG9ydFBhcmFtcyhtZXNzYWdlOiBzdHJpbmcsIGRldGFpbHM6IHN0cmluZyB8IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fSwgaW5jbHVkZVN0YWNrOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGFwaUtleTogdGhpcy5nZXRBcGlLZXkoKSxcbiAgICAgICAgICAgIHN0YWNrOiBpbmNsdWRlU3RhY2sgPyBuZXcgRXJyb3IoKS5zdGFjayA6ICcnLFxuICAgICAgICAgICAgcGFnZTogbG9jYWxJbmZvICYmIGxvY2FsSW5mby5wYWdlRG9tYWluLFxuICAgICAgICAgICAgYnJvd3NlcjogbG9jYWxJbmZvICYmIGxvY2FsSW5mby5jdXJyZW50QnJvd3NlcixcbiAgICAgICAgICAgIGJ1aWxkVmVyc2lvbjogZ2lneWEuYnVpbGQudmVyc2lvbixcbiAgICAgICAgICAgIGJ1aWxkTnVtYmVyOiBnaWd5YS5idWlsZC5udW1iZXIsXG4gICAgICAgICAgICBmb3JtYXQ6ICdqc29uJyxcbiAgICAgICAgICAgIHNkazogJ3dlYicsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZXRhaWxzID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBkZXRhaWxzID0ge21lc3NhZ2U6IGRldGFpbHN9O1xuICAgICAgICB9XG5cbiAgICAgICAgZGV0YWlsc1snZ3VpZCddID0gdGhpcy5fZ3VpZDtcbiAgICAgICAgcGFyYW1zWydkZXRhaWxzJ10gPSBKU09OLnN0cmluZ2lmeShkZXRhaWxzKTtcblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXBvcnQobWVzc2FnZTogc3RyaW5nLCBkZXRhaWxzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LCBpbmNsdWRlU3RhY2s6IGJvb2xlYW4gPSBmYWxzZSwgZm9yY2VSZXBvcnQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBpZiAoIShmb3JjZVJlcG9ydCB8fCB0aGlzLl9pc0Vycm9yUmVwb3J0ZXIpKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBjb250aW51ZSBpZiB3ZSBkb24ndCBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydFBhcmFtcyA9IHRoaXMuY3JlYXRlUmVwb3J0UGFyYW1zKG1lc3NhZ2UsIGRldGFpbHMsIGluY2x1ZGVTdGFjayk7XG4gICAgICAgICAgICBjb25zdCBzZGtFcnJvclJlcG9ydEVuZHBvaW50ID0gYCR7bG9jYXRpb24ucHJvdG9jb2x9Ly8ke3RoaXMuYXBpRG9tYWlufS9zZGsuZXJyb3JSZXBvcnRgO1xuICAgICAgICAgICAgVXJpLnBhcnNlKHNka0Vycm9yUmVwb3J0RW5kcG9pbnQpXG4gICAgICAgICAgICAgICAgLmFkZFRvU2VhcmNoKHJlcG9ydFBhcmFtcylcbiAgICAgICAgICAgICAgICAuZmV0Y2g8bnVsbD4oMCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUdVSUQoKTogc3RyaW5nIHtcbiAgICAgICAgdHJ5IHsgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2NyZWF0ZS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdFxuICAgICAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBhcGlEb21haW4oKSB7XG4gICAgICAgIGlmIChnaWd5YS5wYXJ0bmVyU2V0dGluZ3M/LmN1c3RvbUFQSURvbWFpblByZWZpeCAmJiBsb2NhbEluZm8/LmJhc2VEb21haW4uZW5kc1dpdGgoZ2lneWEuXy5jb25maWcuaG9zdGVkUGFnZXNEb21haW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbmZvLmJhc2VEb21haW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncz8uY3VzdG9tQVBJRG9tYWluUHJlZml4ICYmIGxvY2FsSW5mby5iYXNlRG9tYWluICYmIGxvY2FsSW5mby5iYXNlRG9tYWluICE9PSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7Z2lneWEucGFydG5lclNldHRpbmdzLmN1c3RvbUFQSURvbWFpblByZWZpeH0uJHtsb2NhbEluZm8uYmFzZURvbWFpbn1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBhY2NvdW50cy4ke2dpZ3lhLmRhdGFDZW50ZXJ9LiR7Z2lneWEuZGVmYXVsdEFwaURvbWFpbn1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBJQXV0aFJlZ2lzdGVyUmVzcG9uc2UsXG4gICAgSUF1dGhvcml6ZVJlc3BvbnNlLFxuICAgIElDb25uZWN0UmVzcG9uc2UsXG4gICAgSVRva2VuUmVzcG9uc2UsXG4gICAgSU9hdXRoUmVxdWVzdCxcbiAgICBJT2F1dGhDb25uZWN0UmVxdWVzdCxcbiAgICBJT2F1dGhUb2tlblJlcXVlc3QsXG4gICAgSU9hdXRoUmVnaXN0ZXJSZXF1ZXN0XG59IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQge3Byb21pc2lmeX0gZnJvbSBcIi4uL1V0aWxzL3Byb21pc2VcIjtcblxuZXhwb3J0IHR5cGUgR3JhbnRUeXBlID0gJ2F1dGhvcml6YXRpb25fY29kZScgfCAnaW1wbGljaXQnIHwgJ2NsaWVudF9jcmVkZW50aWFscycgfCAncGFzc3dvcmQnIHwgJ3JlZnJlc2hfdG9rZW4nO1xuZXhwb3J0IGNvbnN0IERlZmF1bHRHcmFudFR5cGU6IEdyYW50VHlwZSA9ICdhdXRob3JpemF0aW9uX2NvZGUnO1xuZXhwb3J0IGNvbnN0IE9hdXRoX1Jlc3BvbnNlX1R5cGUgPSAnY29kZSc7XG5cbmV4cG9ydCBjbGFzcyBPYXV0aFNlcnZpY2Uge1xuXG4gICAgcHVibGljIGFzeW5jIHJlZ2lzdGVyKHBhcmFtczogSU9hdXRoUmVnaXN0ZXJSZXF1ZXN0KTogUHJvbWlzZTxJQXV0aFJlZ2lzdGVyUmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3Qge2lkVG9rZW4sIC4uLnJlc3R9ID0gcGFyYW1zO1xuICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXJzLndlYi50b2tlblN0b3JlLnNldEJlYXJlclRva2VuKGlkVG9rZW4pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBwcm9taXNpZnk8SUF1dGhSZWdpc3RlclJlc3BvbnNlPihnaWd5YS5vYXV0aC5yZWdpc3Rlciwge1xuICAgICAgICAgICAgLi4ucmVzdFxuICAgICAgICB9KTtcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVycy53ZWIudG9rZW5TdG9yZS5yZW1vdmVCZWFyZXJUb2tlbigpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICBwdWJsaWMgYXN5bmMgY29ubmVjdCh7aWRUb2tlbiwgcmVnVG9rZW4sIGlnbm9yZUFwaVF1ZXVlfTogSU9hdXRoQ29ubmVjdFJlcXVlc3QpOiBQcm9taXNlPElDb25uZWN0UmVzcG9uc2U+IHtcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVycy53ZWIudG9rZW5TdG9yZS5zZXRCZWFyZXJUb2tlbihpZFRva2VuKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgcHJvbWlzaWZ5PElDb25uZWN0UmVzcG9uc2U+KGdpZ3lhLm9hdXRoLmNvbm5lY3QsIHtcbiAgICAgICAgICAgIHJlZ1Rva2VuLCBpZ25vcmVBcGlRdWV1ZVxuICAgICAgICB9KTtcbiAgICAgICAgZ2lneWEuXy5hcGlBZGFwdGVycy53ZWIudG9rZW5TdG9yZS5yZW1vdmVCZWFyZXJUb2tlbigpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICBwdWJsaWMgYXN5bmMgYXV0aG9yaXplKHBhcmFtczogSU9hdXRoUmVxdWVzdCkgOlByb21pc2U8SUF1dGhvcml6ZVJlc3BvbnNlPiB7XG4gICAgICAgIGdpZ3lhLl8uYXBpQWRhcHRlcnMud2ViLnRva2VuU3RvcmUuc2V0QmVhcmVyVG9rZW4ocGFyYW1zLmlkVG9rZW4pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCAgcHJvbWlzaWZ5PElBdXRob3JpemVSZXNwb25zZT4oZ2lneWEub2F1dGguYXV0aG9yaXplLCB7XG4gICAgICAgICAgICByZXNwb25zZV90eXBlOiBPYXV0aF9SZXNwb25zZV9UeXBlXG4gICAgICAgIH0pO1xuICAgICAgICBnaWd5YS5fLmFwaUFkYXB0ZXJzLndlYi50b2tlblN0b3JlLnJlbW92ZUJlYXJlclRva2VuKCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgcHVibGljIHRva2VuKHtncmFudFR5cGUsIHNlc3Npb25FeHBpcmF0aW9uLCBjb2RlLCBkb250SGFuZGxlU2NyZWVuU2V0fTogSU9hdXRoVG9rZW5SZXF1ZXN0KTogUHJvbWlzZTxJVG9rZW5SZXNwb25zZT4ge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5PElUb2tlblJlc3BvbnNlPihnaWd5YS5vYXV0aC50b2tlbiwge1xuICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgIGdyYW50X3R5cGU6IGdyYW50VHlwZSB8fCBEZWZhdWx0R3JhbnRUeXBlLFxuICAgICAgICAgICAgc2Vzc2lvbkV4cGlyYXRpb246IHNlc3Npb25FeHBpcmF0aW9uIHx8ICcwJyxcbiAgICAgICAgICAgIGRvbnRIYW5kbGVTY3JlZW5TZXQ6IGRvbnRIYW5kbGVTY3JlZW5TZXQgfHwgZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT2F1dGhTZXJ2aWNlKCk7XG4iLCJpbXBvcnQge2Jhc2U2NFVSTFN0cmluZ1RvQnVmZmVyLCBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZywgYnVmZmVyVG9VVEY4U3RyaW5nLCB1dGY4U3RyaW5nVG9CdWZmZXJ9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtHU0Vycm9yc30gZnJvbSBcIi4uL0dTRXJyb3JzXCI7XG5pbXBvcnQge1B1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnNKU09OLCBQdWJsaWNLZXlDcmVkZW50aWFsUmVxdWVzdE9wdGlvbnNKU09OfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgIGVycm9yTWFwID0ge1xuICAgIENvbnN0cmFpbnRFcnJvcjoge1xuICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLk5PVF9TVVBQT1JURUQsXG4gICAgICAgIGVycm9yRGV0YWlsczogJ0Rpc2NvdmVyYWJsZSBjcmVkZW50aWFscyB3ZXJlIHJlcXVpcmVkIGJ1dCBubyBhdmFpbGFibGUgYXV0aGVudGljYXRvciBzdXBwb3J0ZWQnXG4gICAgfSxcbiAgICBJbnZhbGlkU3RhdGVFcnJvcjoge1xuICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLlBBU1NLRVlfQVVUSEVOVElDQVRPUl9SRUdJU1RFUkVELFxuICAgICAgICBlcnJvckRldGFpbHM6ICdUaGUgYXV0aGVudGljYXRvciB3YXMgcHJldmlvdXNseSByZWdpc3RlcmVkJ1xuICAgIH0sXG4gICAgTm90QWxsb3dlZEVycm9yOiB7XG4gICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuT1BFUkFUSU9OX0NBTkNFTEVELFxuICAgICAgICBlcnJvckRldGFpbHM6ICdVc2VyIGNsaWNrZWQgY2FuY2VsLCBvciB0aGUgcmVnaXN0cmF0aW9uIGNlcmVtb255IHRpbWVkIG91dCdcbiAgICB9LFxuICAgIE5vdFN1cHBvcnRlZEVycm9yOiB7XG4gICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuTk9UX1NVUFBPUlRFRCxcbiAgICAgICAgZXJyb3JEZXRhaWxzOiAnTm8gYXZhaWxhYmxlIGF1dGhlbnRpY2F0b3Igc3VwcG9ydGVkIGFueSBvZiB0aGUgc3BlY2lmaWVkIHB1YktleUNyZWRQYXJhbXMgYWxnb3JpdGhtcydcbiAgICB9LFxuICAgIFNlY3VyaXR5RXJyb3I6IHtcbiAgICAgICAgZXJyb3JDb2RlOiBHU0Vycm9ycy5JTlZBTElEX1NJVEVfQ09ORklHVVJBVElPTl9FUlJPUixcbiAgICAgICAgZXJyb3JEZXRhaWxzOiBcIkhvc3RuYW1lIGlzIGFuIGludmFsaWQgZG9tYWluIC8gVGhlIFJQIElEIGlzIGludmFsaWQgZm9yIHRoaXMgZG9tYWluXCJcbiAgICB9LFxuICAgIFR5cGVFcnJvcjoge1xuICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLklOVkFMSURfU0lURV9DT05GSUdVUkFUSU9OX0VSUk9SLFxuICAgICAgICBlcnJvckRldGFpbHM6IFwiVXNlciBJRCB3YXMgbm90IGJldHdlZW4gMSBhbmQgNjQgY2hhcmFjdGVyc1wiXG4gICAgfSxcbiAgICBBYm9ydEVycm9yOiB7XG4gICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuUEFTU0tFWV9BQk9SVEVELFxuICAgICAgICBlcnJvckRldGFpbHM6ICdBdXRoZW50aWNhdGlvbiBjZXJlbW9ueSB3YXMgc2VudCBhbiBhYm9ydCBzaWduYWwnXG4gICAgfSxcbiAgICBVbmtub3duRXJyb3I6IHtcbiAgICAgICAgZXJyb3JDb2RlOiBHU0Vycm9ycy5QQVNTS0VZX0VSUk9SLFxuICAgICAgICBlcnJvckRldGFpbHM6ICdUaGUgYXV0aGVudGljYXRvciB3YXMgdW5hYmxlIHRvIHByb2Nlc3MgdGhlIHNwZWNpZmllZCBvcHRpb25zLCBvciBjb3VsZCBub3QgY3JlYXRlIGEgbmV3IGNyZWRlbnRpYWwnXG4gICAgfSxcbiAgICBDcmVkZW50aWFsRXJyb3I6IHtcbiAgICAgICAgZXJyb3JDb2RlOiBHU0Vycm9ycy5QQVNTS0VZX0VSUk9SLFxuICAgICAgICBlcnJvckRldGFpbHM6ICdVbmFibGUgdG8gY3JlYXRlL2dldCBjcmVkZW50aWFsJ1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ3JlZGVudGlhbENvbnRhaW5lciB7XG4gICAgZ2V0OiAob3B0aW9ucz86IENyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucykgPT4gUHJvbWlzZTxDcmVkZW50aWFsIHwgbnVsbD47XG4gICAgY3JlYXRlOiAob3B0aW9ucz86IENyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucykgPT4gUHJvbWlzZTxDcmVkZW50aWFsIHwgbnVsbD5cbn1cblxuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxTZXJ2aWNlIHtcbiAgICBwcml2YXRlIGFib3J0U2VydmljZTogUGFzc2tleUFib3J0U2VydmljZTtcblxuICAgIHByaXZhdGUgZ2V0IGNyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gZ2lneWEuXy5XaW5kb3dQcm92aWRlci5uYXZpZ2F0b3IoKS5jcmVkZW50aWFscztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hYm9ydFNlcnZpY2UgPSBuZXcgUGFzc2tleUFib3J0U2VydmljZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBpc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlKHB1YktleUNyZWQ6IGFueSA9IFB1YmxpY0tleUNyZWRlbnRpYWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwdWJLZXlDcmVkLmlzQ29uZGl0aW9uYWxNZWRpYXRpb25BdmFpbGFibGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBwdWJLZXlDcmVkPy5pc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLmNyZWRlbnRpYWxzICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuY3JlZGVudGlhbHM/LmNyZWF0ZSAhPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuY3JlZGVudGlhbHM/LmdldCAhPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXQob3B0aW9uczogUHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zSlNPTiwgbWVkaWF0aW9uOiBDcmVkZW50aWFsTWVkaWF0aW9uUmVxdWlyZW1lbnQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcHVibGljS2V5ID0gdGhpcy5jcmVhdGVQS0NyZWRlbnRpYWxSZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmFib3J0U2VydmljZS5jcmVhdGVOZXdBYm9ydFNpZ25hbCgpO1xuXG4gICAgICAgIGlmIChtZWRpYXRpb24gPT09ICdjb25kaXRpb25hbCcgYXMgQ3JlZGVudGlhbE1lZGlhdGlvblJlcXVpcmVtZW50ICYmICEoYXdhaXQgdGhpcy5pc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlKCkpKSB7XG4gICAgICAgICAgICBtZWRpYXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3JlZGVudGlhbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxzLmdldCh7XG4gICAgICAgICAgICAgICAgbWVkaWF0aW9uLFxuICAgICAgICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICAgICAgICBzaWduYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3JNYXBbZXJyb3I/Lm5hbWVdIHx8IGVycm9yTWFwLlVua25vd25FcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3JlZGVudGlhbCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3JNYXAuQ3JlZGVudGlhbEVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge2lkLCByYXdJZCwgcmVzcG9uc2UsIHR5cGV9ID0gY3JlZGVudGlhbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmF3SWQ6IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKHJhd0lkKSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IGNyZWRlbnRpYWwuZ2V0Q2xpZW50RXh0ZW5zaW9uUmVzdWx0cygpLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YTogYnVmZmVyVG9CYXNlNjRVUkxTdHJpbmcocmVzcG9uc2UuYXV0aGVudGljYXRvckRhdGEpLFxuICAgICAgICAgICAgICAgIGNsaWVudERhdGFKU09OOiBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyZXNwb25zZS5jbGllbnREYXRhSlNPTiksXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBidWZmZXJUb0Jhc2U2NFVSTFN0cmluZyhyZXNwb25zZS5zaWduYXR1cmUpLFxuICAgICAgICAgICAgICAgIHVzZXJIYW5kbGU6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlKG9wdGlvbnM6IFB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnNKU09OKSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMuY3JlYXRlUEtDcmVkZW50aWFsQ3JlYXRlKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLmFib3J0U2VydmljZS5jcmVhdGVOZXdBYm9ydFNpZ25hbCgpO1xuXG4gICAgICAgIGxldCBjcmVkZW50aWFsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY3JlZGVudGlhbCA9IGF3YWl0IHRoaXMuY3JlZGVudGlhbHMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgcHVibGljS2V5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yTWFwW2Vycm9yPy5uYW1lXSB8fCBlcnJvck1hcC5Vbmtub3duRXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNyZWRlbnRpYWwpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yTWFwLkNyZWRlbnRpYWxFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgaWQsIHJhd0lkLCByZXNwb25zZSwgdHlwZSB9ID0gY3JlZGVudGlhbDtcblxuICAgICAgICBsZXQgdHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmdldFRyYW5zcG9ydHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHJlc3BvbnNlLmdldFRyYW5zcG9ydHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmF3SWQ6IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKHJhd0lkKSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgYXR0ZXN0YXRpb25PYmplY3Q6IGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKHJlc3BvbnNlLmF0dGVzdGF0aW9uT2JqZWN0KSxcbiAgICAgICAgICAgICAgICBjbGllbnREYXRhSlNPTjogYnVmZmVyVG9CYXNlNjRVUkxTdHJpbmcocmVzcG9uc2UuY2xpZW50RGF0YUpTT04pLFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsaWVudEV4dGVuc2lvblJlc3VsdHM6IGNyZWRlbnRpYWwuZ2V0Q2xpZW50RXh0ZW5zaW9uUmVzdWx0cygpLFxuICAgICAgICAgICAgYXV0aGVudGljYXRvclNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuYXV0aGVudGljYXRvclNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdG9yQXR0YWNobWVudDogb3B0aW9ucy5hdXRoZW50aWNhdG9yU2VsZWN0aW9uPy5hdXRoZW50aWNhdG9yQXR0YWNobWVudCB8fCB1bmRlZmluZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdHRlc3RhdGlvbjogb3B0aW9ucy5hdHRlc3RhdGlvbiB8fCAnZGlyZWN0J1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBhYm9ydEN1cnJlbnRDZXJlbW9ueSgpIHtcbiAgICAgICAgdGhpcy5hYm9ydFNlcnZpY2UuYWJvcnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBLQ3JlZGVudGlhbFJlcXVlc3Qob3B0aW9uczogUHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zSlNPTik6IFB1YmxpY0tleUNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9ucyB7XG4gICAgICAgIGxldCBhbGxvd0NyZWRlbnRpYWxzO1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd0NyZWRlbnRpYWxzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhbGxvd0NyZWRlbnRpYWxzID0gb3B0aW9ucy5hbGxvd0NyZWRlbnRpYWxzLm1hcChjID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgICAgICAgICBpZDogYmFzZTY0VVJMU3RyaW5nVG9CdWZmZXIoYy5pZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBjaGFsbGVuZ2U6IGJhc2U2NFVSTFN0cmluZ1RvQnVmZmVyKG9wdGlvbnMuY2hhbGxlbmdlKSxcbiAgICAgICAgICAgIGFsbG93Q3JlZGVudGlhbHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBLQ3JlZGVudGlhbENyZWF0ZShvcHRpb25zOiBQdWJsaWNLZXlDcmVkZW50aWFsQ3JlYXRpb25PcHRpb25zSlNPTik6IFB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnMge1xuICAgICAgICByZXR1cm4gIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBjaGFsbGVuZ2U6IGJhc2U2NFVSTFN0cmluZ1RvQnVmZmVyKG9wdGlvbnMuY2hhbGxlbmdlKSxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLnVzZXIsXG4gICAgICAgICAgICAgICAgaWQ6IHV0ZjhTdHJpbmdUb0J1ZmZlcihvcHRpb25zLnVzZXIuaWQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhjbHVkZUNyZWRlbnRpYWxzOiBvcHRpb25zLmV4Y2x1ZGVDcmVkZW50aWFscz8ubWFwKGMgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmMsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBiYXNlNjRVUkxTdHJpbmdUb0J1ZmZlcihjLmlkKVxuICAgICAgICAgICAgICAgIH0gYXMgUHVibGljS2V5Q3JlZGVudGlhbERlc2NyaXB0b3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBQYXNza2V5QWJvcnRTZXJ2aWNlIHtcbiAgICBwcml2YXRlIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBjcmVhdGVOZXdBYm9ydFNpZ25hbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3Q29udHJvbGxlcjtcbiAgICAgICAgcmV0dXJuIG5ld0NvbnRyb2xsZXIuc2lnbmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENyZWRlbnRpYWxTZXJ2aWNlKCk7XG4iLCJpbXBvcnQgcGFzc2tleVNlcnZpY2UsIHtQYXNza2V5QXV0aGVudGljYXRlUGFyYW1zfSBmcm9tICcuL1Bhc3NrZXlTZXJ2aWNlJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXNza2V5UmVnaXN0cmF0aW9uUGFyYW1zIHtcbiAgICBkZXZpY2VOYW1lPzogc3RyaW5nO1xuICAgIGNhbGxiYWNrPzogKHJlcz86IG9iamVjdCkgPT4gdm9pZDtcbiAgICByZWdUb2tlbj86IHN0cmluZztcbiAgICBhVG9rZW4/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFzc2tleUxvZ2luUGFyYW1zIGV4dGVuZHMgUGFzc2tleUF1dGhlbnRpY2F0ZVBhcmFtcyB7XG4gICAgY2FsbGJhY2s/OiAocmVzPzogb2JqZWN0KSA9PiB2b2lkO1xufVxuXG5jb25zdCBpbnZva2VDYWxsYmFjayA9IChwYXJhbXMsIHJlcz86IG9iamVjdCkgPT4ge1xuICAgIGlmKHR5cGVvZiBwYXJhbXM/LmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBhcmFtcy5jYWxsYmFjayhyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJQYXNza2V5KHBhcmFtczogUGFzc2tleVJlZ2lzdHJhdGlvblBhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIHBhc3NrZXlTZXJ2aWNlLnJlZ2lzdGVyUGFzc2tleShwYXJhbXMsIHRydWUpXG4gICAgICAgIC50aGVuKHJlcyA9PiBpbnZva2VDYWxsYmFjayhwYXJhbXMsIHJlcykpXG4gICAgICAgIC5jYXRjaChlID0+IHt0aHJvdyBpbnZva2VDYWxsYmFjayhwYXJhbXMsIGUpfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXNza2V5TG9naW4ocGFyYW1zOiBQYXNza2V5TG9naW5QYXJhbXMgPSB7fSkge1xuICAgIHJldHVybiBwYXNza2V5U2VydmljZS5hdXRoZW50aWNhdGUocGFyYW1zKVxuICAgICAgICAudGhlbihyZXMgPT4gaW52b2tlQ2FsbGJhY2socGFyYW1zLCByZXMpKVxuICAgICAgICAuY2F0Y2goZSA9PiB7dGhyb3cgaW52b2tlQ2FsbGJhY2socGFyYW1zLCBlKX0pO1xufVxuIiwiaW1wb3J0IHtcbiAgICBJR2V0QXNzZXJ0aW9uT3B0aW9uc1Jlc3BvbnNlLFxuICAgIElHZXRDcmVkZW50aWFsUmVzcG9uc2UsXG4gICAgSUluaXRSZWdpc3RlckNyZWRlbnRpYWxzUmVzcG9uc2UsXG4gICAgSVBhc3NrZXlSZWdpc3RyYXRpb25QYXJhbXMsXG4gICAgSVJlZ2lzdGVyQ3JlZGVudGlhbHNSZXNwb25zZSxcbiAgICBJVmVyaWZ5QXNzZXJ0aW9uUmVzcG9uc2Vcbn0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCBPYXV0aFNlcnZpY2UgZnJvbSAnLi4vT2F1dGgvT2F1dGhTZXJ2aWNlJztcbmltcG9ydCB7R1NFcnJvcnN9IGZyb20gJy4uL0dTRXJyb3JzJztcbmltcG9ydCB7cHJvbWlzaWZ5fSBmcm9tICcuLi9VdGlscy9wcm9taXNlJztcbmltcG9ydCAqIGFzIGdsb2JhbEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzJztcbmltcG9ydCBjcmVkZW50aWFsU2VydmljZSwge2Vycm9yTWFwfSBmcm9tICcuL0NyZWRlbnRpYWxTZXJ2aWNlJztcblxuZXhwb3J0IGludGVyZmFjZSBQYXNza2V5QXV0aGVudGljYXRlUGFyYW1zIHtcbiAgICBtZWRpYXRpb24/OiBDcmVkZW50aWFsTWVkaWF0aW9uUmVxdWlyZW1lbnRcbiAgICBzZXNzaW9uRXhwaXJhdGlvbj86IHN0cmluZztcbiAgICBhYm9ydEN1cnJlbnRDZXJlbW9ueT86IGJvb2xlYW47XG4gICAgZG9udEhhbmRsZVNjcmVlblNldD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUGFzc2tleUV2ZW50SGFuZGxlciA9IChkYXRhOiBhbnkpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBQYXNza2V5RXZlbnRzID0gJ3Bhc3NrZXlSZW1vdmVkJyB8ICdwYXNza2V5QWRkZWQnO1xuXG5leHBvcnQgY2xhc3MgUGFzc2tleVNlcnZpY2Uge1xuICAgIHByaXZhdGUgY3VycmVudFJ1bj86IFByb21pc2U8YW55PjtcbiAgICBwcml2YXRlIGV2ZW50SGFuZGxlcnM6IE1hcDxzdHJpbmcsIFBhc3NrZXlFdmVudEhhbmRsZXJbXT47XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IG5ldyBNYXA8c3RyaW5nLCBQYXNza2V5RXZlbnRIYW5kbGVyW10+KClcbiAgICB9XG5cbiAgICBwdWJsaWMgb24oZXZlbnQ6IFBhc3NrZXlFdmVudHMsIGhhbmRsZXI6IFBhc3NrZXlFdmVudEhhbmRsZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnMuZ2V0KGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLnNldChldmVudCwgW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycy5nZXQoZXZlbnQpLnB1c2goaGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZShldmVudDogUGFzc2tleUV2ZW50cywgaGFuZGxlcjogUGFzc2tleUV2ZW50SGFuZGxlcikge1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMuc2V0KGV2ZW50LFxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLmdldChldmVudCk/LmZpbHRlcihmbiA9PiBmbiAhPT0gaGFuZGxlcikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxTZXJ2aWNlLmlzU3VwcG9ydGVkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGlzQ29uZGl0aW9uYWxNZWRpYXRpb25BdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBjcmVkZW50aWFsU2VydmljZS5pc0NvbmRpdGlvbmFsTWVkaWF0aW9uQXZhaWxhYmxlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGF1dGhlbnRpY2F0ZShwYXJhbXM/OiBQYXNza2V5QXV0aGVudGljYXRlUGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bk9uZUF0QVRpbWUoKCkgPT4gdGhpcy5pbnRlcm5hbEF1dGhlbnRpY2F0ZShwYXJhbXMpLCBwYXJhbXM/LmFib3J0Q3VycmVudENlcmVtb255IHx8IGZhbHNlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcmVnaXN0ZXJQYXNza2V5KHBhcmFtczogSVBhc3NrZXlSZWdpc3RyYXRpb25QYXJhbXMgPSB7fSwgYWJvcnRDdXJyZW50Q2VyZW1vbnkgPSBmYWxzZSkge1xuICAgICAgICBpZiAocGFyYW1zLmFUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVuT25lQXRBVGltZSgoKSA9PiB0aGlzLmludGVybmFsUmVnaXN0ZXIocGFyYW1zKSwgYWJvcnRDdXJyZW50Q2VyZW1vbnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bk9uZUF0QVRpbWUoKCkgPT4gdGhpcy5pbnRlcm5hbENvbm5lY3QocGFyYW1zKSwgYWJvcnRDdXJyZW50Q2VyZW1vbnkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyByZW1vdmVQYXNza2V5KGNyZWRlbnRpYWxJZDogc3RyaW5nLCByZWdUb2tlbj86IHN0cmluZykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb21pc2lmeShnaWd5YS5hY2NvdW50cy5hdXRoLmZpZG8ucmVtb3ZlQ3JlZGVudGlhbCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbElkLFxuICAgICAgICAgICAgcmVnVG9rZW4sXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PT0gR1NFcnJvcnMuT0spIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgncGFzc2tleVJlbW92ZWQnLCB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbElkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFBhc3NrZXlzKHJlZ1Rva2VuPzogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBwcm9taXNpZnk8SUdldENyZWRlbnRpYWxSZXNwb25zZT4oZ2lneWEuYWNjb3VudHMuYXV0aC5maWRvLmdldENyZWRlbnRpYWxzLCB7XG4gICAgICAgICAgICByZWdUb2tlbixcbiAgICAgICAgICAgIGlnbm9yZUFwaVF1ZXVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyB3YWl0Rm9yU2VydmljZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmN1cnJlbnRSdW47XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICB9XG5cbiAgICBwdWJsaWMgYWJvcnRDdXJyZW50Q2VyZW1vbnkoKSB7XG4gICAgICAgIGNyZWRlbnRpYWxTZXJ2aWNlLmFib3J0Q3VycmVudENlcmVtb255KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNwYXRjaEV2ZW50KGV2ZW50OiBQYXNza2V5RXZlbnRzLCBkYXRhOiBhbnkpIHtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiB0aGlzLmV2ZW50SGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXSkge1xuICAgICAgICAgICAgZm4oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2xvYmFsRXZlbnRzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIGV2ZW50TmFtZTogYHBhc3NrZXkuJHtldmVudH1gLFxuICAgICAgICAgICAgLi4uZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHJ1bk9uZUF0QVRpbWUoZnVuYzogRnVuY3Rpb24sIGFib3J0Q3VycmVudENlcmVtb255KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvck1hcC5Ob3RTdXBwb3J0ZWRFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhYm9ydEN1cnJlbnRDZXJlbW9ueSkge1xuICAgICAgICAgICAgY3JlZGVudGlhbFNlcnZpY2UuYWJvcnRDdXJyZW50Q2VyZW1vbnkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdEZvclNlcnZpY2UoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UnVuID0gZnVuYygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UnVuO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW50ZXJuYWxSZWdpc3RlcihwYXJhbXM6IElQYXNza2V5UmVnaXN0cmF0aW9uUGFyYW1zID0ge30pIHtcbiAgICAgICAgY29uc3QgY3JlYXRlQ3JlZFJlcyA9IGF3YWl0IHRoaXMuY3JlYXRlQW5kUmVnaXN0ZXJDcmVkZW50aWFsKHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHsgbGFuZywgc2Vzc2lvbkV4cGlyYXRpb24sIGNvbnRleHQsIHJlZ1NvdXJjZSwgY2lkLCBzb3VyY2V9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCByZWdSZXNwb25zZSA9IGF3YWl0IE9hdXRoU2VydmljZS5yZWdpc3Rlcih7XG4gICAgICAgICAgICBpZFRva2VuOiBjcmVhdGVDcmVkUmVzLmlkVG9rZW4sXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlnbm9yZUludGVycnVwdGlvbnM6IHRydWUsXG4gICAgICAgICAgICBwcm92aWRlcjogJ3NpdGUnLFxuICAgICAgICAgICAgc291cmNlLCBsYW5nLCBzZXNzaW9uRXhwaXJhdGlvbiwgY29udGV4dCwgcmVnU291cmNlLCBjaWRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcHJvbWlzaWZ5KGdpZ3lhLmFjY291bnRzLmZpbmFsaXplUmVnaXN0cmF0aW9uLCB7XG4gICAgICAgICAgICByZWdUb2tlbjogcmVnUmVzcG9uc2UucmVnVG9rZW4sXG4gICAgICAgICAgICBpZ25vcmVJbnRlcnJ1cHRpb25zOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsXG4gICAgICAgICAgICBwcm92aWRlcjogJ3NpdGUnLFxuICAgICAgICAgICAgc291cmNlLCBjb250ZXh0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3Bhc3NrZXlBZGRlZCcsIHsgcmVzcG9uc2U6IGNyZWF0ZUNyZWRSZXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgcmVnVG9rZW46IHJlZ1Jlc3BvbnNlLnJlZ1Rva2VuXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbnRlcm5hbENvbm5lY3QocGFyYW1zOiBJUGFzc2tleVJlZ2lzdHJhdGlvblBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZUNyZWRSZXMgPSBhd2FpdCB0aGlzLmNyZWF0ZUFuZFJlZ2lzdGVyQ3JlZGVudGlhbChwYXJhbXMpO1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBPYXV0aFNlcnZpY2UuY29ubmVjdCh7XG4gICAgICAgICAgICBpZFRva2VuOiBjcmVhdGVDcmVkUmVzLmlkVG9rZW4sXG4gICAgICAgICAgICByZWdUb2tlbjogcGFyYW1zLnJlZ1Rva2VuLFxuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT09IEdTRXJyb3JzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3Bhc3NrZXlBZGRlZCcsIHsgcmVzcG9uc2U6IGNyZWF0ZUNyZWRSZXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW50ZXJuYWxBdXRoZW50aWNhdGUocGFyYW1zPzogUGFzc2tleUF1dGhlbnRpY2F0ZVBhcmFtcykge1xuICAgICAgICBjb25zdCBbdG9rZW4sIG9wdGlvbnNdID0gYXdhaXQgUGFzc2tleVNlcnZpY2UuZ2V0QXNzZXJ0aW9uT3B0aW9ucygpO1xuICAgICAgICBjb25zdCBhdXRoZW50aWNhdG9yQXNzZXJ0aW9uID0gYXdhaXQgY3JlZGVudGlhbFNlcnZpY2UuZ2V0KG9wdGlvbnMsIHBhcmFtcz8ubWVkaWF0aW9uKTtcblxuICAgICAgICBjb25zdCB2ZXJpZnlBc3NlcnRpb25SZXNwb25zZSA9IGF3YWl0IHByb21pc2lmeTxJVmVyaWZ5QXNzZXJ0aW9uUmVzcG9uc2U+KFxuICAgICAgICAgICAgZ2lneWEuYWNjb3VudHMuYXV0aC5maWRvLnZlcmlmeUFzc2VydGlvbiwge1xuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0b3JBc3NlcnRpb24sXG4gICAgICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaWYodmVyaWZ5QXNzZXJ0aW9uUmVzcG9uc2UuZXJyb3JDb2RlICE9PSBHU0Vycm9ycy5PSyB8fCAhdmVyaWZ5QXNzZXJ0aW9uUmVzcG9uc2UuaWRUb2tlbikgIHtcbiAgICAgICAgICAgIHRocm93IHZlcmlmeUFzc2VydGlvblJlc3BvbnNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXV0aG9yaXplUmVzcG9uc2UgPSBhd2FpdCBPYXV0aFNlcnZpY2UuYXV0aG9yaXplKHtcbiAgICAgICAgICAgIGlkVG9rZW46IHZlcmlmeUFzc2VydGlvblJlc3BvbnNlLmlkVG9rZW4sXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoYXV0aG9yaXplUmVzcG9uc2UuZXJyb3JDb2RlICE9PSBHU0Vycm9ycy5PSyB8fCAhYXV0aG9yaXplUmVzcG9uc2UuY29kZSkge1xuICAgICAgICAgICAgdGhyb3cgYXV0aG9yaXplUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IE9hdXRoU2VydmljZS50b2tlbih7XG4gICAgICAgICAgICBjb2RlOiBhdXRob3JpemVSZXNwb25zZS5jb2RlLFxuICAgICAgICAgICAgZG9udEhhbmRsZVNjcmVlblNldDogcGFyYW1zPy5kb250SGFuZGxlU2NyZWVuU2V0IHx8IHRydWUsXG4gICAgICAgICAgICBzZXNzaW9uRXhwaXJhdGlvbjogcGFyYW1zPy5zZXNzaW9uRXhwaXJhdGlvbixcbiAgICAgICAgICAgIGlnbm9yZUFwaVF1ZXVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlQW5kUmVnaXN0ZXJDcmVkZW50aWFsKHBhcmFtczogSVBhc3NrZXlSZWdpc3RyYXRpb25QYXJhbXMgPSB7fSkge1xuICAgICAgICBjb25zdCBbdG9rZW4sIG9wdGlvbnNdID0gYXdhaXQgUGFzc2tleVNlcnZpY2UuZ2V0UmVnaXN0cmF0aW9uT3B0aW9ucyhwYXJhbXMpO1xuICAgICAgICBjb25zdCBhdHRlc3RhdGlvbiA9IGF3YWl0IGNyZWRlbnRpYWxTZXJ2aWNlLmNyZWF0ZShvcHRpb25zKTtcbiAgICAgICAgY29uc3QgeyByZWdUb2tlbiwgZGV2aWNlTmFtZSwgaWdub3JlSW50ZXJydXB0aW9uc30gPSBwYXJhbXNcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJDcmVkZW50aWFsc1Jlc3BvbnNlID0gYXdhaXQgcHJvbWlzaWZ5PElSZWdpc3RlckNyZWRlbnRpYWxzUmVzcG9uc2U+KFxuICAgICAgICAgICAgZ2lneWEuYWNjb3VudHMuYXV0aC5maWRvLnJlZ2lzdGVyQ3JlZGVudGlhbHMsIHtcbiAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICBhdHRlc3RhdGlvbixcbiAgICAgICAgICAgICAgICBkZXZpY2VOYW1lLFxuICAgICAgICAgICAgICAgIHJlZ1Rva2VuLFxuICAgICAgICAgICAgICAgIGlnbm9yZUFwaVF1ZXVlOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYocmVnaXN0ZXJDcmVkZW50aWFsc1Jlc3BvbnNlLmVycm9yQ29kZSAhPT0gR1NFcnJvcnMuT0sgfHwgIXJlZ2lzdGVyQ3JlZGVudGlhbHNSZXNwb25zZS5pZFRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyByZWdpc3RlckNyZWRlbnRpYWxzUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyQ3JlZGVudGlhbHNSZXNwb25zZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBnZXRBc3NlcnRpb25PcHRpb25zKCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGF3YWl0IHByb21pc2lmeTxJR2V0QXNzZXJ0aW9uT3B0aW9uc1Jlc3BvbnNlPihnaWd5YS5hY2NvdW50cy5hdXRoLmZpZG8uZ2V0QXNzZXJ0aW9uT3B0aW9ucywge1xuICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHJlcXVlc3RPcHRpb25zLmVycm9yQ29kZSAhPT0gR1NFcnJvcnMuT0sgfHwhcmVxdWVzdE9wdGlvbnMub3B0aW9ucyB8fCAhcmVxdWVzdE9wdGlvbnMudG9rZW4pICB7XG4gICAgICAgICAgICB0aHJvdyByZXF1ZXN0T3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gSlNPTi5wYXJzZShyZXF1ZXN0T3B0aW9ucy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFtyZXF1ZXN0T3B0aW9ucy50b2tlbiwgb3B0aW9uc107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgZ2V0UmVnaXN0cmF0aW9uT3B0aW9ucyhwYXJhbXM6IGFueSkge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGF3YWl0IHByb21pc2lmeTxJSW5pdFJlZ2lzdGVyQ3JlZGVudGlhbHNSZXNwb25zZT4oZ2lneWEuYWNjb3VudHMuYXV0aC5maWRvLmluaXRSZWdpc3RlckNyZWRlbnRpYWxzLCB7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBpZ25vcmVBcGlRdWV1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYocmVxdWVzdE9wdGlvbnMuZXJyb3JDb2RlICE9PSBHU0Vycm9ycy5PSyB8fCAhcmVxdWVzdE9wdGlvbnMub3B0aW9ucyB8fCAhcmVxdWVzdE9wdGlvbnMudG9rZW4pICB7XG4gICAgICAgICAgICB0aHJvdyByZXF1ZXN0T3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gSlNPTi5wYXJzZShyZXF1ZXN0T3B0aW9ucy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIFtyZXF1ZXN0T3B0aW9ucy50b2tlbiwgb3B0aW9uc107XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFzc2tleVNlcnZpY2UoKTtcbiIsImV4cG9ydCBmdW5jdGlvbiB1dGY4U3RyaW5nVG9CdWZmZXIodmFsdWU6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlclRvVVRGOFN0cmluZyh2YWx1ZTogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlclRvQmFzZTY0VVJMU3RyaW5nKGJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBsZXQgc3RyID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaTwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJhc2U2NFN0cmluZyA9IGJ0b2Eoc3RyKTtcblxuICAgIHJldHVybiBiYXNlNjRTdHJpbmcucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPS9nLCAnJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRVUkxTdHJpbmdUb0J1ZmZlcihiYXNlNjRVUkxTdHJpbmc6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgICAvLyBDb252ZXJ0IGZyb20gQmFzZTY0VVJMIHRvIEJhc2U2NFxuICAgIGNvbnN0IGJhc2U2NCA9IGJhc2U2NFVSTFN0cmluZy5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgIC8qKlxuICAgICAqIFBhZCB3aXRoICc9JyB1bnRpbCBpdCdzIGEgbXVsdGlwbGUgb2YgZm91clxuICAgICAqICg0IC0gKDg1ICUgNCA9IDEpID0gMykgJSA0ID0gMyBwYWRkaW5nXG4gICAgICogKDQgLSAoODYgJSA0ID0gMikgPSAyKSAlIDQgPSAyIHBhZGRpbmdcbiAgICAgKiAoNCAtICg4NyAlIDQgPSAzKSA9IDEpICUgNCA9IDEgcGFkZGluZ1xuICAgICAqICg0IC0gKDg4ICUgNCA9IDApID0gNCkgJSA0ID0gMCBwYWRkaW5nXG4gICAgICovXG4gICAgY29uc3QgcGFkTGVuZ3RoID0gKDQgLSAoYmFzZTY0Lmxlbmd0aCAlIDQpKSAlIDQ7XG4gICAgY29uc3QgcGFkZGVkID0gYmFzZTY0LnBhZEVuZChiYXNlNjQubGVuZ3RoICsgcGFkTGVuZ3RoLCAnPScpO1xuXG4gICAgLy8gQ29udmVydCB0byBhIGJpbmFyeSBzdHJpbmdcbiAgICBjb25zdCBiaW5hcnkgPSBhdG9iKHBhZGRlZCk7XG5cbiAgICAvLyBDb252ZXJ0IGJpbmFyeSBzdHJpbmcgdG8gYnVmZmVyXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJpbmFyeS5sZW5ndGgpO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cbiIsImltcG9ydCAqIGFzIEpTT05VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSlNPTic7XG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcblxuLy8gQ3VzdG9tIHB1YmxpYyBwcm90b3R5cGVzIChGcmllbmRzLCBVc2VyQWN0aW9uLCBldGMpXG5cbnZhciBkZWZhdWx0T2JqZWN0cyA9IHt9O1xudmFyIGRlZmF1bHRPYmplY3RzRGVmID0ge1xuICAgIC8vbmFtZXxkZWZhdWx0VmFsdWUuIGlmIGRlZmF1bHQgbm90IHNwZWNpZmllZCB1c2UgZW1wdHkgc3RyaW5nXG4gICAgVXNlcjpcbiAgICAgICAgJ3BlcnNvbndpdGh1aWQraXNMb2dnZWRJbnxmYWxzZSxpc0Nvbm5lY3RlZHxmYWxzZSxpc1NpdGVVc2VyfGZhbHNlLGlkZW50aXRpZXN8e30scHJvdmlkZXJzfFtdLHRpbWVzdGFtcCxVSURTaWcsVUlEU2lnbmF0dXJlLHNpZ25hdHVyZVRpbWVzdGFtcCxsb2dpblByb3ZpZGVyLGxvZ2luUHJvdmlkZXJVSUQsY2FwYWJpbGl0aWVzfHt9JyxcbiAgICBGcmllbmQ6ICdwZXJzb253aXRodWlkK3RpbWVzdGFtcCxmcmllbmRzaGlwU2lnLGZyaWVuZHNoaXBTaWduYXR1cmUsc2lnbmF0dXJlVGltZXN0YW1wLHRpbWVzdGFtcCxpc1NpdGVVc2VyfGZhbHNlLGlkZW50aXRpZXN8e30nLFxuICAgIElkZW50aXR5OiAncGVyc29uK2lzRXhwaXJlZFNlc3Npb258ZmFsc2UsYWxsb3dzTG9naW58ZmFsc2UscHJvdmlkZXJVSUQscHJvdmlkZXIsaXNMb2dpbklkZW50aXR5fGZhbHNlLG1pc3NpbmdQZXJtaXNzaW9ucycsXG4gICAgQ29udGFjdDogJ3Byb3ZpZGVyLGZpcnN0TmFtZSxsYXN0TmFtZSxuaWNrbmFtZSxlbWFpbCxwaG90b1VSTCcsXG4gICAgcGVyc29uOlxuICAgICAgICAnbmlja25hbWUscGhvdG9VUkwsdGh1bWJuYWlsVVJMLGJpcnRoRGF5fDAsYmlydGhNb250aHwwLGJpcnRoWWVhcnwwLGdlbmRlcixlbWFpbCxwcm94aWVkRW1haWwsY291bnRyeSxzdGF0ZSxjaXR5LHppcCxmaXJzdE5hbWUsbGFzdE5hbWUscHJvZmlsZVVSTCxhZ2V8MCcsXG4gICAgcGVyc29ud2l0aHVpZDogJ3BlcnNvbitVSUQsaXNTaXRlVUlEfGZhbHNlJyxcbiAgICBVc2VyQWN0aW9uOlxuICAgICAgICAnYWN0b3JVSUQsYWN0b3JOaWNrbmFtZSxhY3Rpb25OYW1lLGRhdGV8bmV3IERhdGUoKSx0YXJnZXRzfFtdLGltYWdlc3xbXSxhY3Rpb25EYXRhMSxhY3Rpb25EYXRhMixpY29uVVJMLHRpdGxlLGxpbmtCYWNrLHVzZXJNZXNzYWdlLGRlc2NyaXB0aW9uLGFjdGlvbkxpbmtzfFtdLG1lZGlhSXRlbXN8W10sc3VidGl0bGUnLFxufTtcbnZhciBjcmVhdGVEZWZhdWx0T2JqZWN0ID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBvID0ge307XG4gICAgdmFyIG9iamVjdERlZiA9IGRlZmF1bHRPYmplY3RzRGVmW3R5cGVdO1xuICAgIGlmIChvYmplY3REZWYuaW5kZXhPZignKycpICE9IC0xKSB7XG4gICAgICAgIG8gPSBjcmVhdGVEZWZhdWx0T2JqZWN0KG9iamVjdERlZi5zcGxpdCgnKycpWzBdKTtcbiAgICAgICAgb2JqZWN0RGVmID0gb2JqZWN0RGVmLnNwbGl0KCcrJylbMV07XG4gICAgfVxuICAgIHZhciBhckZpZWxkcyA9IG9iamVjdERlZi5zcGxpdCgnLCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlOiBhbnkgPSAnJztcbiAgICAgICAgdmFyIGFyRmllbGQgPSBhckZpZWxkc1tpXS5zcGxpdCgnfCcpO1xuICAgICAgICBpZiAoYXJGaWVsZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IEpTT05VdGlscy5kZXNlcmlhbGl6ZShhckZpZWxkWzFdLCAnJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICAgICAgfVxuICAgICAgICBvW2FyRmllbGRbMF1dID0gZGVmYXVsdFZhbHVlIHx8ICcnO1xuICAgIH1cbiAgICByZXR1cm4gbztcbn07XG52YXIgX2NyZWF0ZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T2JqZWN0ID0gZGVmYXVsdE9iamVjdHNbbmFtZV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gZGVmYXVsdE9iamVjdCkge1xuICAgICAgICAgICAgdGhpc1twXSA9IG9iamVjdFV0aWxzLmNsb25lKGRlZmF1bHRPYmplY3RbcF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbyA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvW3BdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1twXSA9IG9iamVjdFV0aWxzLmNsb25lKG9bcF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuZm9yICh2YXIgZGVmIGluIGRlZmF1bHRPYmplY3RzRGVmKSB7XG4gICAgZGVmYXVsdE9iamVjdHNbZGVmXSA9IGNyZWF0ZURlZmF1bHRPYmplY3QoZGVmKTtcbiAgICBnaWd5YS5zb2NpYWxpemVbZGVmXSA9IF9jcmVhdGVDb25zdHJ1Y3RvcihkZWYpO1xufVxuXG5naWd5YS5zb2NpYWxpemUuQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGFyciwgaykge1xuICAgIHRoaXMuYXJyID0gYXJyO1xuICAgIHRoaXMuX2tleSA9IGsgPyBrIDogJyc7XG59O1xuZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIGFzQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcnI7XG4gICAgfSxcbiAgICBlYWNoOiBmdW5jdGlvbihmKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5hcnJbaV07XG4gICAgICAgIHdoaWxlIChlbCkge1xuICAgICAgICAgICAgZihlbCwgaSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBlbCA9IHRoaXMuYXJyW2ldO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRCeUlkOiBmdW5jdGlvbihpZCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2hhc2ggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkSGFzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5faGFzaCA/IHRoaXMuX2hhc2ggOiB0aGlzLmFycilbaWRdO1xuICAgIH0sXG4gICAgZ2V0U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyci5sZW5ndGg7XG4gICAgfSxcbiAgICBfYnVpbGRIYXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGggPSAodGhpcy5faGFzaCA9IHt9KTtcbiAgICAgICAgdmFyIGsgPSB0aGlzLl9rZXk7XG4gICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihvLCBpKSB7XG4gICAgICAgICAgICBoW3R5cGVvZiBvW2tdID09ICdmdW5jdGlvbicgPyBvW2tdKCkgOiBvW2tdXSA9IG87XG4gICAgICAgIH0pO1xuICAgIH0sXG59O1xuZ2lneWEuc29jaWFsaXplLlVzZXJBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnaWd5YS5zb2NpYWxpemUuVXNlckFjdGlvbihnaWd5YS51dGlscy5vYmplY3QuY2xvbmUodGhpcywgdHJ1ZSwgdHJ1ZSkpO1xuICAgIH0sXG4gICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZVRlbXBsYXRlO1xuICAgIH0sXG4gICAgc2V0VGVtcGxhdGU6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgdGhpcy50aXRsZVRlbXBsYXRlID0gYTtcbiAgICB9LFxuICAgIGdldEFjdG9yOiBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiB7IFVJRDogdGhpcy5hY3RvclVJRCwgbmlja25hbWU6IHRoaXMuYWN0b3JOaWNrbmFtZSB9O1xuICAgIH0sXG4gICAgc2V0QWN0aW9uTmFtZTogZnVuY3Rpb24oYSkge1xuICAgICAgICB0aGlzLmFjdGlvbk5hbWUgPSBhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGdldEFjdGlvbk5hbWU6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uTmFtZTtcbiAgICB9LFxuICAgIGdldFRlbXBsYXRlRmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZpZWxkc0FycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIGZuIGluIHRoaXMudGVtcGxhdGVGaWVsZHMpIHtcbiAgICAgICAgICAgIGZpZWxkc0FycmF5LnB1c2godGhpcy50ZW1wbGF0ZUZpZWxkc1tmbl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24oZmllbGRzQXJyYXksICdmaWVsZE5hbWUnKTtcbiAgICB9LFxuICAgIHNldFRlbXBsYXRlRmllbGQ6IGZ1bmN0aW9uKG4sIHQsIGgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZUZpZWxkc1tuXSA9IHsgZmllbGROYW1lOiBuLCB0ZXh0OiB0LCBocmVmOiBoIH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZ2V0VGVtcGxhdGVGaWVsZDogZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUZpZWxkc1tuXSA/IHRoaXMudGVtcGxhdGVGaWVsZHNbbl0gOiBudWxsO1xuICAgIH0sXG4gICAgYWRkVGFyZ2V0OiBmdW5jdGlvbih0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdCA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRzLnB1c2goeyBVSUQ6IHQuVUlELCBuaWNrbmFtZTogdC5uaWNrbmFtZSA/IHQubmlja25hbWUgOiAnJyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldHMucHVzaCh7IFVJRDogdCwgbmlja25hbWU6ICcnIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZEFjdGlvbkxpbms6IGZ1bmN0aW9uKHRpdGxlLCBocmVmKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uTGlua3MucHVzaCh7IHRleHQ6IHRpdGxlLCBocmVmOiBocmVmID8gaHJlZiA6ICcnIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGFkZE1lZGlhSXRlbTogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHRoaXMubWVkaWFJdGVtcy5wdXNoKG9iaik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc2V0VGl0bGU6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQpIHRoaXMudGl0bGUgPSB0ZXh0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHNldExpbmtCYWNrOiBmdW5jdGlvbihocmVmKSB7XG4gICAgICAgIGlmIChocmVmICYmIGhyZWYudG9TdHJpbmcpIGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChocmVmKSB0aGlzLmxpbmtCYWNrID0gaHJlZjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzZXRVc2VyTWVzc2FnZTogZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLnVzZXJNZXNzYWdlID0gdGV4dCA/IHRleHQgOiAnJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzZXREZXNjcmlwdGlvbjogZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGV4dCA/IHRleHQgOiAnJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGRJbWFnZTogZnVuY3Rpb24ocywgaCkge1xuICAgICAgICB0aGlzLmFkZE1lZGlhSXRlbSh7IHR5cGU6ICdpbWFnZScsIHNyYzogcywgaHJlZjogaCB9KTtcbiAgICB9LFxuICAgIGdldEltYWdlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgZ2lneWEuc29jaWFsaXplLkNvbGxlY3Rpb24odGhpcy5pbWFnZXMsICcnKTtcbiAgICB9LFxuICAgIGdldFRhcmdldHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IGdpZ3lhLnNvY2lhbGl6ZS5Db2xsZWN0aW9uKHRoaXMudGFyZ2V0cywgJ1VJRCcpO1xuICAgIH0sXG4gICAgc2V0SWNvblVSTDogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHRoaXMuaWNvblVSTCA9IHVybDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXRJY29uVVJMOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvblVSTDtcbiAgICB9LFxuICAgIGdldERhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlO1xuICAgIH0sXG4gICAgc2V0QWN0aW9uRGF0YTE6IGZ1bmN0aW9uKGFkKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGF0YTEgPSBhZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGdldEFjdGlvbkRhdGExOiBmdW5jdGlvbihhZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25EYXRhMTtcbiAgICB9LFxuXG4gICAgc2V0QWN0aW9uRGF0YTI6IGZ1bmN0aW9uKGFkKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGF0YTIgPSBhZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGdldEFjdGlvbkRhdGEyOiBmdW5jdGlvbihhZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25EYXRhMjtcbiAgICB9LFxuICAgIHNldFN1YnRpdGxlOiBmdW5jdGlvbihzKSB7XG4gICAgICAgIHRoaXMuc3VidGl0bGUgPSBzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGdldFN1YnRpdGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidGl0bGU7XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcblxuLy8gUHJvdmlkZXJzIGVudW1cblxuZXhwb3J0IHZhciBfYWxpYXNlcyA9IHt9O1xuZXhwb3J0IGNsYXNzIFByb3ZpZGVyIHtcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICAgIHB1YmxpYyBhckRlZmF1bHRDYXBhYmlsaXRpZXM6IHN0cmluZ1tdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBJRDogbnVtYmVyLFxuICAgICAgICBwdWJsaWMgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgZGVmYXVsdENhcGFiaWxpdGllczogc3RyaW5nLFxuICAgICAgICBwdWJsaWMgZXhwbGljaXRPbmx5PzogYm9vbGVhbixcbiAgICAgICAgcHVibGljIGFsaWFzZXM/OiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXJEZWZhdWx0Q2FwYWJpbGl0aWVzID0gZGVmYXVsdENhcGFiaWxpdGllcy5zcGxpdCgnLCcpO1xuICAgICAgICB0aGlzLm5hbWUgPSBkaXNwbGF5TmFtZVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgICAgIC5zcGxpdCgnIScpXG4gICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgICAgIC5zcGxpdCgnLicpXG4gICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgICAgIC5zcGxpdCgnKycpXG4gICAgICAgICAgICAuam9pbigncGx1cycpO1xuICAgICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgdGhlIGFsaWFzZXMgbWFwXG4gICAgICAgICAgICBpZiAoIV9hbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgX2FsaWFzZXMgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFwcGluZyB0aGUgYWxpYXNlczogQWxpYXMgLT4gUmVhbCBuYW1lIChpbiBvcmRlciB0byBtYWtlIHRoZSBzZWFyY2ggZm9yIGFsaWFzZXMgbW9yZSBlZmZlY3RpdmUpXG4gICAgICAgICAgICB2YXIgYXJBbGlhc2VzID0gYWxpYXNlcy5zcGxpdCgnfCcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckFsaWFzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBfYWxpYXNlc1thckFsaWFzZXNbaV1dID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ21lc3Nlbmdlcic6XG4gICAgICAgICAgICAgICAgLy8gUmVicmFuZGluZyAtIGlzc3VlICMyMjQxMS5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ01pY3Jvc29mdCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2dvb2dsZXBsdXMnOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSAnR29vZ2xlJztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY3VzdG9tb3BlbmlkJzpcbiAgICAgICAgICAgICAgICAvLyBDdXN0b20gT3BlbiBJRCBpcyBhIGRpZmZlcmVudCBuZXR3b3JrIG9uIHRoZSBzZXJ2ZXIgYnV0IHNob3VsZCBiZWhhdmUgdGhlIHNhbWUgaW4gbW9zdCBvZiBvdXIgcGx1Z2lucy5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ09wZW5JRCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ3BheXBhbG9hdXRoJzpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ1BheVBhbCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBObyBvdmVycmlkZS5cbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxufVxuZXhwb3J0IHZhciBhclByb3ZpZGVycyA9IFtcbiAgICBuZXcgUHJvdmlkZXIoNjQsICdGYWNlYm9vaycsIDY1MCwgNDAwLCAnbG9naW4sZnJpZW5kcyxwbGFjZXMsc3RhdHVzLGFjdGlvbnMscGhvdG9zJyksXG4gICAgbmV3IFByb3ZpZGVyKDkwMTIsICdUd2l0dGVyJywgODAwLCA0NDAsICdsb2dpbixmcmllbmRzLG5vdGlmaWNhdGlvbnMsYWN0aW9ucyxzdGF0dXMscGxhY2VzLGNoZWNraW5zJyksXG4gICAgbmV3IFByb3ZpZGVyKDcyLCAnR29vZ2xlKycsIDU2MCwgNjAwLCAnbG9naW4sY29udGFjdHMnLCBmYWxzZSwgJ2dvb2dsZXxnb29nbGVwbHVzJyksXG4gICAgbmV3IFByb3ZpZGVyKDkwNDIsICdMaW5rZWRJbicsIDg2NSwgNDUwLCAnbG9naW4sZnJpZW5kcyxzdGF0dXMsYWN0aW9ucyxub3RpZmljYXRpb25zLGNvbnRhY3RzJyksIC8vIFNpemUgYmFzZWQgb24gYnVnIzEwNjc4LlxuICAgIG5ldyBQcm92aWRlcig5MDU4LCAnQW1hem9uJywgNzg1LCA1MTAsICdsb2dpbicpLFxuICAgIG5ldyBQcm92aWRlcig5ODAzLCAnWWFob28nLCA1MDAsIDU2NywgJ2xvZ2luLGZyaWVuZHMsY29udGFjdHMsbm90aWZpY2F0aW9ucycpLCAvLyBTaXplIGJhc2VkIG9uIGJ1ZyMxMDY3Ni5cbiAgICBuZXcgUHJvdmlkZXIoMTA0NywgJ01lc3NlbmdlcicsIDM4MCwgNTQwLCAnbG9naW4sIGZyaWVuZHMnLCBmYWxzZSwgJ21lc3NlbmdlcnxtaWNyb3NvZnQnKSxcbiAgICBuZXcgUHJvdmlkZXIoOTIyMiwgJ09kbm9rbGFzc25pa2knLCA4ODgsIDQyNSwgJ2xvZ2luJyksXG4gICAgbmV3IFByb3ZpZGVyKDkwMDcsICdGb3VyU3F1YXJlJywgMTAwMCwgNjUwLCAnbG9naW4sZnJpZW5kcyxwbGFjZXMsY2hlY2tpbnMnKSxcbiAgICBuZXcgUHJvdmlkZXIoODE5MSwgJ1JlbnJlbicsIDQ1MCwgMzUwLCAnbG9naW4sZnJpZW5kcyxzdGF0dXMsYWN0aW9ucycpLFxuICAgIG5ldyBQcm92aWRlcig4MjAzLCAnUVEnLCA1NzAsIDQ2MCwgJ2xvZ2luLGFjdGlvbnMnKSxcbiAgICBuZXcgUHJvdmlkZXIoOTgyMSwgJ1NpbmEnLCA2NDAsIDM4MCwgJ2xvZ2luLHN0YXR1cyxhY3Rpb25zJyksXG4gICAgbmV3IFByb3ZpZGVyKDQyMjgsICdNaXhpJywgMTAwMCwgNzIwLCAnbG9naW4sZnJpZW5kcyxhY3Rpb25zLHBob3RvcycsIHRydWUpLFxuICAgIG5ldyBQcm92aWRlcig5ODMwLCAnWWFob28hIEpBUEFOJywgOTgwLCA3MDAsICdsb2dpbicsIHRydWUpLFxuICAgIG5ldyBQcm92aWRlcig4MjA1LCAnU3BpY2V3b3JrcycsIDY0MCwgMzgwLCAnbG9naW4nLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoOTA0MSwgJ1ZLb250YWt0ZScsIDYxMCwgNTEwLCAnbG9naW4sZnJpZW5kcyxwaG90b3Msc3RhdHVzLGFjdGlvbnMnKSxcbiAgICBuZXcgUHJvdmlkZXIoNDA5NiwgJ1dvcmRQcmVzcycsIDcwMCwgNTQwLCAnbG9naW4nKSxcbiAgICBuZXcgUHJvdmlkZXIoMjU2LCAnQmxvZ2dlcicsIDc2MCwgNDAwLCAnbG9naW4nKSxcbiAgICBuZXcgUHJvdmlkZXIoNDIxOCwgJ05ldGxvZycsIDczMCwgNTkwLCAnbG9naW4nLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoNTAwMiwgJ0xpdmVkb29yJywgOTcwLCA3MDAsICdsb2dpbicsIHRydWUpLFxuICAgIG5ldyBQcm92aWRlcig1MDA0LCAnRm94IE5ld3MnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXG4gICAgbmV3IFByb3ZpZGVyKDEwNTEsICdQYXlQYWwnLCA0MDAsIDU1MCwgJ2xvZ2luJywgdHJ1ZSksXG4gICAgbmV3IFByb3ZpZGVyKDkyMTksICdYaW5nJywgNzg1LCA1MTAsICdsb2dpbixmcmllbmRzJywgdHJ1ZSksXG4gICAgbmV3IFByb3ZpZGVyKDgyMDYsICdXZUNoYXQnLCA3MzAsIDU5MCwgJ2xvZ2luJywgZmFsc2UsICd3ZWNoYXR8d2VpeGluJyksXG4gICAgbmV3IFByb3ZpZGVyKDQxMjEsICdDdXN0b20gT3BlbklEJywgNzMwLCA1OTAsICdsb2dpbicsIHRydWUpLCAvLyBrZWVwaW5nIHRoaXMgZGVwcmVjYXRlZCBwcm92aWRlciBpbiBvcmRlciB0byBjb250aW51ZSBzdXBwb3J0IFwiZXZlbnRvbmx5XCIgdHlwZVxuICAgIG5ldyBQcm92aWRlcig0MTIyLCAnQ3VzdG9tIFNBTUwnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXG4gICAgbmV3IFByb3ZpZGVyKDEwMDAxLCAnT3BlbklEIENvbm5lY3QnLCA3MzAsIDU5MCwgJ2xvZ2luJywgdHJ1ZSksXG4gICAgbmV3IFByb3ZpZGVyKDYwMDIsICdTaXRlJywgNzMwLCA1OTAsICcnLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoMTA1MiwgJ1BheVBhbE9BdXRoJywgNzMwLCA1OTAsICdsb2dpbicsIHRydWUpLFxuICAgIG5ldyBQcm92aWRlcig4MjA3LCAnTGluZScsIDczMCwgNTkwLCAnbG9naW4nKSxcbiAgICBuZXcgUHJvdmlkZXIoMjAwMDEsICdLYWthbycsIDUwMCwgNjAwLCAnbG9naW4nLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoMjAwMDIsICdOYXZlcicsIDc4MCwgNTU1LCAnbG9naW4nLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoMjAwMDMsICdEb2NDaGVjaycsIDg3NCwgODQ0LCAnbG9naW4nLCB0cnVlKSxcbiAgICBuZXcgUHJvdmlkZXIoMjAwMDQsICdBcHBsZScsIDg3NCwgODQ0LCAnbG9naW4nLCB0cnVlKVxuXTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlckJ5TmFtZShwcm92aWRlciwgcHJvdmlkZXJzRW51bTogUHJvdmlkZXJbXSA9IGFyUHJvdmlkZXJzKTogUHJvdmlkZXIge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvdmlkZXJzRW51bS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvdmlkZXJzRW51bVtpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHByb3ZpZGVyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlcnNFbnVtW2ldO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VQcm92aWRlckFsaWFzZXMocHJvdmlkZXJzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChwcm92aWRlcnMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFyclByb3ZpZGVycyA9IHByb3ZpZGVycy5zcGxpdCgnLCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJQcm92aWRlciA9IGFyclByb3ZpZGVyc1tpXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG5cbiAgICAgICAgaWYgKF9hbGlhc2VzW2N1cnJQcm92aWRlcl0pIHtcbiAgICAgICAgICAgIGFyclByb3ZpZGVyc1tpXSA9IF9hbGlhc2VzW2N1cnJQcm92aWRlcl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyUHJvdmlkZXJzLmpvaW4oJywnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlckJ5SWQocHJvdmlkZXJJRCwgcHJvdmlkZXJzRW51bTogUHJvdmlkZXJbXSA9IGFyUHJvdmlkZXJzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnNFbnVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwcm92aWRlcnNFbnVtW2ldLklEID09PSBwcm92aWRlcklEKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJzRW51bVtpXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBoaWRlUHJvdmlkZXJzQnlOYW1lKHByb3ZpZGVyczogUHJvdmlkZXJbXSwgcHJvdmlkZXJzVG9IaWRlOiBzdHJpbmcgPSAnJywgcHJvdmlkZXJzRW51bTogUHJvdmlkZXJbXSA9IGFyUHJvdmlkZXJzKSB7XG4gICAgcHJvdmlkZXJzVG9IaWRlID0gcHJvdmlkZXJzVG9IaWRlLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIGFyUHJvdmlkZXJzVG9IaWRlID0gcHJvdmlkZXJzVG9IaWRlXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5qb2luKCcnKVxuICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAuam9pbignJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnNwbGl0KCcsJyk7XG4gICAgYXJQcm92aWRlcnNUb0hpZGUgPSByZXBsYWNlV2lsZGNhcmQoYXJQcm92aWRlcnNUb0hpZGUsIHByb3ZpZGVyc0VudW0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJQcm92aWRlcnNUb0hpZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBwcm92aWRlcnMubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1t1XTtcbiAgICAgICAgICAgIHZhciBzUHJvdmlkZXIgPSBwcm92aWRlci5uYW1lIHx8IHByb3ZpZGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoc1Byb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgc1Byb3ZpZGVyID0gc1Byb3ZpZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc1Byb3ZpZGVyID09PSBhclByb3ZpZGVyc1RvSGlkZVtpXSkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVycy5zcGxpY2UodSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVycztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm92aWRlcnNGb3JSZXF1aXJlZENhcGFiaWxpdGllcyhwcm92aWRlcnMsIGNhcGFiaWxpdGllcykge1xuICAgIGlmIChjYXBhYmlsaXRpZXMgPT0gbnVsbCkge1xuICAgICAgICBjYXBhYmlsaXRpZXMgPSBbXTtcbiAgICB9XG4gICAgdmFyIGFyUHJvdmlkZXJzUmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJzW2ldO1xuICAgICAgICB2YXIgdmFsaWROZXQgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGNhcGFiaWxpdGllcy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHByb3ZpZGVyLmFyRGVmYXVsdENhcGFiaWxpdGllcy5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgICAgIGlmIChwcm92aWRlci5hckRlZmF1bHRDYXBhYmlsaXRpZXNbYV0udG9Mb3dlckNhc2UoKSA9PSBjYXBhYmlsaXRpZXNbdV0udG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICB2YWxpZE5ldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxpZE5ldCkge1xuICAgICAgICAgICAgYXJQcm92aWRlcnNSZXN1bHQucHVzaChwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyUHJvdmlkZXJzUmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFByb3ZpZGVycygpIHtcbiAgICByZXR1cm4gYXJQcm92aWRlcnMuY29uY2F0KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvdmlkZXJzQnlOYW1lKHByb3ZpZGVyczogc3RyaW5nLCBwcm92aWRlcnNFbnVtOiBQcm92aWRlcltdID0gYXJQcm92aWRlcnMpIHtcbiAgICAvLyBDYXN0aW5nIHByb3ZpZGVycyB0byBzdHJpbmcgdG8gb3ZlcmNvbWUgYnVnICMxMDM5Mi5cbiAgICBwcm92aWRlcnMgPSAoJycgKyBwcm92aWRlcnMpXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5qb2luKCcnKVxuICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAuam9pbignJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgcHJvdmlkZXJzID0gcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyhwcm92aWRlcnMpO1xuICAgIHZhciBhckFsbFByb3ZpZGVycyA9ICgnJyArIHByb3ZpZGVycykuc3BsaXQoJywnKTtcbiAgICBhckFsbFByb3ZpZGVycyA9IHJlcGxhY2VXaWxkY2FyZChhckFsbFByb3ZpZGVycywgcHJvdmlkZXJzRW51bSk7XG4gICAgdmFyIGFyUHJvdmlkZXJzUmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckFsbFByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvdmlkZXJPYmplY3QgPSBnZXRQcm92aWRlckJ5TmFtZShhckFsbFByb3ZpZGVyc1tpXSwgcHJvdmlkZXJzRW51bSk7XG4gICAgICAgIGlmIChwcm92aWRlck9iamVjdCAhPSBudWxsICYmIGFycmF5VXRpbHMuaW5kZXhPZihhclByb3ZpZGVyc1Jlc3VsdCwgcHJvdmlkZXJPYmplY3QpID09IC0xKSB7XG4gICAgICAgICAgICBhclByb3ZpZGVyc1Jlc3VsdC5wdXNoKHByb3ZpZGVyT2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJQcm92aWRlcnNSZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVdpbGRjYXJkKHByb3ZpZGVyc1RvUmVwbGFjZTogc3RyaW5nW10sIHByb3ZpZGVyc0VudW06IFByb3ZpZGVyW10pIHtcbiAgICBpZiAoIXByb3ZpZGVyc0VudW0pIHtcbiAgICAgICAgcHJvdmlkZXJzRW51bSA9IGFyUHJvdmlkZXJzO1xuICAgIH1cbiAgICB2YXIgYXJQcm92aWRlcnNOZXcgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVyc1RvUmVwbGFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvdmlkZXJzVG9SZXBsYWNlW2ldID09ICcqJykge1xuICAgICAgICAgICAgZm9yICh2YXIgaVByb3ZpZGVyID0gMDsgaVByb3ZpZGVyIDwgcHJvdmlkZXJzRW51bS5sZW5ndGg7IGlQcm92aWRlcisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBwcm92aWRlcnNUb1JlcGxhY2UubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyc1RvUmVwbGFjZVt1XS50b0xvd2VyQ2FzZSgpID09PSBwcm92aWRlcnNFbnVtW2lQcm92aWRlcl0ubmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCAmJiAhcHJvdmlkZXJzRW51bVtpUHJvdmlkZXJdLmV4cGxpY2l0T25seSkge1xuICAgICAgICAgICAgICAgICAgICBhclByb3ZpZGVyc05ldy5wdXNoKHByb3ZpZGVyc0VudW1baVByb3ZpZGVyXS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhclByb3ZpZGVyc05ldy5wdXNoKHByb3ZpZGVyc1RvUmVwbGFjZVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyUHJvdmlkZXJzTmV3O1xufVxuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5nZXRBbGxQcm92aWRlcnMnLCBnZXRBbGxQcm92aWRlcnMpO1xuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5yZXBsYWNlUHJvdmlkZXJBbGlhc2VzJywgcmVwbGFjZVByb3ZpZGVyQWxpYXNlcyk7XG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLmdldFByb3ZpZGVyc0J5TmFtZScsIGdldFByb3ZpZGVyc0J5TmFtZSk7XG5mdW5jdGlvbnNVdGlscy5jcmVhdGVBbGlhcygnZ2lneWEuc29jaWFsaXplLl9nZXRQcm92aWRlckJ5TmFtZScsIGdldFByb3ZpZGVyQnlOYW1lKTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUuaGlkZVByb3ZpZGVyc0J5TmFtZScsIGhpZGVQcm92aWRlcnNCeU5hbWUpO1xuZnVuY3Rpb25zVXRpbHMuY3JlYXRlQWxpYXMoJ2dpZ3lhLnNvY2lhbGl6ZS5fZ2V0UHJvdmlkZXJCeUlEJywgZ2V0UHJvdmlkZXJCeUlkKTtcbmZ1bmN0aW9uc1V0aWxzLmNyZWF0ZUFsaWFzKCdnaWd5YS5zb2NpYWxpemUuZ2V0UHJvdmlkZXJzRm9yUmVxdWlyZWRDYXBhYmlsaXRpZXMnLCBnZXRQcm92aWRlcnNGb3JSZXF1aXJlZENhcGFiaWxpdGllcyk7XG4iLCJpbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tIFwiLi4vVXRpbHMvb2JqZWN0XCI7XG5pbXBvcnQge2RlZmF1bHRTY3JlZW5TZXRSZXBvcnRDb25maWcsIGRlZmF1bHRTY3JlZW5TZXRSZXBvcnRJRH0gZnJvbSBcIi4vU2NyZWVuLVNldC1SZXBvcnRzXCI7XG5pbXBvcnQge1VyaX0gZnJvbSBcIi4uL1V0aWxzL1VyaVwiO1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSBcIi4uL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlXCI7XG5pbXBvcnQgKiBhcyBfcmVtb3ZlIGZyb20gJ2xvZGFzaC5yZW1vdmUnO1xuXG5leHBvcnQgY29uc3QgQUxMT1dFRF9SRVBPUlRfVkFMVUUgPSAnYS16QS1aMC05LV8vJztcbmV4cG9ydCBjb25zdCBOT1RfQUxMT1dFRF9SRVBPUlRfQ0hBUlNfUkVHRVggPSBuZXcgUmVnRXhwKGBbXiR7QUxMT1dFRF9SRVBPUlRfVkFMVUV9XWAsICdnJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlcG9ydCB7XG4gICAgZXZlbnRDYXRlZ29yeTogc3RyaW5nO1xuICAgIGV2ZW50VHlwZTogc3RyaW5nO1xuICAgIGV2ZW50VGltZTogbnVtYmVyO1xuICAgIGV2ZW50RGF0YTogc3RyaW5nO1xuICAgIGV2ZW50SWQ6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSVJlcG9ydENvbmZpZyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBldmVudE1hcDoge2V2ZW50czogc3RyaW5nLCBhcmdzPzogYW55W10sIG1ldGhvZD86IChldmVudDogYW55KSA9PiB2b2lkfVtdO1xuICAgIGRlZmF1bHRNZXRob2Q6IChldmVudDogYW55KSA9PiB2b2lkO1xufVxuZXhwb3J0IHZhciBxdWV1ZTogSVJlcG9ydFtdID0gW107XG5jb25zdCByZXBvcnRJbnRlcnZhbFRpbWUgPSA1MDAwO1xubGV0IHJlcG9ydHNJbnRlcnZhbDtcblxuZXhwb3J0IGNvbnN0IHJlcG9ydHM6IFt7aWQ6IHN0cmluZywgY29uZmlnOiBJUmVwb3J0Q29uZmlnfV0gPSBbXG4gICAge2lkOiBkZWZhdWx0U2NyZWVuU2V0UmVwb3J0SUQsIGNvbmZpZzogZGVmYXVsdFNjcmVlblNldFJlcG9ydENvbmZpZ31cbl1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUmVwb3J0cygpIHtcbiAgICByZXBvcnRzLmZvckVhY2gocmVwb3J0ID0+IHtcbiAgICAgICAgZ2lneWEuZGVmYXVsdEV2ZW50TWFwcz8ucHVzaChyZXBvcnQuY29uZmlnKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVJlcG9ydHMoKSB7XG4gICAgcmVwb3J0cy5mb3JFYWNoKHJlcG9ydCA9PiB7XG4gICAgICAgIF9yZW1vdmUoZ2lneWEuZGVmYXVsdEV2ZW50TWFwcywgKGV2ZW50TWFwOiB7aWQ/OiBzdHJpbmd9KSA9PiBldmVudE1hcD8uaWQgPT09IHJlcG9ydD8uaWQpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZU5vdEFsbG93ZWRSZXBvcnRDaGFycyhzb3VyY2U6IHN0cmluZywgcmVwbGFjZVZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZighc291cmNlKXtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKE5PVF9BTExPV0VEX1JFUE9SVF9DSEFSU19SRUdFWCwgcmVwbGFjZVZhbHVlKTtcbn1cblxuZnVuY3Rpb24gc2VuZFJlcG9ydCgpIHtcbiAgICBpZihGbGFnU2VydmljZS5zdG9wU2VuZGluZ1JlcG9ydHMpIHtcbiAgICAgICAgcmVtb3ZlUmVwb3J0cygpO1xuICAgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbChyZXBvcnRzSW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHdoaWxlIChxdWV1ZSAmJiBxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IG9iamVjdFV0aWxzLmNsb25lKHF1ZXVlPy5zcGxpY2UoMCwgNSksIHRydWUsIHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYXBpRG9tYWluRmFjdG9yeSA9IGdpZ3lhLl8uYXBpRG9tYWluRmFjdG9yeSgpO1xuICAgICAgICAgICAgY29uc3Qgc2RrUmVwb3J0RW5kcG9pbnQgPSBgaHR0cHM6Ly8ke2FwaURvbWFpbkZhY3RvcnkoJ3JlcG9ydHMnKX0vcmVwb3J0cy5yZXBvcnRHZW5lcmljRXZlbnRzYDtcbiAgICAgICAgICAgIFVyaS5wYXJzZShzZGtSZXBvcnRFbmRwb2ludClcbiAgICAgICAgICAgICAgICAuYWRkVG9TZWFyY2goe2FwaUtleTogZ2lneWEudGhpc1NjcmlwdC5BUElLZXl9KVxuICAgICAgICAgICAgICAgIC5hZGRUb1NlYXJjaCh7ZXZlbnRzOiBKU09OLnN0cmluZ2lmeShldmVudHMpfSlcbiAgICAgICAgICAgICAgICAuZmV0Y2g8bnVsbD4oMCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIGNsZWFyIGludGVydmFsIGFuZCBzdG9wIHJlcG9ydGluZz9cbiAgICAgICAgfVxuICAgIH1cbn1cblxucmVnaXN0ZXJSZXBvcnRzKCk7XG5yZXBvcnRzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChzZW5kUmVwb3J0LCByZXBvcnRJbnRlcnZhbFRpbWUpO1xuXG4iLCJpbXBvcnQge0lSZXBvcnQsIElSZXBvcnRDb25maWcsIHF1ZXVlLCByZXBsYWNlTm90QWxsb3dlZFJlcG9ydENoYXJzfSBmcm9tICcuL1JlcG9ydHMnO1xuaW1wb3J0IHtJQWJUZXN0aW5nRGF0YX0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cbi8vIEFsc28gdXNlZCBpbiBVSSBCdWlsZGVyXG5jb25zdCBSRVBMQUNJTkdfQ0hBUl9GT1JfQUJfVEVTVElOR19SRVBPUlQgPSAnLSc7XG5cbmV4cG9ydCBjb25zdCBSRVBPUlRfRVZFTlRfQ0FURUdPUklFUyA9IHtcbiAgICBzY3JlZW5TZXRzOiAnc2NyZWVuU2V0cycsXG59XG5leHBvcnQgY29uc3QgU2NyZWVuU2V0RXZlbnRzID0gWydhZnRlclNjcmVlbkxvYWQnLCAnc3VibWl0J107XG5leHBvcnQgY29uc3QgZGVmYXVsdFNjcmVlblNldFJlcG9ydElEID0gJ3NjcmVlbi1zZXQtcmVwb3J0LWV2ZW50cy1tYXAnO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTY3JlZW5TZXRSZXBvcnRDb25maWc6IElSZXBvcnRDb25maWcgPSB7XG4gICAgaWQ6IGRlZmF1bHRTY3JlZW5TZXRSZXBvcnRJRCxcbiAgICBkZWZhdWx0TWV0aG9kOiByZXBvcnQsXG4gICAgZXZlbnRNYXA6IFtcbiAgICAgICAgeyBldmVudHM6IFNjcmVlblNldEV2ZW50cy5qb2luKCcsJyksICBhcmdzOiBbZnVuY3Rpb24oZSkge3JldHVybiBlfV19XG4gICAgXVxufVxuXG5mdW5jdGlvbiByZXBvcnQoe2FiVGVzdGluZywgc2NyZWVuU2V0SUQsIGV2ZW50TmFtZX06IHthYlRlc3Rpbmc/OiBJQWJUZXN0aW5nRGF0YSwgc2NyZWVuU2V0SUQ/OiBzdHJpbmcsIGV2ZW50TmFtZT86IHN0cmluZ30pIHtcbiAgICBpZiAoIWFiVGVzdGluZyB8fCAhc2NyZWVuU2V0SUQgfHwgIWV2ZW50TmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdGVkU2NyZWVuSWQgPSBhYlRlc3RpbmcucmVxdWVzdGVkU2NyZWVuSWQ7XG4gICAgY29uc3QgdmFyaWFudElkID0gYWJUZXN0aW5nLnZhcmlhbnRJZDtcbiAgICBjb25zdCB0ZXN0SWQgPSBhYlRlc3RpbmcudGVzdElkO1xuXG4gICAgaWYgKCF2YXJpYW50SWQgfHwgIXRlc3RJZCB8fCAhcmVxdWVzdGVkU2NyZWVuSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV2ZW50SWQgPSBgJHtzY3JlZW5TZXRJRH0vJHtyZXF1ZXN0ZWRTY3JlZW5JZH0vJHt0ZXN0SWR9YDtcblxuICAgIGNvbnN0IHJlcG9ydDogSVJlcG9ydCA9IHtcbiAgICAgICAgZXZlbnRDYXRlZ29yeTogUkVQT1JUX0VWRU5UX0NBVEVHT1JJRVMuc2NyZWVuU2V0cyxcbiAgICAgICAgZXZlbnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICBldmVudFR5cGU6IGV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnREYXRhOiB2YXJpYW50SWQsXG4gICAgICAgIGV2ZW50SWQ6IHJlcGxhY2VOb3RBbGxvd2VkUmVwb3J0Q2hhcnMoZXZlbnRJZCwgUkVQTEFDSU5HX0NIQVJfRk9SX0FCX1RFU1RJTkdfUkVQT1JUKSxcbiAgICB9O1xuICAgIHF1ZXVlLnB1c2gocmVwb3J0KTtcbn1cbiIsImltcG9ydCB7IElSaXNrQXNzZXNzbWVudFByb3ZpZGVyLCBSaXNrQXNzZXNzbWVudFByb3ZpZGVyUGFyYW1zIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Jpc2tBc3Nlc3NtZW50L1Byb3ZpZGVycy9JUmlza0Fzc2Vzc21lbnRQcm92aWRlcic7XG5pbXBvcnQgR29vZ2xlUmVDYXB0Y2hhTG9hZGVyIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9yZWNhcHRjaGEnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlQ2FwdGNoYSB7XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVDQVBUQ0hBIHRva2VuLlxuICAgICAqL1xuICAgIGV4ZWN1dGUoc2l0ZUtleT86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPjtcbn1cblxuZGVjbGFyZSBsZXQgZ3JlY2FwdGNoYTogUmVDYXB0Y2hhXG5cbmV4cG9ydCBjbGFzcyBHb29nbGVSZUNhcHRjaGFQcm92aWRlciBpbXBsZW1lbnRzIElSaXNrQXNzZXNzbWVudFByb3ZpZGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBDQVBUQ0hBX1RZUEVfVjMgPSAncmVDYXB0Y2hhVjMnO1xuICAgIHByaXZhdGUgc3RhdGljIENBUFRDSEFfVFlQRV9FTlRFUlBSSVNFID0gJ3JlQ2FwdGNoYUVudGVycHJpc2VTY29yZSc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgcGFyYW1zOiBSaXNrQXNzZXNzbWVudFByb3ZpZGVyUGFyYW1zID0ge30gYXMgUmlza0Fzc2Vzc21lbnRQcm92aWRlclBhcmFtcykgeyB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRQcm92aWRlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5sb2FkKHtcbiAgICAgICAgICAgIHNpdGVLZXk6IHRoaXMuc2l0ZUtleSxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuY2FwdGNoYVR5cGUsXG4gICAgICAgICAgICBsYW5nOiBnaWd5YS50aGlzU2NyaXB0Lmxhbmcub3JpZ2luYWxMYW5nLFxuICAgICAgICAgICAgaXNFbnRlcnByaXNlOiB0aGlzLmlzRW50ZXJwcmlzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvdWxkQXBwbHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpdGVLZXkgJiYgIUJvb2xlYW4odGhpcy5wYXJhbXNbJ2NhcHRjaGFUeXBlJ10gfHwgdGhpcy5wYXJhbXNbJ2NhcHRjaGFUb2tlbiddKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0UmVxdWVzdFBhcmFtcygpOiBQcm9taXNlPE9iamVjdD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjYXB0Y2hhVHlwZTogdGhpcy5jYXB0Y2hhVHlwZSxcbiAgICAgICAgICAgICAgICBjYXB0Y2hhVG9rZW46IGF3YWl0IHRoaXMuZ2V0VG9rZW4oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFRva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBpc0VudGVycHJpc2U6IHRoaXMuaXNFbnRlcnByaXNlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSA9PT0gJ3VuZGVmaW5lZCcpICB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRQcm92aWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFJlQ2FwdGNoYVRva2VuKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldFJlQ2FwdGNoYVRva2VuKHBhcmFtcyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLmdldEluc3RhbmNlKHBhcmFtcykuZXhlY3V0ZSh0aGlzLnNpdGVLZXkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWRQcm92aWRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5nZXRJbnN0YW5jZShwYXJhbXMpLmV4ZWN1dGUodGhpcy5zaXRlS2V5KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCBpc0VudGVycHJpc2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc2l0ZUtleUVudGVycHJpc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCBjYXB0Y2hhVHlwZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0VudGVycHJpc2UgP1xuICAgICAgICBHb29nbGVSZUNhcHRjaGFQcm92aWRlci5DQVBUQ0hBX1RZUEVfRU5URVJQUklTRSA6XG4gICAgICAgIEdvb2dsZVJlQ2FwdGNoYVByb3ZpZGVyLkNBUFRDSEFfVFlQRV9WMztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IHNpdGVLZXkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l0ZUtleUVudGVycHJpc2UgfHwgdGhpcy5zaXRlS2V5VjM7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCBzaXRlS2V5VjMoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5yZWNhcHRjaGFWMz8uc2l0ZUtleT8udHJpbSgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgc2l0ZUtleUVudGVycHJpc2UoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5yZWNhcHRjaGFFbnRlcnByaXNlPy5zaXRlS2V5Py50cmltKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtHb29nbGVSZUNhcHRjaGFQcm92aWRlcn0gZnJvbSAnLi9Hb29nbGVSZUNhcHRjaGFQcm92aWRlcic7XG5pbXBvcnQge1RyYW5zVW5pb25Qcm92aWRlcn0gZnJvbSAnLi9UcmFuc1VuaW9uUHJvdmlkZXInO1xuXG5leHBvcnQgY29uc3QgZW51bSBSaXNrQXNzZXNzbWVudFByb3ZpZGVyVHlwZSB7XG4gICAgUmVDYXB0Y2hhVjMgPSAnUmVDYXB0Y2hhJyxcbiAgICBUcmFuc1VuaW9uID0gJ1RyYW5zVW5pb24nXG59XG5cbmV4cG9ydCBjb25zdCBSaXNrQXNzZXNzbWVudFByb3ZpZGVyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHtcbiAgICBbUmlza0Fzc2Vzc21lbnRQcm92aWRlclR5cGUuUmVDYXB0Y2hhVjNdOiBHb29nbGVSZUNhcHRjaGFQcm92aWRlcixcbiAgICBbUmlza0Fzc2Vzc21lbnRQcm92aWRlclR5cGUuVHJhbnNVbmlvbl06IFRyYW5zVW5pb25Qcm92aWRlclxufTtcblxuZXhwb3J0IHR5cGUgUmlza0Fzc2Vzc21lbnRQcm92aWRlclBhcmFtcyA9IE9iamVjdDtcblxuZXhwb3J0IGludGVyZmFjZSBJUmlza0Fzc2Vzc21lbnRQcm92aWRlciB7XG4gICAgc2hvdWxkQXBwbHkoKTogYm9vbGVhbjtcbiAgICBnZXRUb2tlbigpOiBQcm9taXNlPHN0cmluZz47XG4gICAgZ2V0UmVxdWVzdFBhcmFtcygpOiBQcm9taXNlPE9iamVjdD47XG59XG4iLCJpbXBvcnQge0lSaXNrQXNzZXNzbWVudFByb3ZpZGVyLCBSaXNrQXNzZXNzbWVudFByb3ZpZGVyUGFyYW1zfSBmcm9tICcuL0lSaXNrQXNzZXNzbWVudFByb3ZpZGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBJVHJhbnNVbmlvbiB7XG4gICAgZ2V0QmxhY2tib3goKTogeyBibGFja2JveDogc3RyaW5nOyBmaW5pc2hlZDogYm9vbGVhbjsgfVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNVbmlvblByb3ZpZGVyIGltcGxlbWVudHMgSVJpc2tBc3Nlc3NtZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBwYXJhbXM6IFJpc2tBc3Nlc3NtZW50UHJvdmlkZXJQYXJhbXMgPSB7fSBhcyBSaXNrQXNzZXNzbWVudFByb3ZpZGVyUGFyYW1zKSB7IH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBJVHJhbnNVbmlvbiB7XG4gICAgICAgIGNvbnN0IGlvTmFtZSA9IHdpbmRvd1snaW9fZ2xvYmFsX29iamVjdF9uYW1lJ10gfHwgJ0lHTE9PJztcbiAgICAgICAgcmV0dXJuICh3aW5kb3dbaW9OYW1lXSBhcyBhbnkpIGFzIElUcmFuc1VuaW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRSZXF1ZXN0UGFyYW1zKCk6IFByb21pc2U8T2JqZWN0PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibGFja0JveFRva2VuOiBhd2FpdCB0aGlzLmdldFRva2VuKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0VG9rZW4oKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgaW9iYiA9IFRyYW5zVW5pb25Qcm92aWRlci5pbnN0YW5jZS5nZXRCbGFja2JveCgpO1xuICAgICAgICBpZiAoaW9iYiAmJiAhaW9iYi5maW5pc2hlZCkge1xuICAgICAgICAgICAgZ2lneWEubG9nZ2VyLnJlcG9ydCgnaW8gYmxhY2tCb3ggcmVwb3J0Jywge1xuICAgICAgICAgICAgICAgIC4uLmlvYmJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlvYmIuYmxhY2tib3g7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3VsZEFwcGx5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISFUcmFuc1VuaW9uUHJvdmlkZXIuaW5zdGFuY2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmlza0Fzc2Vzc21lbnRQcm92aWRlcnMgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvUmlza0Fzc2Vzc21lbnQvUHJvdmlkZXJzL0lSaXNrQXNzZXNzbWVudFByb3ZpZGVyJztcbmltcG9ydCB7IEZsYWdTZXJ2aWNlIH0gZnJvbSAnLi4vU2VydmljZXMvRmxhZ1NlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSaXNrQXNzZXNzbWVudEhhbmRsZXJ7XG4gICAgZ2V0QXNzZXNzbWVudFBhcmFtZXRlcnMgKHBhcmFtczogT2JqZWN0KTogUHJvbWlzZTxPYmplY3Q+O1xufVxuXG5leHBvcnQgY2xhc3MgUmlza0Fzc2Vzc21lbnRIYW5kbGVyIGltcGxlbWVudHMgSVJpc2tBc3Nlc3NtZW50SGFuZGxlciB7XG4gICAgcHVibGljIGFzeW5jIGdldEFzc2Vzc21lbnRQYXJhbWV0ZXJzIChwYXJhbXM6IE9iamVjdCA9IHt9KTogUHJvbWlzZTxPYmplY3Q+IHtcbiAgICAgICAgbGV0IHJpc2tBc3Nlc3NtZW50UGFyYW1zID0ge307XG4gICAgICAgIGZvciAobGV0IHByb3ZpZGVyVHlwZSBpbiBSaXNrQXNzZXNzbWVudFByb3ZpZGVycykge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgUmlza0Fzc2Vzc21lbnRQcm92aWRlcnNbcHJvdmlkZXJUeXBlXShwYXJhbXMpO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLnNob3VsZEFwcGx5KCkpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHJpc2tBc3Nlc3NtZW50UGFyYW1zLCBhd2FpdCBwcm92aWRlci5nZXRSZXF1ZXN0UGFyYW1zKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByaXNrQXNzZXNzbWVudFBhcmFtcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaXNrQXNzZXNzbWVudEhhbmRsZXJUaW1lb3V0RGVjb3JhdG9yIGltcGxlbWVudHMgSVJpc2tBc3Nlc3NtZW50SGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByaXNrQXNzZXNzbWVudEhhbmRsZXI6IFJpc2tBc3Nlc3NtZW50SGFuZGxlcil7XG5cbiAgICB9XG4gICAgcHVibGljIGFzeW5jIGdldEFzc2Vzc21lbnRQYXJhbWV0ZXJzKHBhcmFtczogT2JqZWN0ID0ge30pOiBQcm9taXNlPE9iamVjdD4ge1xuICAgICAgICBsZXQgdGltZW91dCA9IDUwMDBcblxuICAgICAgICBpZiAoRmxhZ1NlcnZpY2UubmV3Rm9ybUxpbmtJbnN0YW5jZUVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBXZSBpbmNyZWFzZSB0aGUgdGltZW91dCBiZWNhdXNlIHdpdGggYSBzbG93IGludGVybmV0IGNvbm5lY3Rpb24gKFNsb3cgM0cpLFxuICAgICAgICAgIC8vIHRoZSB0aW1lb3V0UG9saWN5IHJlc29sdmVzIGJlZm9yZSBnZXRBc3Nlc3NtZW50UGFyYW1ldGVycyBhbmQgcmV0dXJuIGFuIGVtcHR5IG9iamVjdCB3aGljaCBsZWFkcyB0byB0aGUgY2FwdGNoYSBlcnJvciBsYXRlci5cbiAgICAgICAgICB0aW1lb3V0ID0gMTAwMDBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpbWVvdXRQb2xpY3kgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHJlc29sdmUoe30pOyB9LCB0aW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdldFBhcmFtc1JlcXVlc3QgPSB0aGlzLnJpc2tBc3Nlc3NtZW50SGFuZGxlci5nZXRBc3Nlc3NtZW50UGFyYW1ldGVycyhwYXJhbXMpO1xuICAgICAgICBjb25zdCBnZXRQYXJhbXNQcm9taXNlID0gUHJvbWlzZS5yYWNlKFt0aW1lb3V0UG9saWN5LCBnZXRQYXJhbXNSZXF1ZXN0XSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBnZXRQYXJhbXNQcm9taXNlO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIGRhdGVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGF0ZSc7XG5pbXBvcnQgeyBHU0Vycm9ycyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycyc7XG5pbXBvcnQgY29va2llVXRpbHMgZnJvbSBcIi4uL1V0aWxzL2Nvb2tpZVwiO1xuaW1wb3J0IHtGbGFnU2VydmljZX0gZnJvbSAnLi9GbGFnU2VydmljZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFjY291bnRTZXJ2aWNlIHtcbiAgICB2ZXJpZnlMb2dpbigpOiBQcm9taXNlPGJvb2xlYW4+O1xufVxuZXhwb3J0IGNsYXNzIEFjY291bnRTZXJ2aWNlIGltcGxlbWVudHMgSUFjY291bnRTZXJ2aWNlIHtcbiAgICBwdWJsaWMgYXN5bmMgdmVyaWZ5TG9naW4oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGxldCB2ZXJpZnlMb2dpbkludGVydmFsQ29uZiA9IE51bWJlcihnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmZbJ3ZlcmlmeUxvZ2luSW50ZXJ2YWwnXSk7XG4gICAgICAgIGlmIChpc05hTih2ZXJpZnlMb2dpbkludGVydmFsQ29uZikpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGlmICh2ZXJpZnlMb2dpbkludGVydmFsQ29uZiA8PSAwKSB2ZXJpZnlMb2dpbkludGVydmFsQ29uZiA9IDE7IC8vIEF2b2lkIHNldHRpbmcgemVybyBpbnRlcnZhbCB0byBtaW5pbWl6ZSByZXF1ZXN0c1xuICAgICAgICBjb25zdCB2ZXJpZnlMb2dpbkludGVydmFsSW5NaWxsaXMgPSBNYXRoLmNlaWwodmVyaWZ5TG9naW5JbnRlcnZhbENvbmYpICogMzYwMCAqIDEwMDA7XG4gICAgICAgIGlmIChkYXRlVXRpbHMubm93KCkgPCB0aGlzLmxhc3RWZXJpZmljYXRpb24gKyB2ZXJpZnlMb2dpbkludGVydmFsSW5NaWxsaXMpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIHRoaXMubGFzdFZlcmlmaWNhdGlvbiA9IGRhdGVVdGlscy5ub3coKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBnaWd5YS5hY2NvdW50cy52ZXJpZnlMb2dpbih7XG4gICAgICAgICAgICAgICAgaWdub3JlQXBpUXVldWU6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzWydlcnJvckNvZGUnXSA9PT0gR1NFcnJvcnMuT0spO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgbGFzdFZlcmlmaWNhdGlvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTnVtYmVyKGNvb2tpZVV0aWxzLmdldCh0aGlzLmxhc3RWZXJpZmljYXRpb25Db29raWVLZXkpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldCBsYXN0VmVyaWZpY2F0aW9uKHRpbWVzdGFtcDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChGbGFnU2VydmljZS5zZXRDb29raWVTYW1lU2l0ZUxheFNlc3Npb24pIHtcbiAgICAgICAgICAgIGNvb2tpZVV0aWxzLnNldCh0aGlzLmxhc3RWZXJpZmljYXRpb25Db29raWVLZXksIFN0cmluZyh0aW1lc3RhbXApLCBudWxsLCBudWxsLCBudWxsLCAnTGF4Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb29raWVVdGlscy5zZXQodGhpcy5sYXN0VmVyaWZpY2F0aW9uQ29va2llS2V5LCBTdHJpbmcodGltZXN0YW1wKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBsYXN0VmVyaWZpY2F0aW9uQ29va2llS2V5KCkge1xuICAgICAgICByZXR1cm4gYGdpZ19sYXN0X3Zlcl8ke2dpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5fWA7XG4gICAgfVxufVxuZXhwb3J0IGxldCBhY2NvdW50U2VydmljZTogSUFjY291bnRTZXJ2aWNlID0gbmV3IEFjY291bnRTZXJ2aWNlKCk7XG4iLCJleHBvcnQgY2xhc3MgRmxhZ1NlcnZpY2Uge1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGZvcmNlV2ViU2RrQm9vdHN0cmFwKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2ZvcmNlV2ViU2RrQm9vdHN0cmFwJyk7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHVzZUdpZ3lhSnNCYXNlRG9tYWluKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZUdpZ3lhSnNCYXNlRG9tYWluJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaGlkZVNTT0ZyYW1lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2hpZGVTU09GcmFtZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHdjYWdDb250cmFzdEZpeCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd3Y2FnQ29udHJhc3RGaXgnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBuZXdGb3JtTGlua0luc3RhbmNlRWxlbWVudCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCduZXdGb3JtTGlua0luc3RhbmNlRWxlbWVudCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHN0b3BTZW5kaW5nUmVwb3J0cygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzdG9wU2VuZGluZ1JlcG9ydHMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBzZXRHcm91cEFwaURvbWFpbkFmdGVyTG9naW4oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnc2V0R3JvdXBBcGlEb21haW5BZnRlckxvZ2luJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlSHR0cFN0YXR1c0NvZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndXNlSHR0cFN0YXR1c0NvZGUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBhbHdheXNDaGVja0Nvb2tpZVNhdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnYWx3YXlzQ2hlY2tDb29raWVTYXZlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZml4UGhvbmVURkFUcmFuc2xhdGlvbnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZml4UGhvbmVURkFUcmFuc2xhdGlvbnMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBsb2FkU3NvRnJhbWVPbmx5T25jZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdsb2FkU3NvRnJhbWVPbmx5T25jZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHZlcmlmeUxvZ2luT25seU9uY2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndmVyaWZ5TG9naW5Pbmx5T25jZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNlbmRMYW5nRm9yRW1haWxPVFAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnc2VuZExhbmdGb3JFbWFpbE9UUCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNldFByb3ZpZGVyRnJvbVJlc3BvbnNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldFByb3ZpZGVyRnJvbVJlc3BvbnNlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2V0Q29va2llU2FtZVNpdGVMYXhTZXNzaW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldENvb2tpZVNhbWVTaXRlTGF4U2Vzc2lvbicpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNldENvb2tpZVNhbWVTaXRlTGF4U29jaWFsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NldENvb2tpZVNhbWVTaXRlTGF4U29jaWFsJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2V0Q29va2llU2FtZVNpdGVMYXhMb3dQcmlvcml0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZXRDb29raWVTYW1lU2l0ZUxheExvd1ByaW9yaXR5Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZm9yY2VFcnJvclJlcG9ydCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdmb3JjZUVycm9yUmVwb3J0Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2tpcFNhbWVTY3JlZW5DaGVja09uU3dpdGNoKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3NraXBTYW1lU2NyZWVuQ2hlY2tPblN3aXRjaCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldE9ubHlWaXNpYmxlRmllbGQgKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2dldE9ubHlWaXNpYmxlRmllbGQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1cGRhdGVBY2NvdW50SW5mb0FzeW5jICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1cGRhdGVBY2NvdW50SW5mb0FzeW5jJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc2FuaXRpemVFdmFsdWF0ZWRWYWx1ZSAoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3Nhbml0aXplRXZhbHVhdGVkVmFsdWUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1c2VTZXNzaW9uVmVyaWZ5ICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VTZXNzaW9uVmVyaWZ5Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlRXh0ZW5kZWRQaG9uZU51bWJlclJlZ2V4ICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VFeHRlbmRlZFBob25lTnVtYmVyUmVnZXgnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZW5lcmF0ZU5ld0NvZGVXY2FnQ29tcGxpYW5jZSAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZ2VuZXJhdGVOZXdDb2RlV2NhZ0NvbXBsaWFuY2UnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBlbmZvcmNlQXV0aEZsb3dSZWRpcmVjdEZvclNvY2lhbCAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZW5mb3JjZUF1dGhGbG93UmVkaXJlY3RGb3JTb2NpYWwnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCB1c2VEZWNvZGVVUklDb21wb25lbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgndXNlRGVjb2RlVVJJQ29tcG9uZW50Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgdXNlT2lkY0dldFBhcmFtSGFzaE9sZFN0eWxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZU9pZGNHZXRQYXJhbUhhc2hPbGRTdHlsZScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHVzZVZpZXdwb3J0UG9sbGVyQWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3VzZVZpZXdwb3J0UG9sbGVyQWN0aW9uJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgaWdub3JlSW50ZXJydXB0aW9uc0luT2lkY1Bhc3NpdmVMb2dpbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdpZ25vcmVJbnRlcnJ1cHRpb25zSW5PaWRjUGFzc2l2ZUxvZ2luJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgb3ZlcnJpZGVBbGxDaGlsZENvbnRleHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnb3ZlcnJpZGVBbGxDaGlsZENvbnRleHQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBkaXNwYXRjaExvZ2luRXZlbnRXaGVuSGFuZGxlckFkZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ2Rpc3BhdGNoTG9naW5FdmVudFdoZW5IYW5kbGVyQWRkZWQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChnaWd5YS5fLmNvbmZpZz8uZmxhZ3MgJiYgZ2lneWEuXy5jb25maWc/LmZsYWdzW25hbWVdKSB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFdmVyeSBmbGFnIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIGRhdGEgbW9kaWZpY2F0aW9uIHJlbGF0ZWQgdG8gdGhlIGFwaSBsYXllclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGFwaUZsYWdzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gJy4uL1V0aWxzL3Nlc3Npb25DYWNoZSc7XG5pbXBvcnQge2dldE11cm11ckhhc2h9IGZyb20gXCIuLi9VdGlscy9vYmplY3RcIjtcblxuaW50ZXJmYWNlIElTZXNzaW9uU2VydmljZSB7XG4gICAgaXNTZXNzaW9uVmVyaWZpZWQoZ2x0OiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHNldElzU2Vzc2lvblZlcmlmaWVkKGdsdDogc3RyaW5nLCB2ZXJpZnk6IGJvb2xlYW4pO1xufVxuXG5jbGFzcyBTZXNzaW9uU2VydmljZSBpbXBsZW1lbnRzIElTZXNzaW9uU2VydmljZSB7XG4gICAgcHVibGljIGlzU2Vzc2lvblZlcmlmaWVkKGdsdDogc3RyaW5nLCBhcGlLZXk6IHN0cmluZyA9IGdpZ3lhLnRoaXNTY3JpcHQuQVBJS2V5KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY3JlYXRlS2V5KGdsdCwgYXBpS2V5KTtcbiAgICAgICAgcmV0dXJuIGdldChrZXkpID09PSAndHJ1ZSc7XG4gICAgfVxuXG4gICAgcHVibGljIHNldElzU2Vzc2lvblZlcmlmaWVkKGdsdDogc3RyaW5nLCB2ZXJpZmllZDogYm9vbGVhbiwgYXBpS2V5OiBzdHJpbmcgPSBnaWd5YS50aGlzU2NyaXB0LkFQSUtleSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNyZWF0ZUtleShnbHQsIGFwaUtleSk7XG4gICAgICAgIHNldChrZXksIGAke3ZlcmlmaWVkfWApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlS2V5KGdsdCwgYXBpS2V5KXtcbiAgICAgICAgbGV0IGtleSA9IGdldE11cm11ckhhc2goYCR7Z2x0fV8ke2FwaUtleX1gLCAxNSkudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIGJ0b2Eoa2V5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBzZXNzaW9uRGF0YSA9IG5ldyBTZXNzaW9uU2VydmljZSgpO1xuIiwiaW1wb3J0IHsgZ2V0T2JqZWN0LCBzZXRPYmplY3QgfSBmcm9tIFwiLi4vVXRpbHMvbG9jYWxTdG9yYWdlXCI7XG5pbXBvcnQgeyByZW1vdmVVbmRlZmluZWQgfSBmcm9tICcuLi9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgX21lcmdlIGZyb20gJ2xvZGFzaC5tZXJnZSc7XG5cbmludGVyZmFjZSBJU2l0ZURhdGFTZXJ2aWNlIHtcbiAgZ2V0UHJlZmVycmVkTG9naW5NZXRob2QoaWRlbnRpZmllcjogc3RyaW5nKTogc3RyaW5nIHwgJydcbiAgc2V0UHJlZmVycmVkTG9naW5NZXRob2QobWV0aG9kOiBzdHJpbmcsIGlkZW50aWZpZXI6IHN0cmluZyk6IHZvaWRcbiAgZGlkRm9yY2VkQm9vdHN0cmFwOiBzdHJpbmc7XG4gIGdldFNjcmVlblZhcmlhbnQoc2NyZWVuU2V0SWQ6IHN0cmluZywgc2NyZWVuSWQ6IHN0cmluZywgdGVzdElkOiBzdHJpbmcsKTogc3RyaW5nO1xuICBzZXRTY3JlZW5WYXJpYW50KHNjcmVlblNldElkOiBzdHJpbmcsIHNjcmVlbklkOiBzdHJpbmcsIHRlc3RJZDogc3RyaW5nLCB2YXJpYW50SWQ6IHN0cmluZyk6IHZvaWQ7XG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyUHJlZmVycmVkTG9naW5NZXRob2Qge1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIHByZWZlcnJlZExvZ2luTWV0aG9kOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJQcmVmZXJlbmNlcyB7XG4gIGF1dGhlbnRpY2F0aW9uPzoge1xuICAgIHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kW10gfCB1bmRlZmluZWRcbiAgICB0ZmFQcmVmZXJyZWRNZXRob2Q6IGFueVxuICB9LFxuICBzY3JlZW5TZXRQcm9wZXJ0aWVzPzoge1xuICAgIFtzY3JlZW5TZXRJZDogc3RyaW5nXToge1xuICAgICAgc2NyZWVuczoge1xuICAgICAgICBbc2NyZWVuSWQ6IHN0cmluZ106IHtcbiAgICAgICAgICBbdGVzdElkOiBzdHJpbmddOiBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBNQVhfTElNSVRfT0ZfVVNFUlNfUFJFRkVSUkVEX0xPR0lOX01FVEhPRFNfUEVSX1NJVEUgPSAxMDtcblxuaW50ZXJmYWNlIElHaWdEYXRhIHtcbiAgZGlkRm9yY2VkQm9vdHN0cmFwPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgU2l0ZURhdGFTZXJ2aWNlIGltcGxlbWVudHMgSVNpdGVEYXRhU2VydmljZSB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0IFNJVEVfUFJFRkVSRU5DRVNfS0VZKCkge1xuICAgIHJldHVybiBgJHtnaWd5YS5hcGlLZXl9X3ByZWZlcmVuY2VzYDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldCBTSVRFX0dJR19LRVkoKSB7XG4gICAgcmV0dXJuIGAke2dpZ3lhLmFwaUtleX1fZ2lnYFxuICB9XG5cbiAgcHVibGljIGdldCBkaWRGb3JjZWRCb290c3RyYXAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXREYXRhQnlLZXk8SUdpZ0RhdGE+KFNpdGVEYXRhU2VydmljZS5TSVRFX0dJR19LRVkpLmRpZEZvcmNlZEJvb3RzdHJhcCB8fCBudWxsO1xuICB9XG5cbiAgcHVibGljIHNldCBkaWRGb3JjZWRCb290c3RyYXAoZGlkRm9yY2VkQm9vdHN0cmFwOiBzdHJpbmcpIHtcbiAgICB0aGlzLnNldERhdGFCeUtleTxJR2lnRGF0YT4oU2l0ZURhdGFTZXJ2aWNlLlNJVEVfR0lHX0tFWSwgeyBkaWRGb3JjZWRCb290c3RyYXAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlZmVycmVkTG9naW5NZXRob2QoaWRlbnRpZmllcjogc3RyaW5nKTogc3RyaW5nIHwgJycge1xuXG4gICAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclByZWZlcmVuY2VzID0gdGhpcy5nZXREYXRhQnlLZXk8SVVzZXJQcmVmZXJlbmNlcz4oU2l0ZURhdGFTZXJ2aWNlLlNJVEVfUFJFRkVSRU5DRVNfS0VZKTtcblxuICAgIGNvbnN0IHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzID0gdXNlclByZWZlcmVuY2VzPy5hdXRoZW50aWNhdGlvbj8udXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMgPz8gW11cblxuICAgIHJldHVybiB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcy5maW5kKHVzZXIgPT4gdXNlci5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKT8ucHJlZmVycmVkTG9naW5NZXRob2QgPz8gJydcblxuICB9XG5cbiAgcHVibGljIHNldFByZWZlcnJlZExvZ2luTWV0aG9kKGF1dGhNZXRob2Q6IHN0cmluZywgaWRlbnRpZmllcjogc3RyaW5nKTogdm9pZCB7XG5cbiAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyUHJlZmVyZW5jZXMgPSB0aGlzLmdldERhdGFCeUtleTxJVXNlclByZWZlcmVuY2VzPihTaXRlRGF0YVNlcnZpY2UuU0lURV9QUkVGRVJFTkNFU19LRVkpO1xuXG4gICAgbGV0IHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzID0gWy4uLnVzZXJQcmVmZXJlbmNlcz8uYXV0aGVudGljYXRpb24/LnVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzID8/IFtdXVxuXG4gICAgbGV0IHRmYVByZWZlcnJlZE1ldGhvZCA9IHVzZXJQcmVmZXJlbmNlcz8uYXV0aGVudGljYXRpb24/LnRmYVByZWZlcnJlZE1ldGhvZCA/PyAnJztcblxuICAgIGNvbnN0IGlzVXNlckV4aXN0cyA9IHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLnNvbWUodXNlciA9PiB1c2VyLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpXG5cbiAgICBpZiAodGhpcy5pc01heExpbWl0VXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHNSZWFjaGVkKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzKSAmJiAhaXNVc2VyRXhpc3RzKSB7XG4gICAgICB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA9IHRoaXMucmVtb3ZlT2xkZXN0VXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzKVxuICAgIH1cblxuICAgIGlmICghaXNVc2VyRXhpc3RzKSB7XG4gICAgICB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyA9IHRoaXMuYWRkVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLCB7IGlkZW50aWZpZXIsIHByZWZlcnJlZExvZ2luTWV0aG9kOiBhdXRoTWV0aG9kIH0pO1xuICAgIH1cblxuICAgIGlmIChpc1VzZXJFeGlzdHMpIHtcbiAgICAgIHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzID0gdGhpcy5yZWZyZXNoRXhpc3RpbmdVc2VyUHJlZmVycmVkTG9naW5NZXRob2QoeyBhdXRoTWV0aG9kLCBpZGVudGlmaWVyLCB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcyB9KVxuICAgIH1cblxuICAgIHRoaXMuc2V0RGF0YUJ5S2V5PElVc2VyUHJlZmVyZW5jZXM+KFxuICAgICAgU2l0ZURhdGFTZXJ2aWNlLlNJVEVfUFJFRkVSRU5DRVNfS0VZLFxuICAgICAgeyBhdXRoZW50aWNhdGlvbjogeyB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgdGZhUHJlZmVycmVkTWV0aG9kIH19XG4gICAgKTtcblxuICB9XG5cbiAgcHVibGljIHNldFNjcmVlblZhcmlhbnQoc2NyZWVuU2V0SWQ6IHN0cmluZywgc2NyZWVuSWQ6IHN0cmluZywgdGVzdElkOiBzdHJpbmcsIHZhcmlhbnRJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zZXREYXRhQnlLZXk8SVVzZXJQcmVmZXJlbmNlcz4oXG4gICAgICBTaXRlRGF0YVNlcnZpY2UuU0lURV9QUkVGRVJFTkNFU19LRVksXG4gICAgICB7XG4gICAgICAgIFtzY3JlZW5TZXRJZF06IHtcbiAgICAgICAgICBzY3JlZW5zOiB7XG4gICAgICAgICAgICBbc2NyZWVuSWRdOiB7IFt0ZXN0SWRdOiB7IHZhcmlhbnQ6IHZhcmlhbnRJZCB9IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFNjcmVlblZhcmlhbnQoc2NyZWVuU2V0SWQ6IHN0cmluZywgc2NyZWVuSWQ6IHN0cmluZywgdGVzdElkOiBzdHJpbmcsKTogc3RyaW5nIHtcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IHRoaXMuZ2V0RGF0YUJ5S2V5PElVc2VyUHJlZmVyZW5jZXM+KFNpdGVEYXRhU2VydmljZS5TSVRFX1BSRUZFUkVOQ0VTX0tFWSk7XG4gICAgcmV0dXJuIHByZWZlcmVuY2VzPy5bc2NyZWVuU2V0SWRdPy5zY3JlZW5zPy5bc2NyZWVuSWRdPy5bdGVzdElkXT8udmFyaWFudDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGF0YUJ5S2V5PFQ+KGtleTogc3RyaW5nKTogVCB7XG4gICAgcmV0dXJuIGdldE9iamVjdChrZXksIHt9KSBhcyBUO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREYXRhQnlLZXk8VD4oa2V5OiBzdHJpbmcsIG5ld0RhdGE/OiBUKSB7XG4gICAgY29uc3Qgb2xkRGF0YSA9IHRoaXMuZ2V0RGF0YUJ5S2V5PFQ+KGtleSk7XG4gICAgdHJ5IHtcbiAgICAgIHNldE9iamVjdChrZXksIHJlbW92ZVVuZGVmaW5lZChfbWVyZ2Uob2xkRGF0YSwgbmV3RGF0YSkpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdGYWlsZWQgdG8gc2F2ZSBsb2NhbCBzaXRlIGRhdGEnLCB7IGVycm9yLCBrZXkgfSk7XG5cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlZnJlc2hFeGlzdGluZ1VzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh7IHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLCBpZGVudGlmaWVyLCBhdXRoTWV0aG9kIH06IHsgdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHM6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSwgaWRlbnRpZmllcjogc3RyaW5nLCBhdXRoTWV0aG9kOiBzdHJpbmcgfSk6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSB7XG4gICAgY29uc3QgcmVtYWluaW5nTWV0aG9kcyA9IHRoaXMucmVtb3ZlVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLCBpZGVudGlmaWVyKTtcblxuICAgIHJldHVybiB0aGlzLmFkZFVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZChyZW1haW5pbmdNZXRob2RzLCB7IGlkZW50aWZpZXIsIHByZWZlcnJlZExvZ2luTWV0aG9kOiBhdXRoTWV0aG9kIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVVc2VyUHJlZmVycmVkTG9naW5NZXRob2QodXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHM6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSwgaWRlbnRpZmllcjogc3RyaW5nKTogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdIHtcbiAgICByZXR1cm4gdXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHMuZmlsdGVyKHVzZXJMb2dpbk1ldGhvZCA9PiB1c2VyTG9naW5NZXRob2QuaWRlbnRpZmllciAhPT0gaWRlbnRpZmllcilcbiAgfVxuXG4gIHByaXZhdGUgaXNNYXhMaW1pdFVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzUmVhY2hlZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kczogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLmxlbmd0aCA9PT0gTUFYX0xJTUlUX09GX1VTRVJTX1BSRUZFUlJFRF9MT0dJTl9NRVRIT0RTX1BFUl9TSVRFXG4gIH1cblxuICBwcml2YXRlIHJlbW92ZU9sZGVzdFVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kczogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdKTogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdIHtcbiAgICBjb25zdCBvbGRlc3RNZXRob2QgPSB1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kc1swXTtcblxuICAgIHJldHVybiB0aGlzLnJlbW92ZVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZCh1c2Vyc1ByZWZlcnJlZExvZ2luTWV0aG9kcywgb2xkZXN0TWV0aG9kPy5pZGVudGlmaWVyKVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRVc2VyUHJlZmVycmVkTG9naW5NZXRob2QodXNlcnNQcmVmZXJyZWRMb2dpbk1ldGhvZHM6IElVc2VyUHJlZmVycmVkTG9naW5NZXRob2RbXSwgdXNlclByZWZlcnJlZExvZ2luOiBJVXNlclByZWZlcnJlZExvZ2luTWV0aG9kKTogSVVzZXJQcmVmZXJyZWRMb2dpbk1ldGhvZFtdIHtcbiAgICByZXR1cm4gWy4uLnVzZXJzUHJlZmVycmVkTG9naW5NZXRob2RzLCB1c2VyUHJlZmVycmVkTG9naW5dXG4gIH1cbn1cblxuXG5leHBvcnQgY29uc3Qgc2l0ZURhdGE6IElTaXRlRGF0YVNlcnZpY2UgPSBuZXcgU2l0ZURhdGFTZXJ2aWNlKCk7XG5cbiIsImV4cG9ydCBsZXQgaXNSZWFkeSA9IGZhbHNlO1xuZXhwb3J0IHZhciB0aGlzU2NyaXB0OiB7XG4gICAgQVBJS2V5OiBzdHJpbmc7XG4gICAgcHJvdG9jb2w6IHN0cmluZztcbiAgICBiYXNlRG9tYWluOiBzdHJpbmc7XG4gICAgVVJMUGFyYW1zOiBPYmplY3Q7XG4gICAgZ2xvYmFsQ29uZjogT2JqZWN0O1xuICAgIGxhbmc6IGdpZ3lhLkxhbmc7XG4gICAgc2NyaXB0RWxlbWVudDogSFRNTFNjcmlwdEVsZW1lbnQ7XG59O1xuIiwiaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyB2aWV3cG9ydFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92aWV3cG9ydCc7XG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcblxuZXhwb3J0IHZhciBfcG9wdXBDb250YWluZXJzID0gW107XG5leHBvcnQgdmFyIF9wc2V1ZG9Db250YWluZXJzID0gW107XG5sZXQgX25leHRaSW5kZXggPSA5OTk5OTk5OTk7XG52YXIgYmFja0xpc3RlbmVyID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBnZXROZXh0WkluZGV4KCkge1xuICAgIF9uZXh0WkluZGV4Kys7XG4gICAgcmV0dXJuIF9uZXh0WkluZGV4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpZ3lhU2NyaXB0RWxlbWVudChmaWxlTmFtZXM6IHN0cmluZ1tdKTogSFRNTFNjcmlwdEVsZW1lbnQge1xuICAgIHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgIHZhciBzY3JpcHRFbGVtZW50OiBIVE1MU2NyaXB0RWxlbWVudDtcbiAgICB2YXIgZ2lneWFDZG5SZWdleCA9IC9cXC9cXC9jZG4ocyk/XFwuKHJ1MVxcLik/Z2lneWEuY29tLztcbiAgICBmb3IgKHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1tpXTtcbiAgICAgICAgdmFyIHNyYyA9IHNjcmlwdC5zcmMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHNyYyAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmIChnaWd5YUNkblJlZ2V4LnRlc3Qoc3JjKSB8fCBzcmMuaW5kZXhPZignP2FwaWtleT0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzRmlsZU5hbWVFeGlzdEluU3JjID0gZmlsZU5hbWVzLmxlbmd0aCA9PT0gMCB8fCBmaWxlTmFtZXMuc29tZShmaWxlTmFtZSA9PiBzcmMuaW5kZXhPZihmaWxlTmFtZSkgPiAtMSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZU5hbWVFeGlzdEluU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQgPSBzY3JpcHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RWxlbWVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChlbDogSFRNTEVsZW1lbnQsIGV2ZW50TmFtZTogc3RyaW5nKSB7XG4gICAgdmFyIGV2ZW50O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZXZlbnQgPSBuZXcgRXZlbnQoZXZlbnROYW1lKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElFMTAgYW5kIGJlbG93IHN1cHBvcnRcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSwge30pO1xuICAgIH1cblxuICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJ1dHRvblN1Ym1pdExpc3RlbmVyKGVsOiBIVE1MRWxlbWVudCwgaGFuZGxlcjogRnVuY3Rpb24sIGV2ZW50OiAnY2xpY2snIHwgJ3RvdWNoZW5kJyA9ICdjbGljaycsIGRlYnVnTmFtZT86IHN0cmluZykge1xuICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGlzdC5cbiAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSAhPSAnLTEnKSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgKGU6IE1vdXNlRXZlbnQpID0+IGhhbmRsZXIoZSkpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsICdrZXlkb3duJywgKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKChlLndoaWNoIHx8IGUua2V5Q29kZSkgPT0gMTMpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbDogYW55LCBldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoIWVsIHx8ICFoYW5kbGVyKSByZXR1cm47XG5cbiAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQWN0aXZhdGlvbkhhbmRsZXIoZWw6SFRNTEVsZW1lbnQsIGhhbmRsZXI6RnVuY3Rpb24pOiB2b2lke1xuICAgIGlmICghZWwgfHwgIWhhbmRsZXIpIHJldHVybjtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ1NwYWNlJyB8fCBldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGVsLCAnY2xpY2snLCBoYW5kbGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWw6IGFueSwgZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgaWYgKCFlbCB8fCAhaGFuZGxlcikgcmV0dXJuO1xuICAgIGlmIChlbC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZURlZmF1bHRFdmVudEhhbmRsaW5nKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuZXZlbnQpIHtcbiAgICAgICAgd2luZG93LmV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZERpYWxvZ0JhY2tMaXN0ZW5lcihoYW5kbGVyOiAoZTogRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBfcmVtb3ZlRGlhbG9nQmFja0xpc3RlbmVyKCk7XG5cbiAgICAvLyBUaGlzIHNob3VsZCBmaXJlIHdoZW4gYmFjayBpcyBjbGlja2VkXG4gICAgYmFja0xpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZSAmJiBlLm5ld1VSTCAmJiBlLm5ld1VSTC5pbmRleE9mKCd8Z2lneWFNb2JpbGVEaWFsb2cnKSA9PSAtMSkge1xuICAgICAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgICAgICAgIF9yZW1vdmVEaWFsb2dCYWNrTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBoYXNoIGNvdWxkIGNoYW5nZSByaWdodCBhZnRlciB0aGUgY2FsbCBpZiBpdCB3YXMgaW5pdGlhdGVkIGZyb20gYSBsaW5rIHRoYXQgZGlkbid0IHJldHVybiBmYWxzZVxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2guaW5kZXhPZignfGdpZ3lhTW9iaWxlRGlhbG9nJykgPT0gLTEpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2ggKyAnfGdpZ3lhTW9iaWxlRGlhbG9nJztcbiAgICAgICAgfVxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgJ2hhc2hjaGFuZ2UnLCBiYWNrTGlzdGVuZXIpO1xuICAgIH0sIDUwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfcmVtb3ZlRGlhbG9nQmFja0xpc3RlbmVyKCkge1xuICAgIGlmICghYmFja0xpc3RlbmVyKSByZXR1cm47XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdoYXNoY2hhbmdlJywgYmFja0xpc3RlbmVyKTtcbiAgICBiYWNrTGlzdGVuZXIgPSBudWxsO1xuICAgIC8vcmVzdG9yZSBwcmV2aW91cyBoYXNoXG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCd8Z2lneWFNb2JpbGVEaWFsb2cnLCAnJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlcGVuZFRvQm9keShlbDogSFRNTEVsZW1lbnQsIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50KTogdm9pZCB7XG4gICAgaWYgKCFkb2N1bWVudC5ib2R5KSByZXR1cm47XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlICYmIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRUb0JvZHkoZWw6IEhUTUxFbGVtZW50LCBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCk6IHZvaWQge1xuICAgIGlmICghZG9jdW1lbnQuYm9keSkgcmV0dXJuO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgaWYgKGVsICYmIGVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hpbGRPZihjaGlsZDogTm9kZSwgcGFyZW50OiBOb2RlKSB7XG4gICAgdmFyIGRpcmVjdFBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAoZGlyZWN0UGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgPT0gZGlyZWN0UGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpcmVjdFBhcmVudCA9IGRpcmVjdFBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09ICdub25lJyB8fCBjb21wdXRlZFN0eWxlLnZpc2liaWxpdHkgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2VudGVyZWREaXZJRChuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gJ2dpZ18nICsgbG9jYWxJbmZvLmluaXRUaW1lLmdldFRpbWUoKS50b1N0cmluZygpICsgJ18nICsgbmFtZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aEF0dHJpYnV0ZXMoZG9tRWxlbU5hbWU6IHN0cmluZywgZG9tRWxlbUF0dHJzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBuZXdEb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkb21FbGVtTmFtZSk7XG5cbiAgICBpZiAoZG9tRWxlbUF0dHJzKSB7XG4gICAgICAgIGZvciAobGV0IGVsZW1BdHRyIGluIGRvbUVsZW1BdHRycykge1xuICAgICAgICAgICAgbmV3RG9tRWxlbVtlbGVtQXR0cl0gPSBkb21FbGVtQXR0cnNbZWxlbUF0dHJdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0RvbUVsZW07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9wTGV2ZWxEaXYoaWQ/OiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBpZiAoZWwuc3R5bGUuekluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgZWwuc3R5bGUuekluZGV4ID0gJycgKyBnZXROZXh0WkluZGV4KCk7XG4gICAgfVxuXG4gICAgZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIGVsLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlICYmIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZWwsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVCeUlEKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3dCeUlEKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBsb2NhbEluZm8uaXNJRTYgPyAoZWwudGFnTmFtZSA9PSAnVEQnID8gJ3RhYmxlLWNlbGwnIDogZWwudGFnTmFtZSA9PSAnVFInID8gJycgOiBlbC50YWdOYW1lID09ICdUQUJMRScgPyAnJyA6ICdibG9jaycpIDogJyc7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQnlJRChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChjICE9IG51bGwpIHtcbiAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEhUTUxTaXplKGh0bWw6IHN0cmluZywgY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSB7XG4gICAgdmFyIGRpdk1lYXN1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXZNZWFzdXJlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkaXZNZWFzdXJlLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XG4gICAgZGl2TWVhc3VyZS5pbm5lckhUTUwgPSBodG1sO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZNZWFzdXJlKTtcbiAgICB2YXIgdyA9IGRpdk1lYXN1cmUub2Zmc2V0V2lkdGg7XG4gICAgdmFyIGggPSBkaXZNZWFzdXJlLm9mZnNldEhlaWdodDtcbiAgICBkaXZNZWFzdXJlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2TWVhc3VyZSk7XG4gICAgcmV0dXJuIHsgdzogdywgaDogaCB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlDbGFzcyhwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCwgY2xhc3NOYW1lOiBzdHJpbmcsIGluY2x1ZGVQYXJlbnQ/OiBib29sZWFuKTogSFRNTEVsZW1lbnRbXSB7XG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIGFyRWxzID0gW107XG5cbiAgICBpZiAoaW5jbHVkZVBhcmVudCAmJiBpc0VsZW1lbnRDbGFzcyhwYXJlbnRFbGVtZW50LCBjbGFzc05hbWUpKSB7XG4gICAgICAgIGFyRWxzLnB1c2gocGFyZW50RWxlbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIGVsczogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gPSBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykgYXMgYW55O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0VsZW1lbnRDbGFzcyhlbHNbaV0sIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGFyRWxzLnB1c2goZWxzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJFbHMgfHwgW107XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudHNCeUF0dHJpYnV0ZShwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCwgdGFnTmFtZTogc3RyaW5nLCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZVZhbHVlOiBzdHJpbmcpOiBIVE1MRWxlbWVudFtdIHtcbiAgICB2YXIgYXJFbHMgPSBbXTtcbiAgICB2YXIgZWxzOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PiA9IHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSkgYXMgYW55O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlbHNbaV0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpID09IGF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgICAgICAgICBhckVscy5wdXNoKGVsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyRWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRQb3NpdGlvbihlbDogSFRNTEVsZW1lbnQpOiB7IGxlZnQ6IG51bWJlcjsgdG9wOiBudW1iZXI7IHJpZ2h0OiBudW1iZXI7IGJvdHRvbTogbnVtYmVyIH0ge1xuICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuIHsgbGVmdDogMCwgdG9wOiAwLCBib3R0b206IDAsIHJpZ2h0OiAwIH07XG4gICAgfVxuXG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgc2Nyb2xsID0gdmlld3BvcnRVdGlscy5nZXRTY3JvbGwoKTtcbiAgICB2YXIgbGVmdCA9IHJlY3QubGVmdCArIHNjcm9sbC5sZWZ0O1xuICAgIHZhciB0b3AgPSByZWN0LnRvcCArIHNjcm9sbC50b3A7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgcmlnaHQ6IGxlZnQgKyByZWN0LndpZHRoLFxuICAgICAgICBib3R0b206IHRvcCArIHJlY3QuaGVpZ2h0LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3NUb0VsZW1lbnQoZWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSBlbC5jbGFzc05hbWUgPyBnZXRDbGFzc05hbWVzKGVsKSA6IFtdO1xuICAgIHZhciBleGlzdGluZ09yaWdpbmFsTGVuZ3RoID0gZXhpc3RpbmdDbGFzc2VzLmxlbmd0aDtcbiAgICB2YXIgbmV3Q2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xuXG4gICAgZm9yICh2YXIgaiBpbiBuZXdDbGFzc2VzKSB7XG4gICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFuZXdDbGFzc2VzW2pdKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBleGlzdGluZ0NsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0NsYXNzZXNbaV0gPT09IG5ld0NsYXNzZXNbal0pIHtcbiAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nQ2xhc3Nlcy5wdXNoKG5ld0NsYXNzZXNbal0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5sZW5ndGggIT09IGV4aXN0aW5nT3JpZ2luYWxMZW5ndGgpIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gZXhpc3RpbmdDbGFzc2VzLmpvaW4oJyAnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NGcm9tRWxlbWVudChlbDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZTogc3RyaW5nLCBzdWJzdHJpbmc6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYXJDbGFzcyA9IGdldENsYXNzTmFtZXMoZWwpO1xuICAgIGZvciAodmFyIGkgPSBhckNsYXNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChhckNsYXNzW2ldID09PSBjbGFzc05hbWUgfHwgKHN1YnN0cmluZyAmJiBhckNsYXNzW2ldLmluZGV4T2YoY2xhc3NOYW1lKSAhPT0gLTEpKSB7XG4gICAgICAgICAgICBhckNsYXNzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbC5jbGFzc05hbWUgPSBhckNsYXNzLmpvaW4oJyAnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWVzKGVsOiBIVE1MRWxlbWVudCk6IEFycmF5PHN0cmluZz4ge1xuICAgIHZhciBjbGFzc2VzOiBBcnJheTxzdHJpbmc+ID0gW107XG4gICAgaWYgKHR5cGVvZiBlbC5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNsYXNzZXMgPSBlbC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50Q2xhc3MoZWw6IEhUTUxFbGVtZW50LCBjbGFzc05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghZWwpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIGlmICghY2xhc3NOYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlIGlmICghZWwuY2xhc3NOYW1lKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgdmFyIGFyQ2xhc3MgPSBnZXRDbGFzc05hbWVzKGVsKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyQ2xhc3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFyQ2xhc3NbaV0gPT09IGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleGlzdHM7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsRXZlbnQoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIGlmICghZXZlbnQpIHJldHVybjtcbiAgICBpZiAoJ2NhbmNlbGFibGUnIGluIGV2ZW50KVxuICAgICAgICAvLyBBbGwgYnJvd3NlcnMgZXhjZXB0IDxJRTlcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBlbHNlIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgIHZhciBkaXZDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuYW1lID0gbmFtZSB8fCAnJztcbiAgICBkaXZDb250YWluZXIuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICcgbmFtZT1cIicgKyBuYW1lICsgJ1wiIGlkPVwiJyArIG5hbWUgKyAnXCI+PC8nICsgdHlwZSArICc+JztcbiAgICByZXR1cm4gZGl2Q29udGFpbmVyLmZpcnN0Q2hpbGQ7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0U2l6ZShjb250YWluZXI6IEhUTUxFbGVtZW50LCB3OiBhbnksIGg6IGFueSwgY2VudGVyPzogYm9vbGVhbikge1xuICAgIGlmIChjb250YWluZXIgPT0gbnVsbCB8fCBjb250YWluZXIuc3R5bGUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHcpIHtcbiAgICAgICAgdyA9ICcnICsgdztcbiAgICAgICAgdmFyIGlzV2lkdGhQcmVjZW50YWdlID0gdy5pbmRleE9mKCclJykgPiAwO1xuXG4gICAgICAgIGlmICghaXNOYU4odykgfHwgaXNXaWR0aFByZWNlbnRhZ2UpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aFZhbHVlOiBzdHJpbmcgPSAnJyArIChpc1dpZHRoUHJlY2VudGFnZSA/IHcgOiB3ICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXIuc3R5bGUud2lkdGggIT0gd2lkdGhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaCkge1xuICAgICAgICBoID0gJycgKyBoO1xuICAgICAgICB2YXIgaXNIZWlnaHRQcmVjZW50YWdlID0gaC5pbmRleE9mKCclJykgPiAwO1xuXG4gICAgICAgIGlmICghaXNOYU4odykgfHwgaXNIZWlnaHRQcmVjZW50YWdlKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0VmFsdWU6IHN0cmluZyA9ICcnICsgKGlzSGVpZ2h0UHJlY2VudGFnZSA/IGggOiBoICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXIuc3R5bGUuaGVpZ2h0ICE9PSBoZWlnaHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjZW50ZXIgJiYgdyAmJiBoKSB7XG4gICAgICAgIGlmIChjb250YWluZXIuc3R5bGUuekluZGV4ID09IG51bGwgfHwgY2VudGVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUuekluZGV4ID0gJycgKyBnZXROZXh0WkluZGV4KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdnAgPSB2aWV3cG9ydFV0aWxzLmdldElubmVyU2l6ZSgpO1xuICAgICAgICB2YXIgc2NybCA9IHZpZXdwb3J0VXRpbHMuZ2V0U2Nyb2xsKCk7XG5cbiAgICAgICAgdmFyIHZwdCA9IHNjcmwudG9wO1xuICAgICAgICB2YXIgdnBsID0gc2NybC5sZWZ0O1xuXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnJyArIE1hdGgubWF4KDAsIHZwdCArIE1hdGguZmxvb3IoKHZwLmggLSBoKSAvIDIpKSArICdweCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJycgKyBNYXRoLm1heCgwLCB2cGwgKyBNYXRoLmZsb29yKCh2cC53IC0gdykgLyAyKSkgKyAncHgnO1xuICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaWRkZW5JZnJhbWUoc3JjOiBzdHJpbmcpOiBIVE1MSUZyYW1lRWxlbWVudCB7XG4gICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmci5zcmMgPSBzcmM7XG4gICAgaWZyLnN0eWxlLndpZHRoID0gJzMwcHgnO1xuICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG4gICAgaWZyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZnIuc3R5bGUudG9wID0gJy0xMDAwcHgnO1xuICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xuXG4gICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgYXBwZW5kVG9Cb2R5KGlmcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZnVuY3Rpb25zVXRpbHMuaW52b2tlT25QYWdlTG9hZCgoKSA9PiB7XG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkoaWZyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlmcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVFbmNvZGUodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UoL1xcXCIvZywgJyZxdW90OycpXG4gICAgICAgIC5yZXBsYWNlKC9cXCcvZywgJyYjMzk7Jyk7IC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgJmFwb3M7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFuaXB1bGF0ZUF0dHJpYnV0ZXMoXG4gICAgZWxlbWVudHM6IEVsZW1lbnRbXSxcbiAgICBtYXRjaGVyOiBSZWdFeHAsXG4gICAgcmVwbGFjZVByZWRpY2F0ZTogKG1hdGNoOiBzdHJpbmcpID0+IHZvaWQsXG4gICAgY3JpdGVyaWE6IChhdHRyPzogQXR0cikgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUsXG4pOiB2b2lkIHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgaWYgKCFlbC5hdHRyaWJ1dGVzKSByZXR1cm47XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsLmF0dHJpYnV0ZXMpLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgICAgICBpZiAoY3JpdGVyaWEoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBhdHRyLnZhbHVlID0gYXR0ci52YWx1ZS5yZXBsYWNlKG1hdGNoZXIsIHJlcGxhY2VQcmVkaWNhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0Tm9kZXNVbmRlcihlbDogSFRNTEVsZW1lbnQpIHtcbiAgICBsZXQgbjtcbiAgICBjb25zdCB0ZXh0Tm9kZXM6IFRleHRbXSA9IFtdO1xuICAgIGNvbnN0IHRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGVsLCBOb2RlRmlsdGVyLlNIT1dfVEVYVCwgbnVsbCwgZmFsc2UpO1xuICAgIHdoaWxlICgobiA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKSBhcyBUZXh0KSkge1xuICAgICAgICB0ZXh0Tm9kZXMucHVzaChuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHROb2Rlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0hUTUxCb29sZWFuQXR0cmlidXRlKGF0dHJOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gWydhdXRvY29tcGxldGUnLCAnYXV0b2ZvY3VzJywgJ2NoZWNrZWQnLCAnZGlzYWJsZWQnLCAnaGlkZGVuJywgJ3JlYWRvbmx5JywgJ3JlcXVpcmVkJywgJ3NlbGVjdGVkJ10uaW5kZXhPZihhdHRyTmFtZSkgPiAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JlbG9uZ1RvR2lneWFGaWVsZHNldChlbDogRWxlbWVudCk6IGJvb2xlYW4ge1xuXG4gICAgaWYgKCFlbCB8fCBlbCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVuZCBvZiByZWN1cnNpb24gLSBlbGVtZW50IGlzIG5vdCBhIGNoaWxkIG9mIGEgZmllbGRzZXRcbiAgICB9XG5cbiAgICBpZiAoaXNFbGVtZW50Q2xhc3MoZWwucGFyZW50RWxlbWVudCwgJ2dpZ3lhLWZpZWxkc2V0Jykpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNCZWxvbmdUb0dpZ3lhRmllbGRzZXQoZWwucGFyZW50RWxlbWVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdEVsZW1lbnQoZWxlbSwgc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50KSB7XG4gICAgc2V0TWF0Y2hlc1BvbHlmaWxsKCk7XG5cbiAgICAvLyBHZXQgdGhlIGNsb3Nlc3QgbWF0Y2hpbmcgZWxlbWVudFxuICAgIGZvciAoIDsgZWxlbSAmJiBlbGVtICE9PSBwYXJlbnQ7IGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSB7XG4gICAgICAgIGlmIChlbGVtPy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIGVsZW07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21UZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nID0gJycpOiBDaGlsZE5vZGUge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5pbm5lckhUTUwgPSB0ZW1wbGF0ZT8udHJpbSgpO1xuICAgIHJldHVybiBkaXYuZmlyc3RDaGlsZCA/PyBkaXY7XG59XG5mdW5jdGlvbiBzZXRNYXRjaGVzUG9seWZpbGwoKSB7XG4gICAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFyZW50SGFzQ2xhc3MobmF0aXZlRWxlbWVudDogSFRNTEVsZW1lbnQsIGNsYXNzTmFtZSA6c3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKG5hdGl2ZUVsZW1lbnQ/LmNsYXNzTGlzdD8uY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFuYXRpdmVFbGVtZW50Py5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzUGFyZW50SGFzQ2xhc3MobmF0aXZlRWxlbWVudD8ucGFyZW50RWxlbWVudCwgY2xhc3NOYW1lKTtcbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9vYmplY3QnO1xuaW1wb3J0ICogYXMgRE9NVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTSc7XG5pbXBvcnQgeyBVcmkgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVXJpJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0KHVybDogc3RyaW5nLCBhclBhcmFtczogYW55W10sIG1ldGhvZD86IHN0cmluZywgdGFyZ2V0Pzogc3RyaW5nLCB3b3JrRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICBpZiAobWV0aG9kICYmIG1ldGhvZC50b0xvd2VyQ2FzZSgpID09ICdwb3N0Jykge1xuICAgICAgICB2YXIgZm9ybSA9IHdvcmtEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIHZhciBhckZpZWxkc0hUTUwgPSBbXTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2FjY2VwdC1jaGFyc2V0JywgJ1VURi04Jyk7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdtZXRob2QnLCAnUE9TVCcpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgdXJsKTtcbiAgICAgICAgaWYgKHRhcmdldCkgZm9ybS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIHRhcmdldCk7XG4gICAgICAgIHZhciBwYXJhbXMgPSBvYmplY3RVdGlscy5tZXJnZShhclBhcmFtcyk7XG4gICAgICAgIGZvciAodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoKHR5cGVvZiBwYXJhbXNbcF0gPT0gJ251bWJlcicgfHwgdHlwZW9mIHBhcmFtc1twXSA9PSAnYm9vbGVhbicgfHwgdHlwZW9mIHBhcmFtc1twXSA9PSAnc3RyaW5nJykgJiYgcCAhPSAnZXZlbnROYW1lJykge1xuICAgICAgICAgICAgICAgIGFyRmllbGRzSFRNTC5wdXNoKCc8dGV4dGFyZWEgbmFtZT1cIicgKyBlbmNvZGVVUklDb21wb25lbnQocCkgKyAnXCI+JyArIHBhcmFtc1twXS50b1N0cmluZygpLnJlcGxhY2UoL1xcJi9nLCAnJmFtcDsnKSArICc8L3RleHRhcmVhPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcm0uaW5uZXJIVE1MID0gYXJGaWVsZHNIVE1MLmpvaW4oJycpO1xuICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIERPTVV0aWxzLmFwcGVuZFRvQm9keShmb3JtLCB3b3JrRG9jdW1lbnQpO1xuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IG5ldyBVcmkodXJsKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhclBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGFyUGFyYW1zW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcmFtc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlbbmFtZV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVyaS5hZGRUb1NlYXJjaChxdWVyeSk7XG4gICAgICAgIHdvcmtEb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gdXJpLnRvU3RyaW5nKCk7XG4gICAgfVxufVxuIiwiXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKG9iajogYW55LCBpbmNsdWRlRnVuY3Rpb25zID0gZmFsc2UsIHByZXR0eVByaW50ID0gZmFsc2UsIGwgPSAwLCBtYXhMZXZlbCA9IDIwKTogc3RyaW5nIHtcbiAgICBpZiAoIWdpZ3lhLmxvY2FsSW5mby5pc0lFOCkge1xuICAgICAgICByZXR1cm4gd2luZG93WydKU09OJ10uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFsKSBsID0gMDtcblxuICAgICAgICBpZiAobCA+IG1heExldmVsKSByZXR1cm4gJ1tUb28gZGVlcF0nO1xuXG4gICAgICAgIHZhciBwcmVmaXggPSAnJztcbiAgICAgICAgdmFyIG5ld2xpbmUgPSAnJztcbiAgICAgICAgdmFyIHRhYiA9ICcnO1xuICAgICAgICBpZiAocHJldHR5UHJpbnQpIHtcbiAgICAgICAgICAgIHRhYiA9ICdcXHQnO1xuICAgICAgICAgICAgbmV3bGluZSA9ICdcXG4nO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ICs9IHRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdCA9IHR5cGVvZiBvYmo7XG4gICAgICAgIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgIT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBzaW1wbGUgZGF0YSB0eXBlXG5cbiAgICAgICAgICAgIGlmICh0ID09ICdzdHJpbmcnKSBvYmogPSAnXCInICsgb2JqLnJlcGxhY2UoLyhcXFwifFxcXFwpL2csICdcXFxcJDEnKS5yZXBsYWNlKC9cXHJcXG58XFxyfFxcbi9nLCAnXFxcXG4nKSArICdcIic7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKG9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbixcbiAgICAgICAgICAgICAgICB2LFxuICAgICAgICAgICAgICAgIGpzb24gPSBbXSxcbiAgICAgICAgICAgICAgICBhcnIgPSBvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09IEFycmF5O1xuICAgICAgICAgICAgaWYgKGFycikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBvYmpbaV07XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0eXBlb2YgdjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPT0gbnVsbCB8fCB0ID09ICd1bmRlZmluZWQnKSB2ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gJ3N0cmluZycpIHYgPSAnXCInICsgdi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlRnVuY3Rpb25zKSB2ID0gJ0Z1bmN0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHYucGFyZW50Tm9kZSAmJiB2LmlubmVySFRNTCkgdiA9ICdIVE1MRWxlbWVudCc7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYuY29uc3RydWN0b3IgPT0gRGF0ZSkgdiA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdvYmplY3QnICYmIHYgIT09IG51bGwpIHYgPSBzZXJpYWxpemUodiwgaW5jbHVkZUZ1bmN0aW9ucywgcHJldHR5UHJpbnQsIGwgKyAxKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKHYpICE9ICcnKSBqc29uLnB1c2gocHJlZml4ICsgdGFiICsgU3RyaW5nKHYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobiBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IG9ialtuXTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHR5cGVvZiB2O1xuICAgICAgICAgICAgICAgICAgICBpZiAodiA9PSBudWxsIHx8IHQgPT0gJ3VuZGVmaW5lZCcpIHYgPSBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gJ3N0cmluZycpIHYgPSAnXCInICsgdi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlRnVuY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9ICdGdW5jdGlvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2LnBhcmVudE5vZGUgJiYgdi5pbm5lckhUTUwpIHYgPSAnSFRNTEVsZW1lbnQnO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2LmNvbnN0cnVjdG9yID09IERhdGUpIHYgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodCA9PSAnb2JqZWN0JyAmJiB2ICE9PSBudWxsKSB2ID0gbmV3bGluZSArIHNlcmlhbGl6ZSh2LCBpbmNsdWRlRnVuY3Rpb25zLCBwcmV0dHlQcmludCwgbCArIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmcodikgIT0gJycpIGpzb24ucHVzaChwcmVmaXggKyB0YWIgKyAnXCInICsgbi5yZXBsYWNlKC8oXFxcInxcXFxcKS9nLCAnXFxcXCQxJykucmVwbGFjZSgvXFxyXFxufFxccnxcXG4vZywgJ1xcXFxuJykgKyAnXCI6JyArIFN0cmluZyh2KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld2xpbmUgKyBwcmVmaXggKyAoYXJyID8gJ1snIDogJ3snKSArIG5ld2xpbmUgKyBqc29uLmpvaW4oJywnICsgbmV3bGluZSkgKyBuZXdsaW5lICsgcHJlZml4ICsgKGFyciA/ICddJyA6ICd9Jyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemU8VD4oanNvbjogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBULCBzY29wZT86IGFueSk6IFQge1xuICAgIC8vIFJldHVybiBkZWZhdWx0IHZhbHVlIGlmIGlzIGVtcHR5IHN0cmluZyAob3Igc2ltaWxhcikuXG4gICAgaWYgKCFqc29uIHx8ICFqc29uLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlIHx8ICh7fSBhcyBUKTtcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHRvIHBhcnNlLiBPbiBlcnJvciwgd2FybiBpbiBjb25zb2xlIGFuZCByZXR1cm4gZGVmYXVsdCB2YWx1ZS5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmbjogRnVuY3Rpb24gPSBldmFsKGAoZnVuY3Rpb24oJHtrZXlzLmpvaW4oJywnKX0pIHsgcmV0dXJuICR7anNvbi50cmltKCl9OyB9KWApO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkodW5kZWZpbmVkLCB2YWx1ZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBkZXNlcmlhbGl6aW5nIEphdmFTY3JpcHQnLCBlKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlPFQ+KGpzb246IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xuICAgIGlmIChnaWd5YS5sb2NhbEluZm8uaXNJRTgpIHtcbiAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplPFQ+KGpzb24sIGRlZmF1bHRWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3dbJ0pTT04nXS5wYXJzZShqc29uKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCAoe30gYXMgVCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHSUdZQV9QQVJBTV9QUkVGSVggfSBmcm9tICcuLy4uLy4uLy4uLy4uL2FjY291bnRzL2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBrZXlWYWx1ZVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlWYWx1ZSc7XG5pbXBvcnQgKiBhcyBvYmplY3RVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvb2JqZWN0JztcblxudHlwZSBJR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZyA9IGdpZ3lhLnV0aWxzLlVSTC5JR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZztcbnR5cGUgSUdldENvbnRleHRQYXJhbXNGcm9tVXJsQ29uZmlnID0gZ2lneWEudXRpbHMuVVJMLklHZXRDb250ZXh0UGFyYW1zRnJvbVVybENvbmZpZ1xuXG5leHBvcnQgZnVuY3Rpb24gVVJMRW5jb2RlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFVSTERlY29kZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBVUkxEZWNvZGVSZWN1cnNpdmUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHByZXZEZWNvZGluZ1JlcyA9ICcnO1xuICAgIGxldCBjdXJyRGVjb2RpbmdSZXMgPSB2YWx1ZTtcblxuICAgIC8vIGtlZXAgZGVjb2RpbmcgdW50aWwgd2UgY2FuJ3QgZGVjb2RlIGFueW1vcmVcbiAgICB3aGlsZSAoY3VyckRlY29kaW5nUmVzICE9IHByZXZEZWNvZGluZ1Jlcykge1xuICAgICAgICAvLyBzdG9yZSB0aGUgbGFzdCBkZWNvZGluZyByZXN1bHRcbiAgICAgICAgcHJldkRlY29kaW5nUmVzID0gY3VyckRlY29kaW5nUmVzO1xuXG4gICAgICAgIC8vIGRlY29kZSB0aGUgc3RyaW5nIG9uY2UgYWdhaW5cbiAgICAgICAgY3VyckRlY29kaW5nUmVzID0gVVJMRGVjb2RlKHByZXZEZWNvZGluZ1Jlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJEZWNvZGluZ1Jlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtc0Zyb21VUkwodXJsOiBzdHJpbmcsIGtleXNUb0xvd2VyPzogYm9vbGVhbik6IE9iamVjdCB7XG4gICAgaWYgKCF1cmwgfHwgdXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4ga2V5VmFsdWVVdGlscy5kZXNlcmlhbGl6ZSh1cmwuc3BsaXQoJyMnKVswXS5zcGxpdCgnPycpWzFdLCAnJicsIGtleXNUb0xvd2VyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpZ1BhcmFtc0Zyb21VUkwoY29uZmlnOiBJR2V0R2lnUGFyYW1zRnJvbVVybENvbmZpZykge1xuXG4gICAgY29uc3QgeyB1cmwsIHBhcmFtUHJlZml4LCBrZXlzVG9Mb3dlciwgcmVtb3ZlUHJlZml4IH0gPSBjb25maWcgfHwge31cblxuICAgIGNvbnN0IHByZWZpeCA9IHBhcmFtUHJlZml4IHx8IEdJR1lBX1BBUkFNX1BSRUZJWDtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRQYXJhbXNGcm9tVVJMKHVybCwga2V5c1RvTG93ZXIpO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh1cmxQYXJhbXMpXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IGtleS5pbmRleE9mKHByZWZpeCkgPT09IDAgJiYga2V5ICE9PSBwcmVmaXgpXG4gICAgICAgIC5yZWR1Y2U8YW55Pigob2JqLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IHJlbW92ZVByZWZpeCA/IGtleS5zbGljZSg0KSA6IGtleTtcbiAgICAgICAgICAgIG9ialtuZXdLZXldID0gdXJsUGFyYW1zW2tleV07XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbVZhbHVlRnJvbVVSTChwYXJhbTogc3RyaW5nLCB1cmw6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChudWxsID09IHVybCB8fCAnJyA9PSB1cmwpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBpcW0gPSB1cmwuaW5kZXhPZignPycpO1xuICAgIGlmIChpcW0gPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgcXMgPSAnJicgKyB1cmwuc3Vic3RyKGlxbSArIDEpO1xuXG4gICAgbGV0IGlkeCA9IHFzLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignJicgKyBwYXJhbS50b0xvd2VyQ2FzZSgpICsgJz0nKTtcbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbEFuZE1vcmUgPSBxcy5zdWJzdHIoaWR4ICsgKDEgKyBwYXJhbS5sZW5ndGggKyAxKSkgKyAnJic7XG4gICAgaWR4ID0gdmFsQW5kTW9yZS5pbmRleE9mKCcmJyk7XG5cbiAgICByZXR1cm4gdmFsQW5kTW9yZS5zdWJzdHIoMCwgaWR4KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRQYXJhbXNUb1VSTCh1cmw6IHN0cmluZywgb1BhcmFtczogT2JqZWN0KTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJhbXMgPSBnZXRQYXJhbXNGcm9tVVJMKHVybCk7XG4gICAgb2JqZWN0VXRpbHMuYWRkKHBhcmFtcywgb1BhcmFtcyk7XG4gICAgY29uc3QgdXJsSGFzaFNwbGl0ID0gdXJsLnNwbGl0KCcjJyk7XG4gICAgbGV0IGZpbmFsVXJsID0gdXJsSGFzaFNwbGl0WzBdLnNwbGl0KCc/JylbMF0gKyAnPycgKyBrZXlWYWx1ZVV0aWxzLnNlcmlhbGl6ZShwYXJhbXMsICcmJyk7XG4gICAgaWYgKHVybEhhc2hTcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZpbmFsVXJsICs9ICcjJyArIHVybEhhc2hTcGxpdFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsVXJsO1xufVxuXG5cbmNvbnN0IHJlbW92ZVVuYWNjZXB0YWJsZVBhcmFtcyA9IDxUPihwYXJhbXM6IFQsIHVuYWNjZXB0YWJsZVBhcmFtczogUmVnRXhwKTogUGFydGlhbDxUPiA9PiB7XG5cbiAgICBpZiAoIXVuYWNjZXB0YWJsZVBhcmFtcykge1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbGlkUGFyYW1zOiBQYXJ0aWFsPFQ+ID0ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhwYXJhbXMgfHwge30pXG4gICAgICAgIC5maWx0ZXIoKFtwYXJhbU5hbWVdKSA9PiAhdW5hY2NlcHRhYmxlUGFyYW1zLnRlc3QocGFyYW1OYW1lKSlcbiAgICAgICAgLmZvckVhY2goKFtwYXJhbU5hbWUsIHBhcmFtVmFsdWVdOiBbc3RyaW5nLCBzdHJpbmddKSA9PiB2YWxpZFBhcmFtc1twYXJhbU5hbWVdID0gcGFyYW1WYWx1ZSlcblxuICAgIHJldHVybiB2YWxpZFBhcmFtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHRQYXJhbXNGcm9tVXJsPFQgPSB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9Pihjb25maWc6IElHZXRDb250ZXh0UGFyYW1zRnJvbVVybENvbmZpZyk6IFBhcnRpYWw8VD4ge1xuXG4gICAgY29uc3QgeyB1cmwsIHBhcmFtUHJlZml4LCB1bmFjY2VwdGFibGVQYXJhbXMgfSA9IGNvbmZpZyB8fCB7fVxuXG4gICAgaWYoIXVybCkge1xuICAgICAgcmV0dXJuIHt9XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gZ2lneWEudXRpbHMuVVJMLmdldEdpZ1BhcmFtc0Zyb21VUkwoeyB1cmwsIHBhcmFtUHJlZml4IH0pIGFzIFQ7XG5cbiAgICByZXR1cm4gcmVtb3ZlVW5hY2NlcHRhYmxlUGFyYW1zKHBhcmFtcywgdW5hY2NlcHRhYmxlUGFyYW1zKTtcbn1cbiIsImltcG9ydCAqIGFzIHN0cmluZ1V0aWxzVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFVyaSB7XG4gICAgcHJpdmF0ZSBfYW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nLCBpc0Fic29sdXRlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICdodHRwOicgPyAnaHR0cCcgOiAnaHR0cHMnO1xuICAgICAgICBpZiAoaXNBYnNvbHV0ZSAmJiB1cmwuaW5kZXhPZignOi8vJykgPT09IC0xICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykgdXJsID0gYCR7cHJvdG9jb2x9Oi8vJHt1cmx9YDtcbiAgICAgICAgdGhpcy5fYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkb21haW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3IuaG9zdG5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLnBhdGhuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaHJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvci5ocmVmO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2VhcmNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yLnNlYXJjaC5zbGljZSgxKTtcbiAgICB9IC8vIGRyb3BwaW5nICc/J1xuICAgIHB1YmxpYyBnZXQgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvci5oYXNoLnNsaWNlKDEpO1xuICAgIH0gLy8gZHJvcHBpbmcgJyMnXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3IuaHJlZjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVG9TZWFyY2gocGFyYW1zOiBPYmplY3QpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcmFtc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICgodHlwZW9mIHZhbCA9PSAnYm9vbGVhbicgfHwgdHlwZW9mIHZhbCA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsID09ICdzdHJpbmcnKSAmJiBuYW1lICE9ICdldmVudE5hbWUnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFkZGl0aW9uID0gdGhpcy5fYW5jaG9yLnNlYXJjaCA/ICcmJyA6ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZWFyY2ggKz0gYCR7YWRkaXRpb259JHtuYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbXNbbmFtZV0pfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGZldGNoPFQ+KHJldHJpZXMgPSAwKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmZldGNoID8gYXdhaXQgdGhpcy5icm93c2VyRmV0Y2g8VD4oKSA6IGF3YWl0IHRoaXMueGhyPFQ+KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzIDw9IDApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWQ6ICR7ZX1gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVsYXkoMSk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaChyZXRyaWVzIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNCYXNlT2YodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIFVyaS5wYXJzZSh1cmwpLmlzSW4odGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSW4oYmFzZTogc3RyaW5nKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgaXNJbihiYXNlOiBVcmkpOiBib29sZWFuO1xuICAgIHB1YmxpYyBpc0luKGJhc2U6IFVyaSB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBiYXNlID0gVXJpLnBhcnNlKGJhc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0aGlzLmRvbWFpbiA9PSBiYXNlLmRvbWFpbiB8fCAvLyBwYWdlIGlzIHRoZSBiYXNlIGRvbWFpblxuICAgICAgICAgICAgICAgIHRoaXMuaXNTdWJEb21haW5PZihiYXNlKSkgJiYgLy8gb3Igc3ViLWRvbWFpbiBvZiBpdFxuICAgICAgICAgICAgKCFiYXNlLnBhdGggfHwgdGhpcy5wYXRoLmluZGV4T2YoYmFzZS5wYXRoKSA9PSAwKVxuICAgICAgICApOyAvLyBwYWdlIGlzIGFsc28gaW4gYmFzZSdzIGRlZmluZWQgcGF0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNGb3JTdWJEb21haW5zKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21haW4uaW5kZXhPZignLicpID09IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGlzU3ViRG9tYWluT2YoYmFzZTogVXJpKTogYm9vbGVhbiB7XG4gICAgICAgIHZhciBkb21haW4gPSAnJztcblxuICAgICAgICBpZiAoIWJhc2UuaXNGb3JTdWJEb21haW5zKCkpIGRvbWFpbiA9ICcuJztcblxuICAgICAgICBkb21haW4gKz0gYmFzZS5kb21haW47XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ1V0aWxzVXRpbHMuZW5kc1dpdGgodGhpcy5kb21haW4sIGRvbWFpbik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBwYXJzZSh1cmw6IHN0cmluZywgaXNBYnNvbHV0ZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF1cmwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBVcmkodXJsLCBpc0Fic29sdXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGJyb3dzZXJGZXRjaDxUPigpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmZXRjaCBmYWlsZWRgKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHhocjxUPigpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgICAgICB4aHIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0IHx8IHhoci5zdGF0dXMgIT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoYHhociBmYWlsZWQgLSAke3hoci5zdGF0dXN9IC0gJHt4aHIuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvblJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoanNvblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBkZWxheShtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgbXMpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0dJR1lBX1BBUkFNX1BSRUZJWH0gZnJvbSBcIi4uLy4uLy4uLy4uL2FjY291bnRzL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgX3NldCBmcm9tICdsb2Rhc2guc2V0JztcbmltcG9ydCB7VVJMRGVjb2RlfSBmcm9tIFwiLi9VUkxcIjtcblxudHlwZSBVcmxQYXJhbVR5cGUgPSB7XG4gICAga2V5OiBzdHJpbmdcbiAgICB2YWx1ZTogc3RyaW5nXG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcmxQYXJhbXNIZWxwZXIge1xuICAgIHByaXZhdGUgY3VycmVudFBhcmFtczogQXJyYXk8VXJsUGFyYW1UeXBlPjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIF93aW4gPSBnaWd5YS5fLldpbmRvd1Byb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9IFtdO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKF93aW4ubG9jYXRpb24oKS5zZWFyY2gpO1xuICAgICAgICBwYXJhbXMuZm9yRWFjaCgodmFsdWUsa2V5KSA9PiB7XG4gICAgICAgICAgICBsZXQgdXJsUGFyYW06IFVybFBhcmFtVHlwZVxuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWRLZXkgPSBVUkxEZWNvZGUoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkVmFsdWUgPSBVUkxEZWNvZGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIHVybFBhcmFtID0geyBrZXk6IGRlY29kZWRLZXksIHZhbHVlOiBkZWNvZGVkVmFsdWV9XG4gICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB1cmxQYXJhbSA9IHtrZXksIHZhbHVlfVxuICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ2ZhaWxlZCB0byBkZWNvZGUgdXJsIHBhcmFtJywge3VybFBhcmFtfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMucHVzaCh1cmxQYXJhbSk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGdldEdpZ1BhcmFtc0Zyb21VUkwocGFyYW1QcmVmaXggPSBHSUdZQV9QQVJBTV9QUkVGSVgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gdGhpcy5jdXJyZW50UGFyYW1zXG4gICAgICAgICAgICAuZmlsdGVyKHBhcmFtID0+IHBhcmFtLmtleS5pbmRleE9mKHBhcmFtUHJlZml4KSA9PT0gMCAmJiBwYXJhbS5rZXkgIT09IHBhcmFtUHJlZml4KTtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlUHJlZml4KHByZWZpeCA9IEdJR1lBX1BBUkFNX1BSRUZJWCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMuZm9yRWFjaChwYXJhbSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW0ua2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtLmtleSA9IHBhcmFtLmtleS5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHVibGljIGtleXNUb0xvd2VyKCl7XG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcbiAgICAgICAgICAgIHBhcmFtLmtleSA9IHBhcmFtLmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlVW5hY2NlcHRhYmxlUGFyYW1zKHVuYWNjZXB0YWJsZVBhcmFtczogUmVnRXhwKXtcbiAgICAgICAgaWYgKCF1bmFjY2VwdGFibGVQYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9IHRoaXMuY3VycmVudFBhcmFtcy5maWx0ZXIocGFyYW0gPT4gIXVuYWNjZXB0YWJsZVBhcmFtcy50ZXN0KHBhcmFtLmtleSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9PYmplY3QoKXtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcbiAgICAgICAgICAgIF9zZXQocmVzdWx0LHBhcmFtLmtleSxwYXJhbS52YWx1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIElOdW1lcmljTWFwPFQ+IHtcbiAgICBba2V5OiBudW1iZXJdOiBUO1xufVxuZXhwb3J0IGludGVyZmFjZSBJTWFwPFQ+IHtcbiAgICBba2V5OiBzdHJpbmddOiBUO1xufVxuZXhwb3J0IGludGVyZmFjZSBJRW51bWVyYWJsZTxUPiB7XG4gICAgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2k6IG51bWJlcl06IFQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcjogYW55W10sIG86IGFueSk6IG51bWJlciB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJbaV0gPT0gbykgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhcjogYW55W10pIHtcbiAgICB2YXIgYXIyID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcjJbaV0gPSBhcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFyMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVCeVZhbHVlKGFyOiBhbnlbXSwgdmFsdWU6IE9iamVjdCkge1xuICAgIGlmICghYXIpIHJldHVybjtcbiAgICBmb3IgKHZhciBpID0gYXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGFyW2ldID09IHZhbHVlKSB7XG4gICAgICAgICAgICBhci5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQnlQcm9wZXJ0eShhcjogYW55W10sIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBpZiAoIWFyKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IGFyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChhcltpXVtwcm9wZXJ0eV0gPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGFyLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21TdHJpbmcoc3RyOiBzdHJpbmcsIGRlbGltaXRlcjogc3RyaW5nLCBsb3dlckNhc2U/OiBib29sZWFuKSB7XG4gICAgLy8gY2hlY2sgZm9yIHN0cmluZyB0eXBlIGluIHRoZSBpbnB1dCBhbmQgbm90IGVtcHR5LlxuICAgIGlmICghc3RyIHx8IHR5cGVvZiBzdHIgIT0gJ3N0cmluZycpIHJldHVybiBbXTtcblxuICAgIC8vIGxvd2VyY2FzZSBpZiBkZW1lbmRlZFxuICAgIGlmIChsb3dlckNhc2UpIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gY2xlYW4gdGhlIHN0cmluZzpcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvWyBdL2csICcnKS5yZXBsYWNlKC8sLC9nLCAnLCcpO1xuXG4gICAgLy8gaWYgc3RyaW5nIGVtcHR5XG4gICAgaWYgKCFzdHIpIHJldHVybiBbXTtcblxuICAgIC8vIHJldHVybiBhcnJheSBmcm9tIHN0cmluZ1xuICAgIHJldHVybiBzdHIuc3BsaXQoZGVsaW1pdGVyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXk6IGFueVtdLCAuLi5hcmdzOiBhbnlbXSk6IGFueVtdIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgIHZhciByZXN1bHQ6IGFueVtdID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGg6IG51bWJlciA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtOiBhbnkgPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhPZihyZXN1bHQsIGl0ZW0pICE9IC0xKSBjb250aW51ZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBhcnI6IGFueVtdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgICAgaWYgKGFyciA9PSBudWxsIHx8IHRoaXMuaW5kZXhPZihhcnIsIGl0ZW0pID09IC0xKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbGFzdEluZGV4T2Y8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgdmFsOiBULCBmcm9tSW5kZXggPSAwKTogbnVtYmVyIHtcbiAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aDsgLS1pID49IGZyb21JbmRleDsgKSB7XG4gICAgICAgIGlmIChhcnJbaV0gPT09IHZhbCkgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2g8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgYWN0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiB2b2lkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGFjdGlvbihhcnJbaV0sIGksIGFycik7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFByb3A8VD4ob2JqOiBJTWFwPFQ+LCBhY3Rpb246IChwcm9wOiBULCBuYW1lOiBzdHJpbmcsIG9iajogSU1hcDxUPikgPT4gdm9pZCk7XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFByb3A8VCBleHRlbmRzIE9iamVjdD4ob2JqOiBULCBhY3Rpb246IChwcm9wOiBhbnksIG5hbWU6IHN0cmluZywgb2JqOiBUKSA9PiB2b2lkKTtcbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUHJvcChvYmo6IE9iamVjdCwgYWN0aW9uOiAocHJvcDogYW55LCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiB2b2lkKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgYWN0aW9uKG9ialtuYW1lXSwgbmFtZSwgb2JqKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc29tZTxUPihhcnI6IElFbnVtZXJhYmxlPFQ+LCBjb25kaXRpb246IChlbGVtZW50OiBULCBpbmRleD86IG51bWJlciwgYXJyPzogSUVudW1lcmFibGU8VD4pID0+IGJvb2xlYW4pIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKGFycltpXSwgaSwgYXJyKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5PFQ+KGFycjogSUVudW1lcmFibGU8VD4sIGNvbmRpdGlvbjogKGVsZW1lbnQ6IFQsIGluZGV4PzogbnVtYmVyLCBhcnI/OiBJRW51bWVyYWJsZTxUPikgPT4gYm9vbGVhbikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghY29uZGl0aW9uKGFycltpXSwgaSwgYXJyKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV2ZXJ5UHJvcDxUPihvYmo6IElNYXA8VD4sIGNvbmRpdGlvbjogKHByb3A6IFQsIG5hbWU6IHN0cmluZywgb2JqOiBJTWFwPFQ+KSA9PiBib29sZWFuKTtcbmV4cG9ydCBmdW5jdGlvbiBldmVyeVByb3A8VD4ob2JqOiBULCBjb25kaXRpb246IChwcm9wLCBuYW1lOiBzdHJpbmcsIG9iajogVCkgPT4gYm9vbGVhbik7XG5leHBvcnQgZnVuY3Rpb24gZXZlcnlQcm9wKG9iajogT2JqZWN0LCBjb25kaXRpb246IChwcm9wLCBuYW1lOiBzdHJpbmcsIG9iajogT2JqZWN0KSA9PiBib29sZWFuKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiAhY29uZGl0aW9uKG9ialtuYW1lXSwgbmFtZSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxTLCBUPihhcnI6IElFbnVtZXJhYmxlPFM+LCBhY3Rpb246IChlbGVtZW50OiBTLCBpbmRleD86IG51bWJlciwgYXJyPzogSUVudW1lcmFibGU8Uz4pID0+IFQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5PFQ+KCk7XG5cbiAgICBmb3JFYWNoKGFyciwgKGl0ZW0sIGlkeCwgYXJyKSA9PiByZXN1bHQucHVzaChhY3Rpb24oaXRlbSwgaWR4LCBhcnIpKSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0SW5kZXg8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKTogbnVtYmVyIHtcbiAgICB2YXIgcmVzdWx0OiBudW1iZXIgPSAtMTtcbiAgICBzb21lKGFyciwgKGl0ZW0sIGluZGV4LCBhcnIpID0+IHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihpdGVtLCBpbmRleCwgYXJyKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3Q8VD4oYXJyOiBJRW51bWVyYWJsZTxUPiwgY29uZGl0aW9uOiAoZWxlbWVudDogVCwgaW5kZXg/OiBudW1iZXIsIGFycj86IElFbnVtZXJhYmxlPFQ+KSA9PiBib29sZWFuKTogVCB7XG4gICAgcmV0dXJuIGFycltmaXJzdEluZGV4KGFyciwgY29uZGl0aW9uKV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsRW51bVZhbHVlczxUPihlbnVtVHlwZSk6IFRbXSB7XG4gICAgdmFyIHJlc3VsdHM6IFRbXSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSBpbiBlbnVtVHlwZSkgaWYgKHR5cGVvZiBlbnVtVHlwZVtpXSA9PSAnbnVtYmVyJykgcmVzdWx0cy5wdXNoKGVudW1UeXBlW2ldKTtcblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZVZhbHVlczxUPihhcnI6IFRbXSk6IFRbXSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgYXJyLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gYXJyW2pdKSB7XG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluY2x1ZGVzPFQ+KGFycjogVFtdID0gW10sIGl0ZW06IFQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYXJyPy5pbmRleE9mKGl0ZW0pID49IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc09ubHkoYXJyMT86IGFueVtdLCBhcnIyPzogYW55W10pOiBib29sZWFuIHtcbiAgICBpZiAoIWFycjEgfHwgIWFycjIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGFycjEubGVuZ3RoID09PSAwICYmIGFycjIubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gIWFycjEuc29tZShlbGVtID0+ICFpbmNsdWRlcyhhcnIyLCBlbGVtKSk7XG59XG4iLCJpbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcblxudmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbnZhciBfY2FjaGUgPSB7XG4gICAgdmVyc2lvbjogbnVsbCxcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNNb2Rlcm4oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgbG9jYWxJbmZvLmlzQ2hyb21lIHx8XG4gICAgICAgIGxvY2FsSW5mby5pc0ZGIHx8XG4gICAgICAgIGxvY2FsSW5mby5pc0VkZ2UgfHxcbiAgICAgICAgbG9jYWxJbmZvLmlzT3BlcmEgfHxcbiAgICAgICAgbG9jYWxJbmZvLmlzSU9TV2ViVmlldyB8fFxuICAgICAgICAobG9jYWxJbmZvLmlzSUUgJiYgZ2V0VmVyc2lvbigpID49IDkpIHx8XG4gICAgICAgIGxvY2FsSW5mby5pc0VkZ2VMZWdhY3kgfHxcbiAgICAgICAgKGxvY2FsSW5mby5pc1NhZmFyaSAmJiBnZXRWZXJzaW9uKCkgPj0gNCkgfHxcbiAgICAgICAgbG9jYWxJbmZvLmlzR29vZ2xlQm90XG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZXJzaW9uKCkge1xuICAgIGlmIChfY2FjaGUudmVyc2lvbikgcmV0dXJuIF9jYWNoZS52ZXJzaW9uO1xuICAgIHRyeSB7XG4gICAgICAgIHZhciB2ZXJzaW9uQXJyYXkgPSB1c2VyQWdlbnQubWF0Y2goLyhvcGVyYXxjaHJvbWV8c2FmYXJpfGZpcmVmb3h8bXNpZXx0cmlkZW50LipydjopXFwvP1xccyooXFwuP1xcZCsoXFwuXFxkKykqKS9pKTtcbiAgICAgICAgaWYgKHZlcnNpb25BcnJheVsyXSkge1xuICAgICAgICAgICAgdmFyIG1ham9yVmVyID0gdmVyc2lvbkFycmF5WzJdLnNwbGl0KCcuJylbMF07XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KG1ham9yVmVyKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9jYWNoZS52ZXJzaW9uID0gcGFyc2VJbnQobWFqb3JWZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgICByZXR1cm4gMDtcbn1cbiIsImltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuaW1wb3J0IHtDb29raWVTdG9yZX0gZnJvbSBcIi4vZ2xvYmFsXCI7XG5cbmV4cG9ydCB0eXBlIFNhbWVTaXRlID0gJ05vbmUnIHwgJ1N0cmljdCcgfCAnTGF4JztcblxuZXhwb3J0IGNsYXNzIENvb2tpZVV0aWxzIHtcblxuICAgIHByaXZhdGUgc3RhdGljIHRlc3RDb29raWVOYW1lID0gJ2dpZzNwY3Rlc3QnO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29va2llU3RvcmU6IENvb2tpZVN0b3JlID0gbmV3IENvb2tpZVN0b3JlKCkpIHsgfVxuXG4gICAgcHVibGljIHNldChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNfaW4/OiBhbnksIGNvb2tpZURvbWFpbj86IHN0cmluZywgZG9udFVzZVJvb3RQYXRoPzogYm9vbGVhbiwgc2FtZVNpdGU/OiBTYW1lU2l0ZSk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmIChjb29raWVEb21haW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgY29va2llRG9tYWluID0gdGhpcy5nZXREZWZhdWx0RG9tYWluKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXRoID0gZG9udFVzZVJvb3RQYXRoID8gJycgOiAnLyc7XG5cbiAgICAgICAgY29uc3QgZXhwaXJlTXMgPSB0aGlzLl9nZXRFeHBpcmF0aW9uSW5NcyhleHBpcmVzX2luKTtcblxuICAgICAgICBsZXQgZXhwaXJlcyA9IG51bGw7XG4gICAgICAgIGlmKGV4cGlyZU1zICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgZXhwaXJlcy5zZXRUaW1lKGV4cGlyZXMuZ2V0VGltZSgpICsgZXhwaXJlTXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvb2tpZUV4aXN0ID0gdGhpcy5fc2V0Q29va2llSW50ZXJuYWwobmFtZSwgdmFsdWUsIHBhdGgsIGV4cGlyZXMsIGNvb2tpZURvbWFpbiwgc2FtZVNpdGUpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZENvb2tpZUV4aXN0ID0gIWV4cGlyZU1zIHx8IGV4cGlyZU1zID4gMDtcblxuICAgICAgICBpZiAoc2hvdWxkQ29va2llRXhpc3QgPT09IGNvb2tpZUV4aXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGZhaWxlZCB0byBzZXQgY29va2llLCByZXRyeTtcbiAgICAgICAgLy8gaXQgbWlnaHQgYmUgYmVjYXVzZSB0aGUgZG9tYWluIGlzIGxpc3RlZCBhcyBUTEQgaHR0cHM6Ly9kYXRhLmlhbmEub3JnL1RMRC90bGRzLWFscGhhLWJ5LWRvbWFpbi50eHRcbiAgICAgICAgY29uc3QgcGFnZURvbWFpbiA9IGxvY2FsSW5mby5wYWdlRG9tYWluO1xuICAgICAgICBjb29raWVFeGlzdCA9IHRoaXMuX3NldENvb2tpZUludGVybmFsKG5hbWUsIHZhbHVlLCBwYXRoLCBleHBpcmVzLCBwYWdlRG9tYWluLCBzYW1lU2l0ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNvb2tpZUV4aXN0ID09PSBzaG91bGRDb29raWVFeGlzdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb29raWVTdG9yZS5nZXRDb29raWUobmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZShuYW1lOiBzdHJpbmcsIGRvbWFpbiA9IGxvY2FsSW5mby5wYWdlRG9tYWluKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUZyb21CYXNlRG9tYWlucyhuYW1lLCBkb21haW4pO1xuICAgICAgICB0aGlzLnNldChuYW1lLCAnJywgLTEsICcnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0KG5hbWUsICcnLCAtMSwgJycsIHRydWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJbmZpbml0ZUV4cGlyYXRpb25UaW1lSW5TZWNvbmRzKCkge1xuICAgICAgICAvLyBTZXQgZXhwaXJhdGlvbiB0aW1lIHRvIDEgeWVhcnNcbiAgICAgICAgcmV0dXJuIDYwICogNjAgKiAyNCAqIDM2NTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FuU2F2ZUNvb2tpZShjb29raWVEb21haW4gPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoQ29va2llVXRpbHMudGVzdENvb2tpZU5hbWUsICd0cnVlJywgMSwgY29va2llRG9tYWluLCBudWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gaU9TIDEwIHdlYnZpZXcgdGhyb3dzIGluIHNvbWUgc2NlbmFyaW9zXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGVmYXVsdERvbWFpbihwYWdlRG9tYWluID0gbG9jYWxJbmZvLnBhZ2VEb21haW4sIGJhc2VEb21haW4gPSBsb2NhbEluZm8uYmFzZURvbWFpbiB8fCAnJyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBiYXNlRG9tYWluLmxlbmd0aCA+IDAgJiYgcGFnZURvbWFpbi5sZW5ndGggPj0gYmFzZURvbWFpbi5sZW5ndGggJiYgcGFnZURvbWFpbi5sYXN0SW5kZXhPZihiYXNlRG9tYWluKSA9PT0gcGFnZURvbWFpbi5sZW5ndGggLSBiYXNlRG9tYWluLmxlbmd0aFxuICAgICAgICAgICAgPyBiYXNlRG9tYWluXG4gICAgICAgICAgICA6IHBhZ2VEb21haW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0RXhwaXJhdGlvbkluTXMoZXhwaXJlc0luOiBhbnkpIHtcblxuICAgICAgICBsZXQgZXhwaXJlTXM6IG51bWJlcjtcbiAgICAgICAgaWYgKGV4cGlyZXNJbiA9PSBudWxsIHx8IGV4cGlyZXNJbiA9PT0gJycgfHwgaXNOYU4oZXhwaXJlc0luKSkge1xuICAgICAgICAgICAgZXhwaXJlTXMgPSAxMDAwICogdGhpcy5nZXRJbmZpbml0ZUV4cGlyYXRpb25UaW1lSW5TZWNvbmRzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhwaXJlc0luID09IDApIHtcbiAgICAgICAgICAgIC8vIDAgbWVhbnMgU2Vzc2lvblxuICAgICAgICAgICAgZXhwaXJlTXMgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQW55IG90aGVyIHZhbHVlIGlzIG51bWJlciBvZiBzZWNvbmRzIChBIG5lZ2F0aXZlIHZhbHVlIHdvdWxkIG1lYW4gZXhwaXJlIG5vdyEpXG4gICAgICAgICAgICBleHBpcmVNcyA9IGV4cGlyZXNJbiAqIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhwaXJlTXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0Q29va2llSW50ZXJuYWwobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGV4cGlyZXM6IERhdGUsIGNvb2tpZURvbWFpbjogc3RyaW5nLCBzYW1lU2l0ZU1vZGUgPSBDb29raWVVdGlscy5fZ2V0U2FtZVNpdGVNb2RlKCkpIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBsb2NhbEluZm8/LnByb3RvY29sID8/IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBjb25zdCBpc1NlY3VyZWQgPSBwcm90b2NvbC5pbmRleE9mKCdodHRwcycpID09PSAwO1xuXG4gICAgICAgIHRoaXMuX2Nvb2tpZVN0b3JlLnNldENvb2tpZShuYW1lLCB2YWx1ZSwge1xuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGV4cGlyZXMsXG4gICAgICAgICAgICBkb21haW46IGNvb2tpZURvbWFpbixcbiAgICAgICAgICAgIHNhbWVTaXRlOiBzYW1lU2l0ZU1vZGUsXG4gICAgICAgICAgICBzZWN1cmU6IGlzU2VjdXJlZFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5nZXQobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzYW1lU2l0ZU1vZGUpIHtcbiAgICAgICAgICAgIC8vaWYgZmFpbGVkIHRvIHdyaXRlIGNvb2tpZSB3aXRob3V0IHNhbWVTaXRlIG1vZGUsIHRoZW4gc3RvcCBoZXJlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2FtZVNpdGVNb2RlICE9PSAnTm9uZScpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZhbGxiYWNrVG9TYW1lU2l0ZU5vbmUobmFtZSwgdmFsdWUsIHBhdGgsIGV4cGlyZXMsIGNvb2tpZURvbWFpbiwgaXNTZWN1cmVkKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0KG5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBvcnRGYWxsYmFjaygnU2V0dGluZyBTYW1lU2l0ZT1Ob25lJywge25hbWUsIHZhbHVlLCBzYW1lU2l0ZU1vZGV9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgZmFpbGVkIHRvIHdyaXRlIGNvb2tpZSB3aXRoIHNhbWVTaXRlIG1vZGUsIHJldHJ5IHdpdGhvdXQ7XG4gICAgICAgIHRoaXMuX2Nvb2tpZVN0b3JlLnNldENvb2tpZShuYW1lLCB2YWx1ZSwge1xuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIGV4cGlyZXMsXG4gICAgICAgICAgICBkb21haW46IGNvb2tpZURvbWFpbixcbiAgICAgICAgICAgIHNlY3VyZTogaXNTZWN1cmVkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmdldChuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVwb3J0RmFsbGJhY2soJ0Nvb2tpZSBlc3RhYmxpc2hlZCBvbmx5IHdpdGhvdXQgc2FtZVNpdGUgbW9kZScsIHtuYW1lLCB2YWx1ZSwgc2FtZVNpdGVNb2RlfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZW1vdmVGcm9tQmFzZURvbWFpbnMobmFtZTogc3RyaW5nLCBkb21haW46IHN0cmluZykge1xuICAgICAgICBjb25zdCBkb21haW5QYXJ0cyA9IGRvbWFpbi5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHdoZW4gY2xlYXJpbmcgZnJvbSBhLmIuYy5kLmNvbSAtLT4gY2xlYXIgZnJvbSBhLmIuYy5kLmNvbSwgYi5jLmQuY29tLCBjLmQuY29tLCBkLmNvbVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvbWFpblBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZG9tYWluID0gZG9tYWluUGFydHMuc2xpY2UoaSkuam9pbignLicpO1xuICAgICAgICAgICAgdGhpcy5zZXQobmFtZSwgJycsIC0xLCBkb21haW4sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0KG5hbWUsICcnLCAtMSwgZG9tYWluLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9nZXRTYW1lU2l0ZU1vZGUoKSA6IFNhbWVTaXRlIHtcbiAgICAgICAgaWYgKCFDb29raWVVdGlscy5fZGlzYWxsb3dTYW1lU2l0ZU1vZGUoKSkgcmV0dXJuICdOb25lJztcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZGlzYWxsb3dTYW1lU2l0ZU1vZGUoKSB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gbG9jYWxJbmZvPy5wcm90b2NvbCA/PyBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgY29uc3QgdWEgPSBsb2NhbEluZm8/LnVzZXJBZ2VudCA/PyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGlzU2VjdXJlZCA9IHByb3RvY29sLmluZGV4T2YoJ2h0dHBzJykgPT09IDA7XG5cbiAgICAgICAgcmV0dXJuICFpc1NlY3VyZWQgfHwgIXVhIHx8XG4gICAgICAgICAgICAvLyBDb3ZlciBhbGwgaU9TIGJhc2VkIGJyb3dzZXJzIGhlcmUuIFRoaXMgaW5jbHVkZXM6XG4gICAgICAgICAgICAvLyAtIFNhZmFyaSBvbiBpT1MgMTIgZm9yIGlQaG9uZSwgaVBvZCBUb3VjaCwgaVBhZFxuICAgICAgICAgICAgLy8gLSBXa1dlYnZpZXcgb24gaU9TIDEyIGZvciBpUGhvbmUsIGlQb2QgVG91Y2gsIGlQYWRcbiAgICAgICAgICAgIC8vIC0gQ2hyb21lIG9uIGlPUyAxMiBmb3IgaVBob25lLCBpUG9kIFRvdWNoLCBpUGFkXG4gICAgICAgICAgICAvLyBBbGwgb2Ygd2hpY2ggYXJlIGJyb2tlbiBieSBTYW1lU2l0ZT1Ob25lLCBiZWNhdXNlIHRoZXkgdXNlIHRoZSBpT1MgbmV0d29ya2luZyBzdGFja1xuICAgICAgICAgICAgKCh1YS5pbmRleE9mKCdDUFUgaVBob25lIE9TIDEyJykgPiAtMSB8fCB1YS5pbmRleE9mKCdpUGFkOyBDUFUgT1MgMTInKSA+IC0xKSB8fFxuICAgICAgICAgICAgICAgIC8vIENvdmVyIE1hYyBPUyBYIGJhc2VkIGJyb3dzZXJzIHRoYXQgdXNlIHRoZSBNYWMgT1MgbmV0d29ya2luZyBzdGFjay4gVGhpcyBpbmNsdWRlczpcbiAgICAgICAgICAgICAgICAvLyAtIFNhZmFyaSBvbiBNYWMgT1MgWC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGRvZXMgbm90IGluY2x1ZGU6XG4gICAgICAgICAgICAgICAgLy8gLSBDaHJvbWUgb24gTWFjIE9TIFhcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoZXkgZG8gbm90IHVzZSB0aGUgTWFjIE9TIG5ldHdvcmtpbmcgc3RhY2suXG4gICAgICAgICAgICAgICAgKHVhLmluZGV4T2YoJ01hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTQnKSA+IC0xICYmIHVhLmluZGV4T2YoJ1ZlcnNpb24vJykgPiAtMSAmJiB1YS5pbmRleE9mKCdTYWZhcmknKSA+IC0xKSB8fFxuICAgICAgICAgICAgICAgIC8vIENvdmVyIENocm9tZSA1MC02OSwgYmVjYXVzZSBzb21lIHZlcnNpb25zIGFyZSBicm9rZW4gYnkgU2FtZVNpdGU9Tm9uZSxcbiAgICAgICAgICAgICAgICAvLyBhbmQgbm9uZSBpbiB0aGlzIHJhbmdlIHJlcXVpcmUgaXQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBjb3ZlcnMgc29tZSBwcmUtQ2hyb21pdW0gRWRnZSB2ZXJzaW9ucyxcbiAgICAgICAgICAgICAgICAvLyBidXQgcHJlLUNocm9taXVtIEVkZ2UgZG9lcyBub3QgcmVxdWlyZSBTYW1lU2l0ZT1Ob25lLlxuICAgICAgICAgICAgICAgICh1YS5pbmRleE9mKCdDaHJvbWUvNScpID4gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lLzYnKSA+IC0xKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmFsbGJhY2tUb1NhbWVTaXRlTm9uZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgZXhwaXJlczogRGF0ZSwgY29va2llRG9tYWluOiBzdHJpbmcsIHNlY3VyZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb29raWVTdG9yZS5zZXRDb29raWUobmFtZSwgdmFsdWUsIHtcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBleHBpcmVzLFxuICAgICAgICAgICAgZG9tYWluOiBjb29raWVEb21haW4sXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ05vbmUnLFxuICAgICAgICAgICAgc2VjdXJlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3JlcG9ydEZhbGxiYWNrKG1lc3NhZ2U6IHN0cmluZywgZGV0YWlsczoge1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICAgIHNhbWVTaXRlTW9kZTogc3RyaW5nO1xuICAgICAgICBpc1N1Y2Nlc3NmdWw/OiBib29sZWFuO1xuICAgICAgICBpc0lmcmFtZT86IGJvb2xlYW47XG4gICAgfSkge1xuICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KGBDb29raWUgUG9saWN5IEZhbGxiYWNrOiAke21lc3NhZ2V9YCwgey4uLmRldGFpbHMsIGlzSWZyYW1lOiB0aGlzLl9pc0lGcmFtZSgpfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHByaXZhdGUgIF9pc0lGcmFtZSgpOiBib29sZWFuIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3c/LmxvY2F0aW9uICE9PSB3aW5kb3c/LnBhcmVudD8ubG9jYXRpb247XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDb29raWVVdGlscygpO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIG5vdygpOiBudW1iZXIge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShzY29wZSwgbWV0aG9kOiBGdW5jdGlvbikge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4gbWV0aG9kLmFwcGx5KHNjb3BlLCBhcmdzKTtcbn1cbiIsImltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xuaW1wb3J0ICogYXMgc3RyaW5nVXRpbHNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc3RyaW5nVXRpbHMnO1xuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQge0ZsYWdTZXJ2aWNlfSBmcm9tICcuLi9TZXJ2aWNlcy9GbGFnU2VydmljZSc7XG5pbXBvcnQgY29va2llIGZyb20gJy4vY29va2llJztcblxuLy8gVE9ETzogbW92ZSB0byBjb25maWdcbmxldCBiYXNlRG9tYWluczogc3RyaW5nW118c3RyaW5nO1xuaWYgKGdpZ3lhLnBhcnRuZXJTZXR0aW5ncz8uYmFzZURvbWFpbnM/Lmxlbmd0aCkge1xuICAgIGJhc2VEb21haW5zID0gZ2lneWEucGFydG5lclNldHRpbmdzLmJhc2VEb21haW5zIGFzIHN0cmluZ1tdfHN0cmluZztcbn0gZWxzZSB7XG4gICAgaWYgKHdpbmRvdy5zZWxmID09PSB3aW5kb3cudG9wKSB7XG4gICAgICAgIC8vIG9ubHkgaW4gdGhlIHRvcCBmcmFtZVxuICAgICAgICBnaWd5YS5sb2dnZXIud2FybignZ2lneWE6IG1pc3NpbmcgYmFzZSBkb21haW5zIGZvciBzaXRlJyk7XG4gICAgfVxuICAgIGJhc2VEb21haW5zID0gW2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lXTtcbn1cbmxvY2FsSW5mby5iYXNlRG9tYWluID0gZ2V0QmFzZURvbWFpbihiYXNlRG9tYWlucyk7XG5leHBvcnQgZGVjbGFyZSB2YXIgZ2V0QXBpRG9tYWluOiAobmFtZXNwYWNlPzogc3RyaW5nKSA9PiBzdHJpbmc7XG5jb25zdCBnaWd5YURvbWFpbk5hbWVzcGFjZXMgPSBbJ3NvY2lhbGl6ZScsICdhY2NvdW50cycsICdmaWRtJywgJ2dtJywgJ2NvbW1lbnRzJywgJ2djcycsICdpZHMnLCAnZHMnLCAnZ3Njb3VudGVycycsICdyZXBvcnRzJ107XG5leHBvcnQgZnVuY3Rpb24gYXBpRG9tYWluRmFjdG9yeShhcGlEb21haW4gPSByZXNvbHZlQXBpRG9tYWluKCksIGRlZmF1bHRBcGlEb21haW4gPSBnaWd5YS5kZWZhdWx0QXBpRG9tYWluKTogKG5hbWVzcGFjZT86IHN0cmluZykgPT4gc3RyaW5nIHtcblxuICAgIGNvbnN0IHNob3VsZEFkZE5hbWVzcGFjZSA9IFVyaS5wYXJzZShhcGlEb21haW4pLmlzSW4oVXJpLnBhcnNlKGRlZmF1bHRBcGlEb21haW4pKTtcblxuICAgIHJldHVybiAobmFtZXNwYWNlPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgJiYgc2hvdWxkQWRkTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBsZXQgc3ViRG9tYWluID0gbmFtZXNwYWNlLnNwbGl0KCcuJylbMF07XG4gICAgICAgICAgICBpZiAoc3ViRG9tYWluID09PSAnc2RrJyB8fCBzdWJEb21haW4gPT09ICdvYXV0aCcpIHtcbiAgICAgICAgICAgICAgICBzdWJEb21haW4gPSAnYWNjb3VudHMnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnaWd5YURvbWFpbk5hbWVzcGFjZXMuaW5kZXhPZihzdWJEb21haW4pID09IC0xKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmVycm9yKGB0cnlpbmcgdG8gc2VuZCByZXF1ZXN0IHRvIGFuIGludmFsaWQgZG9tYWluYCk7XG4gICAgICAgICAgICAgICAgc3ViRG9tYWluID0gZ2lneWFEb21haW5OYW1lc3BhY2VzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYCR7c3ViRG9tYWlufS4ke2FwaURvbWFpbn1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFwaURvbWFpbjtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFEb21haW4obmFtZXNwYWNlPzogc3RyaW5nLCBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlciwgZGVmYXVsdERvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW4pIHtcbiAgICBpZihkZWZhdWx0RG9tYWluID09PSAnc2FwY2RtLmNuJyAmJiBkYXRhQ2VudGVyICE9PSAnY24xJykge1xuICAgICAgICBkZWZhdWx0RG9tYWluID0gYGNuMS4ke2RlZmF1bHREb21haW59YDsgLy9GaXggZm9yIGNuMS1zdDEuIGl0IHNob3VsZCBiZSBjbjEtc3QxLmNuMS5zYXBjZG0uY24gYW5kIG5vdCBjbjEtc3QxLnNhcGNkbS5jblxuICAgIH1cbiAgICBjb25zdCBkb21haW4gPSBgJHtkYXRhQ2VudGVyfS4ke2RlZmF1bHREb21haW59YDtcblxuICAgIGlmIChuYW1lc3BhY2UpIHJldHVybiBgJHtuYW1lc3BhY2V9LiR7ZG9tYWlufWA7XG4gICAgZWxzZSByZXR1cm4gZG9tYWluO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhc2VEb21haW4oXG4gICAgYmFzZURvbWFpbnM6IHN0cmluZ1tdfHN0cmluZyA9IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncy5iYXNlRG9tYWlucyxcbiAgICBjdXJyZW50RG9tYWluID0gbG9jYXRpb24uaG9zdG5hbWUsXG4gICAgZGVmYXVsdERvbWFpbnMgPSBbJ2dpZ3lhLmNvbScsICdjbjEuc2FwY2RtLmNuJywgJ2xvY2FsaG9zdCcsIGdpZ3lhLmRlZmF1bHRBcGlEb21haW5dLFxuKTogc3RyaW5nIHtcbiAgICAvLyAjNDk3ODYgLSBTdXBwb3J0IHdlYnZpZXcgd2l0aG91dCBob3N0bmFtZS5cbiAgICBpZiAoIWN1cnJlbnREb21haW4pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmFzZURvbWFpbnMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgYmFzZURvbWFpbnMgPSBiYXNlRG9tYWlucy5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIGxldCBvcmlnaW5VUkkgPSBVcmkucGFyc2UoY3VycmVudERvbWFpbik7XG5cbiAgICBpZiAoZGVmYXVsdERvbWFpbnMpIHtcbiAgICAgICAgYmFzZURvbWFpbnMgPSBiYXNlRG9tYWlucy5jb25jYXQoZGVmYXVsdERvbWFpbnMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJhd0RvbWFpbiBvZiBiYXNlRG9tYWlucykge1xuICAgICAgICAvLyBUaGlzIGRvZXMgbm90IHRha2UgY2FyZSBvZiB3aWxkY2FyZHMgaW4gdGhlIG1pZGRsZSBvZiBzdHJpbmcuXG4gICAgICAgIGNvbnN0IGJhc2VEb21haW4gPSBzdHJpbmdVdGlsc1V0aWxzLnJlcGxhY2VBbGwocmF3RG9tYWluLCAnKicsICcnKTtcbiAgICAgICAgY29uc3QgYmFzZVVyaSA9IFVyaS5wYXJzZShiYXNlRG9tYWluKTtcbiAgICAgICAgaWYgKGJhc2VVcmkgJiYgb3JpZ2luVVJJLmlzSW4oYmFzZVVyaSkpIHtcbiAgICAgICAgICAgIGlmICghZ2lneWEuXykge1xuICAgICAgICAgICAgICAgIGdpZ3lhLl8gPSB7fSBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnaWd5YS5fLmlzVHJ1c3RlZERvbWFpbj0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChiYXNlVXJpLmlzRm9yU3ViRG9tYWlucygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpblVSSS5kb21haW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVXJpLmRvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZhbGxiYWNrIHRvIHRoZSBwYXJlbnQncyB3aW5kb3cgZG9tYWluIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSkuXG4gICAgcmV0dXJuIG9yaWdpblVSSS5kb21haW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXBpRG9tYWluKFxuICAgIGN1c3RvbUFwaURvbWFpblByZWZpeCA9IGdpZ3lhLnBhcnRuZXJTZXR0aW5ncyAmJiBnaWd5YS5wYXJ0bmVyU2V0dGluZ3MuY3VzdG9tQVBJRG9tYWluUHJlZml4LFxuICAgIGJhc2VEb21haW4gPSBsb2NhbEluZm8uYmFzZURvbWFpbixcbiAgICBkYXRhQ2VudGVyID0gZ2lneWEuZGF0YUNlbnRlcixcbiAgICBkZWZhdWx0QXBpRG9tYWluID0gZ2lneWEuZGVmYXVsdEFwaURvbWFpbixcbikge1xuICAgIGNvbnN0IGFwaURvbWFpbiA9IGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCk7XG4gICAgaWYgKGFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYXBpRG9tYWluO1xuICAgIH1cbiAgICAvLyBUT0RPOiByZW1vdmUgb25jZSBhIHNvbHV0aW9uIHdpbGwgYmUgZm91bmQgZm9yIGhvc3RlZCBwYWdlc1xuICAgIGlmIChiYXNlRG9tYWluLmVuZHNXaXRoKGdpZ3lhLl8uY29uZmlnPy5ob3N0ZWRQYWdlc0RvbWFpbiB8fCAnbXkuZ2lneWEtZXh0LmNvbScpKSB7XG4gICAgICAgIHJldHVybiBiYXNlRG9tYWluO1xuICAgIH1cbiAgICBpZiAoY3VzdG9tQXBpRG9tYWluUHJlZml4ICYmIGJhc2VEb21haW4gJiYgYmFzZURvbWFpbiAhPT0gZGVmYXVsdEFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYCR7Y3VzdG9tQXBpRG9tYWluUHJlZml4fS4ke2Jhc2VEb21haW59YDtcbiAgICB9XG4gICAgcmV0dXJuIGdldEdpZ3lhRG9tYWluKHVuZGVmaW5lZCwgZGF0YUNlbnRlciwgZGVmYXVsdEFwaURvbWFpbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yYWdlRG9tYWluKCkge1xuICAgIGNvbnN0IGFwaURvbWFpbiA9IGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCk7XG4gICAgaWYgKGFwaURvbWFpbikge1xuICAgICAgICByZXR1cm4gYXBpRG9tYWluO1xuICAgIH1cbiAgICBpZiAoZ2lneWEudGhpc1NjcmlwdD8uZ2xvYmFsQ29uZj8uWydzdG9yYWdlRG9tYWluT3ZlcnJpZGUnXSkge1xuICAgICAgICByZXR1cm4gZ2lneWEudGhpc1NjcmlwdC5nbG9iYWxDb25mWydzdG9yYWdlRG9tYWluT3ZlcnJpZGUnXTtcbiAgICB9XG4gICAgaWYgKGdpZ3lhLnRoaXNTY3JpcHQ/LmJhc2VEb21haW4gJiYgRmxhZ1NlcnZpY2UudXNlR2lneWFKc0Jhc2VEb21haW4pIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnRoaXNTY3JpcHQuYmFzZURvbWFpbjtcbiAgICB9XG4gICAgbGV0IGRvbWFpbiA9IGdpZ3lhLmRlZmF1bHRBcGlEb21haW5cbiAgICBpZiAoZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMuZW5kc1dpdGgoZG9tYWluLCAnc2FwY2RtLmNuJykgJiYgZ2lneWEuZGF0YUNlbnRlciAhPT0gJ2NuMScpIHsgLy8gc3BlY2lhbCBjYXNlIHdpdGggY2hpbmEgZG9tYWluIHN0YWdpbmdcbiAgICAgICAgZG9tYWluID0gYGNuMS5zYXBjZG0uY25gO1xuICAgIH1cbiAgICBjb25zdCBwcmVmaXggPSBnaWd5YS5kYXRhQ2VudGVyICE9PSAnZ2xvYmFsJyA/IGBjZG5zLiR7Z2lneWEuZGF0YUNlbnRlcn1gIDogYGNkbnNgO1xuICAgIHJldHVybiBgJHtwcmVmaXh9LiR7ZG9tYWlufWA7XG59XG5cbmZ1bmN0aW9uIGdldEhvc3RlZFBhZ2VzQXBpRG9tYWluQ29va2llKCkge1xuICAgIHJldHVybiBjb29raWUuZ2V0KGBwYWdlc19hcGlEb21haW5fJHtnaWd5YS5hcGlLZXl9YCk7XG59XG4iLCJpbXBvcnQgKiBhcyBET01VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcbmltcG9ydCB7IGdldENkblJlc291cmNlIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQgeyBsb2NhbEluZm8gfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9jYWxJbmZvJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxBc3luYzxUPihtZXRob2ROYW1lOiBzdHJpbmcsIHBhcmFtcyA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KHJlc29sdmUgPT4ge1xuICAgICAgICBjYWxsRnVuY3Rpb24oYGdpZ3lhLiR7bWV0aG9kTmFtZX1gLCBbey4uLnBhcmFtcywgY2FsbGJhY2s6IHJlc29sdmV9XSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxGdW5jdGlvbihuYW1lOiBzdHJpbmcsIGFyUGFyYW1zOiBhbnlbXSk6IHZvaWQge1xuICAgIHZhciBmbiA9IGV2YWwobmFtZSk7XG4gICAgdmFyIGFyUGFydHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgYXJQYXJ0cy5zcGxpY2UoYXJQYXJ0cy5sZW5ndGggLSAxLCAxKTtcbiAgICB2YXIgc2NvcGUgPSBldmFsKGFyUGFydHMuam9pbignLicpKTtcbiAgICBmbi5hcHBseShzY29wZSwgYXJQYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlT25QYWdlTG9hZChmdW5jOiBGdW5jdGlvbiwgY29tcGxldGVPbmx5PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChcbiAgICAgICAgKCFkb2N1bWVudC5yZWFkeVN0YXRlICYmIGRvY3VtZW50LmJvZHkpIHx8XG4gICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHxcbiAgICAgICAgKCFjb21wbGV0ZU9ubHkgJiYgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJyAmJiBkb2N1bWVudC5ib2R5KVxuICAgICkge1xuICAgICAgICBmdW5jKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBmbk9uTG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmbk9uTG9hZCwgMjAwMDApOyAvLyBmYWxsYmFjayAtIHNvbWV0aW1lcyByZWFkeXN0YXRlIHN0YXlzIHN0dWNrIG9uIGludGVyYWN0aXZlXG5cbiAgICAgICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdsb2FkJywgZm5PbkxvYWQpO1xuICAgICAgICBET01VdGlscy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnRE9NQ29udGVudExvYWRlZCcsIGZuT25Mb2FkKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWxpYXMocHVibGljTmFtZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uIHwgeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQge1xuICAgIGNvbnN0IGFyTmFtZVNlZ21lbnRzID0gcHVibGljTmFtZS5zcGxpdCgnLicpO1xuICAgIGxldCBvQ3VycmVudFNlZ21lbnQgPSB3aW5kb3c7XG4gICAgZm9yIChsZXQgaVNlZ21lbnQgPSAwOyBpU2VnbWVudCA8IGFyTmFtZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGlTZWdtZW50KyspIHtcbiAgICAgICAgY29uc3Qgc1NlZ21lbnQgPSBhck5hbWVTZWdtZW50c1tpU2VnbWVudF07XG4gICAgICAgIGlmICghb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSkge1xuICAgICAgICAgICAgb0N1cnJlbnRTZWdtZW50W3NTZWdtZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIG9DdXJyZW50U2VnbWVudCA9IG9DdXJyZW50U2VnbWVudFtzU2VnbWVudF07XG4gICAgfVxuICAgIG9DdXJyZW50U2VnbWVudFthck5hbWVTZWdtZW50c1thck5hbWVTZWdtZW50cy5sZW5ndGggLSAxXV0gPSBmbmM7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZm46ICgpID0+IHZvaWQsIGRlbGF5TWlsbGlzZWNvbmRzOiBudW1iZXIpOiAoKSA9PiB2b2lkIHtcbiAgICBsZXQgdGltZXI6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0sIGRlbGF5TWlsbGlzZWNvbmRzKSBhcyBhbnk7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTcmNUb0lGcmFtZUlmTmVlZGVkKGlmcmFtZTogSFRNTElGcmFtZUVsZW1lbnQsIHNyYzogc3RyaW5nID0gZ2V0Q2RuUmVzb3VyY2UoJy8nKSkge1xuICAgIGlmIChsb2NhbEluZm8uaXNJT1NXZWJWaWV3IHx8IChsb2NhbEluZm8uaXNJT1MgJiYgbG9jYWxJbmZvLmlzV2VDaGF0KSkge1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7Y3JlYXRlQWxpYXN9IGZyb20gXCIuL2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBnaWd5YUNkblJlZ2V4ID0gL1xcL1xcL2NkbihzKT9cXC4ocnUxXFwuKT9naWd5YS5jb20vO1xuY29uc3QgZmlsZU5hbWVzID0gWydnaWd5YS5qcycsICdzb2NpYWxpemUuanMnLCAnc29jaWFsaXplMi5qcycsICdnc2pzc2RrLmpzJ107XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2lneWFTY3JpcHRFbGVtZW50KCk6IEhUTUxTY3JpcHRFbGVtZW50IHtcbiAgICBsZXQgc2NyaXB0RWxlbWVudDogSFRNTFNjcmlwdEVsZW1lbnQ7XG4gICAgY29uc3Qgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICBmb3IgKGxldCBpID0gc2NyaXB0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgc2NyaXB0ID0gc2NyaXB0c1tpXTtcbiAgICAgICAgbGV0IHNyYyA9IHNjcmlwdC5zcmMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHNyYyAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmIChnaWd5YUNkblJlZ2V4LnRlc3Qoc3JjKSB8fCBzcmMuaW5kZXhPZignP2FwaWtleT0nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzRmlsZU5hbWVFeGlzdEluU3JjID0gZmlsZU5hbWVzLmxlbmd0aCA9PT0gMCB8fCBmaWxlTmFtZXMuc29tZShmaWxlTmFtZSA9PiBzcmMuaW5kZXhPZihmaWxlTmFtZSkgPiAtMSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZU5hbWVFeGlzdEluU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQgPSBzY3JpcHQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RWxlbWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNvbmZpZ3VyYXRpb24oY29uZmlnOiBPYmplY3QgPSB7fSkge1xuICAgIGdpZ3lhLmxvZ2dlci5pbmZvKGBnbG9iYWxDb25mIGlzIHVwZGF0ZWRgLCB7XG4gICAgICAgIHVwZGF0ZU9iamVjdDogY29uZmlnXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihnaWd5YS50aGlzU2NyaXB0Lmdsb2JhbENvbmYgfHwge30sIGNvbmZpZyk7XG59XG5cbmNyZWF0ZUFsaWFzKCdnaWd5YS51cGRhdGVDb25maWd1cmF0aW9uJywgdXBkYXRlQ29uZmlndXJhdGlvbik7XG4iLCJleHBvcnQgaW50ZXJmYWNlIElDb29raWVPcHRpb25zIHtcbiAgICBwYXRoPzogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBleHBpcmVzPzogRGF0ZTtcbiAgICBzYW1lU2l0ZT86ICdOb25lJyB8ICdTdHJpY3QnIHwgJ0xheCc7XG4gICAgc2VjdXJlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIENvb2tpZVN0b3JlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3dpbjogV2luZG93ID0gd2luZG93KSB7IH1cblxuICAgIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIG9wdGlvbnM6IElDb29raWVPcHRpb25zKSB7XG4gICAgICAgIGxldCBjb29raWVTdHJpbmcgPSBgJHtuYW1lfT0ke2VzY2FwZSh2YWx1ZSl9YDtcbiAgICAgICAgaWYob3B0aW9ucy5wYXRoKSBjb29raWVTdHJpbmcgKz0gYDsgcGF0aD0ke29wdGlvbnMucGF0aH1gO1xuICAgICAgICBpZihvcHRpb25zLmV4cGlyZXMpIGNvb2tpZVN0cmluZyArPSBgOyBleHBpcmVzPSR7b3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCl9YDtcbiAgICAgICAgaWYob3B0aW9ucy5kb21haW4gJiYgb3B0aW9ucy5kb21haW4uaW5kZXhPZignLicpICE9IC0xKSBjb29raWVTdHJpbmcgKz0gYDsgZG9tYWluPSR7b3B0aW9ucy5kb21haW59YDtcbiAgICAgICAgaWYob3B0aW9ucy5zYW1lU2l0ZSkgY29va2llU3RyaW5nICs9IGA7IHNhbWVTaXRlPSR7b3B0aW9ucy5zYW1lU2l0ZX1gO1xuICAgICAgICBpZihvcHRpb25zLnNlY3VyZSkgY29va2llU3RyaW5nICs9IGA7IHNlY3VyZWA7XG4gICAgICAgIHRoaXMuX3dpbi5kb2N1bWVudC5jb29raWUgPSBjb29raWVTdHJpbmc7XG4gICAgfVxuXG4gICAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKS5yZXBsYWNlKC9eWyBcXHRdK3xbIFxcdF0rJC9nLCAnJyk7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKD86Xnw7KVxcXFxzPycgKyBuYW1lICsgJz0oLio/KSg/Ojt8JCknKTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLl93aW4uZG9jdW1lbnQuY29va2llLm1hdGNoKHJlZ2V4KTtcbiAgICAgICAgcmV0dXJuIG1hdGNoICYmIHVuZXNjYXBlKG1hdGNoWzFdKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNWYWxpZChnbHRleHA6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBnZXRNaWxsaXMoZ2x0ZXhwKSA+IERhdGUubm93KCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TWF4KC4uLmdsdGV4cHM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgICBpZiAoIWdsdGV4cHMgfHwgIWdsdGV4cHMubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBnbHRleHBzLnNvcnQoKGdsdGV4cEEsIGdsdGV4cEIpID0+IGdldE1pbGxpcyhnbHRleHBCKSAtIGdldE1pbGxpcyhnbHRleHBBKSlbMF07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlsbGlzKGdsdEV4cDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuICFnbHRFeHAgPyAwIDogTnVtYmVyKGdsdEV4cC5zdWJzdHIoMCwgZ2x0RXhwLmluZGV4T2YoJ18nKSkpICogMTAwMDtcbn1cbiIsImltcG9ydCBjb29raWVVdGlscyBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Nvb2tpZVwiO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0FycmF5IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzQnJvd3NlciBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvYnJvd3Nlcic7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRGF0ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZGF0ZSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRGVsZWdhdGUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2RlbGVnYXRlJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNET00gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRG9tYWlucyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZG9tYWlucyc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzRnVuY3Rpb25zIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2lneWFTY3JpcHRFbCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzR2x0ZXhwIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9nbHRleHAnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0hUVFAgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0hUVFAnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0pTT04gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc0tleWJvYXJkIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlib2FyZCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzS2V5VmFsdWUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2tleVZhbHVlJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNMb2NhbFN0b3JhZ2UgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzTW91c2UgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL21vdXNlJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNPYmplY3QgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzUXVldWUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNTYW5pdGl6ZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2FuaXRpemUnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1NjcmlwdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvc2NyaXB0JztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNTZXNzaW9uQ2FjaGUgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3Nlc3Npb25DYWNoZSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzTG9jYWxDYWNoZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvbG9jYWxDYWNoZSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzXzEgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1BhcmFtcyc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzU3RyaW5nVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1V0aWxzJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNfMiBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGFiYmFibGUnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1RlbXBsYXRlcyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdGVtcGxhdGVzJztcbmltcG9ydCAqIGFzIEdpZ3lhVXRpbHNVcmkgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL1VyaSc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzVVJMIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1ZhbGlkYXRpb24gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3ZhbGlkYXRpb24nO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1ZpZXdwb3J0IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy92aWV3cG9ydCc7XG5pbXBvcnQgKiBhcyBHaWd5YVV0aWxzV2luIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy93aW4nO1xuaW1wb3J0ICogYXMgR2lneWFVdGlsc1hkIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy94ZCc7XG5pbXBvcnQgV2ViU0RLVG9nZ2xlcyBmcm9tIFwiLi90b2dnbGVzXCI7XG5pbXBvcnQge2NyZWF0ZUFsaWFzfSBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHtnZXRSZXFQYXJhbVZhbHVlfSBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3N0cmluZ1BhcmFtc1wiO1xuaW1wb3J0IEdvb2dsZVJlY2FwdGNoYUxvYWRlciBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3JlY2FwdGNoYVwiO1xuXG5cbmRlY2xhcmUgY29uc3QgZ2lneWE6IGFueTtcblxuaWYgKCFnaWd5YS5fKSB7XG4gICAgZ2lneWEuXyA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscykge1xuICAgIGdpZ3lhLnV0aWxzID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLnRvZ2dsZXMpIHtcbiAgICBnaWd5YS51dGlscy50b2dnbGVzID0gV2ViU0RLVG9nZ2xlcztcbn1cbmlmICghZ2lneWEudXRpbHMuYXJyYXkpIHtcbiAgICBnaWd5YS51dGlscy5hcnJheSA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5icm93c2VyKSB7XG4gICAgZ2lneWEudXRpbHMuYnJvd3NlciA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5jb29raWUpIHtcbiAgICBnaWd5YS51dGlscy5jb29raWUgPSBjb29raWVVdGlscztcbn1cbmlmICghZ2lneWEudXRpbHMuZGF0ZSkge1xuICAgIGdpZ3lhLnV0aWxzLmRhdGUgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuZGVsZWdhdGUpIHtcbiAgICBnaWd5YS51dGlscy5kZWxlZ2F0ZSA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5ET00pIHtcbiAgICBnaWd5YS51dGlscy5ET00gPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuZnVuY3Rpb25zKSB7XG4gICAgZ2lneWEudXRpbHMuZnVuY3Rpb25zID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLmdsdGV4cCkge1xuICAgIGdpZ3lhLnV0aWxzLmdsdGV4cCA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5IVFRQKSB7XG4gICAgZ2lneWEudXRpbHMuSFRUUCA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5KU09OKSB7XG4gICAgZ2lneWEudXRpbHMuSlNPTiA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5rZXlib2FyZCkge1xuICAgIGdpZ3lhLnV0aWxzLmtleWJvYXJkID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLmtleVZhbHVlKSB7XG4gICAgZ2lneWEudXRpbHMua2V5VmFsdWUgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlKSB7XG4gICAgZ2lneWEudXRpbHMubG9jYWxTdG9yYWdlID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLm1vdXNlKSB7XG4gICAgZ2lneWEudXRpbHMubW91c2UgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMub2JqZWN0KSB7XG4gICAgZ2lneWEudXRpbHMub2JqZWN0ID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLnF1ZXVlKSB7XG4gICAgZ2lneWEudXRpbHMucXVldWUgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuc2FuaXRpemUpIHtcbiAgICBnaWd5YS51dGlscy5zYW5pdGl6ZSA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy5zY3JpcHQpIHtcbiAgICBnaWd5YS51dGlscy5zY3JpcHQgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlKSB7XG4gICAgZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLmxvY2FsQ2FjaGUpIHtcbiAgICBnaWd5YS51dGlscy5sb2NhbENhY2hlID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLnN0cmluZ1V0aWxzKSB7XG4gICAgZ2lneWEudXRpbHMuc3RyaW5nVXRpbHMgPSB7fTtcbn1cbmlmICghZ2lneWEudXRpbHMudGVtcGxhdGVzKSB7XG4gICAgZ2lneWEudXRpbHMudGVtcGxhdGVzID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLlVSTCkge1xuICAgIGdpZ3lhLnV0aWxzLlVSTCA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy52YWxpZGF0aW9uKSB7XG4gICAgZ2lneWEudXRpbHMudmFsaWRhdGlvbiA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy52aWV3cG9ydCkge1xuICAgIGdpZ3lhLnV0aWxzLnZpZXdwb3J0ID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLndpbikge1xuICAgIGdpZ3lhLnV0aWxzLndpbiA9IHt9O1xufVxuaWYgKCFnaWd5YS51dGlscy54ZCkge1xuICAgIGdpZ3lhLnV0aWxzLnhkID0ge307XG59XG5pZiAoIWdpZ3lhLnV0aWxzLnJlY2FwdGNoYSkge1xuICAgIGdpZ3lhLnV0aWxzLnJlY2FwdGNoYSA9IEdvb2dsZVJlY2FwdGNoYUxvYWRlcjtcbn1cbk9iamVjdC5hc3NpZ24oZ2lneWEuXywgR2lneWFVdGlsc1VyaSwgR2lneWFVdGlsc0RvbWFpbnMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5hcnJheSwgR2lneWFVdGlsc0FycmF5KTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMuYnJvd3NlciwgR2lneWFVdGlsc0Jyb3dzZXIpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5kYXRlLCBHaWd5YVV0aWxzRGF0ZSk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLmRlbGVnYXRlLCBHaWd5YVV0aWxzRGVsZWdhdGUpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5ET00sIEdpZ3lhVXRpbHNET00pO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5mdW5jdGlvbnMsIEdpZ3lhVXRpbHNGdW5jdGlvbnMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscywgR2lneWFVdGlscywgR2lneWFVdGlsc18xLCBHaWd5YVV0aWxzXzIpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5nbHRleHAsIEdpZ3lhVXRpbHNHbHRleHApO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5IVFRQLCBHaWd5YVV0aWxzSFRUUCk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLkpTT04sIEdpZ3lhVXRpbHNKU09OKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMua2V5Ym9hcmQsIEdpZ3lhVXRpbHNLZXlib2FyZCk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLmtleVZhbHVlLCBHaWd5YVV0aWxzS2V5VmFsdWUpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5sb2NhbFN0b3JhZ2UsIEdpZ3lhVXRpbHNMb2NhbFN0b3JhZ2UpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5tb3VzZSwgR2lneWFVdGlsc01vdXNlKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMub2JqZWN0LCBHaWd5YVV0aWxzT2JqZWN0KTtcbk9iamVjdC5hc3NpZ24oZ2lneWEudXRpbHMucXVldWUsIEdpZ3lhVXRpbHNRdWV1ZSk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLnNhbml0aXplLCBHaWd5YVV0aWxzU2FuaXRpemUpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5zY3JpcHQsIEdpZ3lhVXRpbHNTY3JpcHQpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUsIEdpZ3lhVXRpbHNTZXNzaW9uQ2FjaGUpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5sb2NhbENhY2hlLCBHaWd5YVV0aWxzTG9jYWxDYWNoZSk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLnN0cmluZ1V0aWxzLCBHaWd5YVV0aWxzU3RyaW5nVXRpbHMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy50ZW1wbGF0ZXMsIEdpZ3lhVXRpbHNUZW1wbGF0ZXMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy5VUkwsIEdpZ3lhVXRpbHNVUkwpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy52YWxpZGF0aW9uLCBHaWd5YVV0aWxzVmFsaWRhdGlvbik7XG5PYmplY3QuYXNzaWduKGdpZ3lhLnV0aWxzLnZpZXdwb3J0LCBHaWd5YVV0aWxzVmlld3BvcnQpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy53aW4sIEdpZ3lhVXRpbHNXaW4pO1xuT2JqZWN0LmFzc2lnbihnaWd5YS51dGlscy54ZCwgR2lneWFVdGlsc1hkKTtcblxuY3JlYXRlQWxpYXMoJ2dpZ3lhLmdldFVybFBhcmFtJywgcGFyYW1OYW1lID0+IGdldFJlcVBhcmFtVmFsdWUobG9jYXRpb24uc2VhcmNoLCBwYXJhbU5hbWUpKTtcbiIsImltcG9ydCAqIGFzIFVSTFV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkwnO1xuaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gXCIuLi9TZXJ2aWNlcy9GbGFnU2VydmljZVwiO1xuZGVjbGFyZSBmdW5jdGlvbiB1bmVzY2FwZShlc2NhcGVkU3RyOiBzdHJpbmcpOiBzdHJpbmc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUob0tleVZhbHVlOiBPYmplY3QsIGRlbGltaXRlcj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgYSA9IFtdO1xuICAgIGlmICghZGVsaW1pdGVyKSB7XG4gICAgICAgIGRlbGltaXRlciA9ICcmJztcbiAgICB9XG4gICAgZm9yIChjb25zdCBwIGluIG9LZXlWYWx1ZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBvS2V5VmFsdWVbcF0pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAob0tleVZhbHVlW3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHAgKyAnPScgKyBVUkxVdGlscy5VUkxFbmNvZGUoSlNPTlV0aWxzLnNlcmlhbGl6ZShvS2V5VmFsdWVbcF0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGEucHVzaChwICsgJz0nICsgVVJMVXRpbHMuVVJMRW5jb2RlKG9LZXlWYWx1ZVtwXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHMgPSBhLmpvaW4oZGVsaW1pdGVyKTtcbiAgICByZXR1cm4gcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh1cmxFbmNvZGVkU3RyaW5nOiBzdHJpbmcsIGRlbGltaXRlcj86IHN0cmluZywga2V5c1RvTG93ZXI/OiBib29sZWFuLCB1c2VVbmVzY2FwZT86IGJvb2xlYW4pOiBhbnkge1xuICAgIGNvbnN0IG8gPSB7fTtcbiAgICBpZiAoIXVybEVuY29kZWRTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIGlmICghZGVsaW1pdGVyKSB7XG4gICAgICAgIGRlbGltaXRlciA9ICcmJztcbiAgICB9XG4gICAgY29uc3QgcGFpcnMgPSB1cmxFbmNvZGVkU3RyaW5nLnNwbGl0KGRlbGltaXRlcik7XG4gICAgZm9yIChsZXQgaVBhaXIgPSAwOyBpUGFpciA8IHBhaXJzLmxlbmd0aDsgaVBhaXIrKykge1xuICAgICAgICBjb25zdCBwYWlyID0gcGFpcnNbaVBhaXJdO1xuICAgICAgICBjb25zdCBlcVBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgICAgICBpZiAoZXFQb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzVG9Mb3dlciA/IHBhaXIudG9Mb3dlckNhc2UoKSA6IHBhaXI7XG4gICAgICAgICAgICBvW2tleV0gPSAnMSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFpci5zdWJzdHIoMCwgZXFQb3MpO1xuICAgICAgICAgICAgaWYgKGtleXNUb0xvd2VyKSB7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkVmFsdWUgPSBwYWlyLnN1YnN0cihlcVBvcyArIDEpLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodXNlVW5lc2NhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb1trZXldID0gRmxhZ1NlcnZpY2UudXNlRGVjb2RlVVJJQ29tcG9uZW50ID8gY29tcGFyZVJlc3VsdHNBbmRSZXR1cm5VUkxEZWNvZGUoc2VyaWFsaXplZFZhbHVlKSA6IHVuZXNjYXBlKHNlcmlhbGl6ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb1trZXldID0gVVJMVXRpbHMuVVJMRGVjb2RlKHNlcmlhbGl6ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgIG9ba2V5XSA9IEZsYWdTZXJ2aWNlLnVzZURlY29kZVVSSUNvbXBvbmVudCA/IFVSTFV0aWxzLlVSTERlY29kZShzZXJpYWxpemVkVmFsdWUpIDogdW5lc2NhcGUoc2VyaWFsaXplZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbztcbn1cblxuZnVuY3Rpb24gY29tcGFyZVJlc3VsdHNBbmRSZXR1cm5VUkxEZWNvZGUoc2VyaWFsaXplZFZhbHVlKXtcbiAgICBjb25zdCB1bmVzY2FwZWRSZXN1bHQgPSB1bmVzY2FwZShzZXJpYWxpemVkVmFsdWUpO1xuICAgIGNvbnN0IHVybERlY29kZVJlc3VsdCA9IFVSTFV0aWxzLlVSTERlY29kZShzZXJpYWxpemVkVmFsdWUpO1xuICAgIHVuZXNjYXBlZFJlc3VsdC5sb2NhbGVDb21wYXJlKHVybERlY29kZVJlc3VsdCkgIT09IDAgJiYgZ2lneWEubG9nZ2VyLnJlcG9ydCgndXJsRGVjb2RlciBhbmQgdW5lc2NhcGVkIGhhdmUgZGlmZmVyZW50IHZhbHVlcycsIHtcbiAgICAgICAgdW5lc2NhcGVkUmVzdWx0LFxuICAgICAgICB1cmxEZWNvZGVSZXN1bHRcbiAgICB9KTtcbiAgICByZXR1cm4gdXJsRGVjb2RlUmVzdWx0O1xufVxuIiwiaW1wb3J0ICogYXMgRE9NVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0RPTSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhvdEtleUV2ZW50IHtcbiAgICB1bnN1YnNjcmliZSgpOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBLZXlzIHtcbiAgICBlc2NhcGUgPSAyNyxcbiAgICBiYWNrc3BhY2UgPSA4LFxuICAgIGVudGVyID0gMTMsXG59XG5cbmV4cG9ydCBjb25zdCBrZXlDb2RlcyA9IHtcbiAgICBbS2V5cy5lc2NhcGVdOiAnRXNjYXBlJyxcbiAgICBbS2V5cy5iYWNrc3BhY2VdOiAnQmFja3NwYWNlJyxcbiAgICBbS2V5cy5lbnRlcl06ICdFbnRlcicsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIElIb3RLZXkge1xuICAgIGtleTogS2V5cztcbiAgICBlbGVtZW50Q29udGV4dD86IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25Ib3RLZXlDbGlja2VkKGhvdEtleURhdGE6IElIb3RLZXksIGhhbmRsZXI6ICgpID0+IHZvaWQpOiBJSG90S2V5RXZlbnQge1xuICAgIHJldHVybiBuZXcgSG90S2V5RXZlbnQoaG90S2V5RGF0YSwgaGFuZGxlcik7XG59XG5cbmNsYXNzIEhvdEtleUV2ZW50IGltcGxlbWVudHMgSUhvdEtleUV2ZW50IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVsOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50SGFuZGxlcjogRnVuY3Rpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihob3RLZXlEYXRhLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuZWwgPSBob3RLZXlEYXRhLmVsZW1lbnRDb250ZXh0ID8gaG90S2V5RGF0YS5lbGVtZW50Q29udGV4dCA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBob3RLZXlEYXRhLmtleSB8fCBldmVudC5rZXkgPT09IGtleUNvZGVzW2hvdEtleURhdGEua2V5XSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBET01VdGlscy5hZGRFdmVudExpc3RlbmVyKHRoaXMuZWwsICdrZXl1cCcsIHRoaXMuZXZlbnRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIERPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5lbCwgJ2tleXVwJywgdGhpcy5ldmVudEhhbmRsZXIpXG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCAqIGFzIHF1ZXVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gJy4uL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcblxudmFyIGxvY2FsU3RvcmFnZUVuYWJsZWQ7XG50cnkge1xuICAgIGxvY2FsU3RvcmFnZUVuYWJsZWQgPSBCb29sZWFuKHdpbmRvdy5sb2NhbFN0b3JhZ2UpOyAvLyB3aGVuIDNwYyBibG9ja2VkLCBjaHJvbWUgdGhyb3dzIHdoZW4gdHJ5aW5nIHRvIGFjY2VzcyBsb2NhbCBzdG9yYWdlLlxufSBjYXRjaCAoZXgpIHtcbiAgICBsb2NhbFN0b3JhZ2VFbmFibGVkID0gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0KGtleTogc3RyaW5nLCByZXNwb25zZTogT2JqZWN0KSB7XG4gICAgaWYgKCFsb2NhbFN0b3JhZ2VFbmFibGVkKSByZXR1cm47XG4gICAgbGV0IG9HaWd5YTtcbiAgICB0cnkge1xuICAgICAgICBvR2lneWEgPSBKU09OVXRpbHMuZGVzZXJpYWxpemUod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnaWd5YUNhY2hlJykpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZSA9PSBudWxsICYmIG9HaWd5YVtrZXldKSB7XG4gICAgICAgICAgICBkZWxldGUgb0dpZ3lhW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBvR2lneWFba2V5XSA9IHsgcmVzcG9uc2UsIHRpbWUgfTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdvaWRjIHN0b3JhZ2UgbG9ncyAtIHNldCcsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV1cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSwgRmxhZ1NlcnZpY2UuZm9yY2VFcnJvclJlcG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dpZ3lhQ2FjaGUnLCBKU09OVXRpbHMuc2VyaWFsaXplKG9HaWd5YSkpO1xuICAgIH0gY2F0Y2ggKGV4KSB7fVxuXG4gICAgcXVldWVVdGlscy5yZWxlYXNlKCdjYWNoZScsICdjYWNoZV8nICsga2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXQoa2V5OiBzdHJpbmcsIGNhY2hlVGltZW91dDogbnVtYmVyID0gLTEpOiBPYmplY3Qge1xuICAgIGlmICghbG9jYWxTdG9yYWdlRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoIXF1ZXVlVXRpbHMuaXNBY3RpdmUoJ2NhY2hlXycgKyBrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBzR2lneWFDYWNoZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2lneWFDYWNoZScpO1xuICAgICAgICAgICAgY29uc3Qgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHNHaWd5YUNhY2hlKTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IG9HaWd5YVtrZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlVGltZW91dCA8IDAgfHwgY2FjaGVUaW1lb3V0ICsgY2FjaGVkLnRpbWUgPiBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NhY2hlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ29pZGMgc3RvcmFnZSBsb2dzIC0gZ2V0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVUaW1lOiBjYWNoZWQudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UsIEZsYWdTZXJ2aWNlLmZvcmNlRXJyb3JSZXBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vZXhwaXJlZFxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgICAgIC8vbm90IGNhY2hlZCAoZmlyc3QgdGltZSlcbiAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLmhvbGQoJ2NhY2hlJywgJ2NhY2hlXycgKyBrZXkpOyAvL3NvIHRoYXQgZnV0dXJlIHJlcXVlc3RzIHdpbGwgd2FpdCBmb3IgdGhlIGZpcnN0IG9uZSdzIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy93YWl0IGZvciBmaXJzdCByZXNwb25zZVxuICAgICAgICAgICAgcXVldWVVdGlscy53YWl0Rm9yKCdjYWNoZV8nICsga2V5LCBnZXQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7fVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHNldChrZXksIG51bGwpO1xufVxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCB7IGxvY2FsSW5mbyB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9Mb2NhbEluZm8nO1xuaW1wb3J0IGNvb2tpZVV0aWxzLCB7U2FtZVNpdGV9IGZyb20gJy4vY29va2llJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TG9jYWxTdG9yYWdlQWRhcHRlciB7XG4gICAgcHVibGljIHN0YXRpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0Fic3RyYWN0QWRhcHRlcic7XG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyLCBkb21haW4/OiBzdHJpbmcpOiB2b2lkO1xuXG4gICAgcHVibGljIGFic3RyYWN0IHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0IG9iamVjdCB0byBzdG9yYWdlLlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRPYmplY3Qoa2V5OiBzdHJpbmcsIG86IE9iamVjdCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldEl0ZW0oa2V5LCBKU09OVXRpbHMuc2VyaWFsaXplKG8pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb2JqZWN0IGZyb20gbG9jYWwgc3RvcmFnZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0T2JqZWN0KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBhbnkpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHRoaXMuZ2V0SXRlbShrZXkpLCBkZWZhdWx0VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHBlcnNpc3RlbnQgc3RvcmFnZS4gUmV0dXJucyBmYWxzZSB3aGVuIGRhdGEgaXMgbm90IHBlcnNpc3RlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNQZXJzaXN0ZW50KCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xuICAgIHByb3RlY3RlZCBpc0xvYWRlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzTG9hZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgd2hlbiB0aGVyZSBpcyBpbml0aWFsaXphdGlvbiB0aW1lIG9uIHRoZSBsb2NhbCBzdG9yYWdlIGFkYXB0ZXIuXG4gICAgICovXG4gICAgcHVibGljIHdhaXRGb3JTZXJ2aWNlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy53YWl0Rm9yU2VydmljZShjYWxsYmFjayksIDUwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmFic3RyYWN0IGNsYXNzIFN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBwcm90ZWN0ZWQgc3RvcmFnZTogYW55O1xuXG4gICAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlW2tleV07XG4gICAgfVxuXG4gICAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9XG59XG5jbGFzcyBMb2NhbFN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgU3RvcmFnZUFkYXB0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdMb2NhbFN0b3JhZ2VBZGFwdGVyJztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbG9jYWxJbmZvLnN1cHBvcnRzTG9jYWxTdG9yYWdlO1xuICAgIH1cbn1cbmNsYXNzIFNlc3Npb25TdG9yYWdlQWRhcHRlciBleHRlbmRzIFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gd2luZG93LnNlc3Npb25TdG9yYWdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdTZXNzaW9uU3RvcmFnZUFkYXB0ZXInO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBsb2NhbEluZm8uc3VwcG9ydHNTZXNzaW9uU3RvcmFnZTtcbiAgICB9XG59XG5jbGFzcyBGaXJlZm94U3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBsb2NhbEluZm8uaXNGRiAmJiB3aW5kb3dbJ2dsb2JhbFN0b3JhZ2UnXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnRmlyZWZveFN0b3JhZ2VBZGFwdGVyJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SXRlbShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbJ2dsb2JhbFN0b3JhZ2UnXVtsb2NhdGlvbi5ob3N0bmFtZV1ba2V5XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlc0luPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW5kb3dbJ2dsb2JhbFN0b3JhZ2UnXVtsb2NhdGlvbi5ob3N0bmFtZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlSXRlbShrZXk6IHN0cmluZykge1xuICAgICAgICBkZWxldGUgd2luZG93WydnbG9iYWxTdG9yYWdlJ11bbG9jYXRpb24uaG9zdG5hbWVdW2tleV07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvb2tpZVN0b3JhZ2VBZGFwdGVyIGV4dGVuZHMgQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29va2llVXRpbHMuY2FuU2F2ZUNvb2tpZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdDb29raWVTdG9yYWdlQWRhcHRlcic7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY29va2llVXRpbHMuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlciwgZG9tYWluPzogc3RyaW5nLCBhZGRpdGlvbmFsUGFyYW1zOiB7ZG9udFVzZVJvb3RQYXRoPzogYm9vbGVhbiwgc2FtZVNpdGU/OiBTYW1lU2l0ZX0gPSB7fSk6IHZvaWQge1xuICAgICAgICBjb29raWVVdGlscy5zZXQoa2V5LCB2YWx1ZSwgZXhwaXJlc0luLCBkb21haW4sIGFkZGl0aW9uYWxQYXJhbXMuZG9udFVzZVJvb3RQYXRoLCBhZGRpdGlvbmFsUGFyYW1zLnNhbWVTaXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlSXRlbShrZXk6IHN0cmluZykge1xuICAgICAgICBjb29raWVVdGlscy5yZW1vdmUoa2V5KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWVtb3J5U3RvcmFnZUFkYXB0ZXIgZXh0ZW5kcyBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBtZW1vcnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tZW1vcnkgPSB7fTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnTWVtb3J5U3RvcmFnZUFkYXB0ZXInO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtb3J5W2tleV07XG4gICAgfVxuXG4gICAgcHVibGljIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXNJbj86IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbW9yeVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubWVtb3J5W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgcGVyc2lzdGVudCBzdG9yYWdlLiBSZXR1cm5zIGZhbHNlIHdoZW4gZGF0YSBpcyBub3QgcGVyc2lzdGVkLlxuICAgICAqL1xuICAgIHB1YmxpYyBpc1BlcnNpc3RlbnQoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgYWRhcHRlcnM6IEFycmF5PGFueT4gPSBbXG4gICAgTG9jYWxTdG9yYWdlQWRhcHRlcixcbiAgICBTZXNzaW9uU3RvcmFnZUFkYXB0ZXIsXG4gICAgRmlyZWZveFN0b3JhZ2VBZGFwdGVyLFxuICAgIENvb2tpZVN0b3JhZ2VBZGFwdGVyLFxuICAgIE1lbW9yeVN0b3JhZ2VBZGFwdGVyLFxuXTtcbmV4cG9ydCBjb25zdCBpbnN0YW5jZXM6IHsgW2tleTogc3RyaW5nXTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIH0gPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQWRhcHRlcihhZGFwdGVyOiB7IG5hbWU/OiBzdHJpbmc7IGdldE5hbWU6ICgpID0+IHN0cmluZyB9ICYgKG5ldyAoKSA9PiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIpKSB7XG4gICAgY29uc3QgYWRhcHRlck5hbWUgPSBhZGFwdGVyLmdldE5hbWUoKSB8fCBhZGFwdGVyLm5hbWU7XG4gICAgaWYgKCFpbnN0YW5jZXNbYWRhcHRlck5hbWVdKSB7XG4gICAgICAgIGluc3RhbmNlc1thZGFwdGVyTmFtZV0gPSBuZXcgYWRhcHRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2VzW2FkYXB0ZXJOYW1lXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yU2VydmljZSgpOiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXI7XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvclNlcnZpY2UoY2FsbGJhY2s6IChzdG9yYWdlOiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXIpID0+IHZvaWQpOiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXI7XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvclNlcnZpY2UoY2FsbGJhY2s/OiAoc3RvcmFnZTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyKSA9PiB2b2lkKTogQWJzdHJhY3RMb2NhbFN0b3JhZ2VBZGFwdGVyIHtcbiAgICAvLyBTZWxlY3QgY29tcGF0aWJsZSBhZGFwdGVyLlxuICAgIGxldCBzdG9yYWdlOiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXI7XG4gICAgZm9yIChjb25zdCBhZGFwdGVyIG9mIGFkYXB0ZXJzKSB7XG4gICAgICAgIGlmIChhZGFwdGVyLmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHNlbGVjdCBhZGFwdGVyIGlmIGl0J3MgYXN5bmMgYW5kIGEgY2FsbGJhY2sgd2Fzbid0IHByb3ZpZGVkLlxuICAgICAgICAgICAgaWYgKGFkYXB0ZXIucHJvdG90eXBlIGluc3RhbmNlb2YgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIgJiYgIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0b3JhZ2UgPSBpbml0aWFsaXplQWRhcHRlcihhZGFwdGVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gbWVtb3J5LWJhc2VkIG5vbi1wZXJzaXN0ZW50IHN0b3JhZ2UuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICAgIHN0b3JhZ2UgPSBpbml0aWFsaXplQWRhcHRlcihNZW1vcnlTdG9yYWdlQWRhcHRlcik7XG4gICAgfVxuXG4gICAgLy8gVHJpZ2dlciBjYWxsYmFjayB3aGVuIGFkYXB0ZXIgZmluaXNoZXMgbG9hZGluZyAob3IgaW5zdGFudGx5LCBpZiBub3QgcmVxdWlyZWQgdG8gd2FpdCkuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChzdG9yYWdlIGluc3RhbmNlb2YgQWJzdHJhY3RBc3luY0xvY2FsU3RvcmFnZUFkYXB0ZXIpIHtcbiAgICAgICAgICAgIHN0b3JhZ2Uud2FpdEZvclNlcnZpY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHN0b3JhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhzdG9yYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RvcmFnZTtcbn1cbmNvbnN0IGFkYXB0ZXIgPSB3YWl0Rm9yU2VydmljZSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBhZGFwdGVyLmdldEl0ZW0oa2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBleHBpcmVzSW4/OiBudW1iZXIpOiB2b2lkIHtcbiAgICByZXR1cm4gYWRhcHRlci5zZXRJdGVtKGtleSwgdmFsdWUsIGV4cGlyZXNJbik7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHJldHVybiBhZGFwdGVyLnJlbW92ZUl0ZW0oa2V5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5OiBzdHJpbmcsIG86IE9iamVjdCk6IHZvaWQge1xuICAgIHJldHVybiBhZGFwdGVyLnNldE9iamVjdChrZXksIG8pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdChrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogYW55KTogT2JqZWN0IHtcbiAgICByZXR1cm4gYWRhcHRlci5nZXRPYmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuIiwidmFyIG1vdXNlRXZlbnRPYmplY3QgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc2l0aW9uKCkge1xuICAgIHZhciBwb3N4ID0gMDtcbiAgICB2YXIgcG9zeSA9IDA7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgdmFyIGUgPSBtb3VzZUV2ZW50T2JqZWN0O1xuICAgICAgICBpZiAoIWUpIGUgPSB7IGNsaWVudFg6IDAsIGNsaWVudFk6IDAgfTtcbiAgICAgICAgaWYgKGUucGFnZVggfHwgZS5wYWdlWSkge1xuICAgICAgICAgICAgcG9zeCA9IGUucGFnZVg7XG4gICAgICAgICAgICBwb3N5ID0gZS5wYWdlWTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmNsaWVudFggfHwgZS5jbGllbnRZKSB7XG4gICAgICAgICAgICBwb3N4ID0gZS5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICBwb3N5ID0gZS5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHg6IHBvc3gsIHk6IHBvc3kgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBKU09OVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL0pTT04nO1xuaW1wb3J0IFdlYlNES1RvZ2dsZXMgZnJvbSBcIi4vdG9nZ2xlc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZChvOiBPYmplY3QpOiBPYmplY3Qge1xuICAgIHZhciBvMiA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gbykge1xuICAgICAgICBpZiAob1twXSAhPSBudWxsICYmIG9bcF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvMltwXSA9IG9bcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG8yO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cHJlc3Npb25IZWxwZXIoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEZpZWxkOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICBpZiAoIXBhdGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgcGF0aHMgPSBwYXRoLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNvbnRleHQsXG4gICAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRbcGF0aHNbaV1dID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhdGhzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3BlcnR5QnlTZXJpYWxpemVkTmFtZShvOiBPYmplY3QsIG5hbWU6IHN0cmluZywgY3JlYXRlTWlzc2luZ09iamVjdHM6IGJvb2xlYW4pOiBhbnkge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIG87XG4gICAgdmFyIG9SZXN1bHQgPSBvO1xuICAgIHZhciBhck5hbWVTZWdtZW50cyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICBmb3IgKHZhciBpU2VnbWVudCA9IDA7IGlTZWdtZW50IDwgYXJOYW1lU2VnbWVudHMubGVuZ3RoOyBpU2VnbWVudCsrKSB7XG4gICAgICAgIHZhciBzU2VnbWVudCA9IGFyTmFtZVNlZ21lbnRzW2lTZWdtZW50XTtcbiAgICAgICAgdmFyIHNJbmRleCA9IG51bGw7XG4gICAgICAgIC8vU3VwcG9ydCBmb3IgYXJyYXkgYWNjZXNzLiBpLmUuIFwib2JqLnByb3AxWzBdLnByb3AyXCJcbiAgICAgICAgaWYgKHNTZWdtZW50Lm1hdGNoKC9cXFtbMC05XStdLykpIHtcbiAgICAgICAgICAgIHNJbmRleCA9IE51bWJlcihzU2VnbWVudC5tYXRjaCgvXFxbWzAtOV0rXS8pWzBdLnJlcGxhY2UoL1tcXFtcXF1dL2csICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgc1NlZ21lbnQgPSBzU2VnbWVudC5zcGxpdCgvXFxbWzAtOV0rXS8pLmpvaW4oJycpO1xuICAgICAgICB2YXIgcmVzID0gKHNJbmRleCB8fCBzSW5kZXggPT09IDApICYmIG9SZXN1bHRbc1NlZ21lbnRdID8gb1Jlc3VsdFtzU2VnbWVudF1bc0luZGV4XSA6IG9SZXN1bHRbc1NlZ21lbnRdO1xuICAgICAgICBpZiAoY3JlYXRlTWlzc2luZ09iamVjdHMgJiYgIW9SZXN1bHRbc1NlZ21lbnRdKSB7XG4gICAgICAgICAgICBvUmVzdWx0W3NTZWdtZW50XSA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKGNyZWF0ZU1pc3NpbmdPYmplY3RzICYmICFyZXMgJiYgcmVzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb1Jlc3VsdFtzU2VnbWVudF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzIHx8IHJlcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG9SZXN1bHQgPSByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb1Jlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wZXJ0eUJ5U2VyaWFsaXplZE5hbWUobzogT2JqZWN0LCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICB2YXIgYXJOYW1lU2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgdmFyIHByb3BlcnR5TmFtZSA9IGFyTmFtZVNlZ21lbnRzLnBvcCgpO1xuICAgIGdldFByb3BlcnR5QnlTZXJpYWxpemVkTmFtZShvLCBhck5hbWVTZWdtZW50cy5qb2luKCcuJyksIHRydWUpW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGQob1RhcmdldDogT2JqZWN0LCBvOiBPYmplY3QsIGRvbnRPdmVycmlkZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBmb3IgKHZhciBwIGluIG8pIHtcbiAgICAgICAgaWYgKCFkb250T3ZlcnJpZGUgfHwgdHlwZW9mIG9UYXJnZXRbcF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvVGFyZ2V0W3BdID0gb1twXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRIYXNoKG86IGFueSk6IHN0cmluZyB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgcCBpbiBvKSB7XG4gICAgICAgIHZhciBzO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb1twXSA9PSAnb2JqZWN0JykgcyA9IEpTT05VdGlscy5zZXJpYWxpemUob1twXSwgZmFsc2UpO1xuICAgICAgICBlbHNlIGlmIChvW3BdKSBzID0gb1twXS50b1N0cmluZygpO1xuXG4gICAgICAgIGFyLnB1c2gocCArICc9JyArIHMpO1xuICAgIH1cbiAgICByZXR1cm4gYXIuc29ydCgpLmpvaW4oJyYnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNdXJtdXJIYXNoKGtleTogc3RyaW5nLCBzZWVkPzogbnVtYmVyKSB7XG4gICAgaWYgKCFzZWVkKSBzZWVkID0gMDtcbiAgICB2YXIgcmVtYWluZGVyLCBieXRlcywgaDEsIGgxYiwgYzEsIGMxYiwgYzIsIGMyYiwgazEsIGk7XG5cbiAgICByZW1haW5kZXIgPSBrZXkubGVuZ3RoICYgMzsgLy8ga2V5Lmxlbmd0aCAlIDRcbiAgICBieXRlcyA9IGtleS5sZW5ndGggLSByZW1haW5kZXI7XG4gICAgaDEgPSBzZWVkO1xuICAgIGMxID0gMHhjYzllMmQ1MTtcbiAgICBjMiA9IDB4MWI4NzM1OTM7XG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGJ5dGVzKSB7XG4gICAgICAgIGsxID0gKGtleS5jaGFyQ29kZUF0KGkpICYgMHhmZikgfCAoKGtleS5jaGFyQ29kZUF0KCsraSkgJiAweGZmKSA8PCA4KSB8ICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDE2KSB8ICgoa2V5LmNoYXJDb2RlQXQoKytpKSAmIDB4ZmYpIDw8IDI0KTtcbiAgICAgICAgKytpO1xuXG4gICAgICAgIGsxID0gKChrMSAmIDB4ZmZmZikgKiBjMSArICgoKChrMSA+Pj4gMTYpICogYzEpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcbiAgICAgICAgazEgPSAoazEgPDwgMTUpIHwgKGsxID4+PiAxNyk7XG4gICAgICAgIGsxID0gKChrMSAmIDB4ZmZmZikgKiBjMiArICgoKChrMSA+Pj4gMTYpICogYzIpICYgMHhmZmZmKSA8PCAxNikpICYgMHhmZmZmZmZmZjtcblxuICAgICAgICBoMSBePSBrMTtcbiAgICAgICAgaDEgPSAoaDEgPDwgMTMpIHwgKGgxID4+PiAxOSk7XG4gICAgICAgIGgxYiA9ICgoaDEgJiAweGZmZmYpICogNSArICgoKChoMSA+Pj4gMTYpICogNSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xuICAgICAgICBoMSA9IChoMWIgJiAweGZmZmYpICsgMHg2YjY0ICsgKCgoKGgxYiA+Pj4gMTYpICsgMHhlNjU0KSAmIDB4ZmZmZikgPDwgMTYpO1xuICAgIH1cblxuICAgIGsxID0gMDtcblxuICAgIHN3aXRjaCAocmVtYWluZGVyKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGsxIF49IChrZXkuY2hhckNvZGVBdChpICsgMikgJiAweGZmKSA8PCAxNjtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgazEgXj0gKGtleS5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmYpIDw8IDg7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGsxIF49IGtleS5jaGFyQ29kZUF0KGkpICYgMHhmZjtcblxuICAgICAgICAgICAgazEgPSAoKGsxICYgMHhmZmZmKSAqIGMxICsgKCgoKGsxID4+PiAxNikgKiBjMSkgJiAweGZmZmYpIDw8IDE2KSkgJiAweGZmZmZmZmZmO1xuICAgICAgICAgICAgazEgPSAoazEgPDwgMTUpIHwgKGsxID4+PiAxNyk7XG4gICAgICAgICAgICBrMSA9ICgoazEgJiAweGZmZmYpICogYzIgKyAoKCgoazEgPj4+IDE2KSAqIGMyKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICAgICAgICBoMSBePSBrMTtcbiAgICB9XG5cbiAgICBoMSBePSBrZXkubGVuZ3RoO1xuXG4gICAgaDEgXj0gaDEgPj4+IDE2O1xuICAgIGgxID0gKChoMSAmIDB4ZmZmZikgKiAweDg1ZWJjYTZiICsgKCgoKGgxID4+PiAxNikgKiAweDg1ZWJjYTZiKSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgaDEgXj0gaDEgPj4+IDEzO1xuICAgIGgxID0gKChoMSAmIDB4ZmZmZikgKiAweGMyYjJhZTM1ICsgKCgoKGgxID4+PiAxNikgKiAweGMyYjJhZTM1KSAmIDB4ZmZmZikgPDwgMTYpKSAmIDB4ZmZmZmZmZmY7XG4gICAgaDEgXj0gaDEgPj4+IDE2O1xuXG4gICAgcmV0dXJuIGgxID4+PiAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iajogYW55LCBkZWVwQ29weT86IGJvb2xlYW4sIGlnbm9yZUZ1bmN0aW9ucz86IGJvb2xlYW4sIG1heExldmVsOiBudW1iZXIgPSAyMCwgbGV2ZWw6IG51bWJlciA9IDAsIGlnbm9yZUNvbnRleHQ/OiBib29sZWFuKTogYW55IHtcbiAgICBpZiAob2JqID09PSB3aW5kb3cpIHJldHVybiB3aW5kb3c7IC8vIGRvIG5vdCBjbG9uZSB0aGUgd2luZG93IG9iamVjdFxuICAgIGlmIChsZXZlbCA+IG1heExldmVsKSByZXR1cm4gbnVsbDsgLy8gVG9vIGRlZXBcbiAgICBpZiAodHlwZW9mIG9iaiA9PSAndW5kZWZpbmVkJyB8fCBvYmogPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gV2ViU0RLVG9nZ2xlcy5pc09uKCdyZW1vdmVVbmRlZmluZWRQcm9wZXJ0aWVzJykgPyBvYmogOiBudWxsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nICYmIGlnbm9yZUZ1bmN0aW9ucykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKG9iai5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xuICAgICAgICB2YXIgYXIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghaWdub3JlRnVuY3Rpb25zIHx8IHR5cGVvZiBvYmpbaV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmIChkZWVwQ29weSkge1xuICAgICAgICAgICAgICAgICAgICBhcltpXSA9IGNsb25lKG9ialtpXSwgZGVlcENvcHksIGlnbm9yZUZ1bmN0aW9ucywgbWF4TGV2ZWwsIGxldmVsICsgMSwgaWdub3JlQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJbaV0gPSBvYmpbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIG8gPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChpZ25vcmVDb250ZXh0ICYmIHAgPT0gJ2NvbnRleHQnKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghaWdub3JlRnVuY3Rpb25zIHx8IHR5cGVvZiBvYmpbcF0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmIChkZWVwQ29weSkge1xuICAgICAgICAgICAgICAgICAgICBvW3BdID0gY2xvbmUob2JqW3BdLCBkZWVwQ29weSwgaWdub3JlRnVuY3Rpb25zLCBtYXhMZXZlbCwgbGV2ZWwgKyAxLCBpZ25vcmVDb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvW3BdID0gb2JqW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShhcmdzOiBPYmplY3RbXSwgaXNEZWVwTWVyZ2U/OiBib29sZWFuKTogT2JqZWN0O1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGFyZ3M6IGFueVtdLCBpc0RlZXBNZXJnZT86IGJvb2xlYW4pOiBPYmplY3Qge1xuICAgIHZhciBvID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmdzW2ldICYmIGFyZ3NbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGFyZ3NbaV0ubGVuZ3RoOyB1KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGFyZ3NbaV1bdV0pIHtcbiAgICAgICAgICAgICAgICAgICAgb1twXSA9IGFyZ3NbaV1bdV1bcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTWVyZ2Ugb2JqZWN0cy5cbiAgICAgICAgICAgIGlmICghaXNEZWVwTWVyZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBGbGF0IG1lcmdlLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gYXJnc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBvW3BdID0gYXJnc1tpXVtwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZXAgbWVyZ2UuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBhcmdzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vd2Ugb3ZlcnJpZGUgcHJpbWl0aXZlIC8gYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvW3BdICE9PSAnb2JqZWN0JyB8fCBvW3BdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9bcF0gPSBhcmdzW2ldW3BdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb1twXSA9IG1lcmdlKFtvW3BdLCBhcmdzW2ldW3BdXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG59XG5leHBvcnQgZnVuY3Rpb24gdW5mbGF0dGVuKGRhdGE6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgYm9vbGVhbiB9KTogT2JqZWN0IHtcbiAgICBpZiAoT2JqZWN0KGRhdGEpICE9PSBkYXRhIHx8IEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IHAgaW4gZGF0YSkge1xuICAgICAgICBsZXQgY3VyID0gcmVzdWx0O1xuICAgICAgICBsZXQgcHJvcCA9ICcnO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHAucmVwbGFjZSgvXFxbKFswLTldKV0vLCAnLiQxJykuc3BsaXQoJy4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gIWlzTmFOKE51bWJlcihwYXJ0c1tpXSkpO1xuICAgICAgICAgICAgY3VyID0gY3VyW3Byb3BdIHx8IChjdXJbcHJvcF0gPSBpZHggPyBbXSA6IHt9KTtcbiAgICAgICAgICAgIHByb3AgPSBwYXJ0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICBjdXJbcHJvcF0gPSBkYXRhW3BdO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0WycnXSB8fCB7fTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGRhdGE6IGFueSwgd2l0aEJyYWNrZXQgPSBmYWxzZSk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgYm9vbGVhbiB9IHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmdW5jdGlvbiByZWN1cnNlKGN1cjogYW55LCBwcm9wOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKE9iamVjdChjdXIpICE9PSBjdXIpIHtcbiAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IGN1cjtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGN1cikpIHtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBjdXIubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVzdGVkUHJvcGVydHkgPSB3aXRoQnJhY2tldCA/IGAke3Byb3B9WyR7aX1dYCA6IGAke3Byb3B9LiR7aX1gO1xuICAgICAgICAgICAgICAgIHJlY3Vyc2UoY3VyW2ldLCBwcm9wID8gbmVzdGVkUHJvcGVydHkgOiBTdHJpbmcoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGwgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBjdXIpIHtcbiAgICAgICAgICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVjdXJzZShjdXJbcF0sIHByb3AgPyBgJHtwcm9wfS4ke3B9YCA6IHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRW1wdHkgJiYgcHJvcCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZWN1cnNlKGRhdGEsICcnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQcm9wZXJ0aWVzKHNyYzogYW55LCBkZXN0PzogYW55LCBzY2hlbWE/OiBTdHJpbmcpOiBPYmplY3Qge1xuICAgIGlmIChzcmMgPT0gbnVsbCkgcmV0dXJuO1xuICAgIGlmIChkZXN0ID09IG51bGwpIGRlc3QgPSB7fTtcbiAgICBpZiAoc3JjLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGlTcmMgPSAwOyBpU3JjIDwgc3JjLmxlbmd0aDsgaVNyYysrKSB7XG4gICAgICAgICAgICBleHRyYWN0UHJvcGVydGllcyhzcmNbaVNyY10sIGRlc3QsIHNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNjaGVtYSkge1xuICAgICAgICB2YXIgYXJTY2hlbWEgPSBzY2hlbWEuc3BsaXQoJ3wnKTtcbiAgICAgICAgdmFyIHNyY0xDYXNlID0ge307XG4gICAgICAgIGZvciAodmFyIGZpZWxkTmFtZSBpbiBzcmMpIHtcbiAgICAgICAgICAgIHNyY0xDYXNlW2ZpZWxkTmFtZS50b0xvd2VyQ2FzZSgpXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhclNjaGVtYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpZWxkTmFtZTIgPSBhclNjaGVtYVtpXTtcbiAgICAgICAgICAgIGlmIChzcmNMQ2FzZVtmaWVsZE5hbWUyLnRvTG93ZXJDYXNlKCldKSBkZXN0W2ZpZWxkTmFtZTJdID0gc3JjW2ZpZWxkTmFtZTJdO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVzdCA9IGNsb25lKHNyYywgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UHJvcGVydHkoc3JjOiBhbnksIHBhcmFtTmFtZTogc3RyaW5nKTogYW55IHtcbiAgICB2YXIgcGFyYW1zO1xuICAgIHJldHVybiBleHRyYWN0UHJvcGVydGllcyhzcmMsIHBhcmFtcywgcGFyYW1OYW1lKVtwYXJhbU5hbWVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVG9PYmplY3Qoc3RyOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWRWYWwgPSB3aW5kb3dbJ0pTT04nXS5wYXJzZShzdHIpO1xuICAgICAgICBpZiAodHlwZW9mIHBhcnNlZFZhbCA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFZhbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByb3BlcnRpZXNQcmVmaXgob2JqOiBPYmplY3QgPSB7fSwgcHJlZml4OiBzdHJpbmcgfCBSZWdFeHAgPSAnJykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiAoT2JqZWN0LmFzc2lnbihhY2MsIHtbY3Vyci5yZXBsYWNlKHByZWZpeCwnJyldOiBvYmpbY3Vycl19KSkse30pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcmVmaXhUb1Byb3BlcnRpZXMob2JqOiBPYmplY3QgPSB7fSwgcHJlZml4OiBzdHJpbmcgPSAnJykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKHByZWZpeCkgIT09IDApIHtcbiAgICAgICAgICAgIGFjY1tgJHtwcmVmaXh9JHtrZXl9YF0gPSBvYmpba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdEtleXNUb0xvd2VyQ2FzZShvYmplY3Q6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgLy8gTm9ybWFsaXplIGFsbCBrZXlzIHRvIGxvd2VyY2FzZSBpbiBhZGRpdGlvbiB0byB0aGVpciBvcmlnaW5hbCBjYXNpbmcuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIG9iamVjdFtrZXkudG9Mb3dlckNhc2UoKV0gPSBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlT2JqZWN0S2V5cyhvYmo6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgbGV0IGRlY29kZU9iamVjdEtleXMgPSB7fTtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGxldCBkZWNvZGVkS2V5ID0ga2V5O1xuICAgICAgICB3aGlsZSAoZGVjb2RlZEtleS5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgICAgICBkZWNvZGVkS2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGRlY29kZWRLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGRlY29kZU9iamVjdEtleXNbZGVjb2RlZEtleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZU9iamVjdEtleXM7XG59XG4iLCJpbXBvcnQge0dpZ3lhUmVzcG9uc2V9IGZyb20gJ2dpZ3lhJztcblxuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2lmeTxUIGV4dGVuZHMgR2lneWFSZXNwb25zZT4obWV0aG9kOiBGdW5jdGlvbiwgcGFyYW1zOiBhbnkgPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSkgPT4ge1xuICAgICAgIG1ldGhvZCh7XG4gICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgY2FsbGJhY2s6IHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICB9XG4gICAgICAgfSlcbiAgICB9KTtcbn0iLCJcbnZhciBfcSA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIF9zZXJ2aWNlc1N0YXR1cygpIHtcbiAgICB2YXIgc2VydmljZXMgPSB7fTtcblxuICAgIGZvciAodmFyIHNlcnZpY2UgaW4gX3EpIHtcbiAgICAgICAgdmFyIGFjdGl2ZSA9IGlzQWN0aXZlKHNlcnZpY2UpO1xuXG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VdID0ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3YWl0aW5nRm9yOiBfcVtzZXJ2aWNlXS5pZHMsXG4gICAgICAgICAgICAgICAgcXVldWVkQ291bnQ6IF9xW3NlcnZpY2VdLnEubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcnZpY2VzW3NlcnZpY2VdID0ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcnZpY2VzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWN0aXZlKHNlcnZpY2U6IHN0cmluZykge1xuICAgIGlmICghX3Fbc2VydmljZV0pIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAodmFyIGlkIGluIF9xW3NlcnZpY2VdLmlkcykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoaWQ6IHN0cmluZywgc2VydmljZTogc3RyaW5nKTogdm9pZCB7XG4gICAgZ2lneWEubG9nZ2VyLmRlYnVnKGByZWxlYXNpbmcgJHtzZXJ2aWNlfSBxdWV1ZSBieSAke2lkfWApO1xuICAgIGlmICghX3Fbc2VydmljZV0pIHJldHVybjtcbiAgICBkZWxldGUgX3Fbc2VydmljZV0uaWRzW2lkXTtcbiAgICBpZiAoIWlzQWN0aXZlKHNlcnZpY2UpKSB7XG4gICAgICAgIHZhciBxID0gX3Fbc2VydmljZV0ucTtcbiAgICAgICAgX3Fbc2VydmljZV0ucSA9IFtdO1xuICAgICAgICB3aGlsZSAocS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHEuc3BsaWNlKDAsIDEpWzBdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvLmZ1bmMuYXBwbHkodGhpcywgby5hcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09ICdvYmplY3QnICYmIGNvbnNvbGUubG9nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHaWd5YTogRXhjZXB0aW9uIHdoaWxlIGludm9raW5nIHF1ZXVlZCBtZXRob2QgKCcgKyBzZXJ2aWNlICsgJzogJyArIGlkICsgJyknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmUoc2VydmljZSkpIHtcbiAgICAgICAgICAgICAgICAvL3F1ZXVlIGJlY2FtZSBpbmFjdGl2ZVxuICAgICAgICAgICAgICAgIF9xW3NlcnZpY2VdLnEgPSBxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGhvbGQoaWQ6IHN0cmluZywgc2VydmljZTogc3RyaW5nKTogdm9pZCB7XG4gICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBsb2NraW5nIHF1ZXVlICR7c2VydmljZX0gYnkgJHtpZH1gKTtcblxuICAgIGlmICghX3Fbc2VydmljZV0pIF9xW3NlcnZpY2VdID0geyBxOiBbXSwgaWRzOiB7fSB9O1xuICAgIF9xW3NlcnZpY2VdLmlkc1tpZF0gPSB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3Ioc2VydmljZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uLCBhcmdzOiBhbnlbXSk6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvcihzZXJ2aWNlOiBzdHJpbmcsIGZuYzogRnVuY3Rpb24sIGFyZ3M6IElBcmd1bWVudHMpOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3Ioc2VydmljZTogc3RyaW5nLCBmbmM6IEZ1bmN0aW9uLCBhcmdzOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIV9xW3NlcnZpY2VdKSBfcVtzZXJ2aWNlXSA9IHsgcTogW10sIGlkczoge30gfTtcbiAgICBfcVtzZXJ2aWNlXS5xLnB1c2goeyBmdW5jOiBmbmMsIGFyZ3M6IGFyZ3MgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcXVldWVGb3JFeGVjdXRpb24oc2VydmljZTogc3RyaW5nLCBmdW5jOiBGdW5jdGlvbiwgYXJncz86IGFueVtdKSB7XG4gICAgYXJncyA9IGFyZ3MgfHwgW107XG4gICAgaWYgKGlzQWN0aXZlKHNlcnZpY2UpKSB7XG4gICAgICAgIHdhaXRGb3Ioc2VydmljZSwgZnVuYywgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIFJlQ2FwdGNoYSB7XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVDQVBUQ0hBIHRva2VuLlxuICAgICAqL1xuICAgIGV4ZWN1dGUoc2l0ZUtleT86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPjtcbiAgICByZWFkeShjYWxsYmFjayk7XG4gICAgZW50ZXJwcmlzZTogUmVDYXB0Y2hhO1xufVxuXG5kZWNsYXJlIGxldCBncmVjYXB0Y2hhOiBSZUNhcHRjaGFcbmxldCBnbG9iYWwgPSB3aW5kb3cgYXMgT2JqZWN0O1xuXG5leHBvcnQgY2xhc3MgR29vZ2xlUmVDYXB0Y2hhTG9hZGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBWM19DQVBUQ0hBX1RZUEUgPSAncmVDYXB0Y2hhVjMnO1xuICAgIHByaXZhdGUgc3RhdGljIEVOVEVSUFJJU0VfQ0FQVENIQV9UWVBFID0gJ3JlQ2FwdGNoYUVudGVycHJpc2VTY29yZSc7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBSRUNBUFRDSEFfRE9NQUlOID0gJ3d3dy5yZWNhcHRjaGEubmV0JztcbiAgICBwcml2YXRlIHN0YXRpYyBHT09HTEVfRE9NQUlOID0gJ3d3dy5nb29nbGUuY29tJztcblxuICAgIHByaXZhdGUgc3RhdGljIFJFVFJZX0ZST01fUkVDQVBUQ0hBX1RJTUVPVVQgPSAzICogMTAwMDtcbiAgICBwdWJsaWMgc3RhdGljIGdyZUNhcHRjaGFMb2FkO1xuXG4gICAgcHVibGljIGZvcmNlUmVzZXQoKSB7XG4gICAgICAgIEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5ncmVDYXB0Y2hhTG9hZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SW5zdGFuY2UocGFyYW1zKTogUmVDYXB0Y2hhIHtcbiAgICAgICAgaWYocGFyYW1zPy5pc0VudGVycHJpc2Upe1xuICAgICAgICAgICAgcmV0dXJuIGdyZWNhcHRjaGEuZW50ZXJwcmlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JlY2FwdGNoYTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZChwYXJhbXMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5ncmVDYXB0Y2hhTG9hZDtcbiAgICAgICAgZWxzZSBpZiAoIUdvb2dsZVJlQ2FwdGNoYUxvYWRlci5ncmVDYXB0Y2hhTG9hZCkge1xuICAgICAgICAgICAgbGV0IHRpbWVvdXRJZDtcbiAgICAgICAgICAgIEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5ncmVDYXB0Y2hhTG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkeVJlc29sdmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVhZHlDYWxsYmFjayA9IHRoaXMuZ2V0SW5zdGFuY2UocGFyYW1zKT8ucmVhZHk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSAhPT0gJ3VuZGVmaW5lZCcgJiYgcmVhZHlDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHlDYWxsYmFjayhyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZWxvYWRGcm9tUmVjYXB0Y2hhRG9tYWluID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBMb2FkaW5nIGdvb2dsZSBjYXB0Y2hhIGZyb20gJHtHb29nbGVSZUNhcHRjaGFMb2FkZXIuUkVDQVBUQ0hBX0RPTUFJTn1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKCdBYm9ydGluZy4gR29vZ2xlIGNhcHRjaGEgYWxyZWFkeSBsb2FkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkeVJlc29sdmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtc1snZ29vZ2xlQ2FwdGNoYURvbWFpbiddID09PSBHb29nbGVSZUNhcHRjaGFMb2FkZXIuUkVDQVBUQ0hBX0RPTUFJTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBBYm9ydGluZy4gQWxyZWFkeSB0cmllZCB0byBsb2FkIGZyb20gJHtHb29nbGVSZUNhcHRjaGFMb2FkZXIuUkVDQVBUQ0hBX0RPTUFJTn0gYW5kIGZhaWxlZCdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoYEZhaWxlZCB0byBsb2FkIGdvb2dsZSdzIGNhcHRjaGEgZnJvbSAke0dvb2dsZVJlQ2FwdGNoYUxvYWRlci5SRUNBUFRDSEFfRE9NQUlOfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1snZ29vZ2xlQ2FwdGNoYURvbWFpbiddID0gR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLlJFQ0FQVENIQV9ET01BSU47XG4gICAgICAgICAgICAgICAgICAgIGdpZ3lhLnV0aWxzLnNjcmlwdC5sb2FkKHRoaXMucHJvdmlkZXJVUkwocGFyYW1zKSwgcmVqZWN0LCByZWFkeVJlc29sdmVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQocmVsb2FkRnJvbVJlY2FwdGNoYURvbWFpbiwgR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLlJFVFJZX0ZST01fUkVDQVBUQ0hBX1RJTUVPVVQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tJRCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxbcGFyYW1zLmNhbGxiYWNrSURdID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdsb2JhbFtwYXJhbXMuY2FsbGJhY2tJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZ3JlY2FwdGNoYSAhPT0gJ3VuZGVmaW5lZCcgPyByZWFkeVJlc29sdmVyKCkgOiByZWplY3QoYEVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGdyZWNhcHRjaGFgKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIuZGVidWcoYExvYWRpbmcgZ3JlY2FwdGNoYSBmcm9tICR7dGhpcy5fZG9tYWluKHBhcmFtcyl9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdpZ3lhLnV0aWxzLnNjcmlwdC5sb2FkKHRoaXMucHJvdmlkZXJVUkwocGFyYW1zKSwgcmVsb2FkRnJvbVJlY2FwdGNoYURvbWFpbiwgcmVhZHlSZXNvbHZlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLmdyZUNhcHRjaGFMb2FkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcm92aWRlclVSTChwYXJhbXMpOiBzdHJpbmcge1xuICAgICAgICBsZXQgZmlsZU5hbWUgPSAnYXBpJztcbiAgICAgICAgaWYocGFyYW1zPy5pc0VudGVycHJpc2Upe1xuICAgICAgICAgICAgZmlsZU5hbWUgPSAnZW50ZXJwcmlzZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAvLyR7dGhpcy5fZG9tYWluKHBhcmFtcyl9L3JlY2FwdGNoYS8ke2ZpbGVOYW1lfS5qcz8ke3RoaXMubG9hZFF1ZXJ5UGFyYW1zKHBhcmFtcyl9YDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFF1ZXJ5UGFyYW1zKHBhcmFtcyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBxdWVyeVBhcmFtcyA9ICcnO1xuICAgICAgICBpZiAocGFyYW1zLnR5cGUgPT0gR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLlYzX0NBUFRDSEFfVFlQRSB8fFxuICAgICAgICAgICAgcGFyYW1zLnR5cGUgPT0gR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLkVOVEVSUFJJU0VfQ0FQVENIQV9UWVBFKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcyA9IGByZW5kZXI9JHtwYXJhbXMuc2l0ZUtleX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBgcmVuZGVyPWV4cGxpY2l0YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMuY2FsbGJhY2tJRCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgKz0gYCZvbmxvYWQ9JHtwYXJhbXMuY2FsbGJhY2tJRH1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMubGFuZykge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgKz0gYCZobD0ke3BhcmFtcy5sYW5nfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVlcnlQYXJhbXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZG9tYWluKHBhcmFtcykge1xuICAgICAgICBjb25zdCBpc0NORGF0YUNlbnRlciA9IGdpZ3lhLmRhdGFDZW50ZXIudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjbjEnKSA9PT0gMDtcbiAgICAgICAgcmV0dXJuIHBhcmFtc1snZ29vZ2xlQ2FwdGNoYURvbWFpbiddIHx8IChpc0NORGF0YUNlbnRlciA/IEdvb2dsZVJlQ2FwdGNoYUxvYWRlci5SRUNBUFRDSEFfRE9NQUlOIDogR29vZ2xlUmVDYXB0Y2hhTG9hZGVyLkdPT0dMRV9ET01BSU4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEdvb2dsZVJlQ2FwdGNoYUxvYWRlcigpO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplSFRNTChodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChodG1sID09IG51bGwgfHwgdHlwZW9mIGh0bWwgPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBodG1sO1xuICAgIHJldHVybiBodG1sXG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmIzM4OycpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmIzYwOycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmIzYyOycpXG4gICAgICAgIC5yZXBsYWNlKC9cXFwiL2csICcmIzM0OycpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpXG4gICAgICAgIC5yZXBsYWNlKC8mIzM4OyMxNzM7L2csICcmIzE3MzsnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUF0dHJpYnV0ZShhdHRyaWJ1dGVWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoYXR0cmlidXRlVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgYXR0cmlidXRlVmFsdWUgPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBhdHRyaWJ1dGVWYWx1ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyYjMzg7JylcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyYjNjA7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyYjNjI7JylcbiAgICAgICAgLnJlcGxhY2UoL1xcXCIvZywgJyYjMzQ7JylcbiAgICAgICAgLnJlcGxhY2UoL1xcPS9nLCAnJiM2MTsnKTtcbn1cbiIsImltcG9ydCB7IFVyaSB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmknO1xuaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9hcnJheSc7XG5pbXBvcnQgKiBhcyBmdW5jdGlvbnNVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZnVuY3Rpb25zJztcbmltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xuaW1wb3J0IHsgZ2V0Q2RuUmVzb3VyY2UgfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvY2RuJztcblxuaW50ZXJmYWNlIElTY3JpcHRQZW5kaW5nIHtcbiAgICBsb2FkZWQ6IGJvb2xlYW47XG4gICAgb25Mb2FkOiBGdW5jdGlvbltdO1xuICAgIG9uRXJyb3I6IEZ1bmN0aW9uW107XG59XG52YXIgcGVuZGluZzogeyBbc3JjOiBzdHJpbmddOiBJU2NyaXB0UGVuZGluZyB9ID0ge307XG5mdW5jdGlvbiBhZGRTZGtWZXJzaW9uKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgc2NyaXB0VXJsID0gVXJpLnBhcnNlKHVybCk7XG4gICAgc2NyaXB0VXJsLmFkZFRvU2VhcmNoKHsgdmVyc2lvbjogZ2lneWEuYnVpbGQudmVyc2lvbiB9KTtcbiAgICByZXR1cm4gc2NyaXB0VXJsLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBmb3JtYXRTcmNVcmwoc3JjOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIHJlbW92ZSBjZG4gZG9tYWluIG51bWJlclxuICAgIHJldHVybiBzcmMucmVwbGFjZSgvXmh0dHAocz8pOlxcL1xcL2NkbihzPylbMC05XSouZ2lneWEuY29tXFwvLywgJ2h0dHAkMTovL2NkbiQyLmdpZ3lhLmNvbS8nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvYWRlZChzcmM6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHZhciBwZW5kaW5nU3JjID0gZm9ybWF0U3JjVXJsKHNyYyk7XG5cbiAgICByZXR1cm4gQm9vbGVhbihwZW5kaW5nW3BlbmRpbmdTcmNdICYmIHBlbmRpbmdbcGVuZGluZ1NyY10ubG9hZGVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKFxuICAgIHNyYzogc3RyaW5nLFxuICAgIGZuT25FcnJvcj86ICgpID0+IHZvaWQsXG4gICAgZm5PbkxvYWQ/OiAoKSA9PiB2b2lkLFxuICAgIGxvYWRPbmNlPzogYm9vbGVhbixcbiAgICByZW1vdmVBZnRlcjogbnVtYmVyIHwgYm9vbGVhbiA9IDUwMDAsXG4gICAgdHJlYXRUb2dldGhlcj86IHN0cmluZ1tdLFxuKTogdm9pZCB7XG4gICAgdmFyIG9TY3JpcHQ6IElTY3JpcHRQZW5kaW5nO1xuXG4gICAgaWYgKHNyYy5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgIHNyYyA9IGxvY2FsSW5mby5wcm90b2NvbCArICc6JyArIHNyYztcbiAgICB9XG5cbiAgICBpZiAobG9hZE9uY2UpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdTcmMgPSBmb3JtYXRTcmNVcmwoc3JjKTtcblxuICAgICAgICBpZiAocGVuZGluZ1twZW5kaW5nU3JjXSkge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmdbcGVuZGluZ1NyY10ubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgZ2lneWEubG9nZ2VyLmRlYnVnKGBzY3JpcHQgd2FzIGFscmVhZHkgbG9hZGVkOmAsIHsgc3JjIH0pO1xuICAgICAgICAgICAgICAgIGlmIChmbk9uTG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBmbk9uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1twZW5kaW5nU3JjXS5vbkxvYWQucHVzaChmbk9uTG9hZCk7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1twZW5kaW5nU3JjXS5vbkVycm9yLnB1c2goZm5PbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9TY3JpcHQgPSBwZW5kaW5nW3BlbmRpbmdTcmNdID0geyBsb2FkZWQ6IGZhbHNlLCBvbkxvYWQ6IFtmbk9uTG9hZF0sIG9uRXJyb3I6IFtmbk9uRXJyb3JdIH07XG5cbiAgICAgICAgaWYgKHRyZWF0VG9nZXRoZXIgJiYgdHJlYXRUb2dldGhlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcnJheVV0aWxzLmZvckVhY2godHJlYXRUb2dldGhlciwgdXJsID0+IHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nW3VybF0gPSBvU2NyaXB0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBtdWx0aXBsZSBsb2Fkc1xuICAgICAgICBvU2NyaXB0ID0geyBsb2FkZWQ6IGZhbHNlLCBvbkxvYWQ6IFtmbk9uTG9hZF0sIG9uRXJyb3I6IFtmbk9uRXJyb3JdIH07XG4gICAgfVxuXG4gICAgdmFyIHNjcmlwdExvYWRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgIHNjcmlwdC5jaGFyc2V0ID0gJ1VURi04JztcblxuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZm5PblNjcmlwdExvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgICAgICBpZiAob1NjcmlwdC5vbkxvYWQgJiYgb1NjcmlwdC5vbkxvYWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb1NjcmlwdC5vbkxvYWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb1NjcmlwdC5vbkxvYWRbaV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvU2NyaXB0Lm9uTG9hZFtpXSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb1NjcmlwdC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9TY3JpcHQub25FcnJvciA9IG9TY3JpcHQub25Mb2FkID0gbnVsbDsgLy8gcmVtb3ZlIG1lbW9yeSBsZWFrXG5cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVBZnRlciA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVBZnRlciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCByZW1vdmVBZnRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzY3JpcHQub25sb2FkID0gZm5PblNjcmlwdExvYWQ7XG4gICAgICAgIHNjcmlwdFsnb25yZWFkeXN0YXRlY2hhbmdlJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgZm5PblNjcmlwdExvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvU2NyaXB0Lm9uRXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9TY3JpcHQub25FcnJvcltpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBvU2NyaXB0Lm9uRXJyb3JbaV0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgcGVuZGluZ1tzcmNdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKTtcbiAgICAgICAgaWYgKGhlYWQgJiYgaGVhZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoZWFkWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuU2V0U2NyaXB0U3JjID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2ViU2RrUmVzb3VyY2VzRG9tYWluID0gbmV3IFJlZ0V4cChgXmh0dHBzPzpcXC9cXC9jZG5zPy4qJHtnaWd5YS5kZWZhdWx0QXBpRG9tYWlufVxcLy4qZ2lneWFcXC5qc2ApO1xuICAgICAgICAgICAgY29uc3Qgc2NyaXB0U3JjID0gd2ViU2RrUmVzb3VyY2VzRG9tYWluLnRlc3Qoc3JjKSA/IGFkZFNka1ZlcnNpb24oc3JjKSA6IHNyYztcbiAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBzY3JpcHRTcmM7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChsb2NhbEluZm8uaW9zVmVyc2lvbiA+PSA2KSB7XG4gICAgICAgICAgICAvLyBpT1MgNiBicmVha3Mgc2V0VGltZW91dCB3aGVuIGFuaW1hdGlvbiBpcyBhY3RpdmUgKHN3aXRjaGluZyB0YWJzIGJhY2sgZnJvbSBhIGxvZ2luIHNlcXVlbmNlKVxuICAgICAgICAgICAgZm5TZXRTY3JpcHRTcmMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm5TZXRTY3JpcHRTcmMsIDEpOyAvLyBEb2luZyB0aGlzIGFzeW5jIGdpdmVzIGJldHRlciBwZXJmb3JtYW5jZSBpbiBvbGRlciBicm93c2Vyc1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGlmIChsb2NhbEluZm8uaXNJRSkge1xuICAgICAgICBmdW5jdGlvbnNVdGlscy5pbnZva2VPblBhZ2VMb2FkKHNjcmlwdExvYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2NyaXB0TG9hZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0IGVudW0gUmVzb3VyY2VUeXBlcyB7XG4gICAgc2NyaXB0LFxuICAgIGltYWdlLFxuICAgIGlmcmFtZSxcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyUmVzb3VyY2UodXJsOiBzdHJpbmcsIGNhbGxiYWNrPzogKCkgPT4gdm9pZCwgcmVzb3VyY2VUeXBlID0gUmVzb3VyY2VUeXBlcy5pbWFnZSwgcmVtb3ZlQWZ0ZXI6IG51bWJlciB8IGJvb2xlYW4gPSA1MDAwKSB7XG4gICAgc3dpdGNoIChyZXNvdXJjZVR5cGUpIHtcbiAgICAgICAgY2FzZSBSZXNvdXJjZVR5cGVzLnNjcmlwdDpcbiAgICAgICAgICAgIGxvYWQodXJsLCBjYWxsYmFjaywgY2FsbGJhY2ssIGZhbHNlLCByZW1vdmVBZnRlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBSZXNvdXJjZVR5cGVzLmltYWdlOlxuICAgICAgICAgICAgbG9hZEltYWdlKHVybCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUmVzb3VyY2VUeXBlcy5pZnJhbWU6XG4gICAgICAgICAgICBsb2FkSWZyYW1lKHVybCwgY2FsbGJhY2ssIHJlbW92ZUFmdGVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCByZXNvdXJjZSB0eXBlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZEltYWdlKHVybDogc3RyaW5nLCBjYWxsYmFjaz86IEZ1bmN0aW9uKSB7XG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHZhciBsb2FkZWQgPSBmYWxzZTtcblxuICAgIHZhciBmbk9uTG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IGZuT25Mb2FkO1xuXG4gICAgaW1nLnNyYyA9IHVybDtcbn1cblxuZnVuY3Rpb24gbG9hZElmcmFtZSh1cmw6IHN0cmluZywgY2FsbGJhY2s/OiAoKSA9PiB2b2lkLCByZW1vdmVBZnRlcjogbnVtYmVyIHwgYm9vbGVhbiA9IDUwMDApIHtcbiAgICB2YXIgaWZyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyLnN0eWxlLndpZHRoID0gJzMwcHgnO1xuICAgIGlmci5zdHlsZS5oZWlnaHQgPSAnMTBweCc7XG4gICAgaWZyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBpZnIuc3R5bGUudG9wID0gJy0xMDAwcHgnO1xuICAgIGlmci5zdHlsZS5sZWZ0ID0gJy0xMDAwcHgnO1xuXG4gICAgaWYgKHJlbW92ZUFmdGVyID09PSB0cnVlKSB7XG4gICAgICAgIHJlbW92ZUFmdGVyID0gMDtcbiAgICB9XG5cbiAgICB2YXIgZm5PbkxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlbDtcbiAgICAgICAgaWYgKGUgJiYgZS5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICBlbCA9IGUuc3JjRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChlICYmIGUudGFyZ2V0KSB7XG4gICAgICAgICAgICBlbCA9IGUudGFyZ2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbC5sb2FkZWQgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgZWwubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlQWZ0ZXIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXIgYXMgYW55LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcihpZnIsICdsb2FkJywgZm5PbkxvYWQpO1xuICAgIERPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIoaWZyLCAnZXJyb3InLCBmbk9uTG9hZCk7XG4gICAgaWZyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICBmbk9uTG9hZChlKTtcbiAgICB9O1xuICAgIGlmci5vbmVycm9yID0gZm5PbkxvYWQ7XG5cbiAgICBpZnIuc3JjID0gdXJsO1xuICAgIERPTVV0aWxzLmFwcGVuZFRvQm9keShpZnIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNlcnZpY2Uoc2VydmljZU5hbWU6IHN0cmluZywgZm5PbkVycm9yPzogKCkgPT4gdm9pZCwgZm5PbkxvYWQ/OiAoKSA9PiB2b2lkKSB7XG4gICAgdmFyIHVybCA9IGdldENkblJlc291cmNlKCkgKyAnL2pzL2dpZ3lhLnNlcnZpY2VzLicgKyBzZXJ2aWNlTmFtZSArICcuanMnO1xuICAgIGxvYWQoXG4gICAgICAgIHVybCxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3IgbG9hZGluZyBnaWd5YSBzZXJ2aWNlICcgKyBzZXJ2aWNlTmFtZSArICcgZnJvbSB1cmw6ICcgKyB1cmwpO1xuICAgICAgICAgICAgICAgIGlmIChmbk9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZm5PbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmbk9uTG9hZCxcbiAgICAgICAgdHJ1ZSxcbiAgICApO1xufVxuIiwiaW1wb3J0ICogYXMgSlNPTlV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9KU09OJztcbmltcG9ydCAqIGFzIHF1ZXVlVXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL3F1ZXVlJztcbmltcG9ydCB7RmxhZ1NlcnZpY2V9IGZyb20gJy4uL1NlcnZpY2VzL0ZsYWdTZXJ2aWNlJztcbnZhciBzZXNzaW9uU3RvcmFnZUVuYWJsZWQ7XG50cnkge1xuICAgIHNlc3Npb25TdG9yYWdlRW5hYmxlZCA9IEJvb2xlYW4od2luZG93LnNlc3Npb25TdG9yYWdlKTsgLy8gd2hlbiAzcGMgYmxvY2tlZCwgY2hyb21lIHRocm93cyB3aGVuIHRyeWluZyB0byBhY2Nlc3Mgc2Vzc2lvbiBzdG9yYWdlLlxufSBjYXRjaCAoZXgpIHtcbiAgICBzZXNzaW9uU3RvcmFnZUVuYWJsZWQgPSBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5OiBzdHJpbmcsIHJlc3BvbnNlOiBPYmplY3QpIHtcbiAgICBpZiAoIXNlc3Npb25TdG9yYWdlRW5hYmxlZCkgcmV0dXJuO1xuICAgIHZhciBvR2lneWE7XG4gICAgdHJ5IHtcbiAgICAgICAgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdnaWd5YUNhY2hlJykpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZSA9PSBudWxsICYmIG9HaWd5YVtrZXldKSB7XG4gICAgICAgICAgICBkZWxldGUgb0dpZ3lhW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBvR2lneWFba2V5XSA9IHsgcmVzcG9uc2UsIHRpbWUgfTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICBnaWd5YS5sb2dnZXIucmVwb3J0KCdvaWRjIHN0b3JhZ2UgbG9ncyAtIHNldCcsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV1cbiAgICAgICAgICAgICAgICB9LCBmYWxzZSwgRmxhZ1NlcnZpY2UuZm9yY2VFcnJvclJlcG9ydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZ2lneWFDYWNoZScsIEpTT05VdGlscy5zZXJpYWxpemUob0dpZ3lhKSk7XG4gICAgfSBjYXRjaCAoZXgpIHt9XG5cbiAgICBxdWV1ZVV0aWxzLnJlbGVhc2UoJ2NhY2hlJywgJ2NhY2hlXycgKyBrZXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXk6IHN0cmluZywgY2FjaGVUaW1lb3V0OiBudW1iZXIgPSAtMSk6IE9iamVjdCB7XG4gICAgaWYgKCFzZXNzaW9uU3RvcmFnZUVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFxdWV1ZVV0aWxzLmlzQWN0aXZlKCdjYWNoZV8nICsga2V5KSkge1xuICAgICAgICAgICAgY29uc3Qgc0dpZ3lhQ2FjaGUgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZ2lneWFDYWNoZScpO1xuICAgICAgICAgICAgY29uc3Qgb0dpZ3lhID0gSlNPTlV0aWxzLmRlc2VyaWFsaXplKHNHaWd5YUNhY2hlKTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IG9HaWd5YVtrZXldO1xuICAgICAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlVGltZW91dCA8IDAgfHwgY2FjaGVUaW1lb3V0ICsgY2FjaGVkLnRpbWUgPiBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvL2NhY2hlZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignZ2lnX29pZGNDb250ZXh0XycpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci5yZXBvcnQoJ29pZGMgc3RvcmFnZSBsb2dzIC0gZ2V0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb0dpZ3lhW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVUaW1lOiBjYWNoZWQudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UsIEZsYWdTZXJ2aWNlLmZvcmNlRXJyb3JSZXBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vZXhwaXJlZFxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgICAgIC8vbm90IGNhY2hlZCAoZmlyc3QgdGltZSlcbiAgICAgICAgICAgICAgICBxdWV1ZVV0aWxzLmhvbGQoJ2NhY2hlJywgJ2NhY2hlXycgKyBrZXkpOyAvL3NvIHRoYXQgZnV0dXJlIHJlcXVlc3RzIHdpbGwgd2FpdCBmb3IgdGhlIGZpcnN0IG9uZSdzIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy93YWl0IGZvciBmaXJzdCByZXNwb25zZVxuICAgICAgICAgICAgcXVldWVVdGlscy53YWl0Rm9yKCdjYWNoZV8nICsga2V5LCBnZXQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4KSB7fVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHNldChrZXksIG51bGwpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtVmFsdWUoc3RyOiBzdHJpbmcsIGtleTogc3RyaW5nLCBkZWw6IHN0cmluZyA9ICcmJyk6IHN0cmluZyB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTkyMDY5Ny9ob3ctdG8tZ2V0LWhhc2gtdmFsdWUtaW4tYS11cmwtaW4tanNcbiAgICBjb25zdCBtYXRjaGVzID0gc3RyLm1hdGNoKG5ldyBSZWdFeHAoYCR7a2V5fT0oW14ke2RlbH1dKilgKSk7XG4gICAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXFQYXJhbVZhbHVlKHN0cjogc3RyaW5nLCBrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gZ2V0UGFyYW1WYWx1ZShzdHIsIGtleSk7XG4gICAgcmV0dXJuIHZhbCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogbnVsbDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0cmltKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXlxccyooXFxTKiguKlxcUyk/KVxccyokLywgJyQxJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHM6IHN0cmluZywgLi4ucmVzdDogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2kgKyAxXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzID0gcy5zcGxpdCgneycgKyBpICsgJ30nKS5qb2luKGFyZ3VtZW50c1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcy5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHMuc3Vic3RyaW5nKDEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHM6IHN0cmluZywgc3VmZml4OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcy5pbmRleE9mKHN1ZmZpeCwgcy5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP149IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VBbGwoc3RyOiBzdHJpbmcsIGZpbmQ6IHN0cmluZywgcmVwbGFjZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWZpbmQpIHJldHVybiBzdHI7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnRXhwKGZpbmQpLCAnZycpLCByZXBsYWNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ29tbWFTZXBhcmF0ZWRWYWx1ZXMoc3RyMTogc3RyaW5nID0gJycsIHN0cjI6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcbiAgICBjb25zdCBhcnIgPSBzdHIxLmNvbmNhdCgnLCcsIHN0cjIpLnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIGdpZ3lhLnV0aWxzLmFycmF5LmdldFVuaXF1ZVZhbHVlcyhhcnIpLmZpbHRlcih4ID0+IHgpLmpvaW4oJywnKTtcbn1cbiIsImltcG9ydCAqIGFzIERPTVV0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9ET00nO1xuXG5leHBvcnQgY2xhc3MgVGFiYmFibGUge1xuICAgIHByb3RlY3RlZCBzdGF0aWMgc2VsZjogVGFiYmFibGU7XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIG5hdHVyYWxUYWJPcmRlciA9ICdkYXRhLW5hdHVyYWwtdGFiLW9yZGVyJztcblxuICAgIHByb3RlY3RlZCBzdGF0aWMgc2VsZWN0b3IgPSBbJ2E6bm90KFtkaXNhYmxlZF0pJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywgJ1t0YWJpbmRleF06bm90KFtkaXNhYmxlZF0pJ10uam9pbignLCcpO1xuXG4gICAgcHJvdGVjdGVkIGJpbmRpbmdzOiBBcnJheTx7IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IGxpc3RlbmVyOiBFdmVudExpc3RlbmVyIH0+ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBEbyBub3QgdXNlIC0gYWNjZXNzIHZpYSBgZ2lneWEudXRpbHMudGFiYmFibGVgLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICAvKipcbiAgICAgKiBEbyBub3QgdXNlIC0gYWNjZXNzIHZpYSBgZ2lneWEudXRpbHMudGFiYmFibGVgLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFUYWJiYWJsZS5zZWxmKSB7XG4gICAgICAgICAgICBUYWJiYWJsZS5zZWxmID0gbmV3IFRhYmJhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhYmJhYmxlLnNlbGY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiBib3VuZCwgdGhlIHVzZXIgd2lsbCBoYXZlIHRoZWlyIHRhYiBmb2N1c2VkIGxvY2tlZCBpbnRvIHRoZSBjb250YWluZXIgd2hpbGUgdGhlaXIgZm9jdXMgaXMgb24gYW4gZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogLSBIaXR0aW5nIHRhYiB3aGlsZSBmb2N1c2VkIG9uIHRoZSBsYXN0IHRhYmJhYmxlIGVsZW1lbnQgd2lsbCBzZXQgZm9jdXMgdG8gdGhlIGZpcnN0IHRhYmJhYmxlIGVsZW1lbnQuXG4gICAgICogLSBIaXR0aW5nIHNoaWZ0K3RhYiB3aGlsZSBmb2N1c2VkIG9uIHRoZSBmaXJzdCBlbGVtZW50IHdpbGwgc2V0IGZvY3VzIHRvIHRoZSBsYXN0IHRhYmJhYmxlIGVsZW1lbnQuXG4gICAgICovXG4gICAgYmluZFRhYkxvb3BpbmcoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZmlsdGVyU2VsZWN0b3I/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgLy8gRG9uJ3QgYmluZCB0d2ljZSB3aGVuIHNjcmVlbi1zZXRzIG1vdmUgYmV0d2VlbiBzY3JlZW5zLlxuICAgICAgICBpZiAodGhpcy5nZXRMaXN0ZW5lckJ5Q29udGFpbmVyKGNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGhpcy5jcmVhdGVMaXN0ZW5lcihjb250YWluZXIsIGZpbHRlclNlbGVjdG9yKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZSBuYXR1cmFsIHRhYmJpbmcgYmVoYXZpb3IuXG4gICAgICovXG4gICAgdW5iaW5kVGFiTG9vcGluZyhjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGhpcy5nZXRMaXN0ZW5lckJ5Q29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc29ydGVkIGxpc3Qgb2YgdGFiYmFibGUgZWxlbWVudHMuXG4gICAgICovXG4gICAgZ2V0U29ydGVkVGFiYmFibGVFbGVtZW50cyhjb250YWluZXI6IEVsZW1lbnQsIGZpbHRlclNlbGVjdG9yPzogc3RyaW5nKTogQXJyYXk8SFRNTEVsZW1lbnQ+IHtcbiAgICAgICAgbGV0IHRhYkluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCBlbHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChUYWJiYWJsZS5zZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHRhYmJhYmxlOiBBcnJheTxIVE1MRWxlbWVudD4gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsc1tpXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVGFiYmFibGUoZWxlbWVudCwgZmlsdGVyU2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IHRvIHRyYWNrIG5hdHVyYWwgc29ydCBvcmRlciBmb3Igc3RhYmxlIHNvcnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoVGFiYmFibGUubmF0dXJhbFRhYk9yZGVyLCBTdHJpbmcodGFiSW5kZXgpKTtcbiAgICAgICAgICAgICAgICB0YWJJbmRleCsrO1xuICAgICAgICAgICAgICAgIHRhYmJhYmxlLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0YWJiYWJsZS5zb3J0KChhLCBiKSA9PiB0aGlzLnNvcnQoYSwgYikpO1xuICAgICAgICByZXR1cm4gdGFiYmFibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCB0cmFjayBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY3JlYXRlTGlzdGVuZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZmlsdGVyU2VsZWN0b3I/OiBzdHJpbmcpOiBFdmVudExpc3RlbmVyIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gVGFiIGtleSBoaXQgYW5kIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBlbGVtZW50IGlzIGluIHRoZSBjb250YWluZXIgd2UgY2FyZSBhYm91dC5cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiBjb250YWluZXIuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGtleSB0aGUgbmV4dCBlbGVtZW50LiBTaGlmdCBrZXkgcmV2ZXJzZXMgdGFiIG9yZGVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gIWUuc2hpZnRLZXlcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldE5leHRUYWJiYWJsZUVsZW1lbnQoY29udGFpbmVyLCBhY3RpdmVFbGVtZW50LCBmaWx0ZXJTZWxlY3RvcilcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFByZXZpb3VzVGFiYmFibGVFbGVtZW50KGNvbnRhaW5lciwgYWN0aXZlRWxlbWVudCwgZmlsdGVyU2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCBkZWZhdWx0IHN1Ym1pdCBldmVudCBvbmx5IGlmIG5leHQgZWxlbWVudCBpbiBsaW5lIGNvdWxkIGJlIGZvdW5kLlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBmb2N1cyBpcyBzZXQgb24gYW4gdW50YWJiYWJsZSBlbGVtZW50cywgdGhlIHRhYiBrZXlwcmVzcyB3aWxsIGFsd2F5cyBiZSBoYW5kbGVkIG5hdGl2ZWx5LlxuICAgICAgICAgICAgICAgICAgICBET01VdGlscy5jYW5jZWxFdmVudChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmluZGluZ3MucHVzaCh7IGNvbnRhaW5lciwgbGlzdGVuZXIgfSk7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgb3V0IGVsZW1lbnRzIHRoYXQgYXJlbid0IHRhYmJhYmxlLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc1RhYmJhYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcj86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBtYXRjaGVzOiB0eXBlb2YgZWxlbWVudC5tYXRjaGVzID0gZWxlbWVudC5tYXRjaGVzIHx8IGVsZW1lbnRbJ21zTWF0Y2hlc1NlbGVjdG9yJ107XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBlbGVtZW50LnRhYkluZGV4ICE9PSAtMSAmJiAvLyBFeGNsdWRlZCBmcm9tIHRhYiBvcmRlci5cbiAgICAgICAgICAgIChlbGVtZW50Lm9mZnNldFdpZHRoID4gMCB8fCBlbGVtZW50Lm9mZnNldEhlaWdodCA+IDApICYmIC8vIElzIHZpc2libGUuXG4gICAgICAgICAgICAoIWZpbHRlclNlbGVjdG9yIHx8IG1hdGNoZXMuY2FsbChlbGVtZW50LCBmaWx0ZXJTZWxlY3RvcikpXG4gICAgICAgICk7IC8vIElzIGluIGZpbHRlcmVkIHNldCBvZiBlbGVtZW50cy5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbmV4dCB0YWJiYWJsZSBlbGVtZW50LCBsb29waW5nIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyB1bmRlZmluZWQgaWYgdGhlIGN1cnJlbnQgZWxlbWVudCBpc24ndCBpbiB0aGUgbGlzdCBvZiB0YWJiYWJsZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0TmV4dFRhYmJhYmxlRWxlbWVudChjb250YWluZXI6IEhUTUxFbGVtZW50LCBjdXJyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIGZpbHRlclNlbGVjdG9yPzogc3RyaW5nKTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBlbHMgPSB0aGlzLmdldFNvcnRlZFRhYmJhYmxlRWxlbWVudHMoY29udGFpbmVyLCBmaWx0ZXJTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGVscy5pbmRleE9mKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IGVsZW1lbnQgd2Fzbid0IGZvdW5kIGluIHRoZSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzLlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggIT09IGVscy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAvLyBOZXh0IGVsZW1lbnQgaW4gbGlzdC5cbiAgICAgICAgICAgIHJldHVybiBlbHNbY3VycmVudEluZGV4ICsgMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBMYXN0IGVsZW1lbnQgcmVhY2hlZCwgbG9vcCBiYWNrIHRvIGZpcnN0LlxuICAgICAgICAgICAgcmV0dXJuIGVsc1swXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwcmV2aW91cyB0YWJiYWJsZSBlbGVtZW50LCBsb29waW5nIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyB1bmRlZmluZWQgaWYgdGhlIGN1cnJlbnQgZWxlbWVudCBpc24ndCBpbiB0aGUgbGlzdCBvZiB0YWJiYWJsZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0UHJldmlvdXNUYWJiYWJsZUVsZW1lbnQoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY3VycmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmaWx0ZXJTZWxlY3Rvcj86IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZWxzID0gdGhpcy5nZXRTb3J0ZWRUYWJiYWJsZUVsZW1lbnRzKGNvbnRhaW5lciwgZmlsdGVyU2VsZWN0b3IpO1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBlbHMuaW5kZXhPZihjdXJyZW50RWxlbWVudCk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBUaGUgY3VycmVudCBlbGVtZW50IHdhc24ndCBmb3VuZCBpbiB0aGUgbGlzdCBvZiB0YWJiYWJsZSBlbGVtZW50cy5cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBQcmV2aW91cyBlbGVtZW50IGluIGxpc3QuXG4gICAgICAgICAgICByZXR1cm4gZWxzW2N1cnJlbnRJbmRleCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmlyc3QgZWxlbWVudCByZWFjaGVkLCBsb29wIGJhY2sgdG8gbGFzdC5cbiAgICAgICAgICAgIHJldHVybiBlbHNbZWxzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29ydCBhbGdvcml0aG0gdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgdGhlIHRhYiBpbmRleCBhbmQgbmF0dXJhbCBzb3J0IG9yZGVyIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBOT1RFOlxuICAgICAqIE5vdCBhbGwgYnJvd3NlcnMgaW1wbGVtZW50IHN0YWJsZSBzb3J0aW5nLiBTcGVjaWZpY2FsbHkgQ2hyb21lJ3Mgc29ydCBpcyBOT1Qgc3RhYmxlLlxuICAgICAqIEEgc29ydGluZyBhbGdvcml0aG0gaXMgXCJzdGFibGVcIiB3aGVuIHR3byBvYmplY3RzIHdpdGggZXF1YWwga2V5cyBhcHBlYXIgaW4gdGhlIHNhbWUgb3JkZXIgYWZ0ZXIgYmVpbmcgc29ydGVkLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBzb3J0KGE6IEhUTUxFbGVtZW50LCBiOiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4RGlmZiA9IHRoaXMuZ2V0VGFiSW5kZXgoYSkgLSB0aGlzLmdldFRhYkluZGV4KGIpO1xuICAgICAgICBpZiAodGFiSW5kZXhEaWZmICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFiSW5kZXhEaWZmO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIoYS5nZXRBdHRyaWJ1dGUoVGFiYmFibGUubmF0dXJhbFRhYk9yZGVyKSkgLSBOdW1iZXIoYi5nZXRBdHRyaWJ1dGUoVGFiYmFibGUubmF0dXJhbFRhYk9yZGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWxlbWVudHMgd2l0aCBhIHRhYiBpbmRleCBvZiAwIHNob3VsZCBhcHBlYXIgYWZ0ZXIgYWxsIGVsZW1lbnRzIHdpdGggYSB0YWIgaW5kZXguXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFRhYkluZGV4KGVsOiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBlbC50YWJJbmRleCA9PT0gMCA/IDk5OTk5OTk5IDogZWwudGFiSW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBieSBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0TGlzdGVuZXJCeUNvbnRhaW5lcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiB0aGlzLmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoYmluZGluZy5jb250YWluZXIgPT09IGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kaW5nLmxpc3RlbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IHRhYmJhYmxlID0gVGFiYmFibGUuZ2V0SW5zdGFuY2UoKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBmaWxsKHRlbXBsYXRlOiBGdW5jdGlvbiwgb1BsYWNlaG9sZGVyczogYW55KTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGwodGVtcGxhdGU6IHN0cmluZywgb1BsYWNlaG9sZGVyczogYW55KTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGwodGVtcGxhdGU6IGFueSwgbzogYW55KTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZShvKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5qb2luKCcnKTtcbiAgICB9XG4gICAgdmFyIHAgPSAvKFxcJCkoIT8pKFthLXpfXVthLXpfLlxcZF0qKShbKF1bXigpXSpbKV0pP3woXFwkKSghPylcXHsoW2Etel9dW2Etel8uXFxkXSopKFsoXVteKCldKlspXSk/XFx9L2dpO1xuICAgIHAubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgcmVzID0gdGVtcGxhdGU7XG4gICAgdmFyIG1hdGNoZXMgPSBwLmV4ZWMocmVzKTtcbiAgICB2YXIgb2Zmc2V0O1xuICAgIHdoaWxlIChtYXRjaGVzICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG1hdGNoZXNbMV0gPT0gJyQnKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gNDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxuRG9udEluamVjdCA9IG1hdGNoZXNbMiArIG9mZnNldF0gPT0gJyEnO1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9IG1hdGNoZXNbMyArIG9mZnNldF07IC8vIDAgaXMgdGhlIGVudGlyZSBleHByIGFuZCAxLzU9JCAyLzY9ISAzLzc9aWRlbnRpZmllciA0Lzg9KCknc1xuICAgICAgICB2YXIgcGFyYSA9IG1hdGNoZXNbNCArIG9mZnNldF07XG4gICAgICAgIGlmIChwYXJhID09IG51bGwpIHBhcmEgPSAnJztcblxuICAgICAgICB2YXIgZGJnID0gMDtcbiAgICAgICAgaWYgKGlkZW50aWZpZXIuc3Vic3RyaW5nKDAsIDEpID09ICcuJykge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZGVudGlmaWVyLnN1YnN0cmluZygwLCAzKSA9PSAnREJHJykge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIuc3Vic3RyaW5nKDMpO1xuICAgICAgICAgICAgZGJnID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmVUZW1wID0gJyc7XG4gICAgICAgIHZhciBwb3N0VGVtcCA9IGlkZW50aWZpZXIgKyBwYXJhO1xuICAgICAgICB3aGlsZSAocG9zdFRlbXAgIT0gcHJlVGVtcCkge1xuICAgICAgICAgICAgcHJlVGVtcCA9IHBvc3RUZW1wO1xuXG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gcC5sYXN0SW5kZXg7XG4gICAgICAgICAgICBwb3N0VGVtcCA9IGZpbGwocHJlVGVtcCwgbyk7XG4gICAgICAgICAgICBwLmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ID0gJyc7XG4gICAgICAgIHZhciBza2lwQ2hhcnMgPSAwO1xuICAgICAgICBpZiAob1tpZGVudGlmaWVyLnNwbGl0KCcuJylbMF1dICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdiA9IG5ldyBGdW5jdGlvbignbycsICdwJywgJ3JldHVybiBldmFsKFwiby5cIiArIHApJykobywgcG9zdFRlbXApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHYgPSAnJCcgKyAoYmxuRG9udEluamVjdCA/ICchJyA6ICcnKSArIHBvc3RUZW1wO1xuICAgICAgICAgICAgc2tpcENoYXJzID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChibG5Eb250SW5qZWN0KSB7XG4gICAgICAgICAgICByZXMgPSByZXMucmVwbGFjZShtYXRjaGVzWzBdLCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSByZXMuc3Vic3RyKDAsIG1hdGNoZXMuaW5kZXgpICsgdiArIHJlcy5zdWJzdHIobWF0Y2hlcy5pbmRleCArIG1hdGNoZXNbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIC8vcmVzPXJlcy5zcGxpdChtYXRjaGVzWzBdKS5qb2luKHYpO1xuICAgICAgICB9XG4gICAgICAgIHAubGFzdEluZGV4ID0gbWF0Y2hlcy5pbmRleCArIHNraXBDaGFyczsgLy8gdG8gYWxsb3cgcmVjdXJzaXZlIGNoYW5nZXMgaW4gdGVtcGxhdGVzIHRoYXQgY29udGFpbiB0ZW1wbGF0ZXMuXG4gICAgICAgIG1hdGNoZXMgPSBwLmV4ZWMocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbiIsImltcG9ydCAqIGFzIG9iamVjdFV0aWxzIGZyb20gJy4vb2JqZWN0JztcblxuY2xhc3MgV2ViU0RLVG9nZ2xlcyB7XG4gICAgaGFzKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fdG9nZ2xlc1trZXldICE9ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIGdldDxUID0gYW55PihrZXk6IHN0cmluZyk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlc1trZXldIGFzIFQ7XG4gICAgfVxuXG4gICAgaXNPbihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiB0aGlzLmdldChrZXkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IF90b2dnbGVzKCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0VXRpbHMubWVyZ2UoW1xuICAgICAgICAgICAgdGhpcy5fZ2xvYmFsQ29uZlRvZ2dsZXMsXG4gICAgICAgICAgICB0aGlzLl93ZWJTZGtDb25maWdUb2dnbGVzXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IF9nbG9iYWxDb25mVG9nZ2xlcygpIHtcbiAgICAgICAgcmV0dXJuIGdpZ3lhLnRoaXNTY3JpcHQ/Lmdsb2JhbENvbmY/LnRvZ2dsZXMgfHwge307XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgX3dlYlNka0NvbmZpZ1RvZ2dsZXMoKSB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZXMgPSBnaWd5YS5fPy5jb25maWc/LnRvZ2dsZXMgfHwge307XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0b2dnbGVzKS5yZWR1Y2UoKG5ld1RvZ2dsZXMsIGtleSkgPT4ge1xuICAgICAgICAgICAgbmV3VG9nZ2xlc1trZXldID0gdG9nZ2xlc1trZXldID09PSAnb24nO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3VG9nZ2xlcztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBXZWJTREtUb2dnbGVzKCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNFeHBsaWNpdFRydWUodmFsOiBhbnkpOiBib29sZWFuIHtcbiAgICB2YXIgbGMgPSAoJycgKyB2YWwpLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGxjID09ICd0cnVlJyB8fCBsYyA9PSAnMSc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFeHBsaWNpdEZhbHNlKHZhbDogYW55KTogYm9vbGVhbiB7XG4gICAgdmFyIGxjID0gKCcnICsgdmFsKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBsYyA9PSAnZmFsc2UnIHx8IGxjID09ICcwJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xhdGVyVGhhbk5vdyhleHBpcmF0aW9uVGltZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lID4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWxsRGVmaW5lZE9yQWxsVW5kZWZpbmVkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhbnlVbmRlZmluZWQgPSBhcmdzLnNvbWUoeCA9PiB0eXBlb2YgeCA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgIGNvbnN0IGFueURlZmluZWQgPSBhcmdzLnNvbWUoeCA9PiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCcpO1xuICAgIHJldHVybiAoYW55RGVmaW5lZCAmJiAhYW55VW5kZWZpbmVkKSB8fCAoIWFueURlZmluZWQgJiYgYW55VW5kZWZpbmVkKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGwoKTogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH0ge1xuICAgIHZhciBzY3JPZlggPSAwLFxuICAgICAgICBzY3JPZlkgPSAwO1xuICAgIGlmICh0eXBlb2Ygd2luZG93LnBhZ2VZT2Zmc2V0ID09ICdudW1iZXInKSB7XG4gICAgICAgIHNjck9mWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgc2NyT2ZYID0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiAoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSkge1xuICAgICAgICBzY3JPZlkgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgc2NyT2ZYID0gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSkge1xuICAgICAgICBzY3JPZlkgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBzY3JPZlggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdDogc2NyT2ZYLCB0b3A6IHNjck9mWSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxTaXplKCk6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfSB7XG4gICAgdmFyIGRlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBkYiA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICB2YXIgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICBpZiAoaCA9PSAwKSBoID0gZGIuY2xpZW50SGVpZ2h0O1xuICAgIHZhciB3ID0gZGUuY2xpZW50V2lkdGg7XG4gICAgaWYgKHcgPT0gMCkgdyA9IGRiLmNsaWVudFdpZHRoO1xuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbigpOiBudW1iZXIge1xuICAgIHZhciBvcmllbnRhdGlvbiA9IHBhcnNlSW50KCh3aW5kb3dbJ29yaWVudGF0aW9uJ10gYXMgc3RyaW5nKSB8fCAnMCcpO1xuICAgIGlmIChvcmllbnRhdGlvbiA8IDApIG9yaWVudGF0aW9uICs9IDM2MDtcblxuICAgIHJldHVybiBvcmllbnRhdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRPdXRlclNpemUoKTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICB2YXIgaDtcbiAgICB2YXIgdztcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKHdpbmRvdy5vdXRlckhlaWdodCkge1xuICAgICAgICBoID0gd2luZG93Lm91dGVySGVpZ2h0O1xuICAgICAgICB3ID0gd2luZG93Lm91dGVyV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKGggPT0gMCkgaCA9IGRiLmNsaWVudEhlaWdodDtcbiAgICAgICAgdyA9IGRlLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbm5lclNpemUoKTogeyB3OiBudW1iZXI7IGg6IG51bWJlciB9IHtcbiAgICB2YXIgaDtcbiAgICB2YXIgdztcblxuICAgIHZhciBkZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgZGIgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICBoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaCA9IGRlLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKGggPT0gMCkgaCA9IGRiLmNsaWVudEhlaWdodDtcbiAgICAgICAgdyA9IGRlLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAodyA9PSAwKSB3ID0gZGIuY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7IHc6IHcsIGg6IGggfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWRkbGVDZW50ZXIoKTogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyIH0ge1xuICAgIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoKTtcbiAgICB2YXIgc2l6ZSA9IGdldElubmVyU2l6ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogc2Nyb2xsLnRvcCArIE1hdGguZmxvb3Ioc2l6ZS5oIC8gMiksXG4gICAgICAgIGxlZnQ6IHNjcm9sbC5sZWZ0ICsgTWF0aC5mbG9vcihzaXplLncgLyAyKSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjdEhvcml6b250YWxseVZpc2libGUocmVjdDogeyB0b3A6IG51bWJlcjsgYm90dG9tOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgcmlnaHQ6IG51bWJlciB9KSB7XG4gICAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCgpO1xuICAgIHZhciBzaXplID0gZ2V0SW5uZXJTaXplKCk7XG4gICAgcmV0dXJuIHJlY3QubGVmdCA+PSBzY3JvbGwubGVmdCAmJiByZWN0LnJpZ2h0IDw9IHNjcm9sbC5sZWZ0ICsgc2l6ZS53O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVjdEZ1bGx5VmlzaWJsZShyZWN0OiB7IHRvcDogbnVtYmVyOyBib3R0b206IG51bWJlcjsgbGVmdDogbnVtYmVyOyByaWdodDogbnVtYmVyIH0pIHtcbiAgICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XG4gICAgdmFyIHNpemUgPSBnZXRJbm5lclNpemUoKTtcbiAgICByZXR1cm4gcmVjdC50b3AgPj0gc2Nyb2xsLnRvcCAmJiByZWN0LmJvdHRvbSA8PSBzY3JvbGwudG9wICsgc2l6ZS5oICYmIHJlY3QubGVmdCA+PSBzY3JvbGwubGVmdCAmJiByZWN0LnJpZ2h0IDw9IHNjcm9sbC5sZWZ0ICsgc2l6ZS53O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbG9jYWxJbmZvIH0gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyBVUkxVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvVVJMJztcbmltcG9ydCAqIGFzIEhUVFBVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvSFRUUCc7XG5pbXBvcnQgKiBhcyBnbG9iYWxFdmVudHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0dsb2JhbEV2ZW50cyc7XG5cbmV4cG9ydCB2YXIgX29wZW5lZFdpbmRvd3MgPSB7fTtcbmV4cG9ydCB2YXIgX3VuaXF1ZVdpbmRvd0NvdW50ZXIgPSAwO1xuZXhwb3J0IGludGVyZmFjZSBXaW5kb3dPcHRpb25zIHtcbiAgICBtZW51YmFyPzogbnVtYmVyO1xuICAgIHRvb2xiYXI/OiBudW1iZXI7XG4gICAgcmVzaXphYmxlPzogbnVtYmVyO1xuICAgIHNjcm9sbGJhcnM/OiBudW1iZXI7XG4gICAgbG9jYXRpb24/OiBudW1iZXI7XG4gICAgd2lkdGg/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgaGVpZ2h0Pzogc3RyaW5nIHwgbnVtYmVyO1xuICAgIGxlZnQ/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgdG9wPzogc3RyaW5nIHwgbnVtYmVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9jYWxjUGl4ZWxzKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsIG1heD86IG51bWJlciwgZGVmPzogc3RyaW5nIHwgbnVtYmVyLCBwb3NpdGlvbkFkanVzdG1lbnQ/OiBhbnkpOiBudW1iZXIge1xuICAgIHZhciBwaXhlbHM6IG51bWJlcjtcblxuICAgIC8vIEhhbmRsZSBzdHJpbmcgYXMgYXJndW1lbnQuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gVHlwZWNhc3Qgc3RyaW5nIHRvIG51bWJlci4gTWF5IGJlIHBlcmNlbnRhZ2UuXG4gICAgICAgIHBpeGVscyA9IHBhcnNlSW50KHZhbHVlKTtcblxuICAgICAgICAvLyBDb252ZXJ0IHBlcmNlbnRhZ2Ugd2lkdGggYW5kIGhlaWdodCB0byBudW1iZXIuXG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgICAgICBwaXhlbHMgPSBwYXJzZUludCh2YWx1ZSkgKiAwLjAxICogbWF4O1xuXG4gICAgICAgICAgICAvLyBXaGVuIHBvc2l0aW9uaW5nIChhcyBvcHBvc2VkIHRvIGRpbWVuc2lvbiksIG5lZWQgdG8gcGxhY2Ugd2luZG93IGluIGNlbnRlci5cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkFkanVzdG1lbnQpIHtcbiAgICAgICAgICAgICAgICBwaXhlbHMgLT0gcG9zaXRpb25BZGp1c3RtZW50IC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHBpeGVscyA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8vIFJvdW5kIHRvIHdob2xlIHZhbHVlLlxuICAgIHBpeGVscyA9IE1hdGgucm91bmQocGl4ZWxzKTtcblxuICAgIC8vIFR5cGVjYXN0IHRvIG51bWJlciBhbmQgZmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBuZWNlc3NhcnkuXG4gICAgaWYgKGlzTmFOKHBpeGVscykgJiYgZGVmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGl4ZWxzID0gX2NhbGNQaXhlbHMoZGVmLCBtYXgsIHVuZGVmaW5lZCwgcG9zaXRpb25BZGp1c3RtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGl4ZWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZW4odXJsOiBzdHJpbmcsIHdpbmRvd05hbWU/OiBzdHJpbmcsIHdpbmRvd09wdGlvbnM/OiBXaW5kb3dPcHRpb25zKTogYm9vbGVhbiB7XG4gICAgaWYgKCF3aW5kb3dPcHRpb25zKSB7XG4gICAgICAgIHdpbmRvd09wdGlvbnMgPSB7XG4gICAgICAgICAgICBtZW51YmFyOiAwLFxuICAgICAgICAgICAgdG9vbGJhcjogMCxcbiAgICAgICAgICAgIHJlc2l6YWJsZTogMSxcbiAgICAgICAgICAgIHNjcm9sbGJhcnM6IDEsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIGRpbWVuc2lvbnMgYW5kIHBvc2l0aW9uaW5nLCBpbmNsdWRpbmcgZGVmYXVsdHMuXG4gICAgd2luZG93T3B0aW9ucy53aWR0aCA9IF9jYWxjUGl4ZWxzKHdpbmRvd09wdGlvbnMud2lkdGgsIHNjcmVlbi53aWR0aCwgOTYwKTtcbiAgICB3aW5kb3dPcHRpb25zLmhlaWdodCA9IF9jYWxjUGl4ZWxzKHdpbmRvd09wdGlvbnMuaGVpZ2h0LCBzY3JlZW4uaGVpZ2h0LCA2ODApO1xuICAgIHdpbmRvd09wdGlvbnMubGVmdCA9IF9jYWxjUGl4ZWxzKHdpbmRvd09wdGlvbnMubGVmdCwgc2NyZWVuLndpZHRoLCAnNTAlJywgd2luZG93T3B0aW9ucy53aWR0aCk7XG4gICAgd2luZG93T3B0aW9ucy50b3AgPSBfY2FsY1BpeGVscyh3aW5kb3dPcHRpb25zLnRvcCwgc2NyZWVuLmhlaWdodCwgJzUwJScsIHdpbmRvd09wdGlvbnMuaGVpZ2h0KTtcblxuICAgIC8vIENvbnZlcnQgd2luZG93IG9wdGlvbnMgb2JqZWN0IHRvIHN0cmluZy5cbiAgICAvLyBFeGFtcGxlOiBtZW51YmFyPTAsdG9vbGJhcj0wLC4uLlxuICAgIHZhciB3aW5kb3dPcHRpb25zU3RyaW5nID0gJyc7XG4gICAgZm9yICh2YXIga2V5IGluIHdpbmRvd09wdGlvbnMpIHtcbiAgICAgICAgd2luZG93T3B0aW9uc1N0cmluZyArPSAnLCcgKyBrZXkgKyAnPScgKyB3aW5kb3dPcHRpb25zW2tleV07XG4gICAgfVxuICAgIHdpbmRvd09wdGlvbnNTdHJpbmcgPSB3aW5kb3dPcHRpb25zU3RyaW5nLnN1YnN0cigxKTtcblxuICAgIC8vIDRrIGlzIG91ciBxcyBsZW5ndGggbGltaXQuIEFueXRoaW5nIG1vcmUgd2lsbCB0cmlnZ2VyIFBPU1QuXG4gICAgdmFyIHBvc3RUb1dpbmRvdyA9IChsb2NhbEluZm8uaXNJRSAmJiB1cmwubGVuZ3RoID4gMjA0OCkgfHwgdXJsLmxlbmd0aCA+IDQwOTY7XG4gICAgdmFyIHdpbmRvd1VybCA9IHVybDtcbiAgICBpZiAocG9zdFRvV2luZG93KSB7XG4gICAgICAgIHdpbmRvd1VybCA9ICcnO1xuICAgICAgICBpZiAobG9jYWxJbmZvLmlzSUUpIHtcbiAgICAgICAgICAgIHdpbmRvd1VybCA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEeW5hbWljYWxseSBhc3NpZ24gd2luZG93IG5hbWUgaWYgbmVjZXNzYXJ5LlxuICAgIGlmICghd2luZG93TmFtZSkge1xuICAgICAgICB3aW5kb3dOYW1lID0gJ19naWdXaW5kb3dfJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJ18nICsgKytfdW5pcXVlV2luZG93Q291bnRlcjtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuZCBmb2N1cyB3aW5kb3cuXG4gICAgdmFyIG5ld1dpbiA9IHdpbmRvdy5vcGVuKHdpbmRvd1VybCwgd2luZG93TmFtZSwgd2luZG93T3B0aW9uc1N0cmluZyk7XG4gICAgaWYgKG5ld1dpbiAmJiBuZXdXaW4uZm9jdXMpIHtcbiAgICAgICAgbmV3V2luLmZvY3VzKCk7XG4gICAgfVxuICAgIF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdID0gbmV3V2luO1xuXG4gICAgLy8gUG9zdCB0byB3aW5kb3cgaWYgbmVjZXNzYXJ5LlxuICAgIHZhciBwYXJhbXMgPSBVUkxVdGlscy5nZXRQYXJhbXNGcm9tVVJMKHVybCk7XG4gICAgaWYgKHBvc3RUb1dpbmRvdykge1xuICAgICAgICBIVFRQVXRpbHMucmVkaXJlY3QodXJsLnNwbGl0KCc/JylbMF0sIFtwYXJhbXNdLCAnUE9TVCcsIHdpbmRvd05hbWUpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHdpbmRvd09wZW5lZCBldmVudC5cbiAgICBnbG9iYWxFdmVudHMuZGlzcGF0Y2goe1xuICAgICAgICBldmVudE5hbWU6ICd3aW5kb3dPcGVuZWQnLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX29wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV0gIT0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZSh3aW5kb3dOYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAoX29wZW5lZFdpbmRvd3Nbd2luZG93TmFtZV0gIT0gbnVsbCkge1xuICAgICAgICB2YXIgZm5DbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdICE9IG51bGwpIF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF9vcGVuZWRXaW5kb3dzW3dpbmRvd05hbWVdO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGxvY2FsSW5mby5pb3NWZXJzaW9uID49IDYpIHtcbiAgICAgICAgICAgIGZuQ2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZuQ2xvc2UsIDEwKTsgLy90aW1lb3V0IGJlY2F1c2Ugb2YgaVBhZCBidWcgKGNyYXNoZXMgc29tZXRpbWVzKVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMga2V5VmFsdWVVdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMva2V5VmFsdWUnO1xuaW1wb3J0ICogYXMgb2JqZWN0VXRpbHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL29iamVjdCc7XG5pbXBvcnQgKiBhcyBET01VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvRE9NJztcbmltcG9ydCB7IE1lc3NhZ2luZ01ldGhvZCB9IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcm5hbEZsb3dzJztcbmltcG9ydCAqIGFzIGZ1bmN0aW9uc1V0aWxzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9mdW5jdGlvbnMnO1xuXG52YXIgX2xpc3RlbmVycyA9IHt9O1xuZXhwb3J0IHZhciBfZmxhc2hMaXN0ZW5lcklEID0gJ2ZsaWQnICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG52YXIgX2FkZGVkID0gZmFsc2U7XG5mdW5jdGlvbiBfb25NZXNzYWdlKGV2dCkge1xuICAgIGV2dCA9IG9iamVjdFV0aWxzLmNsb25lKGV2dCk7XG4gICAgdmFyIF9fZm5Pbk1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGtleVZhbCA9IGV2dC5kYXRhLnNwbGl0KCc9Jyk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gX2xpc3RlbmVyc1trZXlWYWxbMF1dO1xuICAgICAgICBpZiAoaGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkRXZlbnRPYmogPSB1bmVzY2FwZShrZXlWYWxbMV0pO1xuICAgICAgICAgICAgICAgIHZhciBldmVudE9iaiA9IGtleVZhbHVlVXRpbHMuZGVzZXJpYWxpemUoZW5jb2RlZEV2ZW50T2JqLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGhhbmRsZXIuY29udGV4dDtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGV2ZW50T2JqLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZU1lc3NhZ2VMaXN0ZW5lcihrZXlWYWxbMF0pO1xuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGtleVZhbFswXSk7IC8vIElmIG1lc3NhZ2luZ01ldGhvZCA9PSBsb2NhbCBzdG9yYWdlIGxpc3RlbmVyXG4gICAgICAgICAgICBpZiAoaWZyYW1lICYmIGlmcmFtZS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKGV2dCAmJiBldnQuZGF0YSAmJiBldnQuZGF0YS5zcGxpdCkge1xuICAgICAgICBpZiAoZ2lneWEubG9jYWxJbmZvLmlvc1ZlcnNpb24gPj0gNikge1xuICAgICAgICAgICAgX19mbk9uTWVzc2FnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoX19mbk9uTWVzc2FnZSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVMb2NhbFN0b3JhZ2VMaXN0ZW5lcklGcmFtZShtZXNzYWdlTmFtZTogc3RyaW5nKTogSFRNTElGcmFtZUVsZW1lbnQge1xuICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUuc3R5bGUud2lkdGggPSAnMzBweCc7XG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMHB4JztcbiAgICBpZnJhbWUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGlmcmFtZS5zdHlsZS50b3AgPSAnLTEwMDBweCc7XG4gICAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XG4gICAgaWZyYW1lLmlkID0gbWVzc2FnZU5hbWU7XG4gICAgaWZyYW1lLnNyYyA9ICdodHRwczovL2NkbnMuZ2lneWEuY29tL2dzL0xvY2FsU3RvcmFnZUxpc3RlbmVyLmh0bT9tb2RlPXJlY2VpdmUmaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlTmFtZSk7XG5cbiAgICBET01VdGlscy5hcHBlbmRUb0JvZHkoaWZyYW1lKTtcbiAgICByZXR1cm4gaWZyYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1lc3NhZ2VMaXN0ZW5lcihcbiAgICBtZXNzYWdlTmFtZTogc3RyaW5nLFxuICAgIHBhcmFtczogYW55LFxuICAgIGlzUG9wdXA6IGJvb2xlYW4sXG4gICAgY2FsbGJhY2s6IChvRXZlbnQ6IE9iamVjdCwgY29udGV4dDogYW55KSA9PiB2b2lkLFxuICAgIG1lc3NhZ2luZ01ldGhvZD86IE1lc3NhZ2luZ01ldGhvZCxcbik6IHZvaWQge1xuICAgIF9saXN0ZW5lcnNbbWVzc2FnZU5hbWVdID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGNvbnRleHQ6IHBhcmFtcywgdDogbmV3IERhdGUoKS5nZXRUaW1lKCkgfTtcbiAgICBpZiAoIW1lc3NhZ2luZ01ldGhvZCkge1xuICAgICAgICBtZXNzYWdpbmdNZXRob2QgPSBnaWd5YS5sb2NhbEluZm8ubWVzc2FnaW5nTWV0aG9kO1xuXG4gICAgICAgIGlmIChnaWd5YS5sb2NhbEluZm8uaXNJRTExICYmIGlzUG9wdXAgJiYgd2luZG93LmluZGV4ZWREQikgbWVzc2FnaW5nTWV0aG9kID0gTWVzc2FnaW5nTWV0aG9kLkxvY2FsU3RvcmFnZUxpc3RlbmVyO1xuXG4gICAgICAgIC8vIFsjNjc2NDFdIC0gaHR0cHM6Ly9naWd5YS50cG9uZGVtYW5kLmNvbS9lbnRpdHkvNjc2NDEtbG9jY2l0YW5lLXNvY2lhbC1sb2dpbi10by1saW5lLWhhbmdzXG4gICAgICAgIC8vIGlmIHByb3ZpZGVyIGlzIExpbmUsIHVzZSBMb2NhbFN0b3JhZ2VMaXN0ZW5lciBiZWNhdXNlIGlmIExpbmUncyBuYXRpdmUgYXBwIGlzIGluc3RhbGxlZCBvbiB0aGUgZGV2aWNlXG4gICAgICAgIC8vIGl0IG1heSBcImhpamFja1wiIChkZWVwLWxpbmspIHRoZSBPQXV0aCByZXF1ZXN0IGFuZCBwcmV2ZW50IHRoZSBQb3N0TWVzc2FnZSBtZWNoYW5pc20gZnJvbSB3b3JraW5nLlxuICAgICAgICBpZiAoZ2lneWEubG9jYWxJbmZvLmlzQW5kcm9pZCAmJiBwYXJhbXMgJiYgcGFyYW1zWydwcm92aWRlciddICYmIHBhcmFtc1sncHJvdmlkZXInXS50b0xvd2VyQ2FzZSgpID09ICdsaW5lJykge1xuICAgICAgICAgICAgbWVzc2FnaW5nTWV0aG9kID0gTWVzc2FnaW5nTWV0aG9kLkxvY2FsU3RvcmFnZUxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2luZ01ldGhvZCA9PSBNZXNzYWdpbmdNZXRob2QuTG9jYWxTdG9yYWdlTGlzdGVuZXIgfHwgbWVzc2FnaW5nTWV0aG9kID09IE1lc3NhZ2luZ01ldGhvZC5Qb3N0TWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnaW5nTWV0aG9kID09IE1lc3NhZ2luZ01ldGhvZC5Mb2NhbFN0b3JhZ2VMaXN0ZW5lciAmJiBpc1BvcHVwKSB7XG4gICAgICAgICAgICBfY3JlYXRlTG9jYWxTdG9yYWdlTGlzdGVuZXJJRnJhbWUobWVzc2FnZU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFfYWRkZWQpIHtcbiAgICAgICAgICAgIHZhciBmbk9uTWVzc2FnZSA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlICYmIGUuZGF0YSAmJiB0eXBlb2YgZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBlLmRhdGEuc3BsaXQoJz0nKVswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9saXN0ZW5lcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb25NZXNzYWdlKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmbk9uTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3dbJ2F0dGFjaEV2ZW50J10pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dbJ2F0dGFjaEV2ZW50J10oJ29ubWVzc2FnZScsIGZuT25NZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9hZGRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTWVzc2FnZUxpc3RlbmVyKG1lc3NhZ2VOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBkZWxldGUgX2xpc3RlbmVyc1ttZXNzYWdlTmFtZV07XG59XG4iLCJleHBvcnQgY2xhc3MgV2luZG93UHJvdmlkZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgbmF2aWdhdG9yKCk6IE5hdmlnYXRvciB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZG9jdW1lbnQoKTogRG9jdW1lbnQge1xuICAgICAgICByZXR1cm4gd2luZG93LmRvY3VtZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc2NyZWVuKCk6IFNjcmVlbiB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuc2NyZWVuO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgbG9jYXRpb24oKTogTG9jYXRpb24ge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9wKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LnRvcDtcbiAgICB9XG59XG4iLCJpbXBvcnQge2dldFN0b3JhZ2VEb21haW4sIHJlc29sdmVBcGlEb21haW59IGZyb20gJy4vVXRpbHMvZG9tYWlucyc7XG5pbXBvcnQge0lXZWJTZGtDb25maWd9IGZyb20gJy4uL2ludGVyZmFjZXMvSVdlYlNka0NvbmZpZyc7XG5pbXBvcnQge1VyaX0gZnJvbSAnLi9VdGlscy9VcmknO1xuXG5jb25zdCBkZWZhdWx0U3RvcmFnZURvbWFpbiA9ICgpID0+IGdpZ3lhPy5jb25maWdIb3N0bmFtZU92ZXJyaWRlIHx8IGdldFN0b3JhZ2VEb21haW4oKTtcbmNvbnN0IGRlZmF1bHRBcGlEb21haW4gPSAoKSA9PiByZXNvbHZlQXBpRG9tYWluKClcblxuZXhwb3J0IGludGVyZmFjZSBJU3NvQ29uZmlnUmVzcG9uc2Uge1xuICAgIGFwaUtleT86IHN0cmluZztcbiAgICBycENvbnRleHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbnNlbnRTdGF0dXNSZXNwb25zZSB7XG4gIGNvbnNlbnRTdGF0dXM6IHtcbiAgICBpc01pZ3JhdGVkOiBib29sZWFuO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZGtDb25maWcoZG9tYWluOiBzdHJpbmcgPSBkZWZhdWx0U3RvcmFnZURvbWFpbigpLCByZXRyaWVzOiBudW1iZXIgPSAwKTogUHJvbWlzZTxJV2ViU2RrQ29uZmlnPiB7XG4gICAgY29uc3Qge2FwaUtleX0gPSBnaWd5YTtcbiAgICByZXR1cm4gYXdhaXQgVXJpLnBhcnNlKGAke2RvbWFpbn0vc2RrLmNvbmZpZy5nZXRgKVxuICAgICAgICAuYWRkVG9TZWFyY2goe2FwaUtleSwgaHR0cFN0YXR1c0NvZGVzOiB0cnVlfSlcbiAgICAgICAgLmZldGNoPElXZWJTZGtDb25maWc+KHJldHJpZXMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3NvQ29udGV4dChzc29Ub2tlbjogc3RyaW5nLCBkb21haW46IHN0cmluZyA9IGRlZmF1bHRBcGlEb21haW4oKSwgcmV0cmllczogbnVtYmVyID0gMCk6IFByb21pc2U8SVNzb0NvbmZpZ1Jlc3BvbnNlPiB7XG4gICAgY29uc3Qge2FwaUtleTogQVBJS2V5fSA9IGdpZ3lhO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBVcmkucGFyc2UoYCR7ZG9tYWlufS9hY2NvdW50cy5zc28uZ2V0Q29udGV4dGApXG4gICAgICAgICAgICAuYWRkVG9TZWFyY2goe0FQSUtleSwgc3NvVG9rZW4sIGZvcm1hdDogJ2pzb24nfSlcbiAgICAgICAgICAgIC5mZXRjaDxJU3NvQ29uZmlnUmVzcG9uc2U+KHJldHJpZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHt9XG4gICAgfVxufVxuXG4vLyBDb25zZW50IHN0YXR1cyBjdXJyZW50bHkgcmV0dXJuIG9ubHkgYnkgYXBpIGRvbWFpbiBiZWNhdXNlIHRoZSBjb25maWd1cmF0aW9uIGlzIHNldCBieSBtaW5vciBEQyggc2hvdWxkIGJlIHNhdmUgb24gbWFqb3IgYWx3YXlzKVxuLy8gV2Ugc2hvdWxkIGNoYW5nZSB0aGUgZ2lneWEuXy5nZXRBcGlEb21haW4oJ2FjY291bnRzJykgdG8gZGVmYXVsdFN0b3JhZ2VEb21haW4gb25jZSB0aGUgY29uZmlnIGlzIHVwZGF0ZWQuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29uc2VudFN0YXR1cyhjb25maWc/OiB7IGRvbWFpbjogc3RyaW5nLCByZXRyaWVzOiBudW1iZXIgfSk6IFByb21pc2U8SUNvbnNlbnRTdGF0dXNSZXNwb25zZT57XG4gICAgY29uc3QgZG9tYWluID0gY29uZmlnPy5kb21haW4gfHwgZ2lneWEuXy5nZXRBcGlEb21haW4oJ2FjY291bnRzJylcbiAgICBjb25zdCByZXRyaWVzID0gY29uZmlnPy5yZXRyaWVzIHx8IDBcbiAgICBjb25zdCB7IGFwaUtleSB9ID0gZ2lneWE7XG4gICAgY29uc3QgdXJsID0gYCR7ZG9tYWlufS9zZGsuZ2V0Q29uc2VudFN0YXR1c2BcbiAgICBcbiAgICByZXR1cm4gYXdhaXQgVXJpLnBhcnNlKHVybClcbiAgICAgIC5hZGRUb1NlYXJjaCh7IGFwaUtleSB9KVxuICAgICAgLmZldGNoPElDb25zZW50U3RhdHVzUmVzcG9uc2U+KHJldHJpZXMpXG59XG4iLCJcbmxldCBzZWxlY3RlZENkbkhvc3RzSW5kZXggPSAwO1xuZXhwb3J0IGNvbnN0IENETl9IT1NUUyA9IHtcbiAgICBodHRwOiBbJ2Nkbi5naWd5YS5jb20nLCAnY2RuMS5naWd5YS5jb20nLCAnY2RuMi5naWd5YS5jb20nLCAnY2RuMy5naWd5YS5jb20nXSxcbiAgICBodHRwczogWydjZG5zLmdpZ3lhLmNvbScsICdjZG5zMS5naWd5YS5jb20nLCAnY2RuczIuZ2lneWEuY29tJywgJ2NkbnMzLmdpZ3lhLmNvbSddLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDZG5SZXNvdXJjZShwYXRoPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBnaWd5YS50aGlzU2NyaXB0IG1heSBub3QgZXhpc3QgaWYgbG9hZGVkIGZvciBzc29PcmlnLlxuICAgIGxldCBiYXNlRG9tYWluID0gZ2lneWEudGhpc1NjcmlwdD8uYmFzZURvbWFpbiA/PyAnJztcbiAgICBjb25zdCBwcm90b2NvbCA9IGdpZ3lhLnRoaXNTY3JpcHQ/LnByb3RvY29sID8/ICdodHRwcyc7XG5cbiAgICAvLyBJZiBubyBiYXNlIGRvbWFpbiBvciBpZiBiYXNlIGRvbWFpbiBlbmRzIHdpdGggLmdpZ3lhLmNvbSwgdXNlIEdpZ3lhIENETi5cbiAgICAvLyBPdGhlcndpc2UgdXNlIHRoZSBiYXNlIGRvbWFpbi5cbiAgICBpZiAoIWJhc2VEb21haW4gfHwgL2NkbnM/XFwuZ2lneWFcXC5jb20kLy50ZXN0KGJhc2VEb21haW4pKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkU2NoZW1hUmVwb3NpdG9yeSA9IENETl9IT1NUU1twcm90b2NvbF07XG4gICAgICAgIGlmIChzZWxlY3RlZFNjaGVtYVJlcG9zaXRvcnkubGVuZ3RoIDw9IHNlbGVjdGVkQ2RuSG9zdHNJbmRleCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRDZG5Ib3N0c0luZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBiYXNlRG9tYWluID0gc2VsZWN0ZWRTY2hlbWFSZXBvc2l0b3J5W3NlbGVjdGVkQ2RuSG9zdHNJbmRleCsrXTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGhlIHBhdGggc3RhcnRzIHdpdGggXCIvXCIuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgICAgaWYgKHBhdGguaW5kZXhPZignLycpICE9PSAwKSB7XG4gICAgICAgICAgICBwYXRoID0gJy8nICsgcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm90b2NvbCArICc6Ly8nICsgYmFzZURvbWFpbiArIChwYXRoIHx8ICcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWdDZG5SZXNvdXJjZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRDZG5SZXNvdXJjZSgnL2dzL2kvJyk7XG59XG4iLCJpbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HaWd5YUdsb2JhbHMnO1xuaW1wb3J0ICogYXMgVGhpc1NjcmlwdCBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVGhpc1NjcmlwdCc7XG5pbXBvcnQgKiBhcyBDRE4gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL2Nkbic7XG5pbXBvcnQgKiBhcyBEZWZhdWx0RXZlbnRzTWFwIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9EZWZhdWx0RXZlbnRzTWFwJztcbmltcG9ydCAqIGFzIEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXZlbnRzJztcbmltcG9ydCAqIGFzIEdsb2JhbEV2ZW50cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR2xvYmFsRXZlbnRzJztcbmltcG9ydCAqIGFzIEdTRXJyb3JzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9HU0Vycm9ycyc7XG5pbXBvcnQgKiBhcyBJbnRlcmZhY2VzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9JbnRlcmZhY2VzJztcbmltcG9ydCAqIGFzIEludGVybmFsRmxvd3MgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0ludGVybmFsRmxvd3MnO1xuaW1wb3J0ICogYXMgR2lneWFMb2cgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeUxvZ2dlcic7XG5pbXBvcnQgKiBhcyBMb2NhbEluZm8gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xvY2FsSW5mbyc7XG5pbXBvcnQgKiBhcyBHaWd5YV9Qcm92aWRlcnMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3ZpZGVycyc7XG5pbXBvcnQgKiBhcyBHaWd5YUxlZ2FjeVJlcG9ydHMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0xlZ2FjeVJlcG9ydHMnO1xuaW1wb3J0ICogYXMgR2lneWFfQXBpQWRhcHRlcnMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JQXBpQWRhcHRlcic7XG5pbXBvcnQgKiBhcyBJRGlzcG9zYWJsZSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9pbnRlcmZhY2VzL0lEaXNwb3NhYmxlJztcbmltcG9ydCAqIGFzIEJhc2VBcGkgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9CYXNlQXBpJztcbmltcG9ydCAqIGFzIFVpQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVWlBcGknO1xuaW1wb3J0ICogYXMgR2lneWFfUGx1Z2lucyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpSGVscGVycyc7XG5pbXBvcnQgKiBhcyBHaWd5YV9VSSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQVBJL1VpQXBpUmVnaXN0cnknO1xuaW1wb3J0ICogYXMgR2lneWFfQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvVmVyc2lvblNlbGVjdG9yJztcbmltcG9ydCAqIGFzIEJhc2VPYmplY3QgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvQmFzZU9iamVjdCc7XG5pbXBvcnQgKiBhcyBFdmVudFdyYXBwZXIgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Jhc2VPYmplY3QvRXZlbnRXcmFwcGVyJztcbmltcG9ydCAqIGFzIEJhc2VPYmplY3RJbnRlcmZhY2VzIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9CYXNlT2JqZWN0L0lCYXNlT2JqZWN0Q29uZmlnJztcbmltcG9ydCAqIGFzIEN1c3RvbUFwaXMgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0NsaWVudEFQSS9DdXN0b21BcGlzJztcbmltcG9ydCAqIGFzIElTYW1sQ29uZmlnIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9DbGllbnRBUEkvSVNhbWxDb25maWcnO1xuaW1wb3J0ICogYXMgU2FtbEFwaSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQ2xpZW50QVBJL1NhbWxBcGknO1xuaW1wb3J0ICogYXMgQWNjb3VudFNlcnZpY2UgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1NlcnZpY2VzL0FjY291bnRTZXJ2aWNlJztcbmltcG9ydCAqIGFzIFNpdGVEYXRhIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9TZXJ2aWNlcy9TaXRlRGF0YSc7XG5pbXBvcnQgeyBvcCBhcyBPaWRjT3BBcGl9IGZyb20gJy4vQ2xpZW50QVBJL09pZGNBcGknO1xuaW1wb3J0IHtmbG93fSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRmxvdy9GbG93JztcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvYWN0aXZpdGllcy9BY3Rpdml0eUxpYnJhcnknO1xuaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRmxvdy9hY3Rpdml0aWVzL0V2ZW50QWN0aXZpdHknO1xuaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRmxvdy9hY3Rpdml0aWVzL1NjcmVlblNldEFjdGl2aXR5JztcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0Zsb3cvYWN0aXZpdGllcy9Jbml0QWN0aXZpdHknO1xuaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMnO1xuaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvQm9vdHN0cmFwJztcbmltcG9ydCAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL1Byb3RvdHlwZXMnO1xuaW1wb3J0ICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvTG9nZ2VyL21haW4nO1xuaW1wb3J0IHBhc3NrZXlTZXJ2aWNlIGZyb20gJy4vUGFzc2tleS9QYXNza2V5U2VydmljZSc7XG5cbmRlY2xhcmUgY29uc3QgZ2lneWE6IGFueTtcbmlmICghZ2lneWEuXykge1xuICAgIGdpZ3lhLl8gPSB7fTtcbn1cbmlmICghZ2lneWEuZXZlbnRzKSB7XG4gICAgZ2lneWEuZXZlbnRzID0ge307XG59XG5pZiAoIWdpZ3lhLmV2ZW50cy5nbG9iYWwpIHtcbiAgICBnaWd5YS5ldmVudHMuZ2xvYmFsID0ge307XG59XG5pZiAoIWdpZ3lhLmxvZykge1xuICAgIGdpZ3lhLmxvZyA9IHt9O1xufVxuaWYgKCFnaWd5YS5fLnByb3ZpZGVycykge1xuICAgIGdpZ3lhLl8ucHJvdmlkZXJzID0ge307XG59XG5pZiAoIWdpZ3lhLmxlZ2FjeVJlcG9ydHMpIHtcbiAgICBnaWd5YS5sZWdhY3lSZXBvcnRzID0ge307XG59XG5pZiAoIWdpZ3lhLl8uYXBpQWRhcHRlcnMpIHtcbiAgICBnaWd5YS5fLmFwaUFkYXB0ZXJzID0ge307XG59XG5pZiAoIWdpZ3lhLl8ucGx1Z2lucykge1xuICAgIGdpZ3lhLl8ucGx1Z2lucyA9IEdpZ3lhX1BsdWdpbnNcbn1cbmlmICghZ2lneWEuXy5VSSkge1xuICAgIGdpZ3lhLl8uVUkgPSB7fTtcbn1cbmlmICghZ2lneWEuXy5hcGkpIHtcbiAgICBnaWd5YS5fLmFwaSA9IHt9O1xufVxuaWYgKCFnaWd5YS5fLnNhbWwpIHtcbiAgICBnaWd5YS5fLnNhbWwgPSB7fTtcbn1cbmlmICghZ2lneWEuZmlkbSkge1xuICAgIGdpZ3lhLmZpZG0gPSB7fTtcbn1cbmlmICghZ2lneWEuZmlkbS5zYW1sKSB7XG4gICAgZ2lneWEuZmlkbS5zYW1sID0ge307XG59XG5pZiAoIWdpZ3lhLmZpZG0ub2lkYykge1xuICAgIGdpZ3lhLmZpZG0ub2lkYyA9IHt9O1xufVxuaWYgKCFnaWd5YS5maWRtLm9pZGMub3ApIHtcbiAgICBnaWd5YS5maWRtLm9pZGMub3AgPSB7fTtcbn1cbmlmICghZ2lneWEuc2VydmljZXMpIHtcbiAgICBnaWd5YS5zZXJ2aWNlcyA9IHt9O1xufVxuaWYgKCFnaWd5YS5nbG9iYWxBY2NvdW50KSB7XG4gICAgZ2lneWEuZ2xvYmFsQWNjb3VudCA9IHt9O1xufVxuT2JqZWN0LmFzc2lnbihnaWd5YSwgVGhpc1NjcmlwdCwgR1NFcnJvcnMsIEludGVyZmFjZXMsIExvY2FsSW5mbywgSURpc3Bvc2FibGUsIERlZmF1bHRFdmVudHNNYXAsIHsgUHJvbWlzZSB9LCB7IGZsb3cgfSk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLl8sIENETiwgSW50ZXJuYWxGbG93cywgQmFzZUFwaSwgVWlBcGksIEJhc2VPYmplY3QsIEV2ZW50V3JhcHBlciwgQmFzZU9iamVjdEludGVyZmFjZXMsIEN1c3RvbUFwaXMsIHtwYXNza2V5U2VydmljZX0pO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5ldmVudHMsIEV2ZW50cyk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLmV2ZW50cy5nbG9iYWwsIEdsb2JhbEV2ZW50cyk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLmxvZywgR2lneWFMb2cpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5fLnByb3ZpZGVycywgR2lneWFfUHJvdmlkZXJzKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEubGVnYWN5UmVwb3J0cywgR2lneWFMZWdhY3lSZXBvcnRzKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEuXy5hcGlBZGFwdGVycywgR2lneWFfQXBpQWRhcHRlcnMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5fLlVJLCBHaWd5YV9VSSk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLl8uYXBpLCBHaWd5YV9BcGkpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5fLnNhbWwsIElTYW1sQ29uZmlnKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEuZmlkbS5zYW1sLCBTYW1sQXBpKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEuZmlkbS5vaWRjLm9wLCB7Li4uT2JqZWN0LmdldFByb3RvdHlwZU9mKE9pZGNPcEFwaSl9KTsgXG5PYmplY3QuYXNzaWduKGdpZ3lhLnNlcnZpY2VzLCBBY2NvdW50U2VydmljZSwgU2l0ZURhdGEpO1xuXG5leHBvcnQgZGVmYXVsdCBnaWd5YTsiLCJpbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9pbmRleCc7XG5pbXBvcnQgJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9SZXBvcnRzL1JlcG9ydHMnO1xuaW1wb3J0ICogYXMgR2lneWFFeHRlcm5hbEZhY2Vib29rIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9GYWNlYm9vayc7XG5pbXBvcnQgKiBhcyBHaWd5YUV4dGVybmFsR29vZ2xlUGx1cyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvRXh0ZXJuYWxJbnRlZ3JhdGlvbnMvR29vZ2xlUGx1cyc7XG5pbXBvcnQgKiBhcyBHaWd5YUV4dGVybmFsT3BlbmdyYXBoIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9FeHRlcm5hbEludGVncmF0aW9ucy9PcGVuZ3JhcGgnO1xuaW1wb3J0ICogYXMgQm9vdHN0cmFwIGZyb20gJy4vQm9vdHN0cmFwJztcbmltcG9ydCAqIGFzIEFwaXNMaXN0IGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvQXBpc0xpc3QnO1xuaW1wb3J0ICogYXMgQXBpQ29uc3QgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9jb25zdHMnO1xuaW1wb3J0ICogYXMgU2VydmVyQXBpIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9BUEkvU2VydmVyQXBpJztcbmltcG9ydCAqIGFzIFNlcnZlckFwaVJlcXVlc3QgZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvYXBwL0FQSS9TZXJ2ZXJBcGlSZXF1ZXN0JztcbmltcG9ydCAqIGFzIFdpbmRvd1Byb3ZpZGVyIGZyb20gJ3NyYy9jb3JlL0dpZ3lhLkpzL2FwcC9XaW5kb3dQcm92aWRlcidcblxuZGVjbGFyZSBjb25zdCBnaWd5YTogYW55O1xuaWYgKCFnaWd5YS5fKSB7XG4gICAgZ2lneWEuXyA9IHt9O1xufVxuaWYgKCFnaWd5YS5fLmJvb3RzdHJhcCkge1xuICAgIGdpZ3lhLl8uYm9vdHN0cmFwID0ge307XG59XG5pZighZ2lneWEuXy5zc28pe1xuICAgIGdpZ3lhLl8uc3NvID0ge31cbn1cbmlmICghZ2lneWEuZXh0ZXJuYWwpIHtcbiAgICBnaWd5YS5leHRlcm5hbCA9IHt9O1xufVxuaWYgKCFnaWd5YS5leHRlcm5hbC5mYWNlYm9vaykge1xuICAgIGdpZ3lhLmV4dGVybmFsLmZhY2Vib29rID0ge307XG59XG5pZiAoIWdpZ3lhLmV4dGVybmFsLmdvb2dsZVBsdXMpIHtcbiAgICBnaWd5YS5leHRlcm5hbC5nb29nbGVQbHVzID0ge307XG59XG5pZiAoIWdpZ3lhLmV4dGVybmFsLm9wZW5ncmFwaCkge1xuICAgIGdpZ3lhLmV4dGVybmFsLm9wZW5ncmFwaCA9IHt9O1xufVxuT2JqZWN0LmFzc2lnbihnaWd5YS5fLCBBcGlzTGlzdCwgQXBpQ29uc3QsIFNlcnZlckFwaSwgU2VydmVyQXBpUmVxdWVzdCwgV2luZG93UHJvdmlkZXIsICk7XG5PYmplY3QuYXNzaWduKGdpZ3lhLl8uYm9vdHN0cmFwLCBCb290c3RyYXApO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5leHRlcm5hbC5mYWNlYm9vaywgR2lneWFFeHRlcm5hbEZhY2Vib29rKTtcbk9iamVjdC5hc3NpZ24oZ2lneWEuZXh0ZXJuYWwuZ29vZ2xlUGx1cywgR2lneWFFeHRlcm5hbEdvb2dsZVBsdXMpO1xuT2JqZWN0LmFzc2lnbihnaWd5YS5leHRlcm5hbC5vcGVuZ3JhcGgsIEdpZ3lhRXh0ZXJuYWxPcGVuZ3JhcGgpO1xuXG5pZiAoIWdpZ3lhLmJ1aWxkKSBnaWd5YS5idWlsZCA9IHsgdmVyc2lvbjogJycsIG51bWJlcjogMCB9O1xuaWYgKCFnaWd5YS5wcm92aWRlcnNDb25maWcpIGdpZ3lhLnByb3ZpZGVyc0NvbmZpZyA9IHt9O1xuaWYgKCFnaWd5YS5pc0dpZ3lhKSBnaWd5YS5pc0dpZ3lhID0gdHJ1ZTtcbmlmICghZ2lneWEucGFydG5lclNldHRpbmdzKSB7XG4gICAgZ2lneWEucGFydG5lclNldHRpbmdzID0ge1xuICAgICAgICBhdXRoTW9kZTogJ2Nvb2tpZScsXG4gICAgICAgIGJhc2VEb21haW5zOiAnJyxcbiAgICAgICAgY2FwdGNoYVByb3ZpZGVyOiAnR29vZ2xlJyxcbiAgICAgICAgcGx1Z2luczogeyBhcGlEb21haW46ICd1czEuZ2lneWEtYXBpLmNvbScgfSxcbiAgICAgICAgaW52aXNpYmxlUmVjYXB0Y2hhOiB7XG4gICAgICAgICAgICBzaXRlS2V5OiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgcmVjYXB0Y2hhVjI6IHtcbiAgICAgICAgICAgIHNpdGVLZXk6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBmdW5DYXB0Y2hhOiB7XG4gICAgICAgICAgICBzaXRlS2V5OiAnJyxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5Cb290c3RyYXAuaW5pdCgpO1xuIiwiaW1wb3J0IHtBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXJ9IGZyb20gXCIuLi9hcHAvVXRpbHMvbG9jYWxTdG9yYWdlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdtaWRUaWNrZXRSZXNwb25zZSB7XG4gICAgZ21pZFRpY2tldDogc3RyaW5nO1xuICAgIGV4cGlyYXRpb25UaW1lOiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIEFwaUFkYXB0ZXJTZXR0aW5ncyB7XG4gICAgZm9yY2VIdHRwcz86IGJvb2xlYW47IC8vIHJlcXVpcmVkIGZvciBvbGQgbW9iaWxlIHNka3NcbiAgICBmb3JjZVBvc3Q/OiBib29sZWFuO1xuICAgIGZvcmNlR2lneWFEb21haW4/OiBib29sZWFuOyAvLyBmb3IgYW5vbnltb3VzIHVzZXJzXG4gICAgZGlzYWJsZUNhY2hlPzogYm9vbGVhbjtcbiAgICByZXF1aXJlc1Nlc3Npb24/OiAoKSA9PiBib29sZWFuO1xuICAgIGNsZWFyU2Vzc2lvbj86IGJvb2xlYW47XG4gICAgY2xlYXJTZXNzaW9uQ29uZGl0aW9uPzogKHBhcmFtczogYW55KSA9PiBib29sZWFuO1xuICAgIGNhY2hlVGltZW91dD86IG51bWJlcjtcbiAgICBqc1Nka1JlcXVlc3RJZD86IHN0cmluZztcbiAgICBwcmVwcm9jZXNzb3I/OiAocGFyYW1zLCBjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgICBvYXV0aE1vZGU/OiBPQXV0aE1vZGU7XG4gICAgaXNYaHJTdXBwb3J0ZWQ/OiBib29sZWFuO1xuICAgIHVzZUh0dHBTdGF0dXNDb2Rlcz86IGJvb2xlYW47XG4gICAgbmFtZXNwYWNlPzogc3RyaW5nO1xuICAgIHVzZUJlYXJlclRva2VuPzogYm9vbGVhbjtcbn1cbmV4cG9ydCBlbnVtIE9BdXRoTW9kZSB7XG4gICAgU29jaWFsLFxuICAgIFNzb1xufVxuZXhwb3J0IGludGVyZmFjZSBJQXBpQWRhcHRlckluaXRTZXR0aW5ncyB7XG4gICAgZ2V0QWRhcHRlck5hbWU/OiAoKSA9PiBzdHJpbmc7XG4gICAgZ2V0QVBJS2V5PzogKCkgPT4gc3RyaW5nO1xuICAgIGdldEZlYXR1cmVzPzogKCkgPT4gc3RyaW5nO1xuICAgIGdldFNldHRpbmdzPzogKCkgPT4gc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBJQXBpQWRhcHRlciB7XG4gICAgaW5pdChjYWxsYmFjazogKCkgPT4gdm9pZCk6IFByb21pc2U8dm9pZD47XG4gICAgaXNTZXNzaW9uVmFsaWQocGFyYW1zOiBPYmplY3QsIGNhbGxiYWNrOiAoaXNWYWxpZDogYm9vbGVhbikgPT4gdm9pZCk6IHZvaWQ7XG4gICAgZ2V0U3RvcmFnZSgpOiBBYnN0cmFjdExvY2FsU3RvcmFnZUFkYXB0ZXI7XG4gICAgc2VuZFJlcXVlc3QobWV0aG9kTmFtZTogc3RyaW5nLCBwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s/OiAocmVzcG9uc2U6IE9iamVjdCkgPT4gdm9pZCwgc2V0dGluZ3M/OiBBcGlBZGFwdGVyU2V0dGluZ3MpOiB2b2lkO1xuICAgIHNlbmRPYXV0aFJlcXVlc3QobWV0aG9kTmFtZTogc3RyaW5nLCBwYXJhbXM6IE9iamVjdCwgY2FsbGJhY2s/OiAocmVzcG9uc2U6IE9iamVjdCkgPT4gdm9pZCwgc2V0dGluZ3M/OiBBcGlBZGFwdGVyU2V0dGluZ3MpOiB2b2lkO1xuICAgIGdldFRva2VuUGFyYW0oQVBJS2V5OiBzdHJpbmcsIHBhcmFtTmFtZTogc3RyaW5nKTogc3RyaW5nOyAvLyBtb3N0bHkgZm9yIFVVSURcbiAgICBvblBsdWdpbkV2ZW50KGV2ZW50OiBhbnkpOiB2b2lkO1xuICAgIHNldEdsdGV4cEZyb21TU08oYXBpS2V5Pzogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcbiAgICByZWdpc3RlckZvck5hbWVzcGFjZUV2ZW50cyhuYW1lc3BhY2U6IHN0cmluZyk6IHZvaWQ7XG4gICAgb25TREtFdmVudChldmVudE9iamVjdDogT2JqZWN0KTogdm9pZDtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY2xlYXJTZXNzaW9uKHBhcmFtczogT2JqZWN0LCBjYWxsYmFjaz86IChyZXM/OiBhbnkpID0+IHZvaWQpOiB2b2lkO1xuICAgIG9uSlNMb2cobG9nVHlwZTogc3RyaW5nLCBsb2dJbmZvOiBzdHJpbmcpOiB2b2lkO1xuICAgIGdldEdtaWRUaWNrZXQoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+O1xufVxuIiwiaW1wb3J0IHsgSVByb3h5UmVzcG9uc2UsIElQcm94eU1lc3NhZ2UsIElQcm94eVJlcXVlc3QsIElQcm94eVNpZ25hbFJlcXVlc3QgfSBmcm9tICdzcmMvY29yZS9TZXJ2aWNlUHJveHkvaW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdzcmMvY29yZS9TZXJ2aWNlUHJveHkvdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgU2VydmljZVByb3h5IHtcbiAgICBwcml2YXRlIF9pZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50O1xuICAgIHByaXZhdGUgX3BlbmRpbmdSZXFzOiAoKGU6IE1lc3NhZ2VFdmVudCAmIHsgZGF0YTogSVByb3h5UmVzcG9uc2UgfSkgPT4gdm9pZClbXSA9IFtdO1xuICAgIHByaXZhdGUgX2lmcmFtZUhvc3Q6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX211dGF0aW9uT2JzZXJ2ZXJzOiBNdXRhdGlvbk9ic2VydmVyW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdXJsOiBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyB0aW1lb3V0ID0gNjAwMDAsXG4gICAgICAgIHByaXZhdGUgX2lkQ3JlYXRvciA9IHV0aWxzLmdlbmVyYXRlSWQsXG4gICAgICAgIHByaXZhdGUgX2lmcmFtZUNyZWF0b3IgPSB1dGlscy5jcmVhdGVJZnJhbWUsXG4gICAgICAgIHByaXZhdGUgZ2V0SWZyYW1lSG9zdCA9ICgpID0+XG4gICAgICAgICAgICBuZXcgUHJvbWlzZTxIVE1MRWxlbWVudD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkpIHJlc29sdmUoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAgICAgZWxzZSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gcmVzb2x2ZShkb2N1bWVudC5ib2R5KSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgcHJpdmF0ZSBfd2luID0gd2luZG93LFxuICAgICkge31cblxuICAgIHB1YmxpYyBnZXQgaXNJbml0KCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLl9pZnJhbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0PFQ+KHRpdGxlOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0KSByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3Byb3h5IGFscmVhZHkgaW5pdGlhbGl6ZWQnKSBhcyBhbnk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faWZyYW1lID0gdGhpcy5faWZyYW1lQ3JlYXRvcih0aXRsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faWZyYW1lLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0SWZyYW1lSG9zdCgpLnRoZW4oaG9zdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lmcmFtZUhvc3QgPSBob3N0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZnJhbWVIb3N0LmFwcGVuZENoaWxkKHRoaXMuX2lmcmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdpZ3lhLmxvZ2dlci5pc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ic2VydmUgaWZyYW1lIHJlbW92YWwgb25seSBpZiBnaWd5YS5sb2dnZXIgaXMgZXhwbGljaXRseSBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0T2JzZXJ2aW5nSUZyYW1lUmVtb3ZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZW91dElkID0gdGhpcy5fd2luLnNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KCdwcm94eSBpbml0IHRpbWVvdXQnKSwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25Jbml0UmVzcG9uc2UgPSAoZTogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWxpZGF0ZU9yaWdpbihlLm9yaWdpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHRoaXMuX3RyeVBhcnNlUmVzcG9uc2UoZS5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZT8uc2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dpbi5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbkluaXRSZXNwb25zZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXNwb25zZS5zaWduYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpc3RlbmluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2luLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uUmVzcG9uc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UucmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZS5yZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ3Vuc3VwcG9ydGVkIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2luLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbkluaXRSZXNwb25zZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkYXRlT3JpZ2luKGNoZWNrZWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdXRpbHMudmFsaWRhdGVPcmlnaW4odGhpcy5faWZyYW1lLnNyYywgY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc3BvbnNlID0gKGU6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAvLyBhcnJvdyBmdW5jdGlvbiB0byBwcmVzZXJ2ZSBjb250ZXh0XG4gICAgICAgIGNvbnN0IG1zZyA9IGdpZ3lhLnV0aWxzLkpTT04ucGFyc2UoZS5kYXRhKSBhcyBJUHJveHlSZXNwb25zZTtcbiAgICAgICAgaWYgKG1zZyAmJiB0aGlzLl9wZW5kaW5nUmVxc1ttc2cuaWRdICYmIHRoaXMudmFsaWRhdGVPcmlnaW4oZS5vcmlnaW4pKSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVxc1ttc2cuaWRdKG1zZyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXNbbXNnLmlkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcml2YXRlIHBvc3RUb0lGcmFtZTxUPihyZXE6IElQcm94eU1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb25Nc2dSZXNwb25zZSA9IHRoaXMucmVnaXN0ZXJNZXNzYWdlPFQ+KHJlcSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IHR5cGVvZiByZXEgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkocmVxKSA6IHJlcTtcbiAgICAgICAgdGhpcy5faWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5faWZyYW1lLnNyYyk7XG4gICAgICAgIHJldHVybiBvbk1zZ1Jlc3BvbnNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVnaXN0ZXJNZXNzYWdlPFQ+KHJlcTogSVByb3h5TWVzc2FnZSwgdGltZW91dCA9IHRoaXMudGltZW91dCk6IFByb21pc2U8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dElkID0gdGhpcy5fd2luLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgncHJveHkgcmVxdWVzdCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcblxuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXNbcmVxLmlkXSA9IChlOiBJUHJveHlSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dpbi5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5zaWduYWwgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUucmVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGUucmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2VuZFJlcXVlc3Q8VD4obWV0aG9kTmFtZTogc3RyaW5nLCBwYXJhbXM/OiBhbnlbXSk6IFByb21pc2U8VD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0VG9JRnJhbWU8VD4oe1xuICAgICAgICAgICAgaWQ6IHRoaXMuX2lkQ3JlYXRvcigpLFxuICAgICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgfSBhcyBJUHJveHlSZXF1ZXN0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc3RvcDxUPihmb3JjZUNsb3NlID0gZmFsc2UpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdCkge1xuICAgICAgICAgICAgdGhyb3cgJ3Byb3h5IGlzIG5vdCBhY3RpdmUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVycm9yO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3RUb0lGcmFtZTxUPih7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLl9pZENyZWF0b3IoKSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiAnc3RvcCcsXG4gICAgICAgICAgICAgICAgfSBhcyBJUHJveHlTaWduYWxSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvciB8fCBmb3JjZUNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tdXRhdGlvbk9ic2VydmVycyAmJiB0aGlzLl9tdXRhdGlvbk9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2Nvbm5lY3QgbXV0YXRpb24gb2JzZXJ2ZXJzLCBpZiBhbnkuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BPYnNlcnZpbmdJRnJhbWVSZW1vdmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uUmVzcG9uc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZnJhbWVIb3N0LnJlbW92ZUNoaWxkKHRoaXMuX2lmcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pZnJhbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHdyYXBXaXRoPFQ+KHR5cGU6IG5ldyAoKSA9PiBUKTogVDtcbiAgICBwdWJsaWMgd3JhcFdpdGg8VD4odHlwZTogT2JqZWN0KTogVDtcbiAgICBwdWJsaWMgd3JhcFdpdGg8VD4oa2V5czogc3RyaW5nW10pOiBUO1xuICAgIHB1YmxpYyB3cmFwV2l0aDxUPih0eXBlOiAobmV3ICgpID0+IFQpIHwgT2JqZWN0IHwgc3RyaW5nW10pOiBUIHtcbiAgICAgICAgbGV0IGtleXM6IHN0cmluZ1tdO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIGtleXMgPSB1dGlscy5nZXRBbGxDbGFzc01ldGhvZHNOYW1lcyh0eXBlIGFzIGFueSk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBBcnJheSkga2V5cyA9IHR5cGU7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykga2V5cyA9IE9iamVjdC5rZXlzKHR5cGUpO1xuICAgICAgICAvLy5jb25jYXQoZ2V0QWxsQ2xhc3NNZXRob2RzTmFtZXMoT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUpKSk7XG4gICAgICAgIGVsc2UgdGhyb3cgJ3Vuc3VwcG9ydGVkIHR5cGUgZm9yIHdyYXBwZXInO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5RnJvbUtleXM8VD4oa2V5cyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm94eUZyb21LZXlzPFQ+KGtleXM6IHN0cmluZ1tdKTogVCB7XG4gICAgICAgIGNvbnN0IHByb3h5ID0ge307XG4gICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4gKHByb3h5W2tleV0gPSAoLi4uYXJncykgPT4gdGhpcy5zZW5kUmVxdWVzdChrZXksIGFyZ3MpKSk7XG4gICAgICAgIHJldHVybiBwcm94eSBhcyBUO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRPYnNlcnZpbmdJRnJhbWVSZW1vdmFsKCkge1xuICAgICAgICBsZXQgdGFyZ2V0Tm9kZSA9IHRoaXMuX2lmcmFtZSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhcmdldE5vZGUucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgLy8gb2JzZXJ2ZSB0aGUgaWZyYW1lIGFuZCBpdHMgcGFyZW50cyAoaWZyYW1lLGJvZHkpXG4gICAgICAgICAgICB0aGlzLmFkZE11dGF0aW9uT2JzZXJ2ZXIodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gdGFyZ2V0Tm9kZS5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9wT2JzZXJ2aW5nSUZyYW1lUmVtb3ZhbCgpIHtcbiAgICAgICAgdGhpcy5fbXV0YXRpb25PYnNlcnZlcnMuZm9yRWFjaChvYnNlcnZlciA9PiB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIuZGlzY29ubmVjdCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX211dGF0aW9uT2JzZXJ2ZXJzID0gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRNdXRhdGlvbk9ic2VydmVyKHRhcmdldE5vZGU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG11dGF0aW9uQ2FsbGJhY2s6IE11dGF0aW9uQ2FsbGJhY2sgPSBtdXRhdGlvbnNMaXN0ID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgY2hpbGQgbm9kZSBoYXMgYmVlbiByZW1vdmVkLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZE5vZGUgPSBtdXRhdGlvbi5yZW1vdmVkTm9kZXMuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkTm9kZSA9PT0gdGFyZ2V0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZ3lhLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiMjIyBHaWd5YSdzIHNlcnZpY2UgcHJveHkgaGFzIGJlZW4gdW5leHBlY3RlZGx5IGRldGFjaGVkIGZyb20gdGhlIERPTS4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoaXMgbWF5IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IgaW5jbHVkaW5nIGEgY29tcGxldGUgbG9zcyBvZiBzZXJ2aWNlLiAjIyMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wT2JzZXJ2aW5nSUZyYW1lUmVtb3ZhbCgpOyAvLyBjYW4gc3RvcCBvYnNlcnZpbmcgZm9yIGlmcmFtZSByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBzdG9wIHRoZSBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGxpbmtlZCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIG11dGF0aW9ucyBhcmUgb2JzZXJ2ZWRcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbkNhbGxiYWNrKTtcblxuICAgICAgICAvLyBTdGFydCBvYnNlcnZpbmcgdGhlIHRoZSB0YXJnZXQtbm9kZSdzIHBhcmVudCBlbGVtZW50IGZvciBjb25maWd1cmVkIG11dGF0aW9uc1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUucGFyZW50RWxlbWVudCwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLCAvLyBtb25pdG9ycyB0aGUgdGFyZ2V0IG5vZGUgZm9yIHRoZSBhZGRpdGlvbiBvciByZW1vdmFsIG9mIG5ldyBjaGlsZCBub2Rlc1xuICAgICAgICAgICAgc3VidHJlZTogZmFsc2UsIC8vIGRvIG5vdCBleHRlbmQgbW9uaXRvcmluZyB0byB0aGUgZW50aXJlIHN1YnRyZWUgb2Ygbm9kZXMgcm9vdGVkIGF0IHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9tdXRhdGlvbk9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF90cnlQYXJzZVJlc3BvbnNlKGRhdGFTdHI6IHN0cmluZyk6IElQcm94eVJlc3BvbnNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGFTdHIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnaWd5YS5sb2dnZXIud2FybihgcmVjZWl2ZWQgbWVzc2FnZSB3aXRoIGludmFsaWQgZm9ybWF0YCwge1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFTdHJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGdldFBhcmVudFVybCA9ICh3aW4gPSB3aW5kb3csIGRvYyA9IGRvY3VtZW50KSA9PiAod2luLmxvY2F0aW9uICE9IHdpbi5wYXJlbnQubG9jYXRpb24gPyBkb2MucmVmZXJyZXIgOiBkb2MubG9jYXRpb24uaHJlZik7XG5leHBvcnQgY29uc3QgZ2V0Qm9keUVsZW1lbnQgPSAoZG9jID0gZG9jdW1lbnQpID0+XG4gICAgbmV3IFByb21pc2U8SFRNTEVsZW1lbnQ+KHJlc29sdmUgPT4ge1xuICAgICAgICBpZiAoZG9jLmJvZHkpIHJlc29sdmUoZG9jLmJvZHkpO1xuICAgICAgICBlbHNlIGRvYy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gcmVzb2x2ZShkb2MuYm9keSkpO1xuICAgIH0pO1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlT3JpZ2luID0gKG9yaWdpbjogc3RyaW5nLCBjaGVja2VkOiBzdHJpbmcpID0+IG9yaWdpbj8udG9Mb3dlckNhc2UoKT8uaW5kZXhPZihjaGVja2VkPy50b0xvd2VyQ2FzZSgpKSA9PT0gMDtcbmV4cG9ydCBjb25zdCBjcmVhdGVJZnJhbWUgPSAodGl0bGU6IHN0cmluZyA9ICdHaWd5YSBGcmFtZScsIGRvYyA9IGRvY3VtZW50KSA9PiB7XG4gICAgY29uc3QgaWZyYW1lID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcwcHgnO1xuICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9ICcwcHgnO1xuICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGlmcmFtZS50aXRsZSA9IHRpdGxlO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICByZXR1cm4gaWZyYW1lO1xufTtcbmxldCBfY291bnRlciA9IDE7XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJZCA9ICgpID0+IHtcbiAgICByZXR1cm4gU3RyaW5nKF9jb3VudGVyKyspO1xufTtcbmZ1bmN0aW9uIGlzQ2xhc3ModHlwZTogYW55fChuZXcgKCkgPT4gYW55KSk6IHR5cGUgaXMgbmV3ICgpID0+IGFueSB7XG4gICAgcmV0dXJuICEhdHlwZS5wcm90b3R5cGU7XG59XG5leHBvcnQgY29uc3QgZ2V0QWxsQ2xhc3NNZXRob2RzTmFtZXMgPSAodHlwZTogT2JqZWN0fChuZXcgKCkgPT4gYW55KSk6IHN0cmluZ1tdID0+IHtcbiAgICBsZXQgcHJvcHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBsZXQgcHJvdG8gPSBpc0NsYXNzKHR5cGUpID8gdHlwZS5wcm90b3R5cGUgOiB0eXBlO1xuICAgIGRvIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8qKiBpbml0aWFsIGltcGxlbWVudGF0aW9uIC0gdXNpbmcgZmlsdGVyICoqL1xuICAgICAgICAgICAgY29uc3QgbCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKVxuICAgICAgICAgICAgICAgIC8vIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm90bykubWFwKHMgPT4gcy50b1N0cmluZygpKSlcbiAgICAgICAgICAgICAgICAubWFwKHMgPT4gcy50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAocCwgaSwgYXJyKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHByb3RvW3BdID09PSAnZnVuY3Rpb24nICYmIC8vb25seSB0aGUgbWV0aG9kc1xuICAgICAgICAgICAgICAgICAgICAgICAgcCAhPT0gJ2NvbnN0cnVjdG9yJyAmJiAvL25vdCB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIChpID09IDAgfHwgcCAhPT0gYXJyW2kgLSAxXSkgJiYgLy9ub3Qgb3ZlcnJpZGluZyBpbiB0aGlzIHByb3RvdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuaW5kZXhPZihwKSA9PT0gLTEsIC8vbm90IG92ZXJyaWRkZW4gaW4gYSBjaGlsZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwcm9wcyA9IHByb3BzLmNvbmNhdChsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLyoqIGJ1ZyBmaXggaW1wbGVtZW50YXRpb24gLSB1c2luZyBjdXN0b20gb3VyIG93biBmaWx0ZXIgbG9naWNcbiAgICAgICAgICAgICBjYXNlIG9mIEFycmF5LmZpbHRlciBwb2x5ZmlsbCBjYXVzaW5nIFwiY2FuIG5vdCByZWFkIHByb3BlcnR5ICcwJyBvZiB1bmRlZmluZWRcIiAqKi9cbiAgICAgICAgICAgIGNvbnN0IGFyciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKVxuICAgICAgICAgICAgICAgIC8vIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm90bykubWFwKHMgPT4gcy50b1N0cmluZygpKSlcbiAgICAgICAgICAgICAgICAubWFwKHMgPT4gcy50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5zb3J0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGwgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGFycltpXTtcblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHByb3RvW3BdID09PSAnZnVuY3Rpb24nICYmIC8vb25seSB0aGUgbWV0aG9kc1xuICAgICAgICAgICAgICAgICAgICBwICE9PSAnY29uc3RydWN0b3InICYmIC8vbm90IHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAoaSA9PSAwIHx8IHAgIT09IGFycltpIC0gMV0pICYmIC8vbm90IG92ZXJyaWRpbmcgaW4gdGhpcyBwcm90b3R5cGVcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuaW5kZXhPZihwKSA9PT0gLTFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9ub3Qgb3ZlcnJpZGRlbiBpbiBhIGNoaWxkXG5cbiAgICAgICAgICAgICAgICAgICAgbC5wdXNoKHApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzID0gcHJvcHMuY29uY2F0KGwpO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoXG4gICAgICAgIChwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykpICYmIC8vd2Fsay11cCB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgLy9ub3QgdGhlIHRoZSBPYmplY3QgcHJvdG90eXBlIG1ldGhvZHMgKGhhc093blByb3BlcnR5LCBldGMuLi4pXG4gICAgKTtcblxuICAgIHJldHVybiBwcm9wcztcbn07XG4iLCJleHBvcnQgY2xhc3MgR2xvYmFsUHJvdmlkZXIge1xuICAgIHB1YmxpYyBkb2N1bWVudExvY2F0aW9uKCk6IExvY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uO1xuICAgIH1cbiAgICBwdWJsaWMgcG9zdE1lc3NhZ2VUb1BhcmVudChtZXNzYWdlOiBhbnksIHRhcmdldE9yaWdpbjogc3RyaW5nLCB0cmFuc2Zlcj86IFRyYW5zZmVyYWJsZVtdKTogdm9pZCB7XG4gICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGFyZ2V0T3JpZ2luLCB0cmFuc2Zlcik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgR2xvYmFsUHJvdmlkZXIoKVxuIiwiaW1wb3J0IHtcbiAgICBHZXRHcm91cFRva2VuUmVzcG9uc2UsXG4gICAgQ2FuYXJ5SW5kaWNhdGlvblJlc3BvbnNlLFxuICAgIEdldExvZ2luVG9rZW5FeHBSZXNwb25zZSxcbiAgICBGcmFtZVNldEdyb3VwVG9rZW5QYXJhbXMsXG4gICAgRnJhbWVMb2dvdXRQYXJhbXMsXG4gICAgRnJhbWVSZW1vdmVUb2tlblBhcmFtcyxcbiAgICBGcmFtZUdldEdyb3VwVG9rZW5QYXJhbXMsXG4gICAgRnJhbWVTZXRMb2dpblRva2VuRXhwUGFyYW1zLFxuICAgIEZyYW1lR2V0TG9naW5Ub2tlbkV4cFBhcmFtcyxcbiAgICBGcmFtZUNoZWNrVG9rZW5SZW5ld1BhcmFtcyxcbiAgICBGcmFtZVN5bmNDYW5hcnlJbmRpY2F0aW9uLFxuICAgIENhbmFyeVZlcnNpb24sXG4gICAgRnJhbWVTZXRHcm91cENvbnRleHQsXG4gICAgSVNzb1NlcnZpY2UsXG4gICAgU2V0TG9naW5Ub2tlbkV4cFJlc3BvbnNlLFxuICAgIEdldEdyb3VwQXBpRG9tYWluUmVzcG9uc2UsXG4gICAgRnJhbWVTZXRHcm91cEFwaURvbWFpbixcbiAgICBGcmFtZUdldEdyb3VwQXBpRG9tYWluLFxuICAgIFNES0xvZ291dFJlc3BvbnNlXG59IGZyb20gJ3NyYy9maWRtL0dpZ3lhLkpTLlNTTy9hcHAvaW50ZXJmYWNlcyc7XG5pbXBvcnQge0dTRXJyb3JzfSBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvR1NFcnJvcnMnO1xuaW1wb3J0IHtTc29VdGlsc30gZnJvbSBcInNyYy9maWRtL0dpZ3lhLkpTLlNTTy9hcHAvc3NvVXRpbHNcIjtcbmltcG9ydCB7SVNzb0NvbmZpZ30gZnJvbSAnc3JjL2NvcmUvR2lneWEuSnMvaW50ZXJmYWNlcy9JV2ViU2RrQ29uZmlnJztcblxuZXhwb3J0IGNsYXNzIFNzbyBpbXBsZW1lbnRzIElTc29TZXJ2aWNlIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zdG9yYWdlS2V5OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY2FuYXJ5S2V5OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY2FuYXJ5VmVyS2V5OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfY3VycmVudEZyYWdtZW50OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfbW9kZTogc3RyaW5nO1xuICAgIHByaXZhdGUgX3JlcXVlc3REb21haW46IHN0cmluZztcbiAgICBwcml2YXRlIF9saWQ6IHN0cmluZztcbiAgICBwcml2YXRlIF9jYWxsYmFja0lEOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9hcGlLZXk6IHN0cmluZyxcbiAgICAgICAgICAgICAgICBwcml2YXRlIF9zaXRlQXBpS2V5OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBfc3NvU2VnbWVudDogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgX3Nzb0NvbmZpZzogSVNzb0NvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWREb21haW5zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgbG9nb3V0VVJMczoge30sXG4gICAgICAgICAgICAgICAgICAgIGNhbmFyeUNvb2tpZXNOYW1lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNDYW5hcnk6ICdnaWdfaXNDYW5hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJ2dpZ19jYW5hcnlfdmVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIF91dGlscyA9IG5ldyBTc29VdGlscygpLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgX3N0b3JhZ2UgPSBfdXRpbHMuZ2V0Q29va2llc1N0b3JhZ2UoKSkge1xuXG4gICAgICAgIHRoaXMuX3N0b3JhZ2VLZXkgPSB0aGlzLl9jcmVhdGVLZXkoJ2dpZ19sb2dpblRva2VuJyk7XG4gICAgICAgIGNvbnN0IGNhbmFyeUNvb2tpZXNOYW1lcyA9IHRoaXMuX3Nzb0NvbmZpZy5jYW5hcnlDb29raWVzTmFtZXM7XG4gICAgICAgIGlmICh0eXBlb2YgY2FuYXJ5Q29va2llc05hbWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5fY2FuYXJ5S2V5ID0gdGhpcy5fY3JlYXRlS2V5KGNhbmFyeUNvb2tpZXNOYW1lcy5pc0NhbmFyeSk7XG4gICAgICAgICAgICB0aGlzLl9jYW5hcnlWZXJLZXkgPSB0aGlzLl9jcmVhdGVLZXkoY2FuYXJ5Q29va2llc05hbWVzLnZlcnNpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgIC8vIFN0YXJ0IHJlcGVhdGVkbHkgY2hlY2tpbmcgZnJhZ21lbnQgZm9yIGEgbmV3IGNhbGwuXG4gICAgICAgIHRoaXMuX2NoZWNrRnJhZ21lbnQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jaGVja0ZyYWdtZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBmcmFnbWVudDogc3RyaW5nID0gdGhpcy5fdXRpbHMuZ2V0RnJhZ21lbnQoKTtcbiAgICAgICAgaWYgKGZyYWdtZW50ICYmIGZyYWdtZW50ICE9PSB0aGlzLl9jdXJyZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICAgICAgdGhpcy5fc3RhcnQodGhpcy5fdXRpbHMuZGVzZXJpYWxpemUoZnJhZ21lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0ZyYWdtZW50LCAyMDApO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGFzeW5jIF9zdGFydChcbiAgICAgICAgcGFyYW1zOlxuICAgICAgICAgICAgfCBGcmFtZVNldEdyb3VwVG9rZW5QYXJhbXNcbiAgICAgICAgICAgIHwgRnJhbWVMb2dvdXRQYXJhbXNcbiAgICAgICAgICAgIHwgRnJhbWVSZW1vdmVUb2tlblBhcmFtc1xuICAgICAgICAgICAgfCBGcmFtZUdldEdyb3VwVG9rZW5QYXJhbXNcbiAgICAgICAgICAgIHwgRnJhbWVTZXRMb2dpblRva2VuRXhwUGFyYW1zXG4gICAgICAgICAgICB8IEZyYW1lR2V0TG9naW5Ub2tlbkV4cFBhcmFtc1xuICAgICAgICAgICAgfCBGcmFtZUNoZWNrVG9rZW5SZW5ld1BhcmFtc1xuICAgICAgICAgICAgfCBGcmFtZVN5bmNDYW5hcnlJbmRpY2F0aW9uXG4gICAgICAgICAgICB8IEZyYW1lU2V0R3JvdXBDb250ZXh0XG4gICAgICAgICAgICB8IEZyYW1lU2V0R3JvdXBBcGlEb21haW5cbiAgICAgICAgICAgIHwgRnJhbWVHZXRHcm91cEFwaURvbWFpblxuICAgICkge1xuICAgICAgICB0aGlzLl9tb2RlID0gcGFyYW1zLm07XG4gICAgICAgIHRoaXMuX3JlcXVlc3REb21haW4gPSBwYXJhbXMuZDsgLy8gUmVjZWl2aW5nIGRvbWFpbi5cbiAgICAgICAgdGhpcy5fbGlkID0gcGFyYW1zLmxpZDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tJRCA9IHBhcmFtcy5jYWxsYmFja0lEO1xuICAgICAgICB0aGlzLl9zaXRlQXBpS2V5ID0gcGFyYW1zLnNBUElLZXk7XG5cbiAgICAgICAgLy8gQWJvcnQgaWYgbm90IGluIGlGcmFtZVxuICAgICAgICBpZiAoIXdpbmRvdy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBnaWd5YSBzc286IGludmFsaWQgdXNlYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3V0aWxzLmlzVmFsaWREb21haW4odGhpcy5fc3NvQ29uZmlnLnZhbGlkRG9tYWlucywgdGhpcy5fcmVxdWVzdERvbWFpbikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBnaWd5YSBzc286ICR7dGhpcy5fcmVxdWVzdERvbWFpbn0gaXMgbm90IGluIHZhbGlkIGRvbWFpbjogJHt0aGlzLl9zc29Db25maWcudmFsaWREb21haW5zLmpvaW4oJywnKX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNwb25zZTogYW55O1xuICAgICAgICBzd2l0Y2ggKHBhcmFtcy5tKSB7XG4gICAgICAgICAgICBjYXNlICdsb2dvdXQnOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5sb2dvdXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAncmVtb3ZlVG9rZW4nOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlVG9rZW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZ2V0VG9rZW4nOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZXRUb2tlbic6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRUb2tlbihwYXJhbXMubHQsIFN0cmluZyhwYXJhbXMuZXhwaXJhdGlvbiksIHBhcmFtcy5nbHRleHApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZXRHcm91cENvbnRleHQnOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0R3JvdXBDb250ZXh0KHBhcmFtcy5ncm91cENvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZXRMb2dpblRva2VuRXhwJzpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2V0VG9rZW5FeHBpcmF0aW9uKHBhcmFtcy5sb2dpblRva2VuRXhwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZ2V0TG9naW5Ub2tlbkV4cCc6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldFRva2VuRXhwaXJhdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdjaGVja1Rva2VuUmVuZXcnOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jaGVja1Rva2VuUmVuZXcocGFyYW1zLmxvZ2luVG9rZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzeW5jQ2FuYXJ5SW5kaWNhdGlvbic6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN5bmNDYW5hcnlJbmRpY2F0aW9uKHBhcmFtcy5pc0NhbmFyeSwgcGFyYW1zLmNhbmFyeVZlcnNpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdzZXRHcm91cEFwaURvbWFpbic6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRHcm91cEFwaURvbWFpbihwYXJhbXMuZG9tYWluKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZ2V0R3JvdXBBcGlEb21haW4nOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXRHcm91cEFwaURvbWFpbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLklOVkFMSURfQVBJX01FVEhPRCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXRpbHMuc2VuZE1lc3NhZ2UocmVzcG9uc2UsIHRoaXMuX2NhbGxiYWNrSUQsIHRoaXMuX3JlcXVlc3REb21haW4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRHcm91cEFwaURvbWFpbigpOiBQcm9taXNlPEdldEdyb3VwQXBpRG9tYWluUmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgZG9tYWluID0gdGhpcy5fc3RvcmFnZS5nZXRJdGVtKGBhcGlEb21haW5fJHt0aGlzLl9hcGlLZXl9YClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuT0ssXG4gICAgICAgICAgICBkb21haW5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0R3JvdXBBcGlEb21haW4oZG9tYWluOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKGBhcGlEb21haW5fJHt0aGlzLl9hcGlLZXl9YCwgZG9tYWluKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgbG9nb3V0KCk6IFByb21pc2U8U0RLTG9nb3V0UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgbG9nb3V0VVJMcyA9IHRoaXMuX2dldExvZ291dFVSTHMoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVUb2tlbigpO1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fdmlzaXRlZGApO1xuICAgICAgICByZXR1cm4geyBsb2dvdXRVUkxzIH07XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHJlbW92ZVRva2VuKCkge1xuICAgICAgICBsZXQgbG9naW5Ub2tlbiA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9zdG9yYWdlS2V5KTtcbiAgICAgICAgaWYgKGxvZ2luVG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcmtSZXZva2VkTG9naW5Ub2tlbihsb2dpblRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9zdG9yYWdlS2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fZXhwYCk7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbShgJHt0aGlzLl9zdG9yYWdlS2V5fV9nbHRleHBgKTtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKGAke3RoaXMuX3N0b3JhZ2VLZXl9X3Nlc3Npb25gKTtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKGAke3RoaXMuX3N0b3JhZ2VLZXl9X2NvbnRleHRgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0VG9rZW4oKTogUHJvbWlzZTxHZXRHcm91cFRva2VuUmVzcG9uc2U+IHtcbiAgICAgICAgbGV0IGVycm9yQ29kZSA9IDA7XG4gICAgICAgIGxldCBsdCA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9zdG9yYWdlS2V5KTtcbiAgICAgICAgY29uc3Qgc3RvcmFnZUV4cCA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShgJHt0aGlzLl9zdG9yYWdlS2V5fV9leHBgKTtcbiAgICAgICAgbGV0IGV4cDtcbiAgICAgICAgaWYgKHN0b3JhZ2VFeHAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBleHAgPSBEYXRlLm5vdygpIC0gMTAwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cCA9IE51bWJlcihzdG9yYWdlRXhwKTtcbiAgICAgICAgICAgIGNvbnN0IHR3b1llYXJGcm9tTm93ID0gRGF0ZS5ub3coKSArICgxMDAwICogNjAgKiA2MCAqIDI0ICogMzY1ICogMik7XG4gICAgICAgICAgICBpZiAoZXhwID4gdHdvWWVhckZyb21Ob3cpIHtcbiAgICAgICAgICAgICAgICBleHAgPSBEYXRlLm5vdygpIC0gMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnbHRleHAgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fZ2x0ZXhwYCk7XG4gICAgICAgIGNvbnN0IGdyb3VwQ29udGV4dCA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbShgJHt0aGlzLl9zdG9yYWdlS2V5fV9jb250ZXh0YCk7XG4gICAgICAgIGNvbnN0IGluU2Vzc2lvbiA9IGdsdGV4cCB8fCB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fc2Vzc2lvbmApID09PSAnMSc7XG4gICAgICAgIGlmICghaXNOYU4oZXhwKSAmJiAoKGV4cCA9PT0gMCAmJiAhaW5TZXNzaW9uKSB8fCAoZXhwID4gMCAmJiBuZXcgRGF0ZSgpLmdldFRpbWUoKSA+IGV4cCkpKSB7XG4gICAgICAgICAgICAvLyBleHBpcmVkIVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVUb2tlbigpO1xuICAgICAgICAgICAgbHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsdCkge1xuICAgICAgICAgICAgLy8gbm8gdXNlclxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLlVOQVVUSE9SSVpFRF9VU0VSLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcmtTaXRlVmlzaXRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IEdldEdyb3VwVG9rZW5SZXNwb25zZSA9IHtcbiAgICAgICAgICAgIGVycm9yQ29kZTogZXJyb3JDb2RlLFxuICAgICAgICAgICAgbG9naW5fdG9rZW46IGx0LFxuICAgICAgICAgICAgZXhwaXJlc19pbjogZXhwID09PSAwID8gMCA6IE1hdGgucm91bmQoKGV4cCAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAvIDEwMDApLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKGdyb3VwQ29udGV4dCl7XG4gICAgICAgICAgICByZXNwb25zZS5ncm91cENvbnRleHQgPSBncm91cENvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXhwID09PSAwICYmIGdsdGV4cCkge1xuICAgICAgICAgICAgcmVzcG9uc2UuZ2x0ZXhwID0gZ2x0ZXhwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0VG9rZW4obHQ6IHN0cmluZywgZXhwaXJhdGlvbj86IHN0cmluZyB8IG51bWJlciwgZ2x0ZXhwPzogc3RyaW5nKSB7XG4gICAgICAgIGx0ID0gbHQuc3BsaXQoJ3wnKVswXTtcbiAgICAgICAgY29uc3Qgb2xkVG9rZW4gPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0odGhpcy5fc3RvcmFnZUtleSk/LnNwbGl0KCd8JylbMF07XG4gICAgICAgIGlmIChsdCAhPT0gb2xkVG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcmtSZXZva2VkTG9naW5Ub2tlbihvbGRUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9zdG9yYWdlS2V5LCBsdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cGlyYXRpb24pIHtcbiAgICAgICAgICAgIGxldCBleHBpcmVzSW4gPSB0eXBlb2YgZXhwaXJhdGlvbiA9PT0gJ3N0cmluZycgJiYgZXhwaXJhdGlvbiA/IE51bWJlcihleHBpcmF0aW9uKSA6IGV4cGlyYXRpb247XG5cbiAgICAgICAgICAgIGlmIChleHBpcmVzSW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBTZXNzaW9uIGNvb2tpZSBvciBkeW5hbWljIHNlc3Npb24gY29va2llLlxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciB3YXksIGZsYWcgdGhlIGV4cGlyYXRpb24gYXMgMC5cbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZyb20gbm93IHdoZW4gdGhlIGNvb2tpZSBzaG91bGQgZXhwaXJlLlxuICAgICAgICAgICAgICAgIGxldCBleHBpcmVzSW5NczogbnVtYmVyO1xuICAgICAgICAgICAgICAgIGlmICghZXhwaXJlc0luIHx8IGV4cGlyZXNJbiA9PT0gLTIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc0luTXMgPSAxMDAwICogNjAgKiA2MCAqIDI0ICogMzY1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNJbk1zID0gTnVtYmVyKGV4cGlyZXNJbikgKiAxMDAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgZXhwaXJlcyBpbiBtaWxsaXNlY29uZHMgdG8gYW4gYSB0aW1lc3RhbXAgKGFsc28gbWlsbGlzZWNvbmRzKS5cbiAgICAgICAgICAgICAgICBleHBpcmVzSW4gPSBEYXRlLm5vdygpICsgZXhwaXJlc0luTXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdG9yYWdlLnNldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fZXhwYCwgYCR7ZXhwaXJlc0lufWApO1xuICAgICAgICAgICAgaWYgKGV4cGlyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9yYWdlLnNldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fc2Vzc2lvbmAsICcxJywgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGV4cCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldFRva2VuRXhwaXJhdGlvbihnbHRleHApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGx0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9tYXJrU2l0ZVZpc2l0ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzZXRHcm91cENvbnRleHQoZ3JvdXBDb250ZXh0OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKGAke3RoaXMuX3N0b3JhZ2VLZXl9X2NvbnRleHRgLCBKU09OLnN0cmluZ2lmeShncm91cENvbnRleHQpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc2V0VG9rZW5FeHBpcmF0aW9uKGdsdGV4cDogc3RyaW5nKTogUHJvbWlzZTxTZXRMb2dpblRva2VuRXhwUmVzcG9uc2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl91dGlscy5pc1ZhbGlkR2x0RXhwKGdsdGV4cCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2UucmVtb3ZlSXRlbShgJHt0aGlzLl9zdG9yYWdlS2V5fV9nbHRleHBgKTtcbiAgICAgICAgICAgIGdsdGV4cCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbHRleHAgPSB0aGlzLl91dGlscy5nZXRNYXhHbHRFeHAoZ2x0ZXhwLCAoYXdhaXQgdGhpcy5nZXRUb2tlbkV4cGlyYXRpb24oKSkuZ2x0ZXhwKTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2Uuc2V0SXRlbShgJHt0aGlzLl9zdG9yYWdlS2V5fV9nbHRleHBgLCBnbHRleHApO1xuICAgICAgICAgICAgdGhpcy5fc3RvcmFnZS5yZW1vdmVJdGVtKGAke3RoaXMuX3N0b3JhZ2VLZXl9X2V4cGApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuT0ssXG4gICAgICAgICAgICBnbHRleHAsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFRva2VuRXhwaXJhdGlvbigpOiBQcm9taXNlPEdldExvZ2luVG9rZW5FeHBSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBsdCA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9zdG9yYWdlS2V5KTtcbiAgICAgICAgaWYgKCFsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLlVOQVVUSE9SSVpFRF9VU0VSLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvckNvZGU6IEdTRXJyb3JzLk9LLFxuICAgICAgICAgICAgZ2x0ZXhwOiB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fZ2x0ZXhwYCksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNoZWNrVG9rZW5SZW5ldyhsb2dpblRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEdldEdyb3VwVG9rZW5SZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBncm91cFRva2VuID0gYXdhaXQgdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICBjb25zdCBpbnZhbGlkVG9rZW5zID0gdGhpcy5fc3RvcmFnZS5nZXRJdGVtKGAke3RoaXMuX3N0b3JhZ2VLZXl9X3Jldm9rZWRfdG9rZW5zYCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9IGludmFsaWRUb2tlbnMuaW5kZXhPZihsb2dpblRva2VuKSA+PSAwO1xuICAgICAgICBpZiAoIWlzSW52YWxpZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXRUb2tlbihsb2dpblRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3JDb2RlOiBHU0Vycm9ycy5PS307XG4gICAgICAgIH0gZWxzZSBpZiAoZ3JvdXBUb2tlbi5lcnJvckNvZGUgPT09IEdTRXJyb3JzLk9LICYmIGludmFsaWRUb2tlbnMuaW5kZXhPZihncm91cFRva2VuLmxvZ2luX3Rva2VuKSA8IDApIHtcbiAgICAgICAgICAgIC8vIGp1c3QgY2hhbmdpbmcgdGhlIGVycm9yIGNvZGUgLSBidXQgcmV0dXJuaW5nIHRoZSBzYW1lIHNlc3Npb24gaW5mbyBvZiB0aGUgZ3JvdXBcbiAgICAgICAgICAgIGdyb3VwVG9rZW4uZXJyb3JDb2RlID0gR1NFcnJvcnMuVE9LRU5fSEFTX1JFTkVXRUQ7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBUb2tlbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7ZXJyb3JDb2RlOiBHU0Vycm9ycy5JTlZBTElEX1RPS0VOfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBzeW5jQ2FuYXJ5SW5kaWNhdGlvbihpc0NhbmFyeTogc3RyaW5nLCB2ZXJzaW9uU2lnbmF0dXJlOiBzdHJpbmcpOiBQcm9taXNlPENhbmFyeUluZGljYXRpb25SZXNwb25zZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2NhbmFyeUtleSB8fCAhdGhpcy5fY2FuYXJ5VmVyS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4ge2Vycm9yQ29kZTogR1NFcnJvcnMuSU5WQUxJRF9FTlZJUk9OTUVOVF9DT05GSUd9IGFzIENhbmFyeUluZGljYXRpb25SZXNwb25zZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFNTT0lzQ2FuYXJ5ID0gdGhpcy5fc3RvcmFnZS5nZXRJdGVtKHRoaXMuX2NhbmFyeUtleSk7XG4gICAgICAgIGNvbnN0IFNTT1ZlcnNpb25TaWduYXR1cmUgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0odGhpcy5fY2FuYXJ5VmVyS2V5KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZTogQ2FuYXJ5SW5kaWNhdGlvblJlc3BvbnNlID0ge1xuICAgICAgICAgICAgZXJyb3JDb2RlOiBHU0Vycm9ycy5PSyxcbiAgICAgICAgICAgIGlzQ2FuYXJ5LFxuICAgICAgICAgICAgY2FuYXJ5VmVyc2lvbjogdmVyc2lvblNpZ25hdHVyZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLl91dGlscy52YWxpZGF0aW9ucygpLmFsbERlZmluZWRPckFsbFVuZGVmaW5lZChTU09Jc0NhbmFyeSwgU1NPVmVyc2lvblNpZ25hdHVyZSkpIHtcbiAgICAgICAgICAgIC8vIG5vdCBsZWdhbFxuICAgICAgICAgICAgcmVzcG9uc2UuZXJyb3JDb2RlID0gR1NFcnJvcnMuSU5WQUxJRF9QQVJBTUVURVJfVkFMVUU7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3V0aWxzLnZhbGlkYXRpb25zKCkuYWxsRGVmaW5lZE9yQWxsVW5kZWZpbmVkKGlzQ2FuYXJ5LCB2ZXJzaW9uU2lnbmF0dXJlKSkge1xuICAgICAgICAgICAgLy8gbm90IGxlZ2FsXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogR1NFcnJvcnMuSU5WQUxJRF9QQVJBTUVURVJfVkFMVUUsXG4gICAgICAgICAgICAgICAgaXNDYW5hcnk6IFNTT0lzQ2FuYXJ5LFxuICAgICAgICAgICAgICAgIGNhbmFyeVZlcnNpb246IFNTT1ZlcnNpb25TaWduYXR1cmUsXG4gICAgICAgICAgICB9IGFzIENhbmFyeUluZGljYXRpb25SZXNwb25zZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNpdGVDYW5hcnlWZXJzaW9uID0gdGhpcy5fcGFyc2VDYW5hcnlWZXJzaW9uU2lnbmF0dXJlKHZlcnNpb25TaWduYXR1cmUpO1xuICAgICAgICBjb25zdCBTU09DYW5hcnlWZXJzaW9uID0gdGhpcy5fcGFyc2VDYW5hcnlWZXJzaW9uU2lnbmF0dXJlKFNTT1ZlcnNpb25TaWduYXR1cmUpO1xuXG4gICAgICAgIGlmIChzaXRlQ2FuYXJ5VmVyc2lvbi50aW1lc3RhbXAgPiBTU09DYW5hcnlWZXJzaW9uLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKHRoaXMuX2NhbmFyeUtleSwgaXNDYW5hcnkpO1xuICAgICAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKHRoaXMuX2NhbmFyeVZlcktleSwgdmVyc2lvblNpZ25hdHVyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZS5pc0NhbmFyeSA9IFNTT0lzQ2FuYXJ5O1xuICAgICAgICAgICAgcmVzcG9uc2UuY2FuYXJ5VmVyc2lvbiA9IFNTT1ZlcnNpb25TaWduYXR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbWFya1NpdGVWaXNpdGVkKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB2aXNpdGVkU3RvcmFnZUtleSA9IGAke3RoaXMuX3N0b3JhZ2VLZXl9X3Zpc2l0ZWRgO1xuICAgICAgICBsZXQgdmlzaXRlZCA9IHRoaXMuX3N0b3JhZ2UuZ2V0SXRlbSh2aXNpdGVkU3RvcmFnZUtleSkgfHwgJyc7XG4gICAgICAgIGlmICh2aXNpdGVkLmluZGV4T2YodGhpcy5fc2l0ZUFwaUtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICB2aXNpdGVkICs9ICcsJyArIHRoaXMuX3NpdGVBcGlLZXk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKHZpc2l0ZWRTdG9yYWdlS2V5LCB2aXNpdGVkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXJrUmV2b2tlZExvZ2luVG9rZW4obG9naW5Ub2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICghbG9naW5Ub2tlbikgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbnZhbGlkVG9rZW5zU3RvcmFnZUtleSA9IGAke3RoaXMuX3N0b3JhZ2VLZXl9X3Jldm9rZWRfdG9rZW5zYDtcbiAgICAgICAgbGV0IGludmFsaWRUb2tlbnMgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oaW52YWxpZFRva2Vuc1N0b3JhZ2VLZXkpIHx8ICcnO1xuICAgICAgICBsZXQgYXJySW52YWxpZFRva2VucyA9IGludmFsaWRUb2tlbnMuc3BsaXQoJywnKTtcbiAgICAgICAgaWYgKGFyckludmFsaWRUb2tlbnMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgLy9kZWxldGUgb25lIG9sZCByZXZva2VkIHRva2VuXG4gICAgICAgICAgICBhcnJJbnZhbGlkVG9rZW5zLnNwbGljZSgxLCAxKTsgLy8gZmlyc3QgZWxlbWVudCBpcyBhbHdheXMgZW1wdHlcbiAgICAgICAgfVxuICAgICAgICBpbnZhbGlkVG9rZW5zID0gYXJySW52YWxpZFRva2Vucy5qb2luKCcsJyk7XG4gICAgICAgIGlmIChpbnZhbGlkVG9rZW5zLmluZGV4T2YobG9naW5Ub2tlbikgPCAwKSB7XG4gICAgICAgICAgICBpbnZhbGlkVG9rZW5zICs9ICcsJyArIGxvZ2luVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXRJdGVtKGludmFsaWRUb2tlbnNTdG9yYWdlS2V5LCBpbnZhbGlkVG9rZW5zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRMb2dvdXRVUkxzKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHZpc2l0ZWQgPSB0aGlzLl9zdG9yYWdlLmdldEl0ZW0oYCR7dGhpcy5fc3RvcmFnZUtleX1fdmlzaXRlZGApO1xuICAgICAgICBpZiAoIXZpc2l0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhckxvZ291dFVSTHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzaXRlS2V5IGluIHRoaXMuX3Nzb0NvbmZpZy5sb2dvdXRVUkxzKSB7XG4gICAgICAgICAgICBpZiAodmlzaXRlZC5pbmRleE9mKCcsJyArIHNpdGVLZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGFyTG9nb3V0VVJMcy5wdXNoKHRoaXMuX3Nzb0NvbmZpZy5sb2dvdXRVUkxzW3NpdGVLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJMb2dvdXRVUkxzLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVLZXkobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAke25hbWV9XyR7dGhpcy5fYXBpS2V5fSR7dGhpcy5fc3NvU2VnbWVudCA/IGBfJHt0aGlzLl9zc29TZWdtZW50fWAgOiAnJ31gO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3BhcnNlQ2FuYXJ5VmVyc2lvblNpZ25hdHVyZShjYW5hcnlWZXJzaW9uU2lnOiBzdHJpbmcpOiBDYW5hcnlWZXJzaW9uIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdERhdGEgPSB7YnVpbGQ6IDAsIHByb2JhYmlsaXR5OiAwLCB0aW1lc3RhbXA6IC0xfSBhcyBDYW5hcnlWZXJzaW9uO1xuICAgICAgICBpZiAoIWNhbmFyeVZlcnNpb25TaWcpIHJldHVybiBkZWZhdWx0RGF0YTtcbiAgICAgICAgY29uc3QgcGFydHMgPSBjYW5hcnlWZXJzaW9uU2lnLnNwbGl0KCctJyk7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1aWxkOiBOdW1iZXIocGFydHNbMF0pLFxuICAgICAgICAgICAgcHJvYmFiaWxpdHk6IE51bWJlcihwYXJ0c1sxXSksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IE51bWJlcihwYXJ0c1syXSksXG4gICAgICAgIH0gYXMgQ2FuYXJ5VmVyc2lvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQge1VyaX0gZnJvbSBcInNyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VcmlcIjtcbmltcG9ydCAqIGFzIHZhbGlkYXRpb25VdGlscyBmcm9tICdzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvdmFsaWRhdGlvbic7XG5pbXBvcnQgR2xvYmFsUHJvdmlkZXIgZnJvbSBcIi4vZ2xvYmFsUHJvdmlkZXJcIjtcbmltcG9ydCB7Q29va2llU3RvcmFnZUFkYXB0ZXIsIGluaXRpYWxpemVBZGFwdGVyfSBmcm9tIFwic3JjL2NvcmUvR2lneWEuSnMvYXBwL1V0aWxzL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHtkZXNlcmlhbGl6ZX0gZnJvbSBcInNyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9rZXlWYWx1ZVwiO1xuaW1wb3J0IHtnZXRNYXggYXMgZ2V0TWF4R2x0RXhwLCBpc1ZhbGlkIGFzIGlzVmFsaWRHbHRFeHB9IGZyb20gXCJzcmMvY29yZS9HaWd5YS5Kcy9hcHAvVXRpbHMvZ2x0ZXhwXCI7XG5pbXBvcnQge1VSTERlY29kZVJlY3Vyc2l2ZX0gZnJvbSBcInNyYy9jb3JlL0dpZ3lhLkpzL2FwcC9VdGlscy9VUkxcIjtcblxuY29uc3QgZGVmYXVsdFZhbGlkRG9tYWlucyA9IFsnZ2lneWEtYXBpLmNvbScsICdnaWd5YS1hcGkuY24nLCAnZ2lneWEuY29tJywgJ215LmdpZ3lhLWV4dC5jb20nLCAnbG9jYWxob3N0J107XG5cbmV4cG9ydCBjbGFzcyBTc29VdGlscyB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9nbG9iYWwgPSBHbG9iYWxQcm92aWRlciwgcHJpdmF0ZSBfZGVmYXVsdFZhbGlkRG9tYWlucyA9IGRlZmF1bHRWYWxpZERvbWFpbnMpIHt9XG5cbiAgICBnZXRQYWdlVXJsKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nbG9iYWwuZG9jdW1lbnRMb2NhdGlvbigpLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVmFsaWREb21haW4odmFsaWREb21haW5zOiBzdHJpbmdbXSwgY2FuZGlkYXRlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZG9tYWluID0gVXJpLnBhcnNlKGNhbmRpZGF0ZSkuZG9tYWluO1xuICAgICAgICBjb25zdCBhclZhbGlkRG9tYWlucyA9IHZhbGlkRG9tYWlucy5jb25jYXQodGhpcy5fZGVmYXVsdFZhbGlkRG9tYWlucyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJWYWxpZERvbWFpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkRG9tYWluID0gYXJWYWxpZERvbWFpbnNbaV0ucmVwbGFjZSgnKicsICcnKS5zcGxpdCgnOicpWzBdO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhPZlZhbGlkRG9tYWluID0gZG9tYWluLmluZGV4T2YodmFsaWREb21haW4pO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGluZGV4T2ZWYWxpZERvbWFpbiA+PSAwICYmXG4gICAgICAgICAgICAgICAgaW5kZXhPZlZhbGlkRG9tYWluID09PSBkb21haW4ubGVuZ3RoIC0gdmFsaWREb21haW4ubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgKGluZGV4T2ZWYWxpZERvbWFpbiA9PT0gMCB8fCBkb21haW4uY2hhckF0KGluZGV4T2ZWYWxpZERvbWFpbiAtIDEpID09PSAnLicgfHwgZG9tYWluLmNoYXJBdChpbmRleE9mVmFsaWREb21haW4gLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZW5kTWVzc2FnZShyZXM6IE9iamVjdCwgY2FsbGJhY2tJRDogc3RyaW5nLCByZXF1ZXN0RG9tYWluOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgbGV0IHN0ck1lc3NhZ2UgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBwIGluIHJlcykge1xuICAgICAgICAgICAgaWYgKHJlc1twXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RyTWVzc2FnZSArPSBlc2NhcGUocCArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXNbcF0pICsgJyYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9nbG9iYWwucG9zdE1lc3NhZ2VUb1BhcmVudChjYWxsYmFja0lEICsgJz0nICsgc3RyTWVzc2FnZSwgcmVxdWVzdERvbWFpbik7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVmFsaWRHbHRFeHAoZ2x0RXhwOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRHbHRFeHAoZ2x0RXhwKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TWF4R2x0RXhwKGdsdEV4cDE6IHN0cmluZywgZ2x0RXhwMjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBnZXRNYXhHbHRFeHAoZ2x0RXhwMSwgZ2x0RXhwMik7XG4gICAgfVxuXG4gICAgcHVibGljIGRlY29kZVVybCh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFVSTERlY29kZVJlY3Vyc2l2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc2VyaWFsaXplKHZhbHVlOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICByZXR1cm4gZGVzZXJpYWxpemUodmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDb29raWVzU3RvcmFnZSgpIHtcbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVBZGFwdGVyKENvb2tpZVN0b3JhZ2VBZGFwdGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdmFsaWRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0aW9uVXRpbHM7XG4gICAgfVxuXG4gICAgcHVibGljIFVyaUZhY3RvcnkodXJsOiBzdHJpbmcsIGlzQWJzb2x1dGUgPSB0cnVlKTogVXJpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVcmkodXJsLCBpc0Fic29sdXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RnJhZ21lbnQoKSB7XG4gICAgICAgIGNvbnN0IHBhZ2VVUkwgPSB0aGlzLmdldFBhZ2VVcmwoKTtcblxuICAgICAgICBpZiAocGFnZVVSTC5pbmRleE9mKCcjJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFnZVVSTC5zcGxpdCgnIycpWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIElNYXA8VD4ge1xuICAgIFtuYW1lOiBzdHJpbmddOiBUO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVybFBhcmFtcyhxdWVyeTogc3RyaW5nKSB7XG4gICAgaWYgKHF1ZXJ5LmluZGV4T2YoJz8nKSA+IC0xKSBxdWVyeSA9IHF1ZXJ5LnN1YnN0cmluZyhxdWVyeS5pbmRleE9mKCc/JykgKyAxKTtcblxuICAgIHZhciBxdWVyeVBhcnRzID0gcXVlcnkuc3BsaXQoLyYvKTtcblxuICAgIHZhciBwYXJhbXM6IElNYXA8c3RyaW5nPiA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWVyeVBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBwYXJhbSA9IHF1ZXJ5UGFydHNbaV07XG5cbiAgICAgICAgaWYgKHBhcmFtLmluZGV4T2YoJz0nKSA9PT0gLTEpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBwYXJhbVBhcnRzID0gcGFyYW0uc3BsaXQoJz0nKTtcblxuICAgICAgICBpZiAocGFyYW1QYXJ0cy5sZW5ndGggIT09IDIpIGNvbnRpbnVlO1xuXG4gICAgICAgIHBhcmFtc1twYXJhbVBhcnRzWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbVBhcnRzWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5JZnJhbWUodXJsLCBkb25lOiBGdW5jdGlvbiwgdGltZW91dDogbnVtYmVyKSB7XG4gICAgdmFyIGhhbmRsZXJDYWxsZWQgPSBmYWxzZTtcbiAgICB2YXIgbG9hZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmICghaGFuZGxlckNhbGxlZCkge1xuICAgICAgICAgICAgaGFuZGxlckNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZ2lneWEudXRpbHMuc2NyaXB0LnRyaWdnZXJSZXNvdXJjZSh1cmwsIGxvYWRIYW5kbGVyLCBnaWd5YS51dGlscy5zY3JpcHQuUmVzb3VyY2VUeXBlcy5pZnJhbWUsIGZhbHNlKTtcbiAgICBpZiAodGltZW91dCkgc2V0VGltZW91dChsb2FkSGFuZGxlciwgdGltZW91dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0RXJyb3IoZXJyb3JJbmZvLCBjb250ZXh0KSB7XG4gICAgLy8gVE9ETyByZWRpcmVjdCBhbiBpbnRlcm5hbCBlbmRwb2ludCBzbyB0aGF0IHRoZSBzZXJ2ZXIgd2lsbCBoYXZlIGEgY2hhbmNlIHRvIGRlYWwgd2l0aCBlcnJvcnMgaW4gaXRzIGZsb3cgY29ycmVjdGx5XG5cbiAgICBpZiAoZ2lneWEuc2FtbENvbmZpZy5lcnJvclBhZ2VVUkwpIHtcbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0KGdpZ3lhLnNhbWxDb25maWcuZXJyb3JQYWdlVVJMLCBjb250ZXh0LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3JJbmZvLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVkaXJlY3RUb1NhbWxFbmRQb250KGVuZFBvaW50OiBzdHJpbmcsIHBhcmFtczogYW55LCBhcGlLZXk6IHN0cmluZykge1xuICAgIC8vIHJlZGlyZWN0cyB0byBhbiBpbnRlcm5hbCBzYW1sIGVuZHBvaW50IHdpdGggdGhlIGdpdmVuIHBhcmFtZXRlcnNcbiAgICB2YXIgZG9tYWluID0gZ2lneWEuXy5nZXRBcGlEb21haW4oJ2ZpZG0nKTtcblxuICAgIHZhciB1cmwgPSBgaHR0cHM6Ly8ke2RvbWFpbn0vc2FtbC92Mi4wLyR7YXBpS2V5fS8ke2VuZFBvaW50fWA7XG5cbiAgICBjb25zdCBnbWlkVGlja2V0ID0gYXdhaXQgZ2lneWEuXy5hcGlBZGFwdGVyLmdldEdtaWRUaWNrZXQoKTtcbiAgICBpZiAoZ21pZFRpY2tldCkgcGFyYW1zLmdtaWRUaWNrZXQgPSBnbWlkVGlja2V0O1xuXG4gICAgcmVkaXJlY3QoXG4gICAgICAgIHVybCxcbiAgICAgICAge1xuICAgICAgICAgICAgZG9tYWluOiBkb21haW4sXG4gICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgIGVuZFBvaW50OiBlbmRQb2ludCxcbiAgICAgICAgfSxcbiAgICAgICAgcGFyYW1zLFxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0VXJsUGFyYW1zKHVybDogc3RyaW5nLCBwYXJhbXM6IGFueSkge1xuICAgIHJldHVybiBnaWd5YS51dGlscy5VUkwuYWRkUGFyYW1zVG9VUkwodXJsLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0KHVybDogc3RyaW5nLCB1cmxWYWx1ZXM6IGFueSwgcGFyYW1zOiBhbnkpIHtcbiAgICAvLyByZWRpcmVjdCB0byBhbnkgZ2l2ZW4gdXJsXG4gICAgdXJsID0gdGVtcGxhdGVGaWxsKHVybCwgdXJsVmFsdWVzKTtcbiAgICB1cmwgPSBzZXRVcmxQYXJhbXModXJsLCBwYXJhbXMpO1xuXG4gICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAvL3dpbmRvdy5vcGVuKHVybCwgJ19zZWxmJyk7IC8vIFRoaXMgYnJlYWtzIHBvc3RNZXNzYWdlIG1lc3NhZ2luZyAtIHJlcGxhY2UgdGhlIHdpbmRvdy5vcGVuZXJcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dpblRva2VuKGFwaUtleTogc3RyaW5nKSB7XG4gICAgLy8gcmV0dXJucyBjdXJyZW50IGxvZ2luIHRva2VuIGRpcmVjdGx5IGZyb20gdGhlIHdlYiBhZGFwdGVyXG4gICAgcmV0dXJuIGdpZ3lhLl8uYXBpQWRhcHRlcnMud2ViLnRva2VuU3RvcmUuZ2V0KGFwaUtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9naW5Ub2tlbkV4cGlyYXRpb24oYXBpS2V5OiBzdHJpbmcpIHtcbiAgICAvLyByZXR1cm5zIGN1cnJlbnQgbG9naW4gdG9rZW4gZGlyZWN0bHkgZnJvbSB0aGUgd2ViIGFkYXB0ZXJcbiAgICByZXR1cm4gZ2lneWEuXy5hcGlBZGFwdGVycy53ZWIudG9rZW5TdG9yZS5nZXRHbHRleHBDb29raWUoYXBpS2V5KTtcbn1cbmZ1bmN0aW9uIGNvbnRleHRLZXkoYXBpS2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gJ2dpZ19zYW1sQ29udGV4dF8nICsgYXBpS2V5O1xufVxuY29uc3Qgc2Vzc2lvblN0b3JhZ2VUaW1lb3V0ID0gMTAgKiA2MCAqIDEwMDA7XG5leHBvcnQgaW50ZXJmYWNlIElTdG9yZWRDb250ZXh0IHtcbiAgICBzYW1sQ29udGV4dDogc3RyaW5nO1xuICAgIHNwTmFtZTogc3RyaW5nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVDb250ZXh0KGFwaUtleTogc3RyaW5nLCBjb250ZXh0OiBJU3RvcmVkQ29udGV4dCwgZG9uZTogKCkgPT4gdm9pZCkge1xuICAgIC8vIHNhdmUgY29udGV4dCBmb3IgbmV4dCByZXRyaXZhbCwgaWYgbm90IHJldHVybmVkIGZyb20gbG9naW5VcmxcbiAgICBjb25zdCBrZXkgPSBjb250ZXh0S2V5KGFwaUtleSk7XG5cbiAgICBjb25zdCBzYXZlZENvbnRleHRzID0gZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlLmdldChrZXksIHNlc3Npb25TdG9yYWdlVGltZW91dCkgfHwgW107XG4gICAgc2F2ZWRDb250ZXh0cy5wdXNoKGNvbnRleHQpO1xuXG4gICAgZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlLnNldChrZXksIHNhdmVkQ29udGV4dHMpO1xuICAgIGRvbmUoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ29udGV4dChhcGlLZXk6IHN0cmluZywgY2FsbGJhY2s6IChjb250ZXh0OiBJU3RvcmVkQ29udGV4dCkgPT4gdm9pZCkge1xuICAgIC8vIGxvYWQgY29udGV4dCBpZiB3YXMgbm90IHByb3ZpZGVkIGluIHVybFxuICAgIGNvbnN0IGtleSA9IGNvbnRleHRLZXkoYXBpS2V5KTtcblxuICAgIGNvbnN0IHNhdmVkQ29udGV4dHMgPSBnaWd5YS51dGlscy5zZXNzaW9uQ2FjaGUuZ2V0KGtleSwgc2Vzc2lvblN0b3JhZ2VUaW1lb3V0KSB8fCBbXTtcbiAgICBjb25zdCBsYXN0Q29udGV4dCA9IHNhdmVkQ29udGV4dHMucG9wKCkgfHwgPElTdG9yZWRDb250ZXh0Pnt9O1xuXG4gICAgZ2lneWEudXRpbHMuc2Vzc2lvbkNhY2hlLnNldChrZXksIHNhdmVkQ29udGV4dHMpO1xuICAgIGNhbGxiYWNrKGxhc3RDb250ZXh0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZpbGwodGVtcGxhdGU6IHN0cmluZywgcGFyYW1zOiBhbnkpIHtcbiAgICByZXR1cm4gZ2lneWEudXRpbHMudGVtcGxhdGVzLmZpbGwodGVtcGxhdGUsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVKU09OKGpzb246IHN0cmluZykge1xuICAgIHJldHVybiBnaWd5YS51dGlscy5KU09OLmRlc2VyaWFsaXplKGpzb24sICcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3RNZXJnZTxUPiguLi5vYmplY3RzOiBhbnlbXSkge1xuICAgIHJldHVybiA8VD5naWd5YS51dGlscy5vYmplY3QubWVyZ2Uob2JqZWN0cyk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNMb2dnZWRJbihjYWxsYmFjazogKGxvZ2dlZEluOiBib29sZWFuKSA9PiB2b2lkLCBhcGlLZXk6IHN0cmluZykge1xuICAgIGlmKGhhc1Nlc3Npb24oYXBpS2V5KSkge1xuICAgICAgICBnaWd5YS5hY2NvdW50cy5nZXRBY2NvdW50SW5mbyh7Y2FsbGJhY2s6IHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlPy5lcnJvckNvZGUgPT09IDApO1xuICAgICAgICB9fSk7XG4gICAgfSBlbHNlIGNhbGxiYWNrKGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoc2FtbENvbnRleHQ6IHN0cmluZywgY2FsbGJhY2s6IChyZXNwb25zZSkgPT4gdm9pZCkge1xuICAgIGdpZ3lhLnNvY2lhbGl6ZS5sb2dvdXQoe1xuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIHNhbWxDb250ZXh0OiBzYW1sQ29udGV4dCxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhc1Nlc3Npb24oYXBpS2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB1c2VyS2V5ID0gZ2V0TG9naW5Ub2tlbihhcGlLZXkpO1xuICAgIHJldHVybiBCb29sZWFuKHVzZXJLZXkpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
